/**
 * Généré par : SIGCESIE\ct-tfsbuild
 * Changeset TFS : C497265
 * Etiquette TFS : DC_api-synchro-contexte_20190306.1
 * Déclenchement : Manual
 */
var libSynchroSynthese;!function(e){"use strict";e.lib=angular.module("libSynchroSynthese",["moduleAgent"]),e.lib.config(["$provide",function(e){e.value("baseURL","http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/"),e.value("urlParticulierInformation-libSynchroSynthese","http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tiers-v1/particulierInformation/"),e.value("urlIdentification-libSynchroSynthese","http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tiers-v1/identification/"),e.value("urlCorporateInformation-libSynchroSynthese","http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tiers-v2/corporateInformation/")}]),MyWay.Services.AppServiceParameters.Instance().PortalDomain="http://myway-dua.sigcesie.caisse-epargne.fr:6080"}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(){function e(e,t){this.keySynthese=e,this.keyRessource=t}return e}();e.Mapping=t;var n=function(){function e(e,t){this.keySynthese=e,this.value=t}return e}();e.MappingData=n}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(){function t(e,t){this.tabKeyRessource=e,void 0!==t?this.tabMethode=t:this.tabMethode=[],this.tabMapping=[],this.tabMappingData=[]}return t.prototype.init=function(e,t,n){this.$q=e,this.serviceAgent=t,this.toolsService=n},t.prototype.isMatching=function(e,t){for(var n=!1,i=0;i<this.tabKeyRessource.length;i++)if(this.tabKeyRessource[i]===e){if(0===this.tabMethode.length)n=!0;else for(var s=0;s<this.tabMethode.length;s++)if(this.tabMethode[s]===t){n=!0;break}if(n===!0)break}return n},t.prototype.addMapping=function(t,n){this.tabMapping.push(new e.Mapping(t,n))},t.prototype.addMappingData=function(t,n){this.tabMappingData.push(new e.MappingData(t,n))},t.prototype.setMapping=function(e,t,n,i){return this.$q.when(0)},t.prototype.majSynthese=function(e){var t,n=this;this.tabMapping.forEach(function(i){t=n.toolsService.extractValue(i.keyRessource,e),console.log("Synchro synthèse : ["+i.keyRessource+"]  => ["+i.keySynthese+"], value=",t),null!==t&&n.serviceAgent.ContexteClient.setProperty(i.keySynthese,t)}),this.tabMappingData.forEach(function(e){console.log("Synchro synthèse : ["+e.keySynthese+"], value=",e.value),null!==e.value&&n.serviceAgent.ContexteClient.setProperty(e.keySynthese,e.value)})},t}();e.RessourceSynchro=t}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(){function e(e){this.identifiantPersonne=e}return e}();e.ContexteClientData=t;var n=function(){function n(e,t,n,i){this.$q=e,this.serviceAgent=t,this.toolsService=n,this.detailPersonneService=i,this.promiseTypePortail=null}return n.prototype.getIndicateurSynchroSynthese=function(){return this.serviceAgent.ContexteClient.getProperty(e.ReferentielRessource.KEY_INDICATEUR_SYNCHRO_SYNTHESE).then(function(e){return null!=e?parseInt(e,10):0})},n.prototype.setIndicateurSynchroSynthese=function(t){return this.serviceAgent.ContexteClient.setProperty(e.ReferentielRessource.KEY_INDICATEUR_SYNCHRO_SYNTHESE,t+"")},n.prototype.getAllClient=function(){var e=this,t=this.$q.defer();return this.serviceAgent.ContexteClient.getContextesParClients().then(function(n){var i=[];n.forEach(function(t){i.push(e.getClient(t))}),e.$q.all(i).then(function(e){t.resolve(e)},function(e){t.reject(e)})},function(e){t.reject(e)}),t.promise},n.prototype.getClient=function(t){var n=this;t=this.toolsService.getIdentifiantPersonne(t);var i=this.$q.defer();return null==this.promiseTypePortail&&(this.promiseTypePortail=this.toolsService.getTypePortail()),this.serviceAgent.ContexteClient.getContenu(t).then(function(s){null!=s&&n.promiseTypePortail.then(function(r){switch(r.type){case e.TypePortail.TYPE_PORTAIL_MYWAY:console.log("getClient id personne="+t+" MODE PORTAIL MYWAY"),n.getClientFromContexteMyWay(i,t,s);break;case e.TypePortail.TYPE_PORTAIL_PCM:console.log("getClient id personne="+t+" MODE PORTAIL PCM"),n.getClientFromContextePCM(i,t,s);break;default:console.log("getClient id personne="+t+" MODE PORTAIL INCONNU !!! ("+r.type+")"),i.reject("type portail ("+r.type+") inconnu !!")}})},function(e){i.reject(e)}),i.promise},n.prototype.setClient=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.toolsService.getIdentifiantPersonne(e);return console.log("ContexteClientService","setClient",s,n),this.serviceAgent.ContexteClient.getClient().then(function(e){return s===e?t.$q.when():t.serviceAgent.ContexteClient.setClient(s)}).then(function(){var e;return 1===n.length?e=n[0]:n.length>1&&(e=t.getDesignationClient(n[0],n[1],n[2],n[3])),e?(console.log("ContexteClientService","setClient","ChangeMainProcessName",e),t.serviceAgent.Context.ChangeMainProcessName(e)):void 0})["catch"](function(e){throw console.error(e),e})},n.prototype.getDesignationClient=function(e,t,n,i){var s=e;return"1"===s?s="MME":"2"===s?s="MLLE":"3"===s&&(s="M"),[s,t||n,i].join(" ")},n.prototype.getClientFromContexteMyWay=function(e,n,i){var s,r=new t(n);s=this.toolsService.extractValue("syntheseClientDonneesSignaletiques",i),null!==s?(console.log("Contexte client renseigné par la synthèse"),s=this.toolsService.extractValue("syntheseClientDonneesSignaletiques.syntheseClientProfil.nomCommercial",i),null!==s&&(r.nomCommercial=s),s=this.toolsService.extractValue("syntheseClientDonneesSignaletiques.syntheseClientProfil.designationCourte",i),null!==s&&(r.designationCourte=s),s=this.toolsService.extractValue("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeAppartenanceReseau",i),null!==s&&(r.codeAppartenanceReseau=s),s=this.toolsService.extractValue("syntheseClientDonneesSignaletiques.syntheseClientProfil.syntheseClientProfilSpecifiquePersonneMorale.raisonSocial",i),null!==s&&(r.raisonSociale=s),s=this.toolsService.extractValue("syntheseClientDonneesSignaletiques.syntheseClientProfil.syntheseClientProfilSpecifiquePersonneMorale.numeroSIREN",i),null!==s&&(r.numeroSIREN=s),s=this.toolsService.extractValue("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCivilite",i),null!==s&&(r.codeCivilite=s),s=this.toolsService.extractValue("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCapaciteJuridique",i),null!==s&&(r.codeCapaciteJuridique=s),s=this.toolsService.extractValue("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCategorieSocioProf",i),null!==s&&(r.codeCategorieSocioProf=s),e.resolve(r)):(console.log("Contexte client consolidé par appel service REST"),this.detailPersonneService.getDetailPersonne(parseInt(n)).then(function(t){e.resolve(t),console.log("retour cc from REST OK :",t)})["catch"](function(t){console.log("retour cc from REST KO :",t),e.reject(t)}))},n.prototype.getClientFromContextePCM=function(e,n,i){var s,r=new t(n);s=this.toolsService.extractValue("syntheseClientProfilPM.nomCommercial",i),null!==s&&(r.nomCommercial=s),s=this.toolsService.extractValue("syntheseClientProfilPP.designationCourte",i),null!==s?r.designationCourte=s:(s=this.toolsService.extractValue("syntheseClientProfilPM.raisonSocial",i),null!==s&&(r.designationCourte=s)),s=this.toolsService.extractValue("syntheseClientProfilPP.codeAppartenanceReseau",i),null!==s&&(r.codeAppartenanceReseau=s),s=this.toolsService.extractValue("syntheseClientProfilPM.raisonSocial",i),null!==s&&(r.raisonSociale=s),s=this.toolsService.extractValue("syntheseClientProfilPM.numeroSIREN",i),null!==s&&(r.numeroSIREN=s),s=this.toolsService.extractValue("syntheseClientProfilPP.codeCivilite",i),null!==s&&(r.codeCivilite=s),s=this.toolsService.extractValue("syntheseClientProfilPP.codeCapaciteJuridique",i),null!==s&&(r.codeCapaciteJuridique=s),s=this.toolsService.extractValue("syntheseClientProfilPP.codeCategorieSocioProf",i),null!==s&&(r.codeCategorieSocioProf=s),e.resolve(r)},n.$inject=["$q","serviceAgentExtended","ToolsService-libSynchroSynthese","DetailPersonneService-libSynchroSynthese"],n}();e.ContexteClientService=n,e.lib.service("ContexteClientService-libSynchroSynthese",n)}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(){function t(e,t,n,i,s){this.$q=e,this.serviceAgent=t,this.urlParticulierInformation=n,this.urlIdentification=i,this.urlCorporateInformation=s}return t.prototype.getDetailPersonne=function(e){var t=this,n=this.$q.defer();return this.serviceAgent.Context.GetAuthentificationInfo().then(function(i){t.serviceAgent.SendRequest({url:t.urlIdentification,method:MyWay.Services.MethodEnum.GET,withHeaders:!0,params:{idPersonne:e,codeEtablissement:i.codeEtablissement}}).then(function(s){"1"===s.codePersonnaliteJuridique?t.getDetailPersonnePhysique(n,e,i.codeEtablissement):"2"===s.codePersonnaliteJuridique?t.getDetailPersonneMorale(n,e,i.codeEtablissement):n.reject("codePersonaliteJuridique  ("+s.codePersonnaliteJuridique+") inconnu !")})["catch"](function(e){n.reject(e)})})["catch"](function(e){n.reject(e)}),n.promise},t.prototype.getDetailPersonnePhysique=function(t,n,i){this.serviceAgent.SendRequest({url:this.urlParticulierInformation,method:MyWay.Services.MethodEnum.GET,withHeaders:!0,params:{idPersonne:n,codeEtablissement:i}}).then(function(i){var s=new e.ContexteClientData(String(n));s.designationCourte=i.designationCourte,s.codeCivilite=i.codeCivilite,s.codeCategorieSocioProf=i.categorieSocioprofessionnelle,s.codeAppartenanceReseau=i.codeAppartenanceReseau,t.resolve(s)})["catch"](function(e){t.reject(e)})},t.prototype.getDetailPersonneMorale=function(t,n,i){this.serviceAgent.SendRequest({url:this.urlCorporateInformation,method:MyWay.Services.MethodEnum.GET,withHeaders:!0,params:{identifiantTiers:n,codeEtablissement:i}}).then(function(i){var s=new e.ContexteClientData(String(n));s.designationCourte=i.raisonSociale,s.raisonSociale=i.raisonSociale,s.numeroSIREN=i.numeroSiren,s.codeAppartenanceReseau=i.codeAppartenanceReseau,s.nomCommercial=i.nomCommercial,t.resolve(s)})["catch"](function(e){t.reject(e)})},t.$inject=["$q","serviceAgentExtended","urlParticulierInformation-libSynchroSynthese","urlIdentification-libSynchroSynthese","urlCorporateInformation-libSynchroSynthese"],t}();e.DetailPersonneService=t,e.lib.service("DetailPersonneService-libSynchroSynthese",t)}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(){function e(e,t){this.tabNomRessource=e,void 0!==t?this.tabMethode=t:this.tabMethode=[]}return e.prototype.isMatch=function(e,t){for(var n=!1,i=0;i<this.tabNomRessource.length;i++)if(this.tabNomRessource[i]===e){if(0===this.tabMethode.length)n=!0;else for(var s=0;s<this.tabMethode.length;s++)if(this.tabMethode[s]===t){n=!0;break}if(n===!0)break}return n},e}();e.ForceDBPE=t;var n=function(){function e(){this.tabRef=[];var e,n;e=new t(["entitetitulaire-v2/informationEntiteTitulaire","entitetitulaire/v2/informationEntiteTitulaire"],[MyWay.Services.MethodEnum.PUT,MyWay.Services.MethodEnum.POST,MyWay.Services.MethodEnum.DELETE]),n=new t(["entitetitulaireservice-v2/rattachementProduitET","entitetitulaireservice/v2/rattachementProduitET"],[MyWay.Services.MethodEnum.PUT,MyWay.Services.MethodEnum.POST]),this.tabRef.push(e),this.tabRef.push(n)}return e.prototype.exist=function(e,t){for(var n=!1,i=0;i<this.tabRef.length;i++)if(this.tabRef[i].isMatch(e,t)===!0){n=!0;break}return n},e.$inject=[],e}();e.ReferentielForceDBPE=n,e.lib.service("ReferentielForceDBPE-libSynchroSynthese",n)}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(){function t(t,n,i,s,r){this.$q=t,this.serviceAgent=n,this.toolsService=i,this.referentielDBPE=s,this.contexteClientService=r,this.tabRessourceSynchro=[],this.tabRessourceSynchro.push(new e.TiersV1Adresse),this.tabRessourceSynchro.push(new e.TiersV1Media),this.tabRessourceSynchro.push(new e.TiersV1ParticulierInformation),this.tabRessourceSynchro.push(new e.TiersV1Client),this.tabRessourceSynchro.push(new e.TiersV2CorporateInformation),this.tabRessourceSynchro.push(new e.TiersV2Media),this.tabRessourceSynchro.push(new e.EntiteTitulaireV2InformationEntiteTitulaire),this.tabRessourceSynchro.push(new e.AgendaV1Occupation),this.tabRessourceSynchro.forEach(function(e){e.init(t,n,i)})}return t.prototype.synchro=function(e,n,i,s,r){var o=this,a=this.$q.defer();return this.serviceAgent.ContexteClient.getClient().then(function(l){if(o.referentielDBPE.exist(e,i)===!0)return o.contexteClientService.setIndicateurSynchroSynthese(2),console.log("Ressource ["+e+"], méthode ["+o.getLibelleMethode(i)+"] nécessitant un refresh total via DBPE "),a.resolve(),a.promise;var c=o.getReferentielSynchro(e,i);if(null==c)return console.log("Ressource ["+e+"], méthode ["+o.getLibelleMethode(i)+"] non référencée pour une synchro synthese."),a.resolve(),a.promise;var d=o.getNODAPE(c,n);return null==d?(a.reject("Impossible d'extraire le NODAPE de la ressource ["+e+"], voir reférentiel."),a.promise):void(d===l||d===t.PAD_NODAPE?o.contexteClientService.getIndicateurSynchroSynthese().then(function(e){if(null!=e)switch(e){case 0:c.setMapping(n,i,s,r).then(function(e){o.contexteClientService.setIndicateurSynchroSynthese(e),console.log("Synchro OK type de MAJ : "+String(e)),a.resolve()})["catch"](function(e){console.log("Erreur lors du mapping, [forçage rappel de la DBPE] : ",e),o.contexteClientService.setIndicateurSynchroSynthese(2),a.reject(e)});break;case 1:c.setMapping(n,i,s,r).then(function(e){o.contexteClientService.setIndicateurSynchroSynthese(e),console.log("Synchro OK type de MAJ : "+String(e)),a.resolve()})["catch"](function(e){console.log("Erreur lors du mapping, [forçage rappel de la DBPE] : ",e),o.contexteClientService.setIndicateurSynchroSynthese(2),a.reject(e)});break;case 2:console.log("Indicateur synchro synthèse déjà positionné à : [forçage rappel de la DBPE]"),a.resolve();break;default:console.log("Erreur Synchro synthèse status maj inconnu : "+e),a.reject("Erreur Synchro synthèse status maj inconnu : "+e)}else a.reject("Contexte client vide (indicateur synchro synthese absent, pas de synthèse démarrée.")},function(e){console.log("Erreur lors de la lecture du contexte client associé au processus courant"),a.reject(e)}):a.reject("Identifiant personne ne correspond pas au contexte client associé au processus courant"))},function(e){console.log("Erreur lors de la récupération de l'ID client"),a.reject(e)}),a.promise},t.prototype.getNODAPE=function(e,n){var i="";if(null!=e){var s=e.getIdentifiantPersonne(n);i=null!=s?t.PAD_NODAPE.substring(0,t.PAD_NODAPE.length-s.length)+s:null}return i},t.prototype.getLibelleMethode=function(e){var t="("+String(e)+") inconnue";switch(e){case MyWay.Services.MethodEnum.PUT:t="PUT";break;case MyWay.Services.MethodEnum.DELETE:t="DELETE";break;case MyWay.Services.MethodEnum.GET:t="GET";break;case MyWay.Services.MethodEnum.POST:t="POST"}return t},t.prototype.getReferentielSynchro=function(e,t){for(var n=null,i=0;i<this.tabRessourceSynchro.length;i++)if(this.tabRessourceSynchro[i].isMatching(e,t)===!0){n=this.tabRessourceSynchro[i];break}return n},t.KEY_INDICATEUR_SYNCHRO_SYNTHESE="indicateurSynchroSynthese",t.PAD_NODAPE="000000000",t.$inject=["$q","serviceAgentExtended","ToolsService-libSynchroSynthese","ReferentielForceDBPE-libSynchroSynthese","ContexteClientService-libSynchroSynthese"],t}();e.ReferentielRessource=t,e.lib.service("ReferentielRessource-libSynchroSynthese",t)}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(){function e(e,t,n,i,s){this.$q=e,this.serviceAgent=t,this.baseURL=n,this.referentielRessource=i,this.toolsService=s,this.promiseTypePortail=null}return e.prototype.SendRequestSynchroSynthese=function(e){var t=this;null==this.promiseTypePortail&&(this.promiseTypePortail=this.toolsService.getTypePortail());var n=this.serviceAgent.sendRequest(e);return n.then(function(n){null!==e.data&&void 0!==e.data&&t.promiseTypePortail.then(function(i){t.synchroSynthese(e,i,n)},function(e){console.log("Erreur lors getInfoMachine",e),alert("Erreur lors getInfoMachine")})}),n},e.prototype.synchroSynthese=function(e,t,n){var i="";e.url.indexOf(this.baseURL)>=0&&(i=e.url.substr(this.baseURL.length)),this.referentielRessource.synchro(i,e.data,e.method,t,n).then(function(e){console.log("****************************************"),console.log("*      SYNCHRO SYNTHESE TERMINEE       *"),console.log("****************************************")},function(e){console.log("****************************************"),console.log("*     SYNCHRO SYNTHESE INTERROMPUE     *"),console.log("****************************************"),console.log(e)})},e.$inject=["$q","serviceAgentExtended","baseURL","ReferentielRessource-libSynchroSynthese","ToolsService-libSynchroSynthese"],e}();e.SynchroSyntheseService=t,e.lib.service("SynchroSyntheseService-libSynchroSynthese",t)}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(){function e(){}return e.TYPE_PORTAIL_MYWAY=1,e.TYPE_PORTAIL_PCM=2,e}();e.TypePortail=t;var n=function(){function e(e,t){this.$q=e,this.serviceAgent=t}return e.prototype.getIdentifiantPersonne=function(e){return null==e?null:_.padLeft(_.trim(e+""),9,"0")},e.prototype.getTypePortail=function(){var e=this.$q.defer(),n=new t;return this.serviceAgent.Context.GetFromContext("typePortail").then(function(i){"MYWAY"===i?n.type=t.TYPE_PORTAIL_MYWAY:n.type=t.TYPE_PORTAIL_PCM,e.resolve(n)})["catch"](function(i){n.type=t.TYPE_PORTAIL_PCM,e.resolve(n)}),e.promise},e.prototype.extractValue=function(e,t){var n,i,s=e.split(".");if(void 0===t||null===t)return null;for(var r=0;r<s.length;r++){i=!1;for(n in t)if(n===s[r]){t=t[n],i=!0;break}}var o=null;return i===!0&&(o=t),o},e.$inject=["$q","serviceAgentExtended"],e}();e.ToolsService=n,e.lib.service("ToolsService-libSynchroSynthese",n)}(libSynchroSynthese||(libSynchroSynthese={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},libSynchroSynthese;!function(e){"use strict";var t=function(t){function n(){t.call(this,["agenda-v1/occupation","agenda/v1/occupation"],[MyWay.Services.MethodEnum.PUT,MyWay.Services.MethodEnum.POST,MyWay.Services.MethodEnum.DELETE])}return __extends(n,t),n.prototype.getIdentifiantPersonne=function(e){var t=this.toolsService.extractValue("occupationInformation.identifiantTiers",e),n=null;return null!=t&&(n=String(t)),n},n.prototype.setMapping=function(n,i,s,r){var o,a=this,l=this.$q.defer();switch(this._typePortail=s.type,this._typePortail){case e.TypePortail.TYPE_PORTAIL_MYWAY:o="syntheseClientDonneesSignaletiques.syntheseClientDonneesCommerciales.dateEnregistrementRendezVous";break;case e.TypePortail.TYPE_PORTAIL_PCM:o="syntheseClientDonneesCommercial.dateEnregistrementRendezVous"}return this.serviceAgent.ContexteClient.getProperty(o).then(function(e){var s=a.toolsService.extractValue("occupationInformation.dateDebutOccupation",n);if(console.log("date CC : ["+e+"]"),void 0===e||null===e||""===e||"0001-01-01"===e)switch(console.log("Date prochain rdv non renseignée dans CC"),i){case MyWay.Services.MethodEnum.POST:case MyWay.Services.MethodEnum.PUT:a.addMappingData(o,a.getDateFormat(s)),t.prototype.majSynthese.call(a,n),l.resolve(1),console.log("Création Modif date rdv -> mapping de la date RDV dans le CC :new date =["+a.getDateFormat(s)+"]");break;default:console.log("Delete RDV -> Rien à faire"),l.resolve(0)}else switch(console.log("Date prochain rdv renseignée dans CC"),i){case MyWay.Services.MethodEnum.POST:-1===s.localeCompare(e)?(console.log("Création rdv antérieur date CC -> mapping"),a.addMappingData(o,a.getDateFormat(s)),t.prototype.majSynthese.call(a,n),l.resolve(1)):(console.log("Création rdv posterieur date CC -> rien à faire"),l.resolve(0));break;default:console.log("Delete/MODIF RDV -> MAJ via DBPE"),l.resolve(2)}},function(e){console.log("Erreur mapping lors de la lecture de la date RDV dans le CC",e),l.reject(e)}),l.promise},n.prototype.getDateFormat=function(t){var n;switch(this._typePortail){case e.TypePortail.TYPE_PORTAIL_MYWAY:n=t;break;case e.TypePortail.TYPE_PORTAIL_PCM:n=t.replace(/-/g,"")}return n},n}(e.RessourceSynchro);e.AgendaV1Occupation=t}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(t){function n(){t.call(this,["entitetitulaire-v2/informationEntiteTitulaire","entitetitulaire/v2/informationEntiteTitulaire"],[MyWay.Services.MethodEnum.PUT,MyWay.Services.MethodEnum.POST,MyWay.Services.MethodEnum.DELETE])}return __extends(n,t),n.prototype.getIdentifiantPersonne=function(e){var t="";return t},n.prototype.setMapping=function(n,i,s,r){var o,a=this,l=this.$q.defer();switch(s.type){case e.TypePortail.TYPE_PORTAIL_MYWAY:o="syntheseClientDonneesSignaletiques.listeSyntheseClientEntiteTitulaire";break;case e.TypePortail.TYPE_PORTAIL_PCM:o="syntheseClientEntiteTitulaire"}switch(i){case MyWay.Services.MethodEnum.POST:this.serviceAgent.ContexteClient.getProperty(o).then(function(i){var c=a.toolsService.extractValue("caracteristiqueEntiteTitulaire",r),d=null;switch(s.type){case e.TypePortail.TYPE_PORTAIL_MYWAY:d={numeroEntiteTitulaire:c.identifiantEntiteTitulaire,designationBancaireEntTitulaire:c.designationEntiteTitulaire,modeCompositionEntiteTitulaire:c.modeCompositionEntiteTitulaire,codeUsageEntiteTitulaire:c.codeUsageEntiteTitulaire,codeEtatPersonne:c.codeEtatEntiteTitulaire,libelleCourtEDSEntiteTitulaire:c.libelleEDSGestionEntiteTitulaire,idEdsInterneEntiteTitulaire:c.identifiantEDSGestionEntiteTitulaire,identifiantEDSEntiteTitulaire:c.identifiantEDSDomiciliationEntiteTitulaire};break;case e.TypePortail.TYPE_PORTAIL_PCM:d={numeroEntiteTitulaire:c.identifiantEntiteTitulaire,designationBancaire:c.designationEntiteTitulaire,modeCompositionEntiteTitulaire:c.modeCompositionEntiteTitulaire,codeUsageEntiteTitulaire:c.codeUsageEntiteTitulaire,codeEtatPersonne:c.codeEtatEntiteTitulaire,libelleCourtEDS:c.libelleEDSGestionEntiteTitulaire,idEdsInterne:c.identifiantEDSGestionEntiteTitulaire,edsDomiciliation:c.identifiantEDSDomiciliationEntiteTitulaire}}null!=d?(console.log("Mapping informationEntiteTitulaire, Methode POST OK ajout ET :",d),i.push(d),a.addMappingData(o,i),t.prototype.majSynthese.call(a,n),l.resolve(1)):(console.log("Erreur mapping, type de portail non défini ou inconnu"),l.reject("Erreur mapping, type de portail non défini ou inconnu"))},function(e){console.log("Erreur mapping informationEntiteTitulaire, Methode POST get property tab ET : ",e),l.reject(e)});break;case MyWay.Services.MethodEnum.PUT:this.serviceAgent.ContexteClient.getProperty(o).then(function(i){for(var r=a.toolsService.extractValue("caracteristiqueEntiteTitulaire",n),c=-1,d=0;d<i.length;d++)if(parseInt(i[d].numeroEntiteTitulaire)===parseInt(r.identifiantEntiteTitulaire)){c=d;break}if(c>=0){var h=i[c];switch(s.type){case e.TypePortail.TYPE_PORTAIL_MYWAY:h.designationBancaireEntTitulaire=r.designationEntiteTitulaire,h.modeCompositionEntiteTitulaire=r.modeCompositionEntiteTitulaire,h.codeUsageEntiteTitulaire=r.codeUsageEntiteTitulaire,h.codeEtatPersonne=r.codeEtatEntiteTitulaire,h.libelleCourtEDSEntiteTitulaire=r.libelleEDSGestionEntiteTitulaire,h.idEdsInterneEntiteTitulaire=r.identifiantEDSGestionEntiteTitulaire,h.identifiantEDSEntiteTitulaire=r.identifiantEDSDomiciliationEntiteTitulaire;break;case e.TypePortail.TYPE_PORTAIL_PCM:h.designationBancaire=r.designationEntiteTitulaire,h.modeCompositionEntiteTitulaire=r.modeCompositionEntiteTitulaire,h.codeUsageEntiteTitulaire=r.codeUsageEntiteTitulaire,h.codeEtatPersonne=r.codeEtatEntiteTitulaire,h.libelleCourtEDS=r.libelleEDSGestionEntiteTitulaire,h.idEdsInterne=r.identifiantEDSGestionEntiteTitulaire,h.edsDomiciliation=r.identifiantEDSDomiciliationEntiteTitulaire}console.log("Mapping informationEntiteTitulaire, Methode PUT OK modif :",h),a.addMappingData(o,i),t.prototype.majSynthese.call(a,n),l.resolve(1)}else console.log("Mapping informationEntiteTitulaire, Methode PUT (element ET non trouvé"),l.resolve(0)},function(e){console.log("Erreur mapping informationEntiteTitulaire, Methode PUT get property tab ET : ",e),l.reject(e)});break;case MyWay.Services.MethodEnum.DELETE:this.serviceAgent.ContexteClient.getProperty(o).then(function(e){for(var i=parseInt(a.toolsService.extractValue("caracteristiqueEntiteTitulaire.identifiantEntiteTitulaire",n)),s=-1,r=0;r<e.length;r++)if(parseInt(e[r].numeroEntiteTitulaire)===i){s=r;break}s>=0?(e.splice(s,1),a.addMappingData(o,e),t.prototype.majSynthese.call(a,n),l.resolve(1)):(console.log("Mapping informationEntiteTitulaire, Methode DELETE (element ET non trouvé"),l.resolve(0))},function(e){console.log("Erreur mapping informationEntiteTitulaire, Methode DELETE get property tab ET : ",e),l.reject(e)})}return l.promise},n}(e.RessourceSynchro);e.EntiteTitulaireV2InformationEntiteTitulaire=t}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(t){function n(){t.call(this,["tiers-v1/adresse","tiers/v1/adresse"],[MyWay.Services.MethodEnum.PUT])}return __extends(n,t),n.prototype.getIdentifiantPersonne=function(e){var t=this.toolsService.extractValue("identifiantPersonne",e),n=null;return null!=t&&(n=String(t)),n},n.prototype.setMapping=function(n,i,s,r){var o=this.$q.defer(),a=this.toolsService.extractValue("codeTypeAdresse",n);if(null!=a&&"1"===String(a)){switch(s.type){case e.TypePortail.TYPE_PORTAIL_MYWAY:this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.codePays","codeInseePays"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.codeTypeRetourPtt","codeRetourDistribution"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne2Adresse","ligne2AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne3Adresse","ligne3AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne4Adresse","ligne4AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne5Adresse","ligne5AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne6Adresse","ligne6AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne2AdresseLong","ligne2AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne3AdresseLong","ligne3AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne4AdresseLong","ligne4AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne5AdresseLong","ligne5AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne6AdresseLong","ligne6AdresseAFNOR");break;case e.TypePortail.TYPE_PORTAIL_PCM:this.addMapping("syntheseClientAdresse.codePays","codeInseePays"),this.addMapping("syntheseClientAdresse.codeTypeRetourPtt","codeRetourDistribution"),this.addMapping("syntheseClientAdresse.ligne2","ligne2AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne3","ligne3AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne4","ligne4AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne5","ligne5AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne6","ligne6AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne2Adresse38c","ligne2AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne3Adresse38c","ligne3AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne4Adresse38c","ligne4AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne5Adresse38c","ligne5AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne6Adresse38c","ligne6AdresseAFNOR")}t.prototype.majSynthese.call(this,n),o.resolve(1)}return o.promise},n}(e.RessourceSynchro);e.TiersV1Adresse=t}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(t){function n(){t.call(this,["tiers-v1/client","tiers/v1/client"],[MyWay.Services.MethodEnum.PUT])}return __extends(n,t),n.prototype.getIdentifiantPersonne=function(e){var t=this.toolsService.extractValue("particulierInformation.identifiantPersonne",e),n=null;return null!=t&&(n=String(t)),n},n.prototype.setMapping=function(e,n,i,s){var r=this.$q.defer();return this.setMappingParticulierInformation(i),this.setMappingAdresse(i,e),this.setMappingMedia(i,e),t.prototype.majSynthese.call(this,e),r.resolve(1),r.promise},n.prototype.setMappingParticulierInformation=function(t){switch(t.type){case e.TypePortail.TYPE_PORTAIL_MYWAY:this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeAppartenanceReseau","particulierInformation.codeAppartenanceReseau"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCategorieSocioProf","particulierInformation.categorieSocioprofessionnelle"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCapaciteJuridique","particulierInformation.codeCapaciteJuridique"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCivilite","particulierInformation.codeCivilite"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCommuneNaissance","particulierInformation.codeCommuneNaissance"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.designationCourte","particulierInformation.designationCourte"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.codePays","particulierInformation.codeInseePays"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.codeTypeRetourPtt","particulierInformation.codeRetourDistribution"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne2Adresse","particulierInformation.ligne2AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne3Adresse","particulierInformation.ligne3AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne4Adresse","particulierInformation.ligne4AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne5Adresse","particulierInformation.ligne5AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne6Adresse","particulierInformation.ligne6AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne2AdresseLong","particulierInformation.ligne2AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne3AdresseLong","particulierInformation.ligne3AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne4AdresseLong","particulierInformation.ligne4AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne5AdresseLong","particulierInformation.ligne5AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne6AdresseLong","particulierInformation.ligne6AdresseAFNOR");break;case e.TypePortail.TYPE_PORTAIL_PCM:this.addMapping("syntheseClientProfilPP.codeAppartenanceReseau","particulierInformation.codeAppartenanceReseau"),this.addMapping("syntheseClientProfilPP.codeCategorieSocioProf","particulierInformation.categorieSocioprofessionnelle"),this.addMapping("syntheseClientProfilPP.codeCapaciteJuridique","particulierInformation.codeCapaciteJuridique"),this.addMapping("syntheseClientProfilPP.codeCivilite","particulierInformation.codeCivilite"),this.addMapping("syntheseClientProfilPP.codeCommuneNaissance","particulierInformation.codeCommuneNaissance"),this.addMapping("syntheseClientProfilPP.designationCourte","particulierInformation.designationCourte"),this.addMapping("syntheseClientAdresse.codePays","particulierInformation.codeInseePays"),this.addMapping("syntheseClientAdresse.codeTypeRetourPtt","particulierInformation.codeRetourDistribution"),this.addMapping("syntheseClientAdresse.ligne2","particulierInformation.ligne2AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne3","particulierInformation.ligne3AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne4","particulierInformation.ligne4AdresseAFNOR"),
this.addMapping("syntheseClientAdresse.ligne5","particulierInformation.ligne5AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne6","particulierInformation.ligne6AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne2Adresse38c","ligne2AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne3Adresse38c","ligne3AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne4Adresse38c","ligne4AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne5Adresse38c","ligne5AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne6Adresse38c","ligne6AdresseAFNOR")}},n.prototype.setMappingAdresse=function(t,n){var i=this,s=this.toolsService.extractValue("listeAdresse",n);null!=s&&s.forEach(function(n){if("1"===n.codeTypeAdresse)switch(t.type){case e.TypePortail.TYPE_PORTAIL_MYWAY:i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.codePays",n.codeInseePays),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.codeTypeRetourPtt",n.codeRetourDistribution),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne2Adresse",n.ligne2AdresseAFNOR),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne3Adresse",n.ligne3AdresseAFNOR),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne4Adresse",n.ligne4AdresseAFNOR),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne5Adresse",n.ligne5AdresseAFNOR),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne6Adresse",n.ligne6AdresseAFNOR),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne2AdresseLong",n.ligne2AdresseAFNOR),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne3AdresseLong",n.ligne3AdresseAFNOR),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne4AdresseLong",n.ligne4AdresseAFNOR),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne5AdresseLong",n.ligne5AdresseAFNOR),i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne6AdresseLong",n.ligne6AdresseAFNOR);break;case e.TypePortail.TYPE_PORTAIL_PCM:i.addMappingData("syntheseClientAdresse.codePays",n.codeInseePays),i.addMappingData("syntheseClientAdresse.codeTypeRetourPtt",n.codeRetourDistribution),i.addMappingData("syntheseClientAdresse.ligne2",n.ligne2AdresseAFNOR),i.addMappingData("syntheseClientAdresse.ligne3",n.ligne3AdresseAFNOR),i.addMappingData("syntheseClientAdresse.ligne4",n.ligne4AdresseAFNOR),i.addMappingData("syntheseClientAdresse.ligne5",n.ligne5AdresseAFNOR),i.addMappingData("syntheseClientAdresse.ligne6",n.ligne6AdresseAFNOR),i.addMappingData("syntheseClientAdresse.ligne2Adresse38c",n.ligne2AdresseAFNOR),i.addMappingData("syntheseClientAdresse.ligne3Adresse38c",n.ligne3AdresseAFNOR),i.addMappingData("syntheseClientAdresse.ligne4Adresse38c",n.ligne4AdresseAFNOR),i.addMappingData("syntheseClientAdresse.ligne5Adresse38c",n.ligne5AdresseAFNOR),i.addMappingData("syntheseClientAdresse.ligne6Adresse38c",n.ligne6AdresseAFNOR)}})},n.prototype.setMappingMedia=function(t,n){var i=this,s=this.toolsService.extractValue("listeMedia",n);null!=s&&s.forEach(function(n){null!=n.codeTypeMedia&&null!=n.codeTypeUsageMedia&&("01"===String(n.codeTypeMedia)&&("P"===String(n.codeTypeUsageMedia)&&(t.type===e.TypePortail.TYPE_PORTAIL_MYWAY?i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientOrigineClient.numeroTelephoneDomicile",n.referenceAccesMedia):i.addMappingData("syntheseClientOrigineClient.numeroTelephoneDomicile",n.referenceAccesMedia)),"T"===String(n.codeTypeUsageMedia)&&t.type===e.TypePortail.TYPE_PORTAIL_MYWAY),"02"===String(n.codeTypeMedia),"03"===String(n.codeTypeMedia)&&(t.type===e.TypePortail.TYPE_PORTAIL_MYWAY?i.addMappingData("syntheseClientDonneesSignaletiques.syntheseClientOrigineClient.adresseEMail",n.referenceAccesMedia):i.addMappingData("syntheseClientOrigineClient.adresseEMail",n.referenceAccesMedia)))})},n}(e.RessourceSynchro);e.TiersV1Client=t}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(t){function n(){t.call(this,["tiers-v1/media","tiers/v1/media"],[MyWay.Services.MethodEnum.PUT])}return __extends(n,t),n.prototype.getIdentifiantPersonne=function(e){var t=this.toolsService.extractValue("identifiantPersonne",e),n=null;return null!=t&&(n=String(t)),n},n.prototype.setMapping=function(n,i,s,r){var o=this.$q.defer(),a=this.toolsService.extractValue("codeTypeMedia",n),l=this.toolsService.extractValue("codeTypeUsageMedia",n);return null!=a&&null!=l&&("01"===String(a)&&("P"===String(l)&&(s.type===e.TypePortail.TYPE_PORTAIL_MYWAY?this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientOrigineClient.numeroTelephoneDomicile","referenceAccesMedia"):this.addMapping("syntheseClientOrigineClient.numeroTelephone","referenceAccesMedia")),"T"===String(l)&&(s.type===e.TypePortail.TYPE_PORTAIL_MYWAY?this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientOrigineClient.numeroTelephoneTravail","referenceAccesMedia"):this.addMapping("syntheseClientOrigineClient.numeroTelephoneDomicile","referenceAccesMedia"))),"02"===String(a),"03"===String(a)&&(s.type===e.TypePortail.TYPE_PORTAIL_MYWAY?this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientOrigineClient.adresseEMail","referenceAccesMedia"):this.addMapping("syntheseClientOrigineClient.adresseEMail","referenceAccesMedia"))),t.prototype.majSynthese.call(this,n),o.resolve(1),o.promise},n}(e.RessourceSynchro);e.TiersV1Media=t}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(t){function n(){t.call(this,["tiers-v1/particulierInformation","tiers/v1/particulierInformation"],[MyWay.Services.MethodEnum.PUT])}return __extends(n,t),n.prototype.getIdentifiantPersonne=function(e){var t=this.toolsService.extractValue("identifiantPersonne",e),n=null;return null!=t&&(n=String(t)),n},n.prototype.setMapping=function(n,i,s,r){var o=this.$q.defer();switch(s.type){case e.TypePortail.TYPE_PORTAIL_MYWAY:this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeAppartenanceReseau","codeAppartenanceReseau"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCategorieSocioProf","categorieSocioprofessionnelle"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCapaciteJuridique","codeCapaciteJuridique"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCivilite","codeCivilite"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeCommuneNaissance","codeCommuneNaissance"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.designationCourte","designationCourte"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.codePays","codeInseePays"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.codeTypeRetourPtt","codeRetourDistribution"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne2Adresse","ligne2AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne3Adresse","ligne3AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne4Adresse","ligne4AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne5Adresse","ligne5AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne6Adresse","ligne6AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne2AdresseLong","particulierInformation.ligne2AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne3AdresseLong","particulierInformation.ligne3AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne4AdresseLong","particulierInformation.ligne4AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne5AdresseLong","particulierInformation.ligne5AdresseAFNOR"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientAdresse.ligne6AdresseLong","particulierInformation.ligne6AdresseAFNOR");break;case e.TypePortail.TYPE_PORTAIL_PCM:this.addMapping("syntheseClientProfilPP.codeAppartenanceReseau","codeAppartenanceReseau"),this.addMapping("syntheseClientProfilPP.codeCategorieSocioProf","categorieSocioprofessionnelle"),this.addMapping("syntheseClientProfilPP.codeCapaciteJuridique","codeCapaciteJuridique"),this.addMapping("syntheseClientProfilPP.codeCivilite","codeCivilite"),this.addMapping("syntheseClientProfilPP.codeCommuneNaissance","codeCommuneNaissance"),this.addMapping("syntheseClientProfilPP.designationCourte","designationCourte"),this.addMapping("syntheseClientAdresse.codePays","codeInseePays"),this.addMapping("syntheseClientAdresse.codeTypeRetourPtt","codeRetourDistribution"),this.addMapping("syntheseClientAdresse.ligne2","ligne2AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne3","ligne3AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne4","ligne4AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne5","ligne5AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne6","ligne6AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne2Adresse38c","ligne2AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne3Adresse38c","ligne3AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne4Adresse38c","ligne4AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne5Adresse38c","ligne5AdresseAFNOR"),this.addMapping("syntheseClientAdresse.ligne6Adresse38c","ligne6AdresseAFNOR")}return t.prototype.majSynthese.call(this,n),o.resolve(1),o.promise},n}(e.RessourceSynchro);e.TiersV1ParticulierInformation=t}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(t){function n(){t.call(this,["tiers-v2/corporateActiviteProfessionnelle","tiers/v2/corporateActiviteProfessionnelle"],[MyWay.Services.MethodEnum.PUT])}return __extends(n,t),n.prototype.getActivitePrincipale=function(e){var t=null,n=this.toolsService.extractValue("activitesProfessionnelles",e);return null!=n&&n instanceof Array&&n.length>0&&(t=n[0]),t},n.prototype.getIdentifiantPersonne=function(e){var t=null,n=this.getActivitePrincipale(e);return null!=n&&(t=String(n.identifiantTiers)),t},n.prototype.setMapping=function(n,i,s,r){var o=this.$q.defer();switch(s.type){case e.TypePortail.TYPE_PORTAIL_MYWAY:this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.nomCommercial","nomCommercial"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeAppartenanceReseau","codeAppartenanceReseau"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.designationCourte","raisonSociale"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.syntheseClientProfilSpecifiquePersonneMorale.raisonSocial","raisonSociale"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.syntheseClientProfilSpecifiquePersonneMorale.numeroSIREN","numeroSiren");break;case e.TypePortail.TYPE_PORTAIL_PCM:this.addMapping("syntheseClientProfilPM.nomCommercial","nomCommercial"),this.addMapping("syntheseClientProfilPM.raisonSocial","raisonSociale"),this.addMapping("syntheseClientProfilPM.numeroSIREN","numeroSiren")}return t.prototype.majSynthese.call(this,n),o.resolve(1),o.promise},n}(e.RessourceSynchro);e.TiersV2CorporateActiviteProfessionnelle=t}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(t){function n(){t.call(this,["tiers-v2/corporateInformation","tiers/v2/corporateInformation"],[MyWay.Services.MethodEnum.PUT])}return __extends(n,t),n.prototype.getIdentifiantPersonne=function(e){var t=this.toolsService.extractValue("identifiantTiers",e),n=null;return null!=t&&(n=String(t)),n},n.prototype.setMapping=function(n,i,s,r){var o=this.$q.defer();switch(s.type){case e.TypePortail.TYPE_PORTAIL_MYWAY:this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.nomCommercial","nomCommercial"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.codeAppartenanceReseau","codeAppartenanceReseau"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.designationCourte","raisonSociale"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.syntheseClientProfilSpecifiquePersonneMorale.raisonSocial","raisonSociale"),this.addMapping("syntheseClientDonneesSignaletiques.syntheseClientProfil.syntheseClientProfilSpecifiquePersonneMorale.numeroSIREN","numeroSiren");break;case e.TypePortail.TYPE_PORTAIL_PCM:this.addMapping("syntheseClientProfilPM.nomCommercial","nomCommercial"),this.addMapping("syntheseClientProfilPM.raisonSocial","raisonSociale"),this.addMapping("syntheseClientProfilPM.numeroSIREN","numeroSiren")}return t.prototype.majSynthese.call(this,n),o.resolve(1),o.promise},n}(e.RessourceSynchro);e.TiersV2CorporateInformation=t}(libSynchroSynthese||(libSynchroSynthese={}));var libSynchroSynthese;!function(e){"use strict";var t=function(t){function n(){t.call(this,["tiers-v2/media","tiers/v2/media"],[MyWay.Services.MethodEnum.PUT])}return __extends(n,t),n.prototype.getIdentifiantPersonne=function(e){var t=this.toolsService.extractValue("identificationPersonne.identifiantPersonne",e),n=null;return null!=t&&(n=String(t)),n},n.prototype.setMapping=function(n,i,s,r){var o=this,a=this.$q.defer(),l=this.toolsService.extractValue("listeMedia",n);return null!=l&&l.forEach(function(i){o.tabMapping=[],"01"===String(i.codeTypeMedia)&&("P"===String(i.codeTypeUsageMedia)&&(s.type===e.TypePortail.TYPE_PORTAIL_MYWAY?o.addMapping("syntheseClientDonneesSignaletiques.syntheseClientOrigineClient.numeroTelephoneDomicile","referenceAccesMedia"):o.addMapping("syntheseClientOrigineClient.numeroTelephone","referenceAccesMedia")),"T"===String(i.codeTypeUsageMedia)&&(s.type===e.TypePortail.TYPE_PORTAIL_MYWAY?o.addMapping("syntheseClientDonneesSignaletiques.syntheseClientOrigineClient.numeroTelephoneTravail","referenceAccesMedia"):o.addMapping("syntheseClientOrigineClient.numeroTelephoneDomicile","referenceAccesMedia"))),"02"===String(i.codeTypeMedia),"03"===String(i.codeTypeMedia)&&(s.type===e.TypePortail.TYPE_PORTAIL_MYWAY?o.addMapping("syntheseClientDonneesSignaletiques.syntheseClientOrigineClient.adresseEMail","referenceAccesMedia"):o.addMapping("syntheseClientOrigineClient.adresseEMail","referenceAccesMedia")),t.prototype.majSynthese.call(o,n),a.resolve(1)}),a.promise},n}(e.RessourceSynchro);e.TiersV2Media=t}(libSynchroSynthese||(libSynchroSynthese={}));