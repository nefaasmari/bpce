/**
 * Généré par : SIGCESIE\ct-tfsbuild
 * Changeset TFS : C513717
 * Etiquette TFS : DC_api-core_20190612.1
 * Déclenchement : IndividualCI
 */
var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.Logger="loggerService-core",e.Loader="loaderService-core",e.Erreur="erreurService-core",e.Csv="csvService-core",e.Agent="agentService-core",e.Common="commonService-core",e.ContexteClient="contexteClientService-core",e.Contexte="contexteService-core",e.Display="displayService-core",e.Habilitation="habilitationService-core",e.Lisa="lisaService-core",e.Mail="mailService-core",e.Mobilite="mobiliteService-core",e.Processus="processusService-core",e.Trace="traceService-core",e}();e.ServiceNames=t;var n=function(){function e(){}return e.Logger=t.Logger+"Provider",e}();e.ProviderNames=n,e.app=angular.module("myway.core-api",["ngSanitize","ui.bootstrap","myway.ui"])}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.PORTAIL_MYWAY="portailMyway",e.TYPE_PORTAIL="typePortail",e}();e.ContextKeys=t;var n=function(){function e(){}return e.TOKEN="SIGLE-CAISSE",e.SIGLES_CAISSES={11315:{sigle:"cepac"},11425:{sigle:"cen"},12135:{sigle:"cebfc"},12548:{sigle:"axa"},12579:{sigle:"bcp"},13135:{sigle:"cemp"},13335:{sigle:"ceapc"},13825:{sigle:"cera"},13485:{sigle:"celr"},14265:{sigle:"celda"},14445:{sigle:"cebpl"},14505:{sigle:"celc"},15135:{sigle:"cegee"},16275:{sigle:"cenfe"},17515:{sigle:"ceidf"},18025:{sigle:"cep"},18315:{sigle:"cecaz"},18715:{sigle:"cepal"},30051:{sigle:"scf"},43199:{sigle:"cff"},62108:{sigle:"expanso"},42559:{sigle:"creditcooperatif"},30258:{sigle:"btpbanque"}},e}();e.ConstantesSiglesCaisses=n}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict"}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t,n,i,r){this.$q=e,this.$parse=t,this.$window=n,this.$document=i,this.$timeout=r}return t.prototype.downloadCsv=function(e,t){var n=this,i=this.$q.defer();t=this.getOptions(t);var r=this.stringify(e,t),o=new Blob([r],{type:"text/csv;charset="+t.charset+";"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(o,t.filename)?i.resolve(null):i.reject(null);else{var s=this.$window.URL.createObjectURL(o),u=angular.element("<a></a>");u.attr("href",s),u.attr("download",t.filename),u.attr("target","_blank"),this.$document.find("body").append(u),this.$timeout(function(){u[0].click(),u.remove(),n.$window.URL.revokeObjectURL(s),i.resolve(null)})}return i.promise},t.prototype.getOptions=function(e){var n=angular.extend({},t.DEFAULT_OPTIONS,e||{});return this.isSpecialChar(n.fieldSeparator)&&(n.fieldSeparator=this.getSpecialChar(n.fieldSeparator)),n},t.prototype.stringify=function(e,n){var i=this,r=[];if(n.header){var o=[];angular.forEach(n.header,function(e){o.push(i.stringifyField(e,n))}),r.push(o.join(n.fieldSeparator))}else if(n.label&&e&&e.length){var s=[],u=n.columnOrder||e[0];angular.forEach(u,function(e,t){var r=n.columnOrder?e:t;s.push(i.stringifyField(r,n))}),r.push(s.join(n.fieldSeparator))}angular.forEach(e,function(e,t){var o=[],s=n.columnOrder||e;angular.forEach(s,function(t){var r=n.columnOrder?e[t]:t;o.push(i.stringifyField(r,n))}),r.push(o.join(n.fieldSeparator))});var c=r.join(t.EOL);return n.addByteOrderMarker&&(c=t.BOM+c),c},t.prototype.isSpecialChar=function(e){return void 0!==t.SPECIAL_CHARS[e]},t.prototype.getSpecialChar=function(e){return t.SPECIAL_CHARS[e]},t.prototype.stringifyField=function(t,n){var i=t;return e.NumberUtils.isFloat(t)?"locale"===n.decimalSeparator?i=t.toLocaleString():"."!==n.decimalSeparator&&(i=t.toString().replace(".",n.decimalSeparator)):"string"==typeof t?(i=t.replace(/"/g,'""'),(n.quoteStrings||-1!==t.indexOf(n.fieldSeparator)||-1!==t.indexOf("\n")||-1!==t.indexOf("\r"))&&(i=n.txtDelimiter+i+n.txtDelimiter)):"boolean"==typeof t&&(i=t?"TRUE":"FALSE"),i},t.EOL="\r\n",t.BOM="\ufeff",t.SPECIAL_CHARS={"\\t":"	","\\b":"\b","\\v":"","\\f":"\f","\\r":"\r"},t.DEFAULT_OPTIONS={txtDelimiter:'"',decimalSeparator:",",quoteStrings:!0,addByteOrderMarker:!0,fieldSeparator:";",charset:"utf-8",label:!1,filename:"export.csv"},t.$inject=["$q","$parse","$window","$document","$timeout"],t}();e.CsvService=t,e.app.service(e.ServiceNames.Csv,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.label=e,this.value=t}return e.prototype.toString=function(){return this.value.toString()},e.values=function(){return this.list(function(e){return e.value})},e.valuesFromList=function(e){var t=[];return e.forEach(function(e){t.push(e.value)}),t},e.fromValue=function(e){var t=this.list(),n=_.find(t,function(t){return t.value===e});return n},e.list=function(e){var t=[];return angular.forEach(this,function(n){angular.isFunction(n)||t.push(e?e(n):n)}),t},e}();e.LabelValueEnum=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.value},e.values=function(){return this.list(function(e){return e.value})},e.valuesFromList=function(e){var t=[];return e.forEach(function(e){t.push(e.value)}),t},e.fromValue=function(e){var t=this.list(),n=_.find(t,function(t){return t.value===e});return n},e.list=function(e){var t=[];return angular.forEach(this,function(n){angular.isFunction(n)||t.push(e?e(n):n)}),t},e}();e.StringEnum=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict"}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$modale=e,this.infos=t;var n={title:"Erreur",bouton:{text:"Fermer"},icone:"itce-ban",size:"md"};this.infos=_.merge({},n,this.infos)}return e.prototype.fermer=function(){this.$modale.close()},e.$inject=["$modalInstance","infos"],e}();e.ModaleErreurControleur=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(t,n,i){this.message=t,"number"==typeof n?this.code=n:(this.details=n,this.code=i),null==this.code&&this.details instanceof e?this.code=this.details.code:null==this.code&&(this.code=0)}return e}();e.ErreurMyway=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t,n,i){this.$q=e,this.$window=t,this.modalService=n,this.loaderService=i}return t.prototype.afficherErreur=function(e,t){void 0===t&&(t=!0);var n=this.getInfosErreur(e);t?this.afficherModaleErreurWithRefreshButton(n):this.afficherModaleErreur(n)},t.prototype.afficherModaleErreurWithRefreshButton=function(e){var t=this;_.merge(e,{bouton:{text:"Rafraichir",onClose:function(){t.$window.location.reload()}}}),this.afficherModaleErreur(e)},t.prototype.afficherModaleErreur=function(t){throw this.loaderService.stop({source:"afficherModaleErreur"}),this.loaderService.stopProgress(),this.modalService.showModal({backdrop:"static",keyboard:!1,size:"lg",windowClass:"app-modal-window-MEG",templateUrl:"typescript/erreur/erreur.html",controller:e.ModaleErreurControleur,controllerAs:"ctrl",resolve:{infos:function(){return t}}}).then(function(){t.bouton&&"function"==typeof t.bouton.onClose&&t.bouton.onClose()}),t.erreur},t.prototype.afficherModaleErreurNonBloquante=function(t){return this.loaderService.stop({source:"afficherModaleErreur"}),this.loaderService.stopProgress(),this.modalService.showModal({backdrop:"static",keyboard:!1,size:"lg",windowClass:"app-modal-window-MEG",templateUrl:"typescript/erreur/erreur.html",controller:e.ModaleErreurControleur,controllerAs:"ctrl",resolve:{infos:function(){return t}}}).then(function(){return t.bouton&&"function"==typeof t.bouton.onClose?t.bouton.onClose():void 0})},t.prototype.afficherModaleInformation=function(t){return this.loaderService.stop({source:"afficherModaleInformation"}),this.loaderService.stopProgress(),this.modalService.showModal({backdrop:"static",keyboard:!1,size:"lg",windowClass:"app-modal-window-MEG",templateUrl:"typescript/erreur/erreur.html",controller:e.ModaleErreurControleur,controllerAs:"ctrl",resolve:{infos:function(){return t}}}).then(function(){return t.bouton&&"function"==typeof t.bouton.onClose?t.bouton.onClose():void 0})},t.prototype.getInfosErreur=function(t){var n={bodyText:"Erreur technique",erreur:t};return _.has(t,"codeLibelle")?this.decodeServiceErreur(n,t):t instanceof e.ErreurMyway?this.decodeErreurPortail(n,t):"string"==typeof t&&(n.bodyText=t),n},t.prototype.decodeServiceErreur=function(e,t){"COM.ERREUR_HABILITATION_AUTHENTIFICATION_MANQUANTE"===t.codeLibelle?(e.title="Informations compte utilisateur",e.bodyText="Vous n'êtes pas authentifié(e) sur votre poste.",e.erreur=null):"COM.ERREUR_ACCES_SERVEUR"===t.codeLibelle?e.bodyText="Problème d'accès aux serveurs":"MESSAGES_DONNEES_DELOC.ERREUR_REPONSE_QR"===t.codeLibelle?e.bodyText="Table(s) délocalisée(s) indisponible(s)":"COM.ERREUR_HABILITATION_PARAMETRES_INSUFFISANTS"===t.codeLibelle?e.bodyText="Données d'authentification incomplètes":"ECH.ERREUR_CENTRAL"===t.codeLibelle&&t.libelle&&"string"==typeof t.libelle&&-1!==t.libelle.indexOf("Pb user ou habilitation V110")&&(e.bodyText="Vous n'êtes pas habilité à utiliser cette fonctionnalité")},t.prototype.decodeErreurPortail=function(e,t){e.bodyText=t.message,e.erreur=t.details,e.hideButton=2===t.code},t.$inject=["$q","$window","modalService",e.ServiceNames.Loader],t}();e.ErreurService=t,e.app.service(e.ServiceNames.Erreur,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,n,i,r,o){var s=this;this.$scope=e,this.$rootScope=t,this.$window=n,this.$interval=i,this.$element=r,this.$attrs=o,this.defaultHandler=function(){var e,t;if(s.container===s.windowElement)e=s.height(s.container)+s.pageYOffset(s.container[0].document.documentElement),t=s.offsetTop(s.$element)+s.height(s.$element[0]);else{e=s.height(s.container);var n=0;void 0!==s.offsetTop(s.container)&&(n=s.offsetTop(s.container)),t=s.offsetTop(s.$element)-n+s.height(s.$element)}s.useDocumentBottom&&(t=s.height((s.$element[0].ownerDocument||s.$element[0].document).documentElement));var i=t-e,r=i<=s.height(s.container)*s.scrollDistance+1;r?(s.checkWhenEnabled=!0,s.scrollEnabled&&(s.$scope.$$phase||s.$rootScope.$$phase?s.infiniteScroll():s.$scope.$apply(function(){return s.infiniteScroll()}))):(s.checkInterval&&s.$interval.cancel(s.checkInterval),s.checkWhenEnabled=!1)},this.handleInfiniteScrollDistance=function(e){s.scrollDistance=parseFloat(e)||0},this.handleInfiniteScrollDisabled=function(e,t){e!==t&&(s.scrollEnabled=!e,s.scrollEnabled&&s.checkWhenEnabled&&(s.checkWhenEnabled=!1,s.handler()))},this.handleInfiniteScrollUseDocumentBottom=function(e){s.useDocumentBottom=e},this.handleInfiniteScrollContainer=function(e,t){if(null!=e&&0!==e.length&&e!==t){var n;if(n=e.nodeType&&1===e.nodeType?angular.element(e):"function"==typeof e.append?angular.element(e[e.length-1]):"string"==typeof e?angular.element(document.querySelector(e)):e,null==n)throw new Error("invalid infinite-scroll-container attribute.");s.changeContainer(n)}},this.intervalCheck=function(){return s.immediateCheck&&s.handler(),s.$interval.cancel(s.checkInterval)},this.init()}return e.prototype.height=function(e){var t=e[0]||e;return isNaN(t.offsetHeight)?t.document.documentElement.clientHeight:t.offsetHeight},e.prototype.pageYOffset=function(e){var t=e[0]||e;return isNaN(window.pageYOffset)?t.document.documentElement.scrollTop:t.ownerDocument.defaultView.pageYOffset},e.prototype.offsetTop=function(e){return e[0].getBoundingClientRect&&!e.css("none")?e[0].getBoundingClientRect().top+this.pageYOffset(e):void 0},e.prototype.handleDestroy=function(){this.container.unbind("scroll",this.handler),this.checkInterval&&this.$interval.cancel(this.checkInterval)},e.prototype.changeContainer=function(e){null!=this.container&&this.container.unbind("scroll",this.handler),this.container=e,null!=e&&this.container.bind("scroll",this.handler)},e.prototype.init=function(){var e=this;this.windowElement=angular.element(this.$window),this.scrollDistance=null,this.scrollEnabled=!0,this.checkWhenEnabled=null,this.container=null,this.immediateCheck=!0,this.useDocumentBottom=!1,this.handler=null!=this.infiniteScrollThrottleMilliseconds?_.throttle(this.defaultHandler,this.infiniteScrollThrottleMilliseconds):this.defaultHandler,this.$scope.$on("$destroy",function(){return e.handleDestroy}),this.$scope.$watch(function(){return e.infiniteScrollDistance},this.handleInfiniteScrollDistance),this.handleInfiniteScrollDistance(this.infiniteScrollDistance),this.$scope.$watch(function(){return e.infiniteScrollDisabled},this.handleInfiniteScrollDisabled),this.handleInfiniteScrollDisabled(this.infiniteScrollDisabled),this.$scope.$watch(function(){return e.infiniteScrollUseDocumentBottom},this.handleInfiniteScrollUseDocumentBottom),this.handleInfiniteScrollUseDocumentBottom(this.infiniteScrollUseDocumentBottom),this.$scope.$watch(function(){return e.infiniteScrollContainer},this.handleInfiniteScrollContainer),this.handleInfiniteScrollContainer(this.infiniteScrollContainer),null==this.container&&this.changeContainer(this.windowElement),null!=this.$attrs.infiniteScrollParent&&this.changeContainer(angular.element(this.$element.parent())),null!=this.$attrs.infiniteScrollImmediateCheck&&(this.immediateCheck=this.$scope.$eval(this.$attrs.infiniteScrollImmediateCheck)),this.checkInterval=this.$interval(this.intervalCheck,10)},e.$inject=["$scope","$rootScope","$window","$interval","$element","$attrs"],e}();e.InfiniteScrollControleur=t}(t=e.infiniteScroll||(e.infiniteScroll={}))}(t=e.ui||(e.ui={}))}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){"use strict";var n=function(){return{restrict:"A",controller:t.InfiniteScrollControleur,controllerAs:"ctrl",bindToController:!0,scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollThrottleMilliseconds:"=",infiniteScrollUseDocumentBottom:"="}}};n.$inject=[],e.app.directive("infiniteScroll",n)}(n=t.infiniteScroll||(t.infiniteScroll={}))}(t=e.ui||(e.ui={}))}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(t){"use strict";var n=function(){function e(e,t,n,i,r){this.$q=e,this.$templateCache=t,this.$interpolate=n,this.$document=i,this.$timeout=r,this.minDelay=0,this.BACKGROUND_ZINDEX=1e4,this.POSITION="fixed",this.SPINNER_HEIGHT=2,this.PROGRESS_HEIGHT=14,this.SPINNER_WIDTH=2,this.TEXT_WIDTH=30,this.BACKGROUND="rgba(255, 255, 255, 0)",this.backgroundStack=0}return e.prototype.start=function(e){if(!this.startLoaderPromise){e=_.merge({},t.loaderDefaultSettings,e);var n=this.getRootElement(e.rootElementId);this.startLoaderPromise=this.$timeout(function(){},this.minDelay),this.addLoader(n,e.text),e.background&&this.addBackground(n)}},e.prototype.stop=function(e){var t=this;this.startLoaderPromise&&(e=_.merge({},{},e),this.startLoaderPromise.then(function(){t.startLoaderPromise=void 0,t.removeLoader(),t.removeBackground()}))},e.prototype.startProgress=function(e){if(!this.progressPromise){if(this.progressSettings=_.merge({},t.progressDefaultSettings,e),!e.steps.stepCount)return void console.warn("LoaderService","Barre de progression désactivée: nombre d'étapes non spécifié");if(!this.progressSettings.steps.stepWeights){this.progressSettings.steps.stepWeights=[];for(var n=100/this.progressSettings.steps.stepCount,i=0;i<this.progressSettings.steps.stepCount;i++)this.progressSettings.steps.stepWeights.push(n)}var r=this.getRootElement(this.progressSettings.rootElementId);this.progressPromise=this.$timeout(function(){}),this.addProgress(r),this.progressSettings.steps.currentStep--,this.goToNextProgressStep(),this.progressSettings.background&&this.addBackground(r)}},e.prototype.restartProgress=function(e){return this.progressSettings?void(this.progressPromise||(e&&(this.progressSettings.steps.currentStep=e),this.startProgress(this.progressSettings))):void console.warn("LoaderService","Barre de progression jamais activée, impossible de la relancer sans configuration")},e.prototype.stopProgress=function(){var e=this;this.progressPromise&&(this.progressPromise=this.progressPromise.then(function(){return e.$timeout(function(){e.progressPromise=void 0,e.$timeout.cancel(e.nextStepPromise),e.removeProgress(),e.removeBackground()},e.progressSettings.stopTimeout)}))},e.prototype.goToNextProgressStep=function(){var e=this;this.progressPromise&&(this.progressPromise=this.progressPromise.then(function(){if(e.progressBarElement&&e.progressStepElement){var t=e.progressSettings.steps.lastStepTime?(new Date).getTime()-e.progressSettings.steps.lastStepTime:0,n=t>=e.progressSettings.steps.stepTimeout?0:e.progressSettings.steps.stepTimeout;return e.nextStepPromise=e.$timeout(function(){e.progressSettings.steps.currentStep=Math.min(++e.progressSettings.steps.currentStep,e.progressSettings.steps.stepCount+1);var t=_.reduce(e.progressSettings.steps.stepWeights.slice(0,e.progressSettings.steps.currentStep-1),function(e,t){return e+t},0),n=Math.min(e.progressSettings.steps.currentStep,e.progressSettings.steps.stepCount),i="Etape "+n+" sur "+e.progressSettings.steps.stepCount;e.progressBarElement.setAttribute("aria-valuenow",t+""),e.progressBarElement.setAttribute("aria-valuetext",i),e.progressBarElement.style.width=t+"%",e.progressStepElement.innerText=i,e.progressSettings.steps.lastStepTime=(new Date).getTime(),100===t&&e.stopProgress()},n)}}))},e.prototype.addLoader=function(e,t){this.loaderElement||(this.loaderElement=document.createElement("div"),this.loaderElement.appendChild(this.getSpinnerElement()),t&&this.loaderElement.appendChild(this.getTextElement(t)),e.appendChild(this.loaderElement))},e.prototype.getSpinnerElement=function(){var e=document.createElement("div");return e.setAttribute("role","status"),e.style.zIndex=this.BACKGROUND_ZINDEX+1+"",e.style.position=this.POSITION,e.style.height=this.SPINNER_HEIGHT+"rem",e.style.width=this.SPINNER_WIDTH+"rem",e.style.fontSize="2rem",e.style.top="calc(50% - "+this.SPINNER_HEIGHT/2+"rem)",e.style.left="calc(50% - "+this.SPINNER_WIDTH/2+"rem)",e.style.background=this.BACKGROUND,e.style.animation="cssload-roto 1.15s infinite linear",e.innerHTML='<span aria-hidden="true" class="icon itce-spinner"></span>',e},e.prototype.getTextElement=function(e){var t=document.createElement("div");return t.style.zIndex=this.BACKGROUND_ZINDEX+1+"",t.style.position=this.POSITION,t.style.height=this.SPINNER_HEIGHT+"rem",t.style.width=this.TEXT_WIDTH+"rem",t.style.fontSize="1.5rem",t.style.color="#067b15",t.style.top="calc(50% + "+this.SPINNER_HEIGHT+"rem)",t.style.left="calc(50% - "+this.TEXT_WIDTH/2+"rem)",t.style.background=this.BACKGROUND,t.style.textAlign="center",t.innerText=e,t},e.prototype.removeLoader=function(){this.loaderElement&&(this.loaderElement.parentNode.removeChild(this.loaderElement),this.loaderElement=void 0)},e.prototype.addBackground=function(e){this.backgroundStack++,this.backgroundElement||(this.backgroundElement=this.getBackgroundElement(),e.appendChild(this.backgroundElement))},e.prototype.removeBackground=function(){this.backgroundElement&&(this.backgroundStack--,0===this.backgroundStack&&(this.backgroundElement.parentNode.removeChild(this.backgroundElement),this.backgroundElement=void 0))},e.prototype.getBackgroundElement=function(){var e=document.createElement("div");return e.style.zIndex=this.BACKGROUND_ZINDEX+"",e.style.position=this.POSITION,e.style.background="black",e.style.top="0",e.style.bottom="0",e.style.left="0",e.style.right="0",e.style.opacity="0.25",e},e.prototype.addProgress=function(e){this.progressElement||(this.progressElement=this.getProgressContainerElement(),this.progressElement.appendChild(this.getSimpleRowElement(this.progressSettings.title)),this.progressElement.appendChild(document.createElement("hr")),this.progressElement.appendChild(this.getSimpleRowElement(this.progressSettings.text)),this.progressElement.appendChild(this.getProgressBarElement()),this.progressStepElement=this.getProgressStepElement(),this.progressElement.appendChild(this.progressStepElement),e.appendChild(this.progressElement))},e.prototype.removeProgress=function(){this.progressElement&&(this.progressElement.parentNode.removeChild(this.progressElement),this.progressElement=void 0,this.progressBarElement=void 0,this.progressStepElement=void 0)},e.prototype.getProgressContainerElement=function(){var e=document.createElement("div");return e.style.zIndex=this.BACKGROUND_ZINDEX+10+"",e.style.position=this.POSITION,e.style.height=this.PROGRESS_HEIGHT+"rem",e.style.top="35%",e.style.left=this.progressSettings.horizontalMargins,e.style.right=this.progressSettings.horizontalMargins,e.style.padding="1.5625rem",e.style.backgroundColor="white",e.style.font="normal small-caps 2em arial, helvetica, sans-serif",e.style.letterSpacing="2pt",e.style.wordSpacing="2pt",e.style.textAlign="center",e.style.lineHeight="1",e.style.border="solid 5px #c8c8c8",e.style.borderRadius="1.25rem",e},e.prototype.getSimpleRowElement=function(e){var t=document.createElement("div");return t.setAttribute("class","row"),t.innerText=e,t},e.prototype.getProgressBarElement=function(){var e=function(e){e.style.marginTop="20px",e.style.height="0.375rem",e.style.background="#efefef",e.style.borderRadius="0"},t=document.createElement("div");e(t),t.style.backgroundColor="#D00019",t.style.transition="width 0.05s ease-in-out",t.setAttribute("role","progressbar"),t.setAttribute("aria-valuemin","0"),t.setAttribute("aria-valuemax","100"),t.style.width="0",this.progressBarElement=t;var n=document.createElement("div");return e(n),n.appendChild(t),n},e.prototype.getProgressStepElement=function(){var e=document.createElement("div");return e.style.color="#D00019",e.style.fontSize="0.7em",e.style.letterSpacing="3pt",e.style.wordSpacing="-3pt",e.style.textAlign="left",e.style.lineHeight="1",e},e.prototype.getRootElement=function(e){return document.getElementById(e)||document.getElementsByTagName("body")[0]},e.$inject=["$q","$templateCache","$interpolate","$document","$timeout"],e}();t.LoaderService=n,e.app.service(e.ServiceNames.Loader,n)}(t=e.loader||(e.loader={}))}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";e.loaderDefaultSettings={background:!0},e.progressDefaultSettings={background:!0,text:"Chargement des données de l'application en cours...",horizontalMargins:"2.5rem",stopTimeout:400,steps:{currentStep:1,stepTimeout:300}}}(t=e.loader||(e.loader={}))}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,n,i){this._messages=[e],angular.isArray(t)&&t.length&&[].push.apply(this._messages,t),this.prefix=!!i&&!n,this.prefix&&this._messages.unshift(i),this._messages.unshift(""+(new Date).toTimeString().substr(0,8))}return Object.defineProperty(e.prototype,"messages",{get:function(){return this._messages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageFramework",{get:function(){var e=this.prefix?this._messages.slice(1):this._messages;return _.map(e,function(e){return"object"==typeof e?JSON.stringify(e):e}).join(" / ")},enumerable:!0,configurable:!0}),e}(),n=function(){function e(e,t,n,i,r,o){this.traceService=e,this.logLevel=t,this.bufferCapacity=n,this.consolePrefix=i,this.frameworkAppender=r,this.consoleAppender=o,this.buffer=[]}return e.prototype.setLoggerLevel=function(e){this.logLevel=e},e.prototype.getLoggerLevel=function(){return this.logLevel},e.prototype.setAppenderFramework=function(e){this.frameworkAppender=e},e.prototype.setAppenderConsole=function(e){this.consoleAppender=e},e.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.log(console.log.bind(console),this.traceService.debug.bind(this.traceService),!1,3,e,t)},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.log(console.info.bind(console),this.traceService.info.bind(this.traceService),!1,2,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.log(console.warn.bind(console),this.traceService.warning.bind(this.traceService),!1,1,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.log(console.error.bind(console),this.traceService.error.bind(this.traceService),!1,0,e,t)},e.prototype.flush=function(){var e=this;this.buffer.forEach(function(t){e.log(t.func,null,!0,t.level,t.message,t.args)}),this.buffer=[]},e.prototype.log=function(e,n,i,r,o,s){if(!(this.logLevel<r||null==o)){var u=new t(o,s,i,this.consolePrefix);(this.consoleAppender||i)&&e.apply(null,u.messages),!i&&this.frameworkAppender&&n(u.messageFramework),this.handleBuffer(e,i,r,o,s)}},e.prototype.handleBuffer=function(e,t,n,i,r){if(this.bufferCapacity&&!t){"object"==typeof i&&(i=JSON.stringify(i));for(var o=0;o<r.length;o++)"object"==typeof r[o]&&(r[o]=JSON.stringify(r[o]));this.buffer.push({date:new Date,func:e,level:n,message:i,args:r}),this.buffer.length>this.bufferCapacity&&this.buffer.shift()}},e}();e.LoggerService=n;var i=function(){function t(){this.level=2,this.bufferCapacity=0,this.consolePrefix="",this.frameworkAppender=!0,this.consoleAppender=!0,this.$get.$inject=[e.ServiceNames.Trace]}return t.prototype.$get=function(e){return new n(e,this.level,this.bufferCapacity,this.consolePrefix,this.frameworkAppender,this.consoleAppender)},t.prototype.setLoggerLevel=function(e){this.level=e},t.prototype.setConsolePrefix=function(e){this.consolePrefix=e},t.prototype.setBufferCapacity=function(e){this.bufferCapacity=e},t.prototype.setAppenderFramework=function(e){this.frameworkAppender=e},t.prototype.setAppenderConsole=function(e){this.consoleAppender=e},t}();e.LoggerServiceProvider=i,e.app.provider(e.ServiceNames.Logger,i)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.getTree=function(e,t,n,i){return _.filter(e,function(e){var r=t(e),o=n(e);return i(e,this(r)),!o||!this(o).push(e)},_.memoize(function(){return[]}))},e.swapItems=function(e,t,n){e[t]=e.splice(n,1,e[t])[0]},e.differenceBy=function(e,t,n){return _.filter(e,function(e){return!_.some(t,function(t){return n(t)===n(e)})})},e.differenceWith=function(e,t,n){return _.filter(e,function(e){return!_.some(t,function(t){return n(e,t)})})},e}();e.ArrayUtils=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.getDesignation=function(e,t,n,i){var r=e;return"1"===r?r="MME":"2"===r?r="MLLE":"3"===r&&(r="M"),_.compact([r,t||n,i]).join(" ")},e.getDesignationCourte=function(e,t,n){return _.compact([e||t,n]).join(" ")},e}();e.ClientUtils=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.URL=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/,e}();e.CommonRegExp=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.getIdentifiantPersonne=function(e){return null==e||"0"===e||0===e?null:_.padLeft(_.trim(e+""),9,"0")},e.getIdentifiantEntiteTitulaire=function(e){return null==e||"0"===e||0===e?null:_.padLeft(_.trim(e+""),10,"0")},e.getIdentifiantProfessionnel=function(e){return null==e||"0"===e||0===e?null:_.padLeft(_.trim(e+""),2,"0")},e.getIdentifiantEDS=function(e){return null==e?null:_.padLeft(e+"",7,"0")},e.isValidIdentifiantEDS=function(e){return null!=e&&7===e.length},e.getTypeEDS=function(e){return null==e?null:_.padLeft(e+"",3,"0")},e}();e.EdsUtils=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.getNetworkTypeName=function(e){var t;switch(e){case 99:t="Connecté";break;case 0:t="Déconnecté";break;case 30:t="Filaire";break;case 99:t="Inconnu";break;case 10:t="VPN";break;case 20:t="WIFI Agence"}return t},e}();e.FrameworkUtils=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.parseInt=function(e){return null!=e?parseInt(e,10):void 0},e.isFloat=function(e){return+e===e&&(!isFinite(e)||Boolean(e%1))},e}();e.NumberUtils=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.openMaxSize=function(e,t){var n=["height="+screen.height,"width="+screen.width].join(","),i=window.open(e,t,n);i.moveTo(0,0)},e}();e.PopupUtils=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.format=function(e){return e?e.replace(/(\d{5})(\d{5})(\d{11,15})/,"$1 $2 $3"):e},e}();e.RibUtils=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.stripAccents=function(e){var t={A:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g,AA:/[\uA732]/g,AE:/[\u00C6\u01FC\u01E2]/g,AO:/[\uA734]/g,AU:/[\uA736]/g,AV:/[\uA738\uA73A]/g,AY:/[\uA73C]/g,B:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g,C:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g,D:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g,DZ:/[\u01F1\u01C4]/g,Dz:/[\u01F2\u01C5]/g,E:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g,F:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g,G:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g,H:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g,I:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g,J:/[\u004A\u24BF\uFF2A\u0134\u0248]/g,K:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g,L:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g,LJ:/[\u01C7]/g,Lj:/[\u01C8]/g,M:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g,N:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g,NJ:/[\u01CA]/g,Nj:/[\u01CB]/g,O:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g,OI:/[\u01A2]/g,OO:/[\uA74E]/g,OU:/[\u0222]/g,P:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g,Q:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g,R:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g,S:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g,T:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g,TZ:/[\uA728]/g,U:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g,
V:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g,VY:/[\uA760]/g,W:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g,X:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g,Y:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g,Z:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g,a:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g,aa:/[\uA733]/g,ae:/[\u00E6\u01FD\u01E3]/g,ao:/[\uA735]/g,au:/[\uA737]/g,av:/[\uA739\uA73B]/g,ay:/[\uA73D]/g,b:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g,c:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g,d:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g,dz:/[\u01F3\u01C6]/g,e:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g,f:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g,g:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g,h:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g,hv:/[\u0195]/g,i:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g,j:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g,k:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g,l:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g,lj:/[\u01C9]/g,m:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g,n:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g,nj:/[\u01CC]/g,o:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g,oi:/[\u01A3]/g,ou:/[\u0223]/g,oo:/[\uA74F]/g,p:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g,q:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g,r:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g,s:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g,t:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g,tz:/[\uA729]/g,u:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g,v:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g,vy:/[\uA761]/g,w:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g,x:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g,y:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g,z:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g},n=e;for(var i in t)n=n.replace(t[i],i);return n},e.contains=function(e,t){var n=e||"",i=t||"";return-1!==this.stripAccents(n.toLowerCase()).indexOf(this.stripAccents(i.toLowerCase()))},e.decodeRestString=function(e){return"null"===e||null==e?"":e},e.stripHtml=function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText},e}();e.StringUtils=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.isEnvironnementDev=function(){return"DUA"===e.ENVIRONNEMENT||"VFO"===e.ENVIRONNEMENT},e.isEnvironnementRecette=function(){return"UTI"===e.ENVIRONNEMENT||"UPP"===e.ENVIRONNEMENT||"QPA"===e.ENVIRONNEMENT},e.isEnvironnementProduction=function(){return"PRO"===e.ENVIRONNEMENT||"PPI"===e.ENVIRONNEMENT},e.fromPrototype=function(e,t){var n=Object.create(e.prototype);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},e.getStrDateHeureCourante=function(){return moment().format("dd/MM/yyyy à hh:mm")},e.generateUUID=function(e){var t=e?(+e^16*Math.random()>>+e/4).toString(16):(1e7+"-1000-4000-8000-100000000000").replace(/[018]/g,this.generateUUID);return t},e.isModaleBoostrapOpened=function(){return!!document.querySelector("div[modal-window]")},Object.defineProperty(e,"mediaWidth",{get:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"mediaHeight",{get:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},enumerable:!0,configurable:!0}),e.ENVIRONNEMENT="DUA".toUpperCase(),e}();e.Utils=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.parseFromString=function(e,t){void 0===t&&(t=!1),t&&(e=e.replace(/&(?!#?[a-z0-9]+;)/g,"&amp;"));var n=new DOMParser,i=n.parseFromString(e,"application/xml"),r=i.getElementsByTagName("parsererror");if(r.length)throw r[0].textContent;return i},e}();e.XmlUtils=t}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.$injector=e,this.NON_GEREE="Fonctionnalité non gérée: ",this.initPhantomAgent()||this.initTechAgent()||this.initServiceAgent()}return e.prototype.initPhantomAgent=function(){var e=!1;try{this.phantomAgent=this.$injector.get("serviceManager"),e=!0}catch(t){}return e},e.prototype.initTechAgent=function(){var e=!1;try{this.techAgent=this.$injector.get("techAgent"),e=!0}catch(t){}return e},e.prototype.initServiceAgent=function(){var e=!1;try{this.serviceAgent=this.$injector.get("serviceAgent"),e=!0}catch(t){}return e},e}();e.FrameworkService=t}(t=e.core||(e.core={}))}(myway||(myway={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},myway;!function(e){var t;!function(e){"use strict";var t=function(t){function n(e,n,i,r,o,s,u,c,a,h,l){t.call(this,e),this.$q=n,this.commonService=i,this.displayService=r,this.contexteService=o,this.habilitationService=s,this.lisaService=u,this.mobiliteService=c,this.processusService=a,this.traceService=h,this.mailService=l}return __extends(n,t),Object.defineProperty(n.prototype,"versionMySys",{get:function(){return this.commonService.versionMySys},enumerable:!0,configurable:!0}),n.prototype.init=function(e){return this.commonService.init(e)},n.prototype.initialize=function(){return this.commonService.initialize()},n.prototype.getAuthentificationInfo=function(){return this.contexteService.getAuthentificationInfo()},n.prototype.setAuthentificationInfo=function(e){return this.contexteService.setAuthentificationInfo(e)},n.prototype.getParametresComptables=function(){return this.contexteService.getParametresComptables()},n.prototype.setParametresComptables=function(e){return this.contexteService.setParametresComptables(e)},n.prototype.getDonneesDelocalisees=function(e,t){return this.commonService.getDonneesDelocalisees(e,t)},n.prototype.getListDonneesDelocalisees=function(e,t){return this.commonService.getListDonneesDelocalisees(e,t)},n.prototype.getDonneesParCriteres=function(e,t,n){return this.commonService.getDonneesParCriteres(e,t,n)},n.prototype.chargerHabilitations=function(){return this.habilitationService.chargerHabilitations()},n.prototype.estHabilite=function(e){return"string"==typeof e?this.habilitationService.estHabilite(e):this.habilitationService.estHabilite(e)},n.prototype.modifierHabilitation=function(e,t){return this.habilitationService.modifierHabilitation(e,t)},n.prototype.estHabiliteKV=function(e){return this.habilitationService.estHabiliteKV(e)},n.prototype.sendRequest=function(e){return this.commonService.sendRequest(e)},n.prototype.getFromContext=function(e){return this.contexteService.getFromContext(e)},n.prototype.addToGlobalContext=function(e,t){return this.contexteService.addToGlobalContext(e,t)},n.prototype.addToSharedContext=function(e,t){return this.contexteService.addToSharedContext(e,t)},n.prototype.addListToGlobalContext=function(e){return this.contexteService.addListToGlobalContext(e)},n.prototype.addListToContext=function(e){return this.contexteService.addListToContext(e)},n.prototype.addToContext=function(e,t){return this.contexteService.addToContext(e,t)},n.prototype.afficherUrl=function(e,t){return this.displayService.afficherUrl(e,t)},n.prototype.startUrl=function(e,t,n){return this.commonService.startUrl(e,t,n)},n.prototype.lirePreference=function(e){return this.commonService.lirePreference(e)},n.prototype.ecrirePreference=function(e,t){return this.commonService.ecrirePreference(e,t)},n.prototype.lirePreferences=function(e){return this.commonService.lirePreferences(e)},n.prototype.ecrirePreferences=function(e){return this.commonService.ecrirePreferences(e)},n.prototype.startProcess=function(e,t,n,i){return this.processusService.startProcess(e,t,n,i)},n.prototype.stopProcess=function(e){return this.processusService.stopProcess(e)},n.prototype.switchProcess=function(e){return this.processusService.switchProcess(e)},Object.defineProperty(n.prototype,"trace",{get:function(){return this.traceService.trace},enumerable:!0,configurable:!0}),n.prototype.changeMainProcessName=function(e){return this.processusService.changeMainProcessName(e)},n.prototype.getCurrentProcessId=function(){return this.processusService.getCurrentProcessId()},Object.defineProperty(n.prototype,"step",{get:function(){return this.processusService.step},enumerable:!0,configurable:!0}),n.prototype.lisaNext=function(e){return this.lisaService.next(e)},n.prototype.getTypePortail=function(){return this.mobiliteService.getTypePortail()},n.prototype.isPCM=function(){return this.mobiliteService.isPCM()},n.prototype.isPortailMobilite=function(){return this.mobiliteService.isPortailMobilite()},n.prototype.getInfosCaisse=function(e){return this.commonService.getInfosCaisse(e)},n.prototype.getDomaineDns=function(){return this.commonService.getDomaineDns()},n.prototype.envoyerMail=function(e){return this.mailService.envoyerMail(e)},n.prototype.getCapacite=function(e){return this.mobiliteService.getCapacite(e)},n.prototype.isAgentFromAgenceLaHenin=function(){return this.commonService.isAgentFromAgenceLaHenin()},n.prototype.startApplication=function(e){return this.processusService.startApplication(e)},n.prototype.masquerFlash=function(e){this.commonService.masquerFlash(e)},n.prototype.isAgentBDR=function(){return this.estHabilite("SHCEF5")},n.$inject=["$injector","$q",e.ServiceNames.Common,e.ServiceNames.Display,e.ServiceNames.Contexte,e.ServiceNames.Habilitation,e.ServiceNames.Lisa,e.ServiceNames.Mobilite,e.ServiceNames.Processus,e.ServiceNames.Trace,e.ServiceNames.Mail],n}(e.FrameworkService);e.AgentService=t,e.app.service(e.ServiceNames.Agent,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(t){function n(e,n,i){t.call(this,e),this.$q=n,this.contexteService=i}return __extends(n,t),Object.defineProperty(n.prototype,"versionMySys",{get:function(){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"versionMySys";return this.phantomAgent.VersionMySys()},enumerable:!0,configurable:!0}),n.prototype.init=function(e){return this.phantomAgent?this.$q.when(this.phantomAgent.init(e)):this.$q.when((this.serviceAgent||this.techAgent).init(e))},n.prototype.initialize=function(){if(this.phantomAgent)return this.$q.when(this.phantomAgent.Initialize());throw this.NON_GEREE+"initialize"},n.prototype.sendRequest=function(e){if(this.phantomAgent){var t=e;return t.authentificationInfo=this.phantomAgent.Context.GetAuthentificationInfo(),this.$q.when(MyWay.Services.CoreCommon.SendRequestWithPromise(t))}return(this.serviceAgent||this.techAgent).sendRequest(e)},n.prototype.getDonneesDelocalisees=function(e,t){var n=this;return this.contexteService.getAuthentificationInfo().then(function(i){return n.phantomAgent?n.$q.when(n.phantomAgent.DonneesDelocalisees.getDonneesDelocalisees(t||i.codeEtablissement,e)):n.$q.when((n.serviceAgent||n.techAgent).getDonneesDelocalisees(t||i.codeEtablissement,e))})},n.prototype.getListDonneesDelocalisees=function(e,t){if(this.phantomAgent)throw this.NON_GEREE+"getListDonneesDelocalisees";return this.$q.when((this.serviceAgent||this.techAgent).getListDonneesDelocalisees(e,t))},n.prototype.getDonneesParCriteres=function(e,t,n){var i=this;return this.contexteService.getAuthentificationInfo().then(function(r){return i.phantomAgent?i.$q.when(i.phantomAgent.DonneesDelocalisees.getDonneesParCriteres(n||r.codeEtablissement,e,t)):i.$q.when((i.serviceAgent||i.techAgent).DonneesDelocalisees.getDonneesParCriteres(n||r.codeEtablissement,e,t))})},n.prototype.startUrl=function(e,t,n){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"startUrl";return this.$q.when(this.phantomAgent.Lisa.StartUrl(e,t,n))},n.prototype.lirePreference=function(e){return this.phantomAgent?this.$q.when(this.phantomAgent.Preferences.LirePreference(e)):this.$q.when((this.serviceAgent||this.techAgent).Preferences.LirePreference(e))},n.prototype.ecrirePreference=function(e,t){return this.$q.when((this.phantomAgent||this.serviceAgent||this.techAgent).Preferences.EcrirePreference(e,t))},n.prototype.lirePreferences=function(e){return this.$q.when((this.phantomAgent||this.serviceAgent||this.techAgent).Preferences.lireMultiPreference(e))},n.prototype.ecrirePreferences=function(e){return this.$q.when((this.phantomAgent||this.serviceAgent||this.techAgent).Preferences.ecrireMultiPreference(e))},n.prototype.getInfosCaisse=function(t){var n=t?this.$q.when(t):this.contexteService.getAuthentificationInfo().then(function(e){return e.codeEtablissement});return n.then(function(t){return e.ConstantesSiglesCaisses.SIGLES_CAISSES[t]})},n.prototype.getDomaineDns=function(){return e.Utils.isEnvironnementProduction()?this.getInfosCaisse().then(function(e){return e.sigle}):this.$q.when("sie.caisse-epargne.fr")},n.prototype.isAgentFromAgenceLaHenin=function(){var e,t=this;return this.contexteService.getAuthentificationInfo().then(function(n){return e=n,t.getDonneesDelocalisees("CU1T")}).then(function(t){var n=parseInt(moment().format("YYYYMMDD"),10);return _.some(t.donnees,function(t){return"ANB"===t.CTCEGF&&t.CTCEAG===e.agentConnecte.typeFonction&&n>=parseInt(t.DDCELG)&&n<=parseInt(t.DFCELG)})})},n.prototype.isProcessusBascule=function(e,t){var n=this;void 0===t&&(t="PETRA");var i;return this.contexteService.getAuthentificationInfo().then(function(e){return i=e.codeEtablissement,n.getDonneesDelocalisees("SU1P")}).then(function(n){var r=moment();return _.some(n.donnees,function(n){var o=moment(n.DDEJDA,"DDMMYYYY"),s=moment(n.DFEJDA,"DDMMYYYY");return n.COCXBQ===i&&n.COSXAP===t&&n.COEIO1===e&&r.isBetween(o,s)})})},n.prototype.masquerFlash=function(e){this.phantomAgent.Aide.MemoriserEtape(e)},n.$inject=["$injector","$q",e.ServiceNames.Contexte],n}(e.FrameworkService);e.CommonService=t,e.app.service(e.ServiceNames.Common,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(t){function n(e,n){t.call(this,e),this.$q=n}return __extends(n,t),n.prototype.createNewContext=function(t){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"createNewContext";var n=this.phantomAgent.ContexteClient.nouveauContexte(e.EdsUtils.getIdentifiantPersonne(t));return n},n.prototype.deleteAllContexts=function(){var e=this;if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"deleteAllContexts";var t=this.phantomAgent.ContexteClient.getContextes();t.forEach(function(t){e.phantomAgent.ContexteClient.detruireContexte(t)||console.warn("contexte client non supprimé, id=",t)})},n.prototype.getAttachedProcessIdFromContext=function(e){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"deleteAllContexts";return this.phantomAgent.ContexteClient.getProcessusDuContexte(e)},n.prototype.getIdClient=function(){if(this.phantomAgent)throw this.NON_GEREE+"getIdClient";return this.$q.when((this.serviceAgent||this.techAgent).ContexteClient.getClient())},n.prototype.setIdClient=function(t){if(this.phantomAgent)throw this.NON_GEREE+"setIdClient";return this.$q.when((this.serviceAgent||this.techAgent).ContexteClient.setClient(e.EdsUtils.getIdentifiantPersonne(t)))},n.prototype.getIdClientFromContext=function(e){if(this.serviceAgent)throw this.NON_GEREE+"getIdClientFromContext";return this.phantomAgent?this.$q.when(this.phantomAgent.ContexteClient.getClientDuContexte(e)):this.techAgent.ContexteClientTechAgent.getDetailsContexte(e).then(function(e){return e.idClient})},n.prototype.getAllIdClients=function(){var e=this;return this.phantomAgent?this.$q.when(this.phantomAgent.ContexteClient.getContextes()).then(function(t){return _.map(t,function(t){return e.phantomAgent.ContexteClient.getClientDuContexte(t)})}):this.$q.when((this.serviceAgent||this.techAgent).ContexteClient.getContextesParClients())},n.prototype.getAllIdContextes=function(){if(this.serviceAgent)throw this.NON_GEREE+"getAllIdContextes";return this.phantomAgent?this.$q.when(this.phantomAgent.ContexteClient.getContextes()):this.$q.when(this.techAgent.ContexteClientTechAgent.getContextes())},n.prototype.setContextMode=function(e,t){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"setContextMode";this.phantomAgent.ContexteClient.setModeDuContexte(e,t)},n.prototype.getContextByIdClient=function(t){var n=this,i=e.EdsUtils.getIdentifiantPersonne(t);if(this.phantomAgent){var r;return this.getAllIdContextes().then(function(e){return r=e,n.$q.all(r.map(function(e){return n.getIdClientFromContext(e)}))}).then(function(e){var t=_.find(r,function(t,n){return e[n]===i});return n.getContextProperty(t)})}return this.$q.when((this.serviceAgent||this.techAgent).ContexteClient.getContenu(i))},n.prototype.getContextById=function(e){if(this.serviceAgent)throw this.NON_GEREE+"getContextById";return this.$q.when(this.getContextProperty(e))},n.prototype.getProperty=function(e){if(this.phantomAgent)throw this.NON_GEREE+"getProperty";return this.$q.when((this.serviceAgent||this.techAgent).ContexteClient.getProperty(e))},n.prototype.setProperty=function(e,t){if(this.phantomAgent)throw this.NON_GEREE+"setProperty";return this.$q.when((this.serviceAgent||this.techAgent).ContexteClient.setProperty(e,t))},n.prototype.getContextProperty=function(e,t){if(this.serviceAgent)throw this.NON_GEREE+"getContextProperty";return this.phantomAgent?this.$q.when(this.phantomAgent.ContexteClient.getProprieteDuContexte(e,t)):this.$q.when(this.techAgent.ContexteClientTechAgent.getPropertyOfContexteSpecifique(e,t))},n.prototype.setContextProperty=function(e,t,n){return e?this.techAgent||this.serviceAgent?this.$q.when((this.serviceAgent||this.techAgent).ContexteClient.setProperty(e,t)):this.$q.when(this.phantomAgent.ContexteClient.setProprieteDuContexte(n,e,t)):this.$q.when()},n.$inject=["$injector","$q"],n}(e.FrameworkService);e.ContexteClientService=t,e.app.service(e.ServiceNames.ContexteClient,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(e){function t(t,n){e.call(this,t),this.$q=n,this.CONTEXT_KEY_AUTHENTIFICATION_INFO="AuthentificationInfo",this.CONTEXT_KEY_PARAMETRES_COMPTABLES="ParametresComptables"}return __extends(t,e),t.prototype.getAuthentificationInfo=function(){return this.phantomAgent?this.$q.when(this.phantomAgent.Context.GetAuthentificationInfo()):(this.serviceAgent||this.techAgent).getAuthentificationInfo()},t.prototype.setAuthentificationInfo=function(e){if(this.serviceAgent)throw this.NON_GEREE+"setAuthentificationInfo";return this.addToGlobalContext(this.CONTEXT_KEY_AUTHENTIFICATION_INFO,JSON.stringify(e))},t.prototype.getParametresComptables=function(){return this.phantomAgent?this.getFromContext(this.CONTEXT_KEY_PARAMETRES_COMPTABLES).then(function(e){return e?JSON.parse(e):null}):this.$q.when((this.serviceAgent||this.techAgent).getParametresComptables())},t.prototype.setParametresComptables=function(e){if(this.serviceAgent)throw this.NON_GEREE+"setParametresComptables";return this.addToGlobalContext(this.CONTEXT_KEY_PARAMETRES_COMPTABLES,JSON.stringify(e))},t.prototype.getFromContext=function(e){return this.phantomAgent?this.$q.when(this.phantomAgent.Context.GetFromContext(e)):this.$q.when((this.serviceAgent||this.techAgent).getFromContext(e))},t.prototype.addToGlobalContext=function(e,t){if(this.phantomAgent)return this.$q.when(this.phantomAgent.Context.AddToContext("global",e,t));if(this.techAgent)return this.$q.when(this.techAgent.AddToGlobalContext([{Key:e,Value:t}]));throw this.NON_GEREE+"addToGlobalContext"},t.prototype.addToSharedContext=function(e,t){if(this.phantomAgent)throw this.NON_GEREE+"addToSharedContext";return this.$q.when((this.serviceAgent||this.techAgent).Context.AddToSharedContext(e,t))},t.prototype.addListToGlobalContext=function(e){var t=this;if(this.techAgent)throw this.NON_GEREE+"addListToGlobalContext";return this.$q.all(_.map(e,function(e,n){return t.addToGlobalContext(n,e)}))},t.prototype.addToContext=function(e,t){if(this.phantomAgent)throw this.NON_GEREE+"addToContext (le contexte process n'est pas disponible)";return this.$q.when((this.serviceAgent||this.techAgent).addToContext(e,t))},t.prototype.addListToContext=function(e){var t=this;if(this.phantomAgent)throw this.NON_GEREE+"addListToContext (le contexte process n'est pas disponible)";return this.$q.all(_.map(e,function(e,n){return t.addToContext(n,e)}))},t.$inject=["$injector","$q"],t}(e.FrameworkService);e.ContexteService=t,e.app.service(e.ServiceNames.Contexte,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(e){function t(t,n){e.call(this,t),this.$q=n}return __extends(t,e),t.prototype.afficherUrl=function(e,t){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"afficherUrl";return this.$q.when(this.phantomAgent.Display.AfficherUrl(e,t))},t.prototype.setFermerModalMessage=function(e){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"onFermerModalMessage";this.phantomAgent.Display.onFermerModalMessage=e},t.prototype.setAffichageModalMessage=function(e){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"onAffichageModalMessage";this.phantomAgent.Display.onAffichageModalMessage=e},t.prototype.setAffichageModalAide=function(e){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"onAffichageModalAide";this.phantomAgent.Display.onAffichageModalAide=e},t.$inject=["$injector","$q"],t}(e.FrameworkService);e.DisplayService=t,e.app.service(e.ServiceNames.Display,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict"}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(t){function n(e,n,i,r){t.call(this,e),this.$q=n,this.contexteService=i,this.commonService=r}return __extends(n,t),n.prototype.chargerHabilitations=function(){if(this.phantomAgent)return this.$q.when(this.phantomAgent.Habilitation.ChargerHabilitations());if(this.techAgent)return this.$q.when(this.techAgent.HabilitationTechAgent.ChargerHabilitations());throw this.NON_GEREE+"chargerHabilitations"},n.prototype.chargerHabilitationsCultureNet=function(){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"chargerHabilitationsCultureNet";return this.$q.when(this.phantomAgent.Habilitation.chargerHabilitationsTypee(2,!0))},n.prototype.chargerHabilitationsIAM=function(){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"chargerHabilitationsIAM";return this.$q.when(this.phantomAgent.Habilitation.chargerHabilitationsTypee(1,!0))},n.prototype.modifierHabilitation=function(e,t){if(this.phantomAgent)return this.$q.when(MyWay.Services.ServiceManager.Instance().Library.Habilitation.ModifierHabilitation(e,t));if(this.techAgent)return this.$q.when(this.techAgent.HabilitationTechAgent.ModifierHabilitation(e,t));throw this.NON_GEREE+"modifierHabilitation"},n.prototype.estHabilite=function(e){return"string"==typeof e?this.$q.when((this.phantomAgent||this.serviceAgent||this.techAgent).Habilitation.EstHabilite([e])).then(function(e){return e[0]}):this.$q.when((this.phantomAgent||this.serviceAgent||this.techAgent).Habilitation.EstHabilite(e))},n.prototype.estHabiliteKV=function(e){return this.estHabilite(e).then(function(t){for(var n={},i=0;i<e.length;i++)n[e[i]]=t[i];return n})},n.prototype.loadHabilitationsCommunautaires=function(){var e,t=this;return this.commonService.getInfosCaisse().then(function(n){return e=n,t.getRubriquesCultureNet("Communaute")}).then(function(n){var i=[];return n.forEach(function(n){var r=!0;null!=n.sitesInclus&&n.sitesInclus.length?r=-1!==n.sitesInclus.indexOf(e.sigle):null!=n.sitesExclus&&n.sitesExclus.length&&(r=-1===n.sitesExclus.indexOf(e.sigle)),i.push(t.modifierHabilitation(n.sigle,r))}),t.$q.all(i)})},n.prototype.getRubriquesCultureNet=function(e){var t=this;return this.contexteService.getAuthentificationInfo().then(function(n){var i={codeEtablissement:n.codeEtablissement,origineRubrique:e};return t.commonService.sendRequest({url:"http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/habilitation/v2/listeRubriqueCNet/listeRubrique",method:MyWay.Services.MethodEnum.GET,params:i,withHeaders:!0})})},n.$inject=["$injector","$q",e.ServiceNames.Contexte,e.ServiceNames.Common],n}(e.FrameworkService);e.HabilitationService=t,e.app.service(e.ServiceNames.Habilitation,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(t){function n(e,n,i){t.call(this,e),this.$q=n,this.contexteService=i}return __extends(n,t),n.prototype.next=function(e){if(this.phantomAgent)throw this.NON_GEREE+"next";return this.$q.when((this.serviceAgent||this.techAgent).Lisa.Next(e))},n.$inject=["$injector","$q",e.ServiceNames.Contexte],n}(e.FrameworkService);e.LisaService=t,e.app.service(e.ServiceNames.Lisa,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(t){function n(e,n,i){t.call(this,e),this.$q=n,this.contexteService=i}return __extends(n,t),n.prototype.envoyerMail=function(e){return this.$q.when((this.serviceAgent||this.techAgent||this.phantomAgent).Communication.envoyerMail(e))},n.$inject=["$injector","$q",e.ServiceNames.Contexte],n}(e.FrameworkService);e.MailService=t,e.app.service(e.ServiceNames.Mail,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(t){function n(e,n,i){t.call(this,e),this.$q=n,this.logger=i}return __extends(n,t),n.prototype.getInfoMachine=function(){return this.phantomAgent?MyWay.Services.ServiceManager.Instance().Library.Mobilite.getInfoMachine():this.$q.when((this.serviceAgent||this.techAgent).Mobilite.getInfoMachine())},n.prototype.getPeripheriques=function(){return this.phantomAgent?MyWay.Services.ServiceManager.Instance().Library.Mobilite.getPeripheriques():this.$q.when((this.serviceAgent||this.techAgent).Mobilite.getPeripheriques())},n.prototype.getTablettesSignature=function(){return this.phantomAgent?MyWay.Services.ServiceManager.Instance().Library.Mobilite.getTablettesSignature():this.$q.when((this.serviceAgent||this.techAgent).Mobilite.getTablettesSignature())},n.prototype.getCaissesAuto=function(){return this.phantomAgent?MyWay.Services.ServiceManager.Instance().Library.Mobilite.getCaissesAuto():this.$q.when((this.serviceAgent||this.techAgent).Mobilite.getCaissesAuto())},n.prototype.getReseau=function(){return this.phantomAgent?MyWay.Services.ServiceManager.Instance().Library.Mobilite.getReseau():this.$q.when((this.serviceAgent||this.techAgent).Mobilite.getReseau())},n.prototype.getCapacite=function(e){return this.phantomAgent?MyWay.Services.ServiceManager.Instance().Library.Capacites.getCapacite(e):this.$q.when((this.serviceAgent||this.techAgent).Capacites.getCapacite(e))},n.prototype.getTypePortail=function(){return this.typePortailPromise||(this.typePortailPromise=this.getCapacite(0)),this.typePortailPromise.then(function(e){return e?2:1})["catch"](function(e){return 2})},n.prototype.isPCM=function(){return this.getTypePortail().then(function(e){return 2===e})},n.prototype.isPortailMobilite=function(){return this.getTypePortail().then(function(e){return 1===e})},n.prototype.getPlateformes=function(){var e=[{id:1,code:"M",libelle:"MySys"},{id:2,code:"W",libelle:"Windows"},{id:3,code:"I",libelle:"Apple (iOS)"},{id:4,code:"A",libelle:"Android (Linux)"},{id:99,code:"99",libelle:"Autres"}];return this.$q.when(e)},n.prototype.getReseaux=function(){var e=[{id:99,libelle:"Connecté"},{id:0,libelle:"Déconnecté"},{id:30,libelle:"Filaire"},{id:10,libelle:"VPN"},{id:20,libelle:"WIFI agence"}];return this.$q.when(e)},n.prototype.getInfosMobilite=function(){return this.$q.all([this.getReseau()["catch"](function(){return null}),this.getCapacite(6)["catch"](function(){return null}),this.getInfoMachine()["catch"](function(){return null}),this.getPlateformes()["catch"](function(){return null})]).then(function(e){var t={typeReseau:e[0],ecranCompatibleMyway:e[1],infoMachine:e[2],plateformes:e[3]};return t.plateforme=_.find(t.plateformes,function(e){return e.id===t.infoMachine.plateforme}),t})},n.$inject=["$injector","$q",e.ServiceNames.Logger],n}(e.FrameworkService);e.MobiliteService=t,e.app.service(e.ServiceNames.Mobilite,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(e){function t(t,n){e.call(this,t),this.$q=n}return __extends(t,e),t.prototype.getCurrentProcessId=function(){if(this.phantomAgent)throw this.NON_GEREE+"getCurrentProcessId";return this.$q.when((this.serviceAgent||this.techAgent).Context.GetCurrentProcessId())},Object.defineProperty(t.prototype,"step",{get:function(){if(this.phantomAgent)throw this.NON_GEREE+"step";return(this.serviceAgent||this.techAgent).Step},enumerable:!0,configurable:!0}),t.prototype.startApplication=function(e){return this.$q.when((this.serviceAgent||this.techAgent||this.phantomAgent).Application.Demarrer(e))},t.prototype.startProcess=function(e,t,n,i){if(!this.techAgent){if(this.phantomAgent)return this.$q.when(this.phantomAgent.Lisa.StartProcess(e,t,n,i));throw this.NON_GEREE+"startProcess"}this.$q.when((this.serviceAgent||this.techAgent).LisaTechAgent.StartProcess(e,n,i))},t.prototype.stopProcess=function(e){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"stopProcess";return this.$q.when(this.phantomAgent.Context.TerminerProcess(e))},t.prototype.switchProcess=function(e){if(this.techAgent||this.serviceAgent)throw this.NON_GEREE+"switchProcess";return this.$q.when(this.phantomAgent.Context.BasculerProcess(e))},t.prototype.changeMainProcessName=function(e){if(this.phantomAgent)throw this.NON_GEREE+"changeMainProcessName";return this.$q.when((this.serviceAgent||this.techAgent).Context.ChangeMainProcessName(e))},t.$inject=["$injector","$q"],t}(e.FrameworkService);e.ProcessusService=t,e.app.service(e.ServiceNames.Processus,t)}(t=e.core||(e.core={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){"use strict";var t=function(t){function n(e,n,i){t.call(this,e),this.$q=n,this.contexteService=i}return __extends(n,t),Object.defineProperty(n.prototype,"trace",{get:function(){return(this.phantomAgent||this.serviceAgent||this.techAgent).Trace},enumerable:!0,configurable:!0}),n.prototype.debug=function(e,t,n){this.trace.debug(e,t,n)},n.prototype.info=function(e,t,n){this.trace.info(e,t,n)},n.prototype.warning=function(e,t,n){this.trace.warning(e,t,n)},n.prototype.error=function(e,t,n){this.trace.error(e,t,n)},n.$inject=["$injector","$q",e.ServiceNames.Contexte],
n}(e.FrameworkService);e.TraceService=t,e.app.service(e.ServiceNames.Trace,t)}(t=e.core||(e.core={}))}(myway||(myway={})),angular.module("myway.core-api").run(["$templateCache",function(e){e.put("typescript/erreur/erreur.html",'<div>\r\n    <div class="modal-header">\r\n        <h1 id="mw-modal-entete" class="modal-title" aria-hidden="true" ng-bind="::ctrl.infos.title"></h1>\r\n    </div>\r\n    <div id="mw-modal-corps" class="modal-body texte-gros row">\r\n        <div class="col-sm-1 modal-icon">\r\n            <span class="icon" aria-hidden="true" ng-class="::ctrl.infos.icone"></span>\r\n        </div>\r\n        <div class="col-sm-11">\r\n            <p ng-bind-html="::ctrl.infos.bodyText"></p>\r\n            <button id="btn-details" class="btn btn-default" ng-hide="ctrl.afficherDetails || !ctrl.infos.erreur" ng-click="ctrl.afficherDetails = true">Afficher les détails</button>\r\n            <pre ng-show="ctrl.afficherDetails" ng-bind="::ctrl.infos.erreur.stack || ctrl.infos.erreur | json"></pre>\r\n        </div>\r\n    </div>\r\n    <div id="mw-modal-pied" class="modal-footer">\r\n        <div ng-class="{ \'col-md-12\' : ctrl.infos.size == \'sm\', \'col-md-offset-9 col-md-3\': ctrl.infos.size != \'sm\'}">\r\n            <button id="btn-fermer" class="btn btn-primary" ng-show="ctrl.infos.bouton.text && !ctrl.infos.hideButton" ng-click="ctrl.fermer()" ng-bind="::ctrl.infos.bouton.text" aria-label="Fermeture modale d\'erreur"></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n')}]);