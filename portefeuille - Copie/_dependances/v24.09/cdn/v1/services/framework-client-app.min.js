var MyWay;!function(e){!function(e){"use strict";var o=function(e,r,n){this.codeLibelle=e,this.valeurs=r,this.causes=n};e.Erreur=o;var r=function(){function e(e){this.innerService=e}return e.prototype.all=function(e){return this.innerService.all(e)},e.prototype.defer=function(r){return new n(this.innerService.defer(),function(e){r&&r(e)})},e.prototype.reject=function(e){return this.innerService.reject(e)},e.prototype.when=function(e){return this.innerService.when(e)},e}();e.MonServiceDePromesse=r;var t=function(){function e(e,r){this.innerPromesse=e,this.erreurCallback=r,this._catchHappened=!1}return e.prototype.then=function(e,r,n){return this.innerPromesse.then(e,r,n)},e.prototype.catch=function(e){return this._catchHappened=!0,this.innerPromesse.catch(e)},e.prototype.finally=function(e){return!this._catchHappened&&this.erreurCallback&&this.erreurCallback(this.lastReason),this.innerPromesse.finally(e)},e}();e.MaPromesse=t;var n=function(){function e(e,r){var n=this;this.innerDeferred=e,this.erreurCallback=r,this.resolve=function(e){return n.innerDeferred.resolve(e)},this.reject=function(e){return n.promesse.lastReason=e,n.innerDeferred.reject(e)},this.notify=function(e){return n.innerDeferred.notify(e)},this.promesse=new t(this.innerDeferred.promise,this.erreurCallback)}return Object.defineProperty(e.prototype,"promise",{get:function(){return this.promesse},enumerable:!0,configurable:!0}),e}();e.MonDeferred=n;var s=function(){function s(){}return s.getServiceDePromesse=function(){return s.ServiceDePromesse||(s.ServiceDePromesse="undefined"!=typeof angular?new r(angular.injector(["ng"]).get("$q")):(console.debug("[Framework Technique MyWay - Promesses - init] Angular n'est pas disponible"),new r(Q))),s.ServiceDePromesse},s.getPromesseSelfResoved=function(){if(!s.promesseSelfResolved){var e=s.getServiceDePromesse().defer();e.resolve(),s.promesseSelfResolved=e.promise}return s.promesseSelfResolved},s.createPromiseSelfResolved=function(e){var r=s.getServiceDePromesse().defer();return r.resolve(e),r.promise},s.createPromiseSelfError=function(e){var r=s.getServiceDePromesse().defer();return r.reject(e),r.promise},s.promesseTryCatch=function(e,r){var n=s.getServiceDePromesse().defer();try{e(n)}catch(e){r?r(e,n):n.reject(e)}return n.promise},s.prototype.promesseTryCatch=function(e,r){return s.promesseTryCatch(e,r)},s.executePromisesSequentially=function(t){return s.promesseTryCatch(function(r){var n=function(e){try{if(t.length<=e)return void r.resolve();t[e]().then(function(){n(e+1)},function(e){r.reject(e)})}catch(e){r.reject(new o(e))}};n(0)})},s.executePromisesSimultaneous=function(r){return s.promesseTryCatch(function(e){s.getServiceDePromesse().all(r).then(function(){e.resolve()},e.reject)})},s.all=function(e){return s.getServiceDePromesse().all(e)},s.executePromisesSimultaneousAndWaitAllResolves=function(e){var r=[];return e.forEach(function(e){r.push(s.promesseTryCatch(function(r){e.then(function(e){r.resolve({result:e,isError:!1})},function(e){r.resolve({result:e,isError:!0})})}))}),s.getServiceDePromesse().all(r).then(function(e){e.forEach(function(e){if(e.isError)throw e.result})})},s.promesseSelfResolved=null,s}();e.Promesses=s}(e.Services||(e.Services={}))}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-promesses.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();!function(e){var t,r,n;t=e.Services||(e.Services={}),r=t.Loggers||(t.Loggers={}),(n=r.LEVEL||(r.LEVEL={}))[n.DEBUG="DEBUG"]="DEBUG",n[n.INFO="INFO"]="INFO",n[n.WARN="WARN"]="WARN",n[n.ERROR="ERROR"]="ERROR",n[n.NONE="NONE"]="NONE"}(MyWay||(MyWay={})),function(e){var t,a,r;t=e.Services||(e.Services={}),a=t.Loggers||(t.Loggers={}),r=function(){function i(){this.isInit=!1,this.LOGGER_ACTUEL=null,this.appenders={},this.waitingAppenders={}}return Object.defineProperty(i,"INSTANCE",{get:function(){return i._INSTANCE||(i._INSTANCE=new i),i._INSTANCE},enumerable:!0,configurable:!0}),i.prototype.declareAppender=function(e,t){this.appenders[e]=t,this.waitingAppenders[e]&&(this.waitingAppenders[e].forEach(function(e){e.setInternalAppender(t)}),delete this.waitingAppenders[e])},i.prototype.getClassByName=function(e){var t=window;return e.split(".").forEach(function(e){t=t[e]}),t},i.prototype.getClass=function(e){return a.loggersParNom[e]?a.loggersParNom[e]:new a.Logger(e)},i.prototype.addAppender=function(e){var t=this.appenders[e.class];if(t){var r=new t(e.type,e.level,e.config);a.appenders.push(r)}else{var n=new a.WaitingAppender(e.type,e.level,e.config);this.waitingAppenders[e.class]||(this.waitingAppenders[e.class]=[]),this.waitingAppenders[e.class].push(n),a.appenders.push(n)}},i.prototype.addLogger=function(e){var r={name:e.name,level:e.level,appenders:[]};e.appenders.forEach(function(t){a.appenders.forEach(function(e){e.name===t&&r.appenders.push(e)})}),a.categories.push(r)},i.prototype.appenderToConfigAppender=function(e){return{class:e.class,config:e.getConfig(),level:e.level,type:e.name}},i.prototype.loggerToConfigLogger=function(e){var t=[];return e.appenders.forEach(function(e){t.push(e.name)}),{appenders:t,level:e.level,name:e.name}},i.prototype.rechargerConfigurationsLoggers=function(){for(var e in a.loggersParNom)a.loggersParNom[e].verifierNiveauMinimum()},i.prototype.setConfigActual=function(e){var t=this;a.appenders=[],a.categories=[],e.appenders.forEach(function(e){t.addAppender(e)}),e.loggers.forEach(function(e){t.addLogger(e)}),this.isInit=!0,this.rechargerConfigurationsLoggers()},i.prototype.setConfigDB=function(e,t){localStorage.setItem("logger."+e+".config",JSON.stringify(t))},i.prototype.getConfigurationActual=function(){var t=this,r={appenders:[],loggers:[]};return a.appenders.forEach(function(e){r.appenders.push(t.appenderToConfigAppender(e))}),a.categories.forEach(function(e){r.loggers.push(t.loggerToConfigLogger(e))}),r},i.prototype.getConfigurationDB=function(e){return JSON.parse(localStorage.getItem("logger."+e+".config"))},i.prototype.saveConfiguration=function(e){var t=this.getConfigurationActual();localStorage.setItem("logger."+e+".config",JSON.stringify(t)),localStorage.setItem("logger."+e+".version","1"),this.LOGGER_ACTUEL=e},i.prototype.loadConfiguration=function(e){var t="";if(t=a.DEFAULT_CONFIGURATION_PORTAIL?"portail_":"agent_",!e)if(localStorage.getItem(t+"loggerActuel.name"))e=localStorage.getItem(t+"loggerActuel.name");else if(a.DEFAULT_CONFIGURATION_PORTAIL)e=i.LOGGER_PORTAIL;else{if(!a.DEFAULT_CONFIGURATION_AGENTS)throw"Aucune configuration de LOG trouvée";e=i.LOGGER_AGENTS}var r=localStorage.getItem("logger."+e+".config");if(r){var n=localStorage.getItem("logger."+e+".version");if("1"!==n)switch(e){case i.LOGGER_PORTAIL:this.setConfigActual(a.DEFAULT_CONFIGURATION_PORTAIL),this.LOGGER_ACTUEL=i.LOGGER_PORTAIL,e=i.LOGGER_PORTAIL;break;case i.LOGGER_AGENTS:this.setConfigActual(a.DEFAULT_CONFIGURATION_AGENTS),this.LOGGER_ACTUEL=i.LOGGER_AGENTS,e=i.LOGGER_AGENTS;break;default:throw"La configuration "+e+" est en version "+n+" alors que les logs sont en version 1 maximum"}else{var o=JSON.parse(r);this.setConfigActual(o),this.LOGGER_ACTUEL=e}}else switch(e){case i.LOGGER_PORTAIL:this.setConfigActual(a.DEFAULT_CONFIGURATION_PORTAIL),this.LOGGER_ACTUEL=i.LOGGER_PORTAIL,e=i.LOGGER_PORTAIL;break;case i.LOGGER_AGENTS:this.setConfigActual(a.DEFAULT_CONFIGURATION_AGENTS),this.LOGGER_ACTUEL=i.LOGGER_AGENTS,e=i.LOGGER_AGENTS;break;default:if(a.DEFAULT_CONFIGURATION_PORTAIL)this.setConfigActual(a.DEFAULT_CONFIGURATION_PORTAIL),this.LOGGER_ACTUEL=i.LOGGER_PORTAIL,e=i.LOGGER_PORTAIL;else{if(!a.DEFAULT_CONFIGURATION_AGENTS)throw"Impossible de charger une configuration de log";this.setConfigActual(a.DEFAULT_CONFIGURATION_AGENTS),this.LOGGER_ACTUEL=i.LOGGER_AGENTS,e=i.LOGGER_AGENTS}}localStorage.setItem(t+"loggerActuel.name",e)},i.prototype.getNomConfigActuelle=function(){return this.LOGGER_ACTUEL},i.prototype.getAllLogggersNames=function(){var e=[];e.push(i.LOGGER_PORTAIL),e.push(i.LOGGER_AGENTS);for(var t=localStorage.length;t--;){var r=localStorage.key(t),n=/^logger\.([^.]+)\.config$/.exec(r);if(n){var o=n[1];o!==i.LOGGER_PORTAIL&&o!==i.LOGGER_AGENTS&&e.push(o)}}return e},i.prototype.supprimerConfiguration=function(e){localStorage.removeItem("logger."+e+".config"),localStorage.removeItem("logger."+e+".version")},i.prototype.clearConfigurations=function(){var t=this;localStorage.removeItem("portail_loggerActuel.name"),localStorage.removeItem("agent_loggerActuel.name"),this.getAllLogggersNames().forEach(function(e){t.supprimerConfiguration(e)})},i.LOGGER_PORTAIL="portail",i.LOGGER_AGENTS="agent",i._INSTANCE=null,i}(),a.LoggerFactory=r}(MyWay||(MyWay={})),function(e){var r;(function(a){a.appenders=[],a.categories=[],a.loggers=[],a.loggersParNom={};var e=function(){function e(){}return Object.defineProperty(e,"INSTANCE",{get:function(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE},enumerable:!0,configurable:!0}),e.prototype.testLevel=function(e,t){if(r.PrivatePortalServiceParameters&&r.PrivatePortalServiceParameters.Instance()&&r.PrivatePortalServiceParameters.Instance().ModeDebug)return!0;switch(t){case a.LEVEL.DEBUG:if(e===a.LEVEL.DEBUG)return!0;case a.LEVEL.INFO:if(e===a.LEVEL.INFO)return!0;case a.LEVEL.WARN:if(e===a.LEVEL.WARN)return!0;case a.LEVEL.ERROR:if(e===a.LEVEL.ERROR)return!0}return!1},e.prototype.getAppenders=function(r){for(var n=[],o={},e=a.categories.length;e--;){var i=a.categories[e];i.appenders.forEach(function(e){if("*"===i.name||new RegExp("^"+i.name.replace(".","\\.")).test(r))if(o[e.name]){if(o[e.name].packagename.length>i.name.length)return;o[e.name].levelMin=i.level,o[e.name].packagename=i.name}else{var t={appender:e,levelMin:i.level,packagename:i.name};o[e.name]=t,n.push(t)}})}return n},e.prototype.getContext=function(){var e=a.MDC.INSTANCE.getAll(),t=a.FLASH.INSTANCE.getAll();for(var r in t)e[r]=t[r];return e},e._INSTANCE=null,e}();a.LoggerHelper=e})((r=e.Services||(e.Services={})).Loggers||(r.Loggers={}))}(MyWay||(MyWay={})),function(e){var t,i,r;t=e.Services||(e.Services={}),i=t.Loggers||(t.Loggers={}),r=function(){function e(e){this.packageName=null,this.levelMinimum=i.LEVEL.DEBUG,this.appenders=[],this._cache=[],this.packageName=e,i.loggers.push(this),(i.loggersParNom[e]=this).verifierNiveauMinimum()}return e.prototype.internalLog=function(e,t,r){var n=i.FLASH.INSTANCE.getValue("dateLog");n||(n=new Date);var o={arguments:r,context:i.LoggerHelper.INSTANCE.getContext(),date:n.getTime(),message:t,niveau:e,packageName:this.packageName};i.LoggerFactory.INSTANCE.isInit?this.tracer(o):this._cache.push(o)},e.prototype.tracer=function(t){i.LoggerHelper.INSTANCE.testLevel(t.niveau,this.levelMinimum)&&this.appenders.forEach(function(e){e.appender.append(t)})},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.internalLog(i.LEVEL.DEBUG,e,t)},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.internalLog(i.LEVEL.INFO,e,t)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.internalLog(i.LEVEL.WARN,e,t)},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.internalLog(i.LEVEL.ERROR,e,t)},e.prototype.verifierNiveauMinimum=function(){var t=this;this.appenders=i.LoggerHelper.INSTANCE.getAppenders(this.packageName),this.levelMinimum=null,this.appenders.forEach(function(e){(null===t.levelMinimum||i.LoggerHelper.INSTANCE.testLevel(t.levelMinimum,e.levelMin))&&(t.levelMinimum=e.levelMin)}),this.clearCache()},e.prototype.clearCache=function(){var t=this;i.LoggerFactory.INSTANCE.isInit&&this._cache&&0<this._cache.length&&(this._cache.forEach(function(e){t.tracer(e)}),this._cache=[])},e}(),i.Logger=r}(MyWay||(MyWay={})),function(e){var t,r,n;t=e.Services||(e.Services={}),r=t.Loggers||(t.Loggers={}),n=function(){function e(){this.mdc={},this.stringify=null}return Object.defineProperty(e,"INSTANCE",{get:function(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE},enumerable:!0,configurable:!0}),e.prototype.setValue=function(e,t){if(void 0!==t)this.mdc[e]=t;else{if(!this.mdc[e])return;delete this.mdc[e]}this.stringify=null},e.prototype.getValue=function(e){return this.mdc[e]},e.prototype.remove=function(e){delete this.mdc[e],this.stringify=null},e.prototype.getAll=function(){return null===this.stringify&&(this.stringify=JSON.stringify(this.mdc)),JSON.parse(this.stringify)},e._INSTANCE=null,e}(),r.MDC=n}(MyWay||(MyWay={})),function(e){var t,r,n;t=e.Services||(e.Services={}),r=t.Loggers||(t.Loggers={}),n=function(){function e(){this.flash={}}return Object.defineProperty(e,"INSTANCE",{get:function(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE},enumerable:!0,configurable:!0}),e.prototype.setValue=function(e,t){void 0!==t?this.flash[e]=t:delete this.flash[e]},e.prototype.getValue=function(e){var t=this.flash[e];return delete this.flash[e],t},e.prototype.setAll=function(e){this.flash=e},e.prototype.getAll=function(){var e=JSON.parse(JSON.stringify(this.flash));return this.flash={},e},e._INSTANCE=null,e}(),r.FLASH=n}(MyWay||(MyWay={})),function(e){var t,r,n,o;t=e.Services||(e.Services={}),r=t.Loggers||(t.Loggers={}),n=r.Appenders||(r.Appenders={}),o=function(){function e(e,t,r,n){this.name=e,this.level=r,this.config=n,this.class=null,this.class=t}return e.prototype.getConfig=function(){return this.config},e.prototype.append=function(e){return!!r.LoggerHelper.INSTANCE.testLevel(e.niveau,this.level)&&(this.onAppend(e),!0)},e.prototype.onAppend=function(e){throw'La méthode "onAppend" n\'a pas été surchargée'},e}(),n.AbstractAppender=o}(MyWay||(MyWay={})),function(e){var t,a,r,n;t=e.Services||(e.Services={}),a=t.Loggers||(t.Loggers={}),r=a.Appenders||(a.Appenders={}),n=function(o){function i(e,t,r){var n=o.call(this,e,i.CLASSNAME,t,r)||this;return n.format=null,n.parse(r.format),n}return __extends(i,o),i.prototype.onAppend=function(t){var r="";switch(this.format.forEach(function(e){r+=e.format(t)}),t.niveau){case a.LEVEL.DEBUG:console.debug(r);break;case a.LEVEL.INFO:console.info(r);break;case a.LEVEL.WARN:console.warn(r);break;case a.LEVEL.ERROR:console.error(r)}},i.prototype.parse=function(e){var n=this,t=e.split(/%([^ ]+)/g);this.format=[],t.forEach(function(t){if(0!==t.length){if(/^d/.test(t)){var e=t.split(/d{([^}]+)}/);return 3!==e.length?void n.format.push(new a.Formaters.DateFormater):void n.format.push(new a.Formaters.DateFormater(e[1]))}if(/^level$/.test(t))n.format.push({format:function(e){return e.niveau.toString()}});else if(/^class/.test(t))n.format.push({format:function(e){return e.packageName?e.packageName:""}});else if(/^msg/.test(t))n.format.push(new a.Formaters.MessageFormater);else{if(/^X/.test(t)){var r=t.split(/X{([^}]+)}/);if(3===r.length)return void n.format.push({format:function(e){return e.context[r[1]]?"string"==typeof e.context[r[1]]?e.context[r[1]]:JSON.stringify(e.context[r[1]]):""}})}n.format.push({format:function(e){return t}})}}})},i.CLASSNAME="MyWay.Services.Loggers.Appenders.ConsoleAppender",i}(r.AbstractAppender),r.ConsoleAppender=n,a.LoggerFactory.INSTANCE.declareAppender(n.CLASSNAME,n)}(MyWay||(MyWay={})),function(e){var t,r,n;t=e.Services||(e.Services={}),r=t.Loggers||(t.Loggers={}),n=function(o){function i(e,t,r){var n=o.call(this,e,i.CLASSNAME,t,r)||this;return n.internalAppender=null,n.messagesEnAttente=[],n}return __extends(i,o),i.prototype.setInternalAppender=function(e){var t=this;this.internalAppender=new e(this.name,this.level,this.getConfig()),this.class=this.internalAppender.class,this.messagesEnAttente.forEach(function(e){t.internalAppender.append(e)}),this.messagesEnAttente.length=0},i.prototype.onAppend=function(e){return this.internalAppender?this.internalAppender.append(e):(this.messagesEnAttente.push(e),!0)},i.CLASSNAME="MyWay.Services.Loggers.WaitingAppender",i}(r.Appenders.AbstractAppender),r.WaitingAppender=n}(MyWay||(MyWay={})),function(e){var t,r,n,i,o;t=e.Services||(e.Services={}),r=t.Loggers||(t.Loggers={}),n=r.Formaters||(r.Formaters={}),i=function(e,t,r){for(var n=e.toString();n.length<r;)n=t+n;return n},o=function(){function e(e){this.formatter=null,this.parse(e)}return e.prototype.format=function(t){var r="";return this.formatter.forEach(function(e){r+=e(new Date(t.date))}),r},e.prototype.parse=function(r){var n=this;if(this.formatter=[],r){var e=r.split(""),o=0;e.forEach(function(t,e){if(0<o)o--;else switch(t){case"H":"H"===r.charAt(e+1)?(n.formatter.push(function(e){return i(e.getHours().toString(),"0",2)}),o=1):n.formatter.push(function(e){return e.getHours().toString()});break;case"m":"m"===r.charAt(e+1)?(n.formatter.push(function(e){return i(e.getMinutes().toString(),"0",2)}),o=1):n.formatter.push(function(e){return e.getMinutes().toString()});break;case"s":"s"===r.charAt(e+1)?(n.formatter.push(function(e){return i(e.getSeconds().toString(),"0",2)}),o=1):n.formatter.push(function(e){return e.getSeconds().toString()});break;case"S":"S"===r.charAt(e+1)&&"S"===r.charAt(e+2)?(n.formatter.push(function(e){return i(e.getMilliseconds().toString(),"0",3)}),o=2):n.formatter.push(function(e){return e.getMilliseconds().toString()});break;case"Y":"Y"===r.charAt(e+1)?o="Y"===r.charAt(e+2)&&"Y"===r.charAt(e+3)?(n.formatter.push(function(e){return i(e.getFullYear().toString(),"0",4)}),4):(n.formatter.push(function(e){return e.getFullYear().toString().substring(2,4)}),2):n.formatter.push(function(e){return parseInt(e.getFullYear().toString().substring(2,4),10).toString()});break;case"M":"M"===r.charAt(e+1)?(n.formatter.push(function(e){return i((e.getMonth()+1).toString(),"0",2)}),o=1):n.formatter.push(function(e){return(e.getMonth()+1).toString()});break;case"D":"D"===r.charAt(e+1)?(n.formatter.push(function(e){return i(e.getDate().toString(),"0",2)}),o=1):n.formatter.push(function(e){return e.getDate().toString()});break;default:n.formatter.push(function(e){return t})}})}else this.formatter.push(function(e){return e.getTime().toString()})},e}(),n.DateFormater=o}(MyWay||(MyWay={})),function(e){var t,r,n,o;t=e.Services||(e.Services={}),r=t.Loggers||(t.Loggers={}),n=r.Formaters||(r.Formaters={}),o=function(){function e(){}return e.prototype.format=function(e){if(!e.arguments||0===e.arguments.length)return e.message;var r=e.message;return e.arguments.forEach(function(e,t){r=r.replace(new RegExp("%"+(t+1),"g"),e)}),r},e}(),n.MessageFormater=o}(MyWay||(MyWay={})),function(e){var t,r,n,o;t=e.Services||(e.Services={}),r=t.Loggers||(t.Loggers={}),(n=r.Messages||(r.Messages={})).NOM_BIBLIOTHEQUE="Loggers",(o=n.TYPE||(n.TYPE={}))[o.GET_CONFIG_ACTUAL="GET_CONFIG_ACTUAL"]="GET_CONFIG_ACTUAL",o[o.SET_CONFIG_ACTUAL="SET_CONFIG_ACTUAL"]="SET_CONFIG_ACTUAL",o[o.GET_CONFIG_DB="GET_CONFIG_DB"]="GET_CONFIG_DB",o[o.SET_CONFIG_DB="SET_CONFIG_DB"]="SET_CONFIG_DB",o[o.SAVE_CONFIG="SAVE_CONFIG"]="SAVE_CONFIG",o[o.LOAD_CONFIG="LOAD_CONFIG"]="LOAD_CONFIG",o[o.GET_LOGGERS="GET_LOGGERS"]="GET_LOGGERS",o[o.GET_NOM_CONFIG_ACTUELLE="GET_NOM_CONFIG_ACTUELLE"]="GET_NOM_CONFIG_ACTUELLE",o[o.IS_CLASS_EXISTS="IS_CLASS_EXISTS"]="IS_CLASS_EXISTS",o[o.RESET="RESET"]="RESET"}(MyWay||(MyWay={})),function(e){var t,o;t=e.Services||(e.Services={}),(o=t.Loggers||(t.Loggers={})).loggerToTrace=function(n){return{debug:function(e,t,r){t&&o.FLASH.INSTANCE.setValue("action",t),r&&o.FLASH.INSTANCE.setValue("details",r),n.debug(e)},info:function(e,t,r){t&&o.FLASH.INSTANCE.setValue("action",t),r&&o.FLASH.INSTANCE.setValue("details",r),n.info(e)},warning:function(e,t,r){t&&o.FLASH.INSTANCE.setValue("action",t),r&&o.FLASH.INSTANCE.setValue("details",r),n.warn(e)},error:function(e,t,r){t&&o.FLASH.INSTANCE.setValue("action",t),r&&o.FLASH.INSTANCE.setValue("details",r),n.error(e)}}}}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-loggerbase.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),__assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};!function(e){var t=function(){function e(){}return e.NAME="Framework Technique",e.VERSION="1",e.BUILD="Local 24.02",e}();e.Framework=t}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),(n=t.Core||(t.Core={})).override=function(e,t,n){e.prototype[t],e.prototype[t]=function(){return n.apply(this,arguments)}},n.defineProperty=function(e,t,n){Object.defineProperty(e.prototype,t,{get:n.get,set:n.set,enumerable:!0,configurable:!0})}}(MyWay||(MyWay={})),function(e){var t,n,r;t=e.Services||(e.Services={}),n=t.Context||(t.Context={}),(r=n.ScopeType||(n.ScopeType={}))[r.View=1]="View",r[r.Root=2]="Root",r[r.Service=3]="Service"}(MyWay||(MyWay={})),function(e){var n;(function(e){"use strict";e.RegistryType||(e.RegistryType={});var t=function(){function e(e,t){this._components=[],this._componentsInstances=[],this._componentsInstancesByKey={},this._dependenciesInstances=null,this._registryType=e,this._dependencies=t}return e.prototype.register=function(e){this._components.push(e)},Object.defineProperty(e.prototype,"components",{get:function(){return this._components},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this._components.length=0},e.prototype.getComponentInstance=function(e){return this._componentsInstancesByKey[e]},e.prototype.getComponentsInstances=function(){return this._componentsInstances},e.prototype.getLibrary=function(){return this._componentsInstancesByKey},Object.defineProperty(e.prototype,"registryType",{get:function(){return this._registryType},enumerable:!0,configurable:!0}),e.prototype.init=function(e){this.createInstances();var t=this._componentsInstancesByKey[e];return t?this.initializeComponent(t):n.CoreCommon.getPromesseSelfResoved()},e.prototype.createInstances=function(){var n=this;this._components.forEach(function(e){var t=new e;n._componentsInstances.push(t),n._componentsInstancesByKey[t.name]=t}),this._components.length=0},Object.defineProperty(e.prototype,"dependencies",{get:function(){return this._dependencies},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dependenciesInstances",{set:function(e){this._dependenciesInstances=e},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var t=[];return this._componentsInstances.forEach(function(e){t.push(e.dispose())}),n.CoreCommon.executePromisesSimultaneous(t)},e}();e.AbstractRegistry=t})((n=e.Services||(e.Services={})).Components||(n.Components={}))}(MyWay||(MyWay={})),function(e){var t;(function(e){"use strict";e.ComponentType||(e.ComponentType={})})((t=e.Services||(e.Services={})).Components||(t.Components={}))}(MyWay||(MyWay={})),function(e){var o;(function(e){"use strict";var t=function(){function i(){this.registries=[],this.registriesByKeys={},this.dependencies=[]}return i.getInstance=function(){return null===i.INSTANCE&&(i.INSTANCE=new i),i.INSTANCE},i.prototype.reorderRegistries=function(){var t=this,n=new o.Toposort;this.registries.forEach(function(e){n.add(e.registryType,e.dependencies)});var e=n.sort();this.registries.length=0,e.forEach(function(e){t.registriesByKeys[e]&&t.registries.push(t.registriesByKeys[e])})},i.prototype.reorderComponents=function(){var t=this,n=new o.Toposort,r={};this.dependencies.forEach(function(e){r[e.name]=e,n.add(e.name,e.dependencies)});var e=n.sort();this.dependencies.length=0,e.forEach(function(e){r[e]&&t.dependencies.push(r[e])})},i.prototype.init=function(){var e=this;this.reorderRegistries(),this.reorderComponents(),this.injectDependencies();var r=[];return this.dependencies.forEach(function(n){e.registries.forEach(function(t){r.push(function(){return t.init(n.name).then(function(){},function(e){throw i.logger.debug("Registry : %1, initialisation du composant %2 => Erreur!",t.registryType,n.name),e})})})}),o.CoreCommon.executePromisesSequentially(r).then(function(){},console.error)},i.prototype.injectDependencies=function(){var i=this;this.registries.forEach(function(e){var t=e.dependencies,r=[];t.forEach(function(t){var n=null;if(i.registries.every(function(e){return e.registryType===t&&(n=e),null===n}),null===n)throw new o.Erreur("Le registry de type "+t+" n'a pas été trouvé!");r.push(n)}),e.dependenciesInstances=r})},i.prototype.dispose=function(){var t=[];return this.registries.forEach(function(e){t.push(function(){return e.dispose()})}),o.CoreCommon.executePromisesSequentially(t)},i.prototype.addRegistry=function(e){this.registries.push(e),this.registriesByKeys[e.registryType]=e},i.prototype.declareComponent=function(t,n){if(void 0===t)throw new o.Erreur("Tentative d'enregistrement de composant avant sa déclaration");n.forEach(function(e){if(void 0===e)throw new o.Erreur("Tentative d'enregistrement des dépendances du composant avant sa déclaration pour "+t+". Dependances :"+JSON.stringify(n))}),this.dependencies.push({dependencies:n,name:t})},i.prototype.getRegistryInstance=function(e){return this.registriesByKeys[e]},i.INSTANCE=null,i.CLASS_NAME="MyWay.Services.Components.FactoryRegistries",i.logger=o.Loggers.LoggerFactory.INSTANCE.getClass(i.CLASS_NAME),i}();e.FactoryRegistries=t})((o=e.Services||(e.Services={})).Components||(o.Components={}))}(MyWay||(MyWay={})),function(e){var t;(function(n){"use strict";var r;(r=n.RegistryType||(n.RegistryType={})).COMMON="COMMON";var e=function(e){function t(){return e.call(this,r.COMMON,[])||this}return __extends(t,e),t.getInstance=function(){return null===t.instance&&(t.instance=new t,n.FactoryRegistries.getInstance().addRegistry(t.instance)),t.instance},t.prototype.initializeComponent=function(e){return e.init(this._componentsInstances)},t.instance=null,t}(n.AbstractRegistry);n.RegistryCommon=e})((t=e.Services||(e.Services={})).Components||(t.Components={}))}(MyWay||(MyWay={})),function(e){var t,n,r;t=e.Services||(e.Services={}),n=t.Components||(t.Components={}),r=function(){function e(e){this._name=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.CLASS_NAMEBase="MyWay.Services.ComponentBase",e.loggerBase=t.Loggers.LoggerFactory.INSTANCE.getClass(e.CLASS_NAMEBase),e}(),n.ComponentBase=r}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),((n=t.Components||(t.Components={})).ComponentType||(n.ComponentType={})).Controle="Controle"}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),(n=t.Controle||(t.Controle={})).ControleMessageSubject||(n.ControleMessageSubject={}),t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.Controle,[])}(MyWay||(MyWay={})),function(e){var t;(function(e){var t=function(){function e(){}return e.isNotUndefinedAndNotNull=function(e){return null!=e},e}();e.StaticAnyControle=t;var n=function(){function e(){}return e.prototype.isNotUndefinedAndNotNull=function(e){return t.isNotUndefinedAndNotNull(e)},e}();e.AnyControle=n})((t=e.Services||(e.Services={})).Controle||(t.Controle={}))}(MyWay||(MyWay={})),function(e){var t;(function(e){var t=function(){function e(){}return e.isArray=function(e){return null!=e&&"[object Array]"===Object.prototype.toString.call(e)},e}();e.StaticArrayControle=t;var n=function(){function e(){}return e.prototype.isArray=function(e){return t.isArray(e)},e}();e.ArrayControle=n})((t=e.Services||(e.Services={})).Controle||(t.Controle={}))}(MyWay||(MyWay={})),function(e){var t;(function(e){var t=function(){function e(){}return e.isDate=function(e){return null!=e&&"[object Date]"===Object.prototype.toString.call(e)},e}();e.StaticDateControle=t;var n=function(){function e(){}return e.prototype.isDate=function(e){return t.isDate(e)},e}();e.DateControle=n})((t=e.Services||(e.Services={})).Controle||(t.Controle={}))}(MyWay||(MyWay={})),function(e){var t;(function(r){var n=function(){function n(){}return n.isAnEnumValueOrNullOrUndefined=function(e,t){return!r.StaticAnyControle.isNotUndefinedAndNotNull(e)||n.isAnEnumValue(e,t)},n.isAnEnumValue=function(e,t){if(r.StaticNumberControle.isInt(e)&&r.StaticObjectControle.isObject(t)){for(var n in t)if("number"==typeof t[n]&&t[n]===e)return!0;return!1}return!1},n.isAnEnumMember=function(e,t){if(r.StaticStringControle.isString(e)&&r.StaticObjectControle.isObject(t)){for(var n in t)if("number"==typeof t[n]&&n===e)return!0;return!1}return!1},n}();r.StaticEnumControle=n;var e=function(){function e(){}return e.prototype.isAnEnumValueOrNullOrUndefined=function(e,t){return n.isAnEnumValueOrNullOrUndefined(e,t)},e.prototype.isAnEnumValue=function(e,t){return n.isAnEnumValue(e,t)},e.prototype.isAnEnumMember=function(e,t){return n.isAnEnumMember(e,t)},e}();r.EnumControle=e})((t=e.Services||(e.Services={})).Controle||(t.Controle={}))}(MyWay||(MyWay={})),function(e){var t;(function(e){var t=function(){function e(){}return e.isFunction=function(e){return null!=e&&"function"==typeof e},e.isFunctionOrNull=function(e){return null===e||this.isFunction(e)},e}();e.StaticFunctionControle=t;var n=function(){function e(){}return e.prototype.isFunction=function(e){return t.isFunction(e)},e.prototype.isFunctionOrNull=function(e){return t.isFunctionOrNull(e)},e}();e.FunctionControle=n})((t=e.Services||(e.Services={})).Controle||(t.Controle={}))}(MyWay||(MyWay={})),function(e){var t;(function(e){var t=function(){function e(){}return e.isNumber=function(e){return null!=e&&"number"==typeof e},e.isInt=function(e){return!!this.isNumber(e)&&e%1==0},e}();e.StaticNumberControle=t;var n=function(){function e(){}return e.prototype.isNumber=function(e){return t.isNumber(e)},e.prototype.isInt=function(e){return t.isInt(e)},e}();e.NumberControle=n})((t=e.Services||(e.Services={})).Controle||(t.Controle={}))}(MyWay||(MyWay={})),function(e){var t;(function(n){var r=function(){function e(){}return e.isObject=function(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)},e.isObjectOrNull=function(e){return null===e||this.isObject(e)},e.isObjectOrNullOrUndefined=function(e){return void 0===e||this.isObjectOrNull(e)},e.isObjectSpecified=function(e,t){return!!n.StaticStringControle.isStringNotEmpty(t)&&null!=e&&Object.prototype.toString.call(e)==="[object "+t+"]"},e}();n.StaticObjectControle=r;var e=function(){function e(){}return e.prototype.isObject=function(e){return r.isObject(e)},e.prototype.isObjectOrNull=function(e){return r.isObjectOrNull(e)},e.prototype.isObjectOrNullOrUndefined=function(e){return r.isObjectOrNullOrUndefined(e)},e.prototype.isObjectSpecified=function(e,t){return r.isObjectSpecified(e,t)},e}();n.ObjectControle=e})((t=e.Services||(e.Services={})).Controle||(t.Controle={}))}(MyWay||(MyWay={})),function(e){var t;(function(e){var t=function(){function e(){}return e.isString=function(e){return null!=e&&"string"==typeof e},e.isStringOrNull=function(e){return null===e||this.isString(e)},e.isStringOrNullOrUndefined=function(e){return void 0===e||this.isStringOrNull(e)},e.isStringNotEmpty=function(e){return""!==e&&this.isString(e)},e.isStringNotEmptyOrNull=function(e){return""!==e&&this.isStringOrNull(e)},e.isStringNotEmptyOrNullOrUndefined=function(e){return void 0===e||this.isStringNotEmptyOrNull(e)},e}();e.StaticStringControle=t;var n=function(){function e(){}return e.prototype.isString=function(e){return t.isString(e)},e.prototype.isStringOrNull=function(e){return t.isStringOrNull(e)},e.prototype.isStringOrNullOrUndefined=function(e){return t.isStringOrNullOrUndefined(e)},e.prototype.isStringNotEmpty=function(e){return t.isStringNotEmpty(e)},e.prototype.isStringNotEmptyOrNull=function(e){return t.isStringNotEmptyOrNull(e)},e.prototype.isStringNotEmptyOrNullOrUndefined=function(e){return t.isStringNotEmptyOrNullOrUndefined(e)},e}();e.StringControle=n})((t=e.Services||(e.Services={})).Controle||(t.Controle={}))}(MyWay||(MyWay={})),function(e){var t;(function(e){var t=function(){function e(){}return e.isBoolean=function(e){return null!=e&&"[object Boolean]"===Object.prototype.toString.call(e)},e}();e.StaticBooleanControle=t;var n=function(){function e(){}return e.prototype.isBoolean=function(e){return t.isBoolean(e)},e}();e.BooleanControle=n})((t=e.Services||(e.Services={})).Controle||(t.Controle={}))}(MyWay||(MyWay={})),function(e){var t,r,i,n,o;t=e.Services||(e.Services={}),r=t.Controle||(t.Controle={}),o=function(){function e(){}return e.checkParameters=function(e){var t,n="";for(t=0;t<e.length;t++)switch(e[t].controle){case i.isNotUndefinedAndNotNull:r.StaticAnyControle.isNotUndefinedAndNotNull(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' ne doit être ni null ni undefined / ");break;case i.isArray:r.StaticArrayControle.isArray(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être un tableau / ");break;case i.isBoolean:r.StaticBooleanControle.isBoolean(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être un booléen / ");break;case i.isDate:r.StaticDateControle.isDate(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être une date / ");break;case i.isAnEnumValue:r.StaticEnumControle.isAnEnumValue(e[t].value,e[t].enumObject)||(n=n+"Le paramètre '"+e[t].name+"' doit être une valeur de l'enum '"+e[t].enumName+"' / ");break;case i.isAnEnumMember:r.StaticEnumControle.isAnEnumMember(e[t].value,e[t].enumObject)||(n=n+"Le paramètre '"+e[t].name+"' doit être un membre de l'enum '"+e[t].enumName+"' / ");break;case i.isAnEnumValueOrNullOrUndefined:r.StaticEnumControle.isAnEnumValueOrNullOrUndefined(e[t].value,e[t].enumObject)||(n=n+"Le paramètre '"+e[t].name+"' doit être une valeur de l'enum '"+e[t].enumName+"' ou null ou undefined / ");break;case i.isFunction:r.StaticFunctionControle.isFunction(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être une fonction / ");break;case i.isFunctionOrNull:r.StaticFunctionControle.isFunctionOrNull(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être une fonction ou null / ");break;case i.isNumber:r.StaticNumberControle.isNumber(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être un nombre / ");break;case i.isInt:r.StaticNumberControle.isInt(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être un nombre entier / ");break;case i.isObject:r.StaticObjectControle.isObject(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être un objet / ");break;case i.isObjectOrNull:r.StaticObjectControle.isObjectOrNull(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être un objet ou null / ");break;case i.isObjectOrNullOrUndefined:r.StaticObjectControle.isObjectOrNullOrUndefined(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être un objet ou null ou undefined / ");break;case i.isObjectSpecified:r.StaticObjectControle.isObjectSpecified(e[t].value,e[t].objectType)||(n=n+"Le paramètre '"+e[t].name+"' doit être un objet de type '"+e[t].objectType+"' / ");break;case i.isString:r.StaticStringControle.isString(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être une chaine de caractères / ");break;case i.isStringOrNull:r.StaticStringControle.isStringOrNull(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être une chaine de caractères ou null / ");break;case i.isStringOrNullOrUndefined:r.StaticStringControle.isStringOrNullOrUndefined(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être une chaine de caractères ou null ou undefined / ");break;case i.isStringNotEmpty:r.StaticStringControle.isStringNotEmpty(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être une chaine de caractères non vide / ");break;case i.isStringNotEmptyOrNull:r.StaticStringControle.isStringNotEmptyOrNull(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être une chaine de caractères non vide ou null / ");break;case i.isStringNotEmptyOrNullOrUndefined:r.StaticStringControle.isStringNotEmptyOrNullOrUndefined(e[t].value)||(n=n+"Le paramètre '"+e[t].name+"' doit être une chaine de caractères non vide ou null ou undefined / ")}return""!=n&&(n=n.substring(0,n.lastIndexOf("/")-1)),n},e}(),r.StaticParametresControle=o,(n=i=r.CONTROLES||(r.CONTROLES={}))[n.isNotUndefinedAndNotNull=0]="isNotUndefinedAndNotNull",n[n.isArray=100]="isArray",n[n.isBoolean=200]="isBoolean",n[n.isDate=300]="isDate",n[n.isAnEnumValue=400]="isAnEnumValue",n[n.isAnEnumMember=401]="isAnEnumMember",n[n.isAnEnumValueOrNullOrUndefined=402]="isAnEnumValueOrNullOrUndefined",n[n.isFunction=500]="isFunction",n[n.isFunctionOrNull=501]="isFunctionOrNull",n[n.isNumber=600]="isNumber",n[n.isInt=601]="isInt",n[n.isObject=700]="isObject",n[n.isObjectOrNull=701]="isObjectOrNull",n[n.isObjectOrNullOrUndefined=702]="isObjectOrNullOrUndefined",n[n.isObjectSpecified=703]="isObjectSpecified",n[n.isString=800]="isString",n[n.isStringOrNull=801]="isStringOrNull",n[n.isStringOrNullOrUndefined=802]="isStringOrNullOrUndefined",n[n.isStringNotEmpty=803]="isStringNotEmpty",n[n.isStringNotEmptyOrNull=804]="isStringNotEmptyOrNull",n[n.isStringNotEmptyOrNullOrUndefined=805]="isStringNotEmptyOrNullOrUndefined"}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),((n=t.Components||(t.Components={})).ComponentType||(n.ComponentType={})).Message="Message",n.FactoryRegistries.getInstance().declareComponent(n.ComponentType.Message,[])}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),(n=t.CommonEventType||(t.CommonEventType={}))[n.BriqueCommunication=1]="BriqueCommunication"}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),n=function(){function e(){if(e._instance)throw new Error("Error: Instantiation failed: Use PortalServiceParameters.Instance() instead of new.");e._instance=this}return e.Instance=function(){return null===e._instance&&(e._instance=new e),e._instance},e._instance=null,e}(),t.PortalServiceParameters=n}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),((n=t.Components||(t.Components={})).ComponentType||(n.ComponentType={})).Evennements="Evennements"}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),((n=t.Components||(t.Components={})).ComponentType||(n.ComponentType={})).Core="Core"}(MyWay||(MyWay={})),function(N){!function(f){"use strict";var e=function(){function e(){this._classCallCheck(this,e),this.edges=[]}return e.prototype._classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.prototype.add=function(e,t){if("string"!=typeof e||!e)throw new TypeError("Dependent name must be given as a not empty string");if(0<(t=Array.isArray(t)?t:[t]).length){var n=t,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o;if("string"!=typeof s||!s)throw new TypeError("Dependency name must be given as a not empty string");this.edges.push([e,s])}}else this.edges.push([e]);return this},e.prototype.sort=function(){var l=this,p=[],e=this.edges,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var i=S=r,o=Array.isArray(i),s=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(s>=i.length)break;a=i[s++]}else{if((s=i.next()).done)break;a=s.value}var u=a;-1===p.indexOf(u)&&p.push(u)}}for(var f=p.length,d=new Array(p.length),c=function e(t,n){if(0!==n.length&&-1!==n.indexOf(t))throw new Error("Cyclic dependency found. "+t+" is dependent of itself.\nDependency chain: "+n.join(" -> ")+" => "+t);var r=p.indexOf(t);if(-1!==r){var i=!1;p[r]=!1;var o=l.edges,s=Array.isArray(o),a=0;for(o=s?o:o[Symbol.iterator]();;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var c=u;c[0]===t&&(i=i||n.concat([t]),e(c[1],i))}d[--f]=t}},y=0;y<p.length;y++){if(!1!==(u=p[y])){p[y]=!1;var m=this.edges,g=Array.isArray(m),h=0;for(m=g?m:m[Symbol.iterator]();;){var v,S;if(g){if(h>=m.length)break;v=m[h++]}else{if((h=m.next()).done)break;v=h.value}(S=v)[0]===u&&c(S[1],[u])}d[--f]=u}}return d.reverse()},e.prototype.clear=function(){return this.edges=[],this},e}();f.Toposort=e;var t=function(){function e(e){this.$parse=e}return e.prototype.createInstance=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Object.create(this.$parse(e)(window).prototype);return r.constructor.apply(r,t),r},e.$inject=["$parse"],e}();f.InstanceLoaderService=t;var d=function(){function e(e,t,n,r){this.response=n,this.status=e,this.responseType=r,this.headers=t}return e.prototype.getAllResponseHeaders=function(){return Object.keys(this.headers).reduce(function(e,t){return e+=t+": "+this.headers[t]+"\r\n"},"")+"\r\n"},e.prototype.getResponseHeader=function(e){return this.headers[e]},e}();f.FakeXhr=d;var n=function(t){function p(){var e=t.call(this,f.Components.ComponentType.Core)||this;return e._serviceLocalDisponible=!1,e.StringUtils=p.StringUtils,e.ObjectUtils=p.ObjectUtils,e}return __extends(p,t),Object.defineProperty(p,"ServiceDePromesse",{get:function(){return f.Promesses.getServiceDePromesse()},enumerable:!0,configurable:!0}),p.prototype.init=function(e){return this._libraryCommon=e,this.getPromesseSelfResoved()},p.prototype.getServiceDePromesse=function(){return f.Promesses.getServiceDePromesse()},p.getPromesseSelfResoved=function(){return f.Promesses.getPromesseSelfResoved()},p.prototype.dispose=function(){return this.getPromesseSelfResoved()},p.prototype.getPromesseSelfResoved=function(){return f.Promesses.getPromesseSelfResoved()},p.prototype.createPromiseSelfResolved=function(e){return f.Promesses.createPromiseSelfResolved(e)},p.prototype.createPromiseSelfError=function(e){return f.Promesses.createPromiseSelfError(e)},p.createPromiseSelfResolved=function(e){return f.Promesses.createPromiseSelfResolved(e)},p.createPromiseSelfError=function(e){return f.Promesses.createPromiseSelfError(e)},p.executePromisesSequentially=function(e){return f.Promesses.executePromisesSequentially(e)},p.executePromisesSimultaneous=function(e){return f.Promesses.executePromisesSimultaneous(e)},p.executePromisesSimultaneousAndWaitAllResolves=function(e){return f.Promesses.executePromisesSimultaneousAndWaitAllResolves(e)},p.prototype.FindKeysToReplace=function(e){for(var t=[],n=0,r=!1;!r;){var i=e.indexOf("[",n);if(0<=i){var o=e.indexOf("]",i);if(0<o){-1!=e.indexOf("[",i+1)&&e.indexOf("[",i+1)<o&&(i=e.indexOf("[",i+1));var s=e.substring(i+1,o);'"'!==s[0]&&t.push(s)}else r=!0;n=o}else r=!0}return t},p.prototype.GetBrowser=function(){return p.GetBrowserStatic()},p.GetBrowserStatic=function(){if(!navigator&&!navigator.platform)return null;var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===n[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?"Opera "+e[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n[0])},p.prototype.GetBrowserVersion=function(){return p.GetBrowserVersionStatic()},p.GetBrowserVersionStatic=function(){if(!navigator&&!navigator.platform)return null;var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===n[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?"Opera "+e[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n[1])},p.IsMobileBrowser=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},p.prototype.SerializeScope=function(e){var t={};return this.ApplyProperties(e,t),JSON.stringify(t)},p.prototype.ApplyProperties=function(e,t){for(var n in e)e.hasOwnProperty(n)&&"$"!==n.substring(0,1)&&(p.IsFunction(e[n])||(t[n]=e[n]))},p.IsFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},p.checkIsIE=function(){return-1<N.Services.CoreCommon.getInternetExplorerVersion()},p.prototype.serviceLocalDisponible=function(){return this._serviceLocalDisponible},p.getInternetExplorerVersion=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){t=navigator.userAgent;null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e},p.prototype.SwapArrayElements=function(e,t,n){if(!e)throw"arrayObject null";if(t<0||t>e.length-1)throw"index_a non valide";if(n<0||n>e.length-1)throw"index_b non valide";if(t!==n){var r=e[t];e[t]=e[n],e[n]=r}},p.SendRequestWithPromise=function(e){var t=p.ServiceDePromesse.defer();try{p.SendRequest(e,t.resolve,t.reject)}catch(e){t.reject(new f.Erreur(e))}return t.promise},p.registerMethodForSendRequest=function(e){p._methodForSendRequest=e,p._waitSendRequestBapi&&(p._waitSendRequestBapi.forEach(function(e){p.SendRequest(e.param,e.defer.resolve,e.defer.reject)}),p._waitSendRequestBapi.length=0)},p.prototype.sendRequest=function(t){return this.promesseTryCatch(function(e){p.SendRequest(t,e.resolve,e.reject)})},p.SendRequest=function(n,r,i){var o=this;if(p.CheckSettings(n),n.url&&0===n.url.indexOf("https://rs-biz-std-ce-dev.hpr.api-wsg.f.bbg")||n.url.includes("/aideenligne/v1/")){if(!p._methodForSendRequest){var e=p.ServiceDePromesse.defer();return p._waitSendRequestBapi.push({defer:e,param:n}),void e.promise.then(r,i)}var s=!1;return p.PreventMultipleJSONCalls&&5<c.url.length&&".json"===c.url.substring(c.url.length-5)&&(s=!0),n.refer=n.refer||location.href,void p._methodForSendRequest(n).then(function(e){"string"!=typeof e.body&&(e.body=JSON.stringify(e.body));var t="text";e.headers&&e.headers["content-type"]&&0<=e.headers["content-type"].indexOf("application/json")&&(t="json"),p.SendOnLoad(new d(e.statusCode,e.headers,e.body,t),__assign({},n,{success:r,error:i}),s,f.Loggers.loggerToTrace(n.logger))},i)}var t=n.url,a="";f.Controle.StaticAnyControle.isNotUndefinedAndNotNull(n.params)&&(a=p.GetParams(n.params)),t&&""!==a&&(t=t+"?"+a);var u,c={};if(c.url=t||"ceciestuntest?"+a,c.async=n.async,c.headers={},n.additionalHeaders)for(u in n.additionalHeaders){var l=n.additionalHeaders[u];c.headers[u]=l}if(n.method===h.DELETE?c.method="DELETE":n.method===h.GET?c.method="GET":n.method===h.POST?c.method="POST":n.method===h.PUT&&(c.method="PUT"),n.accept===g.ALL?c.headers.Accept="*/*":n.accept===g.JSON&&(c.headers.Accept="application/json"),p.AddMyWayHeaders(c,n),n.data)if(n.contentType===y.JSON)c.data=JSON.stringify(n.data),c.headers["Content-Type"]="application/json";else{if(n.contentType!==y.URL_ENCODED)throw"data is not null and settings is unknown";c.data=p.GetParams(n.data),c.headers["Content-Type"]="application/x-www-form-urlencoded"}switch(n.responseType){case m.BLOB:c.responseType="blob";break;case m.JSON:c.responseType="json";break;case m.EMPTY:c.responseType="";break;default:n.method===h.GET?c.responseType="json":c.responseType=""}n.timeout&&(c.timeout=n.timeout),!0===n.originalResponse&&(c.originalResponse=!0);return c.success=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r&&r.apply(o,e),f.Loggers.FLASH.INSTANCE.setValue("details",c.url),p.logger.debug("SendRequest success")},c.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i&&i.apply(o,e),f.Loggers.FLASH.INSTANCE.setValue("details",c.url),p.logger.warn("SendRequest failed")},t?p.Send(c,f.Loggers.loggerToTrace(n.logger),n.withHeaders):(f.Loggers.FLASH.INSTANCE.setValue("action","SendRequest"),p.logger.warn("Aucune URL n'a été fournie"),i(new f.Erreur("Aucune URL n'a été fournie"))),c},p.FixedEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},p.GetParams=function(e){var n="",t=!0;if(!f.Controle.StaticObjectControle.isObject(e))return n;for(var r in e)f.Controle.StaticStringControle.isStringNotEmpty(r)&&e.hasOwnProperty(r)&&(t||(n+="&"),t=!1,f.Controle.StaticObjectControle.isObject(e[r])?n+=r+"="+this.FixedEncodeURIComponent(JSON.stringify(e[r])):Array.isArray(e[r])?e[r].forEach(function(e,t){n+=(0<t?"&":"")+r+"="+e}):n+=r+"="+e[r]);return n},p.addListenerOnAddMyWayHeaders=function(e){p.listenersOnAddMyWayHeaders.push(e)},p.removeListenerOnAddMyWayHeaders=function(t){p.ArrayUtils.remove(p.listenersOnAddMyWayHeaders,function(e){return e===t})},p.AddMyWayHeaders=function(t,n){n.withHeaders&&(t.headers["X-versionComposant"]=n.versionComposant,t.headers["X-typeOrigineComposant"]="1",t.headers["X-dateHeureInstanciation"]=Date.now().toString(),t.headers["X-typeCanal"]="01",t.headers["X-typeDevice"]="01",p.listenersOnAddMyWayHeaders.forEach(function(e){e(t.headers,n)})),n.cache||(t.headers["Cache-Control"]="no-cache",t.headers.Pragma="no-cache")},p.Send=function(t,n,e){p.logger.debug("Debut envoi requete: %1",t.url);var r=!1;if(p.PreventMultipleJSONCalls&&5<t.url.length&&".json"===t.url.substring(t.url.length-5)&&(r=!0,p.SavedJSON[t.url]))t.success(p.SavedJSON[t.url]);else{var i=new XMLHttpRequest;for(var o in i.open(t.method,t.url,t.async),e&&!0===t.async&&(i.withCredentials=!0),!0===t.async&&(t.timeout?i.timeout=t.timeout:i.timeout=3e4),i.ontimeout=function(){p.traiterErreur(i,t,n,null,!0)},i.onload=function(e){p.SendOnLoad(i,t,r,n)},t.cancel=function(){i.abort()},t.headers){var s=t.headers[o];try{if(s){var a=new RegExp("\\p{Diacritic}","gu");s=s.normalize("NFD").replace(a,"").replace(/[^\x00-\x7F]/g," ")}}catch(e){}i.setRequestHeader(o,s)}if(t.async)i.onerror=function(e){p.traiterErreur(i,t,n)},i.send(t.data);else try{i.send(t.data)}catch(e){p.traiterErreur(i,t,n,e)}}},p.SendOnLoad=function(e,t,n,r){if(e.status<400){if(p.logger.debug("Success requete: %1",t.url),f.Controle.StaticFunctionControle.isFunction(t.success))if(t.originalResponse)t.success(e);else{var i=p.GetResponse(e,t.responseType,r);p.PreventMultipleJSONCalls&&n&&(p.SavedJSON[t.url]=i),t.success(i)}}else p.traiterErreur(e,t,r)},p.GetResponse=function(t,e,n){var r=t.response;if(f.Controle.StaticStringControle.isString(t.response)&&""!==t.response&&("json"===t.responseType||"json"===e))try{r=JSON.parse(t.response)}catch(e){var i="une erreur (";e&&(i+=e.message),i+=") est survenue en déserialisant le json suivant : '"+t.response+"'",p.logger.warn(i)}return r},p.traiterErreur=function(e,t,n,r,i){if(n){var o={};e.response?f.Controle.StaticStringControle.isString(e.response)&&(o={text:e.response}):p.logger.error("Aucune réponse à la requête retournée"),i?(o.clientTimeout=!0,f.Loggers.FLASH.INSTANCE.setValue("action","traiterErreur"),f.Loggers.FLASH.INSTANCE.setValue("details",o),p.logger.error("Erreur requete (timeout client): %1",t.url)):0==e.status?(f.Loggers.FLASH.INSTANCE.setValue("action","traiterErreur"),f.Loggers.FLASH.INSTANCE.setValue("details",o),p.logger.error("Erreur requete (acces serveur impossible): %1",t.url)):(f.Loggers.FLASH.INSTANCE.setValue("action","traiterErreur"),f.Loggers.FLASH.INSTANCE.setValue("details",o),p.logger.error("Erreur requete (%1): %2",e.status,t.url))}var s;if(f.Controle.StaticFunctionControle.isFunction(t.error)){if(r)s=new u(f.Libelle.LibelleModel.COM.ERREUR_SERVEUR,[e.statusText+"\nErreur levée : "+r.toString()],r);else{var a=p.GetResponse(e,"json",n);f.Controle.StaticObjectControle.isObject(a)&&a.codeLibelle?(s=a).codeHttp=e.status:s=i?new c(e.status,f.Libelle.LibelleModel.COM.ERREUR_TIMEOUT_CLIENT,e.statusText):403===e.status&&a.codeLibelle&&"ECH.LOG_ERREUR_USER_NON_AUTORISE"===a.codeLibelle?new c(e.status,f.Libelle.LibelleModel.COM.ERREUR_HABILITATION_AUTHENTIFICATION_MANQUANTE,e.statusText):504===e.status?new c(e.status,f.Libelle.LibelleModel.COM.ERREUR_TIMEOUT_SERVEUR,e.statusText):0===e.status?new c(e.status,f.Libelle.LibelleModel.COM.ERREUR_ACCES_SERVEUR,e.statusText):new c(e.status,f.Libelle.LibelleModel.COM.ERREUR_SERVEUR,e.statusText)}t.error(s)}},p.addListenerOnCheckSettings=function(e){this.listenersOnCheckSettings.push(e)},p.removeListenerOnCheckSettings=function(t){p.ArrayUtils.remove(this.listenersOnCheckSettings,function(e){return e===t})},p.CheckSettings=function(t){if(!f.Controle.StaticObjectControle.isObject(t))throw"settings doit être un objet non null!";f.Controle.StaticEnumControle.isAnEnumValue(t.method,h)||(f.Controle.StaticAnyControle.isNotUndefinedAndNotNull(t.data)?t.method=h.POST:t.method=h.GET),f.Controle.StaticBooleanControle.isBoolean(t.async)||(t.async=!0),f.Controle.StaticEnumControle.isAnEnumValue(t.contentType,y)||(f.Controle.StaticAnyControle.isNotUndefinedAndNotNull(t.data)?t.contentType=y.JSON:t.contentType=y.NONE),f.Controle.StaticEnumControle.isAnEnumValue(t.accept,g)||(t.accept=g.ALL),f.Controle.StaticBooleanControle.isBoolean(t.cache)||(t.cache=!0),f.Controle.StaticBooleanControle.isBoolean(t.withHeaders)||(t.withHeaders=!0),f.Controle.StaticEnumControle.isAnEnumValue(t.responseType,m)||(t.responseType=m.NOT_DEFINED),!t.versionComposant&&p.VersionMySys&&(t.versionComposant=p.VersionMySys),p.listenersOnCheckSettings.forEach(function(e){e(t)})},p.creerChaineAleatoire=function(e){for(var t=Math.random().toString(36).substring(2);t.length<e;)t+=Math.random().toString(36).substring(2);return t.length>e&&(t=t.substring(0,e)),t},p.prototype.creerChaineAleatoire=function(e){return p.creerChaineAleatoire(e)},p.applyProperties=function(e,t,n){if(N.Services.Controle.StaticObjectControle.isObject(e[n]))for(var r in t[n]||(t[n]={}),e[n])N.Services.Controle.StaticObjectControle.isObject(e[n][r])?this.applyProperties(e[n],t[n],r):t[n][r]=e[n][r];else t[n]=e[n]},p.loadCdnServiceScript=function(e){var t=p.getBaseFolder(e);t&&p.loadScript(t+"/"+e)},p.loadCdnAddonsServiceScript=function(e){var t=p.getBaseFolder(e);t&&p.loadScript(t+"/../services-addons/"+e)},p.getBaseFolder=function(e){var t=document.getElementsByTagName("script"),n=null;for(var r in t){var i=t[r];if(i&&i.src&&0<i.src.indexOf("framework-client-")){n=i.src;break}}if(n){for(var o="",s=n.split("/"),a=0;a<s.length-1;a++)o+=s[a]+"/";return o.substr(0,o.length-1)}return null},p.loadScript=function(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("script");n.type="text/javascript",n.src=e,t.appendChild(n)},p.encoderURL=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},p.promesseTryCatch=function(e,t){return f.Promesses.promesseTryCatch(e,t)},p.prototype.promesseTryCatch=function(e,t){return f.Promesses.promesseTryCatch(e,t)},p.isObject=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&null!==e},p.CLASS_NAME="MyWay.Services.CoreCommon",p.logger=f.Loggers.LoggerFactory.INSTANCE.getClass(p.CLASS_NAME),p._waitSendRequestBapi=[],p.PreventMultipleJSONCalls=!1,p.VersionMySys=null,p.listenersOnAddMyWayHeaders=[],p.SavedJSON=[],p.listenersOnCheckSettings=[],p.StringUtils={leftPad:function(e,t,n){for(var r=e.toString();r.length<n;)r=t+r;return r},rightPad:function(e,t,n){for(var r=e.toString();r.length<n;)r+=t;return r}},p.ArrayUtils={remove:function(e,t){if(!e)return e;for(var n=e.length,r=[],i=0;i<n;i++){var o=e[i];t(o)||r.push(o)}n=r.length;for(i=0;i<n;i++)e[i]=r[i];return e.length=r.length,e},keyExists:function(e,t){if(!t||t.constructor!==Array&&t.constructor!==Object)return!1;for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return e in t},getOne:function(e,t){for(var n=e.length;n--;)if(t(e[n]))return e[n];return null}},p.EnumUtils={getNamesAndValues:function(t){return p.EnumUtils.getNames(t).map(function(e){return{name:e,value:t[e]}})},getNames:function(e){return p.EnumUtils.getObjValues(e).filter(function(e){return"string"==typeof e})},getValues:function(e){return p.EnumUtils.getObjValues(e).filter(function(e){return"number"==typeof e})},getObjValues:function(t){return Object.keys(t).map(function(e){return t[e]})},listerEnums:function(e){var t=[];for(var n in e)"number"==typeof e[n]&&t.push(n);return t},getName:function(e,t){var n=null;for(var r in e)"number"==typeof e[r]&&e[r]===t&&(n=r);return n}},p.ObjectUtils={hasKeys:function(e,t,n){void 0===n&&(n=!1);var r=!0;return(!n||e.length==Object.keys(t).length)&&(e.forEach(function(e){N.Services.CoreCommon.ArrayUtils.keyExists(e,t)||(r=!1)}),r)},objectExistsByKeyValueList:function(e,t){for(var n=0;n<t.length;n++)if(N.Services.CoreCommon.ObjectUtils.hasKeyValuePairList(t[n],e))return t[n];return null},hasKeyValuePairList:function(e,t){for(var n=0;n<t.length;n++)if(!e.hasOwnProperty(t[n].Key)||e[t[n].Key]!=t[n].Value)return!1;return!0},objectToArray:function(e){var t=[];for(var n in e)t.push({Key:n,Value:e[n]});return t},merge:function(t,n){for(var r in n)try{N.Services.CoreCommon.isObject(n[r])?t[r]=N.Services.CoreCommon.ObjectUtils.merge(t[r],n[r]):t[r]=n[r]}catch(e){t[r]=n[r]}return t},deepEquals:function(e,t){if(e===t)return!0;if(!e||!t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;for(var n in e)if(!p.ObjectUtils.deepEquals(e[n],t[n]))return!1;for(var n in t)if(void 0!==t[n]&&void 0===e[n])return!1;return!0}},p}(f.Components.ComponentBase);f.CoreCommon=n;var r=function(e,t,n,r){this.CodeRetour=e,this.MessageRetour=t,this.DonneesRetour=n,this.Pid=r};f.ExecutionAppliExt=r;var u=function(i){function e(e,t,n){var r=i.call(this,e,t)||this;return r.error=n,r}return __extends(e,i),e}(f.Erreur);f.ErreurClient=u;var y,i,m,o,g,s,h,a,c=function(s){function e(e,t,n,r,i){var o=s.call(this,t,r)||this;return o.codeHttp=e,o.libelle=n,o.causes=i,o}return __extends(e,s),e}(f.Erreur);f.ErreurServeur=c,(i=y=f.ContentTypeEnum||(f.ContentTypeEnum={}))[i.NONE=0]="NONE",i[i.URL_ENCODED=1]="URL_ENCODED",i[i.JSON=2]="JSON",(o=m=f.ResponseTypeEnum||(f.ResponseTypeEnum={}))[o.BLOB=0]="BLOB",o[o.JSON=1]="JSON",o[o.EMPTY=2]="EMPTY",o[o.NOT_DEFINED=3]="NOT_DEFINED",(s=g=f.AcceptEnum||(f.AcceptEnum={}))[s.ALL=0]="ALL",s[s.JSON=1]="JSON",(a=h=f.MethodEnum||(f.MethodEnum={}))[a.DELETE=0]="DELETE",a[a.GET=1]="GET",a[a.POST=2]="POST",a[a.PUT=3]="PUT";var l=function(){function e(){this.codeApplication="inconnu",this.stepId="inconnu",this.stepPath="inconnu",this._previousStepEndTime=0,this._stepStartTime=0,this._displayTime=0,this._initTime=0,this._lastDigestCycleTime=0,this.watchers=0,this.digestCycles=0,this.contextSize=0,this._userTime=-1,this.finalDiagnostic=!1}return Object.defineProperty(e.prototype,"previousStepEndTime",{set:function(e){this._previousStepEndTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepStartTime",{set:function(e){this._previousStepEndTime&&e<this._previousStepEndTime&&(e=this._previousStepEndTime),this._stepStartTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayTime",{set:function(e){this._stepStartTime&&e<this._stepStartTime&&(e=this._stepStartTime),this._displayTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initTime",{set:function(e){this._displayTime&&e<this._displayTime&&(e=this._displayTime),this._initTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userTime",{set:function(e){this._userTime=0===e?0:(this._initTime&&e<this._initTime&&(e=this._initTime),e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastDigestCycleTime",{set:function(e){this._initTime&&e<this._initTime&&(e=this._initTime),this._lastDigestCycleTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepStartDuration",{get:function(){return this._displayTime-this._previousStepEndTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"staticFilesLoadDuration",{get:function(){return this._initTime-this._displayTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"digestDuration",{get:function(){return this._lastDigestCycleTime-this._initTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userDuration",{get:function(){return this.userDurationEnabled?this._userTime-this._displayTime:this._lastDigestCycleTime-this._displayTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalDisplayDuration",{get:function(){return this.staticFilesLoadDuration+this.digestDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalStartDuration",{get:function(){return this.stepStartDuration+this.totalDisplayDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalUserDuration",{get:function(){return this.stepStartDuration+this.userDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userDurationEnabled",{get:function(){return 0<this._userTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startStatus",{get:function(){return 1e4<this.totalDisplayDuration?"danger":5e3<this.totalDisplayDuration?"warn":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"watchersStatus",{get:function(){return 2e3<this.watchers?"danger":1e3<this.watchers?"warn":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"digestStatus",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contextStatus",{get:function(){return 1e5<this.contextSize?"danger":5e4<this.contextSize?"warn":""},enumerable:!0,configurable:!0}),e.prototype.clone=function(e){this.codeApplication=e.codeApplication,this.stepId=e.stepId,this.stepPath=e.stepPath,this._previousStepEndTime=e._previousStepEndTime,this._stepStartTime=e._stepStartTime,this._displayTime=e._displayTime,this._initTime=e._initTime,this._lastDigestCycleTime=e._lastDigestCycleTime,this.watchers=e.watchers,this.digestCycles=e.digestCycles,this.contextSize=e.contextSize,this.finalDiagnostic=e.finalDiagnostic},e}();f.ApplicationDiagnostic=l;var p,v=function(e,t){this.Header=e,this.Payload=t};f.MessageAppliExterne=v,(p=f.PayloadType||(f.PayloadType={}))[p.CONNECT=0]="CONNECT",p[p.DISCONNECT=1]="DISCONNECT",p[p.SEND=2]="SEND";var S=function(){};f.Header=S;var C=function(){};f.Sender=C;var b=function(){};f.Receiver=b;var O=function(){};f.Entity=O;var E=function(e,t){this.Sujet=e,this.Contenu=t};f.Payload=E,f.Components.RegistryCommon.getInstance().register(n)}(N.Services||(N.Services={}))}(MyWay||(MyWay={})),function(){"use strict";var p;Date.prototype.toPrunedJSON=Date.prototype.toJSON,String.prototype.toPrunedJSON=String.prototype.toJSON;var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function f(e){return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}JSON.pruned=function(e,t,n){return p=[],function e(t,n,r,i){var o,s,a,u,c,l=n[t];if(l&&"object"==typeof l&&"function"==typeof l.toPrunedJSON&&(l=l.toPrunedJSON(t)),null==l)return String(l);switch(typeof l){case"string":return f(l);case"number":return isFinite(l)?String(l):"null";case"boolean":return String(l);case"object":if(!l)return"null";if(r<=0||-1!==p.indexOf(l))return console.warn("... oh oh, it seems this object is too deep... depth max is "+r),'"-pruned-"';if(p.push(l),c=[],"[object Array]"===Object.prototype.toString.apply(l)){for(u=Math.min(l.length,i),o=0;o<u;o+=1)c[o]=e(o,l,r-1,i)||"null";return a=0===c.length?"[]":"["+c.join(",")+"]"}for(s in l)if(Object.prototype.hasOwnProperty.call(l,s))try{(a=e(s,l,r-1,i))&&c.push(f(s)+":"+a)}catch(e){}return a=0===c.length?"{}":"{"+c.join(",")+"}"}}("",{"":e},t=t||6,n=n||50)}}(),function(e){var t;t=function(){},(e.Services||(e.Services={})).NotificationMessage=t}(MyWay||(MyWay={})),function(e){var t,n,r;t=e.Services||(e.Services={}),n=t.Common||(t.Common={}),r=function(){function e(e,t){this._doublonsPossibles=!1,this._nombreElements=0,this._fonctionCompare=e,this._doublonsPossibles=t}return e.prototype.testerElements=function(e,t){return this._fonctionCompare(e,t)},Object.defineProperty(e.prototype,"doublonsPossibles",{get:function(){return this._doublonsPossibles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nombreElements",{get:function(){return this._nombreElements},enumerable:!0,configurable:!0}),e.prototype.ajouter=function(e){return this._racine?!!this.placerElement(e,this._racine)&&(this._nombreElements++,!0):(this._racine={parent:null,precedent:null,suivant:null,valeur:e},this._nombreElements=1,!0)},e.prototype.retirer=function(e){if(this._racine){var t=this.getMinimum(this._racine);if(null!==t)for(;t;)e(t.valeur)&&(this.retirerElement(t),this._nombreElements--),t=this.getSuivant(t)}},e.prototype.inferieurAAsc=function(e,t,n){if(this._racine){var r=this.getMinimum(this._racine),i=this.getPlusGrandInferieurA(e,t,this._racine);if(null!==r&&null!==i){for(;r!==i;)n(r.valeur),r=this.getSuivant(r);n(r.valeur)}}},e.prototype.inferieurADesc=function(e,t,n){if(this._racine){var r=this.getPlusGrandInferieurA(e,t,this._racine);if(null!=r)for(;null!=r;)n(r.valeur),r=this.getPrecedent(r)}},e.prototype.superieurAAsc=function(e,t,n){if(this._racine){var r=this.getPlusPetitSuperieurA(e,t,this._racine);if(null!=r)for(;null!=r;)n(r.valeur),r=this.getSuivant(r)}},e.prototype.superieurADesc=function(e,t,n){if(this._racine){var r=this.getMaximum(this._racine),i=this.getPlusPetitSuperieurA(e,t,this._racine);if(null!==r&&null!==i){for(;r!==i;)n(r.valeur),r=this.getPrecedent(r);n(r.valeur)}}},e.prototype.entreBornesAsc=function(e,t,n,r,i){if(this._racine){var o=this.getPlusPetitSuperieurA(e,t,this._racine),s=this.getPlusGrandInferieurA(n,r,this._racine);if(null!==o&&null!==s){for(var a=o;a!==s;)i(a.valeur),a=this.getSuivant(a);i(a.valeur)}}},e.prototype.entreBornesDesc=function(e,t,n,r,i){if(this._racine){var o=this.getPlusPetitSuperieurA(e,t,this._racine),s=this.getPlusGrandInferieurA(n,r,this._racine);if(null!==o&&null!==s){for(var a=s;a!==o;)i(a.valeur),a=this.getPrecedent(a);i(a.valeur)}}},e.prototype.toutParcourir=function(e){if(this._racine)for(var t=this.getMinimum(this._racine);null!=t;)e(t.valeur),t=this.getSuivant(t)},e.prototype.getParCritere=function(e,t){if(this._racine)for(var n=this.getMinimum(this._racine);null!=n;)e(n.valeur)&&t(n.valeur),n=this.getSuivant(n)},e.prototype.isExists=function(e){return null!==this.getElementInternal(e,this._racine)},e.prototype.getElement=function(e){return this.getElementInternal(e,this._racine)},e.prototype.getElementInternal=function(e,t){if(!t)return null;var n=this._fonctionCompare(t.valeur,e);return 0===n?t.valeur:n<0?t.suivant?this.getElementInternal(e,t.suivant):null:t.precedent?this.getElementInternal(e,t.precedent):null},e.prototype.getPlusGrandInferieurA=function(e,t,n){var r=this._fonctionCompare(n.valeur,e);if(r<0||0===r&&t){if(n.suivant){var i=this.getPlusGrandInferieurA(e,t,n.suivant);return i||n}return n}return n.precedent?this.getPlusGrandInferieurA(e,t,n.precedent):null},e.prototype.getPlusPetitSuperieurA=function(e,t,n){var r=this._fonctionCompare(n.valeur,e);if(0<r||0===r&&t){if(n.precedent){var i=this.getPlusPetitSuperieurA(e,t,n.precedent);return i||n}return n}return n.suivant?this.getPlusPetitSuperieurA(e,t,n.suivant):null},e.prototype.getMinimum=function(e){for(var t=e;t.precedent;)t=t.precedent;return t},e.prototype.getMaximum=function(e){for(var t=e;t.suivant;)t=t.suivant;return t},e.prototype.getSuivant=function(e){if(e.suivant)return this.getMinimum(e.suivant);if(e.parent){if(e.parent.precedent===e)return e.parent;for(var t=e;t.parent&&t.parent.suivant===t;)t=t.parent;return t.parent?t.parent:null}return null},e.prototype.getPrecedent=function(e){if(e.precedent)return this.getMaximum(e.precedent);if(e.parent){if(e.parent.suivant===e)return e.parent;for(var t=e;t.parent&&t.parent.precedent===t;)t=t.parent;return t.parent?t.parent:null}return null},e.prototype.placerElement=function(e,t){var n=this._fonctionCompare(t.valeur,e);return n<=0?!(0===n&&!this._doublonsPossibles)&&(t.suivant?this.placerElement(e,t.suivant):(t.suivant={valeur:e,precedent:null,suivant:null,parent:t},!0)):t.precedent?this.placerElement(e,t.precedent):(t.precedent={valeur:e,precedent:null,suivant:null,parent:t},!0)},e.prototype.retirerElement=function(e){var t,n=null,r=!e.parent;if(e.precedent)if(e.suivant){for(n=e.suivant,r||e.parent.precedent!==e?r||(e.parent.suivant=e.suivant,e.suivant.parent=e.parent):(e.parent.precedent=e.suivant,e.suivant.parent=e.parent),t=e.suivant;t.precedent;)t=t.precedent;t.precedent=e.precedent,t.precedent.parent=t}else n=e.precedent,r||e.parent.precedent!==e?r||(e.parent.suivant=e.precedent,e.precedent.parent=e.parent):(e.parent.precedent=e.precedent,e.precedent.parent=e.parent);else e.suivant?(n=e.suivant,r||e.parent.precedent!==e?r||(e.parent.suivant=e.suivant,e.suivant.parent=e.parent):(e.parent.precedent=e.suivant,e.suivant.parent=e.parent)):(n=null,r||e.parent.precedent!==e?r||(e.parent.suivant=null):e.parent.precedent=null);r&&(null===n?this._racine=null:(this._racine=n).parent=null)},e}(),n.ArbreBinaire=r}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),((n=t.Components||(t.Components={})).ComponentType||(n.ComponentType={})).Loggers="Loggers"}(MyWay||(MyWay={})),function(e){var t,n,r;t=e.Services||(e.Services={}),n=t.Loggers||(t.Loggers={}),(r=n.LoggersMessageSubject||(n.LoggersMessageSubject={}))[r.GetConfigActual=0]="GetConfigActual",r[r.SetConfigActual=1]="SetConfigActual",r[r.GetConfigDB=2]="GetConfigDB",r[r.SetConfigDB=3]="SetConfigDB",r[r.SaveConfig=4]="SaveConfig",r[r.LoadConfig=5]="LoadConfig",r[r.GetLoggers=6]="GetLoggers",r[r.GetNomConfigAcuelle=7]="GetNomConfigAcuelle",r[r.IsClassExists=8]="IsClassExists",r[r.Reset=9]="Reset",t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.Loggers,[t.Components.ComponentType.Core,t.Components.ComponentType.Evennements])}(MyWay||(MyWay={})),function(e){var p,t,r,n;p=e.Services||(e.Services={}),t=p.Message||(p.Message={}),r=function(){},n=function(){function s(e,t,n,r,i,o,s,a){var u=this;this.canReceiveResponses=s,this.canReceiveNewMessages=a,this._currentIndex=0,this._callbackArray=[],this._me=null,this._ReceiveMessage=function(e){var t=e.data;if(t.RecipientZone===u._zoneName){if(null===t.Subject||void 0===t.Subject)throw"Subject is null - "+JSON.stringify(t);t.Subject.substring&&"Response - "===t.Subject.substring(0,11)?u.canReceiveResponses&&u.handleResponse(e):u.canReceiveNewMessages&&u.handleReception(e)}},this._SendResponse=function(e,t,n){var r=e.data,i={RequestId:r.RequestId,RecipientZone:r.SenderZone,RecipientComponent:null,SenderZone:u._zoneName,Subject:"Response - "+r.Subject,Content:t,CallbackIndex:r.CallbackIndex,ErreurCallbackIndex:r.ErreurCallbackIndex,Error:null};return p.CoreCommon.getPromesseSelfResoved().then(function(){if(n&&"Manager"===u._zoneName&&u._library.Libelle&&n.codeLibelle&&!n.libelle)return u._library.Libelle.constituerLibelle(n.codeLibelle,n.valeurs).then(function(e){n.libelle=e})}).then(function(){n&&JSON&&(i.Error=JSON.parse(JSON.stringify(n))),u.ValidateMessage(i),e.source&&u.postMessage(i,e.source,e.origin,null)})},this._targetWindow=e,this._targetDomain=t,this._authorizedDomains=n,this._recipientZone=r,this._zoneName=i,this._me=Math.random().toString(36).substring(2),this._library=o}return s.prototype.createMessage=function(e,t,n,r,i){return{RequestId:"",SenderZone:this._zoneName,RecipientZone:this._recipientZone,RecipientComponent:e,Subject:t,Content:n,CallbackIndex:r,ErreurCallbackIndex:i,Error:null}},s.prototype.send=function(e,t,n,r,i,o){return this.sendWithResponse(e,t,n,r,i,o)},s.prototype.sendWithResponse=function(n,r,i,o,s,a){var u=this,c=null,l=null;return p.CoreCommon.promesseTryCatch(function(e){c=u._AddCallback(e.resolve),l=u._AddCallback(e.reject),o||(o=u._targetWindow),s||(s=u._targetDomain);var t=u.createMessage(n,r,i,c,l);u.ValidateMessage(t),s&&o?u.postMessage(t,o,s,a):(e.reject(new p.Erreur('Impossible d\'envoyer le message, la "target domain" et la "target window" n\'existent pas')),u._RemoveCallback(c),u._RemoveCallback(l))}).catch(function(e){throw u._RemoveCallback(c),u._RemoveCallback(l),e})},s.prototype._AddCallback=function(e){return this._currentIndex++,this._callbackArray[this._currentIndex]=e,this._currentIndex},s._getBaseDomain=function(e){var t=new r;if(0===e.indexOf("http://")){t.Root="http://";var n=e.replace("http://","").split("/")[0].split(":");t.Name=n[0],2==n.length?t.Port=n[1]:t.Port="80"}else 0===e.indexOf("https://")&&(t.Root="https://",n=e.replace("https://","").split("/")[0].split(":"),t.Name=n[0],2==n.length?t.Port=n[1]:(t.Root="http://",t.Port="443"));return t},s.prototype.handleReception=function(e){e.data,this.transmettreMessage(e)},s.prototype.transmettreMessage=function(t){var n=this,e=t.data;if(!s.IsDomainAuthorized(t.origin,this._authorizedDomains))throw t.origin+" is not authorized at Reception : "+JSON.stringify(e)+";"+JSON.stringify(this._authorizedDomains);var r=e.RecipientComponent,i=this._library[r];if(i){var o=t.data;try{i.reception({iframe:t.source,message:o.Content,subject:o.Subject}).then(function(e){n._SendResponse(t,e,null)},function(e){n._SendResponse(t,null,e)})}catch(e){console.error(e)}}else s.loggerMessageBase.warn("%1 can't be found. Message : %2",r,JSON.stringify(e)),this._SendResponse(t,null,new p.Erreur("not delivered"))},s.prototype.handleResponse=function(e){var t=e.data;if(!s.IsDomainAuthorized(e.origin,this._authorizedDomains))throw e.origin+" is not authorized at Response : "+JSON.stringify(t)+";"+JSON.stringify(this._authorizedDomains);t.Error?(t.CallbackIndex&&this._RemoveCallback(t.CallbackIndex),t.ErreurCallbackIndex&&this._ExecuteCallback(t.ErreurCallbackIndex,t.Error)):(t.ErreurCallbackIndex&&this._RemoveCallback(t.ErreurCallbackIndex),t.CallbackIndex&&this._ExecuteCallback(t.CallbackIndex,t.Content))},s.IsDomainAuthorized=function(e,t){var n=!1,r=s._getBaseDomain(e);for(var i in t){var o=s._getBaseDomain(t[i]);if(r.Root&&o.Root&&r.Root.toLowerCase()===o.Root.toLowerCase()&&r.Name&&o.Name&&r.Name.toLowerCase()===o.Name.toLowerCase()&&(r.Port===o.Port||"*"===o.Port)){n=!0;break}}return n},s.prototype._ExecuteCallback=function(e,t){var n=this._callbackArray[e];n&&(this._RemoveCallback(e),n(t))},s.prototype._RemoveCallback=function(e){this._callbackArray[e]&&delete this._callbackArray[e]},s.prototype.ValidateMessage=function(e){if(!e.Subject&&0!==e.Subject)throw"Subject is empty";if(e.RecipientZone===e.SenderZone)throw"recipient zone and sender zone are identical : "+e.RecipientZone+" - "+JSON.stringify(e)},s.CLASS_NAMEMessageBase="MyWay.Services.Message.MessageBase",s.loggerMessageBase=p.Loggers.LoggerFactory.INSTANCE.getClass(s.CLASS_NAMEMessageBase),s}(),t.MessageBase=n}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t,n,r;t=e.Services||(e.Services={}),n=t.Core||(t.Core={}),(r=n.CoreMessageSubject||(n.CoreMessageSubject={}))[r.SendRequest=1]="SendRequest",t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.Core,[]),t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.Evennements,[])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-core-common.min.js.map
var MyWay;!function(n){var e,r,o,s;e=n.Test||(n.Test={}),r=e.V1||(e.V1={}),(o=r.Services||(r.Services={})).Erreur=n.Services.Erreur,o.Promesses=n.Services.Promesses,o.generateEmptyLibraryCommon=function(){return{Core:{createPromiseSelfResolved:n.Services.CoreCommon.createPromiseSelfResolved,createPromiseSelfError:n.Services.CoreCommon.createPromiseSelfError,promesseTryCatch:n.Services.CoreCommon.promesseTryCatch,getPromesseSelfResoved:n.Services.CoreCommon.getPromesseSelfResoved}}},o.override=function(e,r,o){if(void 0===e[r])throw new n.Services.Erreur("La méthode "+r+" n'existe pas sur l'objet "+e.constructor);e[r]=o},o.generateMessageService=function(){return{dispose:function(){n.Services.CoreCommon.getPromesseSelfResoved()},send:function(e,r,o,s,t,i){return n.Services.CoreCommon.createPromiseSelfError(new n.Services.Erreur("Send method not overrided for tests"))},sendWithResponse:function(e,r,o,s,t,i){return n.Services.CoreCommon.createPromiseSelfError(new n.Services.Erreur("SendWithResponse method not overrided for tests"))}}},(s=o.TestMode||(o.TestMode={}))[s.DeepEquals=0]="DeepEquals",s[s.StrictEquals=1]="StrictEquals",s[s.NoCheck=2]="NoCheck",s[s.ObjectPropertiesEquals=3]="ObjectPropertiesEquals",s[s.ArrayObjectPropertiesEquals=4]="ArrayObjectPropertiesEquals"}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-test-common.min.js.map
"use strict";var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var o;(function(t){var r;(r=t.RegistryType||(t.RegistryType={})).AGENT="AGENT";var e=function(n){function e(){var e=n.call(this,r.AGENT,[r.COMMON])||this;return e.messageService=null,e._agentInitializer=null,e}return __extends(e,n),e.getInstance=function(){return null===e.instance&&(e.instance=new e,t.FactoryRegistries.getInstance().addRegistry(e.instance)),e.instance},Object.defineProperty(e.prototype,"managerInitializer",{set:function(e){this._agentInitializer=e},enumerable:!0,configurable:!0}),e.prototype.getRegistryCommon=function(){return this._dependenciesInstances[0]},e.prototype.init=function(e){var t=this;return this.getRegistryCommon().getComponentsInstances().forEach(function(e){t._componentsInstancesByKey[e.name]||(t._componentsInstances.push(e),t._componentsInstancesByKey[e.name]=e)}),this.messageService||(this.messageService=o.Message.MessageAgentFactory.createMessageAgent(this.getLibrary())),n.prototype.init.call(this,e)},e.prototype.initializeComponent=function(e){return e.init(this._componentsInstancesByKey,this.messageService,this._agentInitializer)},e.instance=null,e}(t.AbstractRegistry);t.RegistryAgent=e})((o=e.Services||(e.Services={})).Components||(o.Components={}))}(MyWay||(MyWay={})),function(e){var r,t,n;r=e.Services||(e.Services={}),t=r.Components||(r.Components={}),n=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.init=function(e,t,n){return this.library=e,this.messageService=t,r.Promesses.getPromesseSelfResoved()},e.prototype.reception=function(t){var n=this;return r.Promesses.promesseTryCatch(function(e){e.reject(new r.Erreur("Subject "+t.subject+" not implemented on "+n.name+" agent"))})},e.prototype.dispose=function(){return r.Promesses.getPromesseSelfResoved()},e.prototype.sendMessage=function(e,t){return this.messageService.sendWithResponse(this.name,e,t)},e}(t.ComponentBase),t.ComponentAgentBase=n}(MyWay||(MyWay={})),function(e){var t,n,r,o;t=e.Services||(e.Services={}),n=t.Loggers||(t.Loggers={}),r=n.Appenders||(n.Appenders={}),o=function(r){function o(e,t,n){return r.call(this,e,o.CLASSNAME,t,n)||this}return __extends(o,r),Object.defineProperty(o,"METHODE_PURGE_TRACES",{set:function(e){(o._METHODE_PURGE_TRACES=e)&&(o.logs.forEach(function(e){o._METHODE_PURGE_TRACES(e)}),o.logs.length=0)},enumerable:!0,configurable:!0}),o.prototype.onAppend=function(e){o._METHODE_PURGE_TRACES?o._METHODE_PURGE_TRACES(e):o.logs.push(e)},o.CLASSNAME="MyWay.Services.Loggers.Appenders.BroadcastAppender",o.logs=[],o._METHODE_PURGE_TRACES=null,o}(r.AbstractAppender),r.BroadcastAppender=o,n.LoggerFactory.INSTANCE.declareAppender(o.CLASSNAME,o)}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),(n=t.Loggers||(t.Loggers={})).DEFAULT_CONFIGURATION_AGENTS={appenders:[{type:"BROADCAST",level:n.LEVEL.DEBUG,class:"MyWay.Services.Loggers.Appenders.BroadcastAppender",config:{}}],loggers:[{name:"*",level:n.LEVEL.DEBUG,appenders:["BROADCAST"]}]},n.LoggerFactory.INSTANCE.loadConfiguration()}(MyWay||(MyWay={})),function(e){var n,r,t;n=e.Services||(e.Services={}),r=n.Controle||(n.Controle={}),t=function(e){function t(){return e.call(this,n.Components.ComponentType.Controle)||this}return __extends(t,e),Object.defineProperty(t.prototype,"Any",{get:function(){return t.logger.info("Méthode à surveiller - AnyControle"),new r.AnyControle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Array",{get:function(){return t.logger.info("Méthode à surveiller - AnyControleArrayControle"),new r.ArrayControle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Boolean",{get:function(){return t.logger.info("Méthode à surveiller - BooleanControle"),new r.BooleanControle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Date",{get:function(){return t.logger.info("Méthode à surveiller - DateControle"),new r.DateControle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Enum",{get:function(){return t.logger.info("Méthode à surveiller - EnumControle"),new r.EnumControle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Function",{get:function(){return t.logger.info("Méthode à surveiller - FunctionControle"),new r.FunctionControle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Number",{get:function(){return t.logger.info("Méthode à surveiller - NumberControle"),new r.NumberControle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Object",{get:function(){return t.logger.info("Méthode à surveiller - ObjectControle"),new r.ObjectControle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"String",{get:function(){return t.logger.info("Méthode à surveiller - StringControle"),new r.StringControle},enumerable:!0,configurable:!0}),t.CLASS_NAME="MyWay.Services.Controle.ControleAgent",t.logger=n.Loggers.LoggerFactory.INSTANCE.getClass(t.CLASS_NAME),t}(n.Components.ComponentAgentBase),r.ControleAgent=t,n.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),window.___MYSYS_BASE_URL___=window.location.href,function(){function e(){window.URL=function(e,t){var n,r,o,i,s,a,c,u;function p(e,t,n){return"@"===n?"":n}if(Object.defineProperty(this,"hash",{get:function(){return n},set:function(e){return n=0<e.length?"#"+e.match(/^#*(.*)/)[1]:"",e}}),Object.defineProperty(this,"host",{get:function(){return 0<s.length?r+":"+s:r},set:function(e){var t=e.split(":");return this.hostname=t[0],this.port=t[1],e}}),Object.defineProperty(this,"hostname",{get:function(){return r},set:function(e){return r=0<e.length?encodeURIComponent(e):r,e}}),Object.defineProperty(this,"href",{get:function(){var e=a+"//";return(0<u.length||0<o.length)&&(0<u.length&&(e+=u),0<o.length&&(e+=":"+o),e+="@"),e+=r,0<s.length&&(e+=":"+s),e+=i+c+n},set:function(e){var t=(this.protocol=e).replace(/.*?:\/*/,""),n=t.match(/([^:]*).*@/);this.username=n?n[1]:"";var r=(t=t.replace(/([^:]*):?(.*@)/,p)).match(/.*(?=@)/);this.password=r?r[0]:"",t=t.replace(/.*@/,""),this.hostname=t.match(/[^:/?]*/);var o=t.match(/:(\d+)/);this.port=o?o[1]:"";var i=t.match(/\/([^?#]*)/);this.pathname=i?i[1]:"";var s=t.match(/\?[^#]*/);this.search=s?s[0]:"";var a=t.match(/\#.*/);this.hash=a?a[0]:""}}),Object.defineProperty(this,"origin",{get:function(){var e=a+"//"+r;return 0<s.length&&(e+=":"+s),e},set:function(e){var t=(this.protocol=e).replace(/.*?:\/*/,"");this.hostname=t.match(/[^:/?]*/);var n=t.match(/:(\d+)/);this.port=n?n[1]:""}}),Object.defineProperty(this,"password",{get:function(){return o},set:function(e){return o=encodeURIComponent(e),e}}),Object.defineProperty(this,"pathname",{get:function(){return i},set:function(e){return i="/"+e.match(/\/?(.*)/)[1],e}}),Object.defineProperty(this,"port",{get:function(){return s},set:function(e){return s=isNaN(e)||""===e?"":Math.min(65535,e).toString(),e}}),Object.defineProperty(this,"protocol",{get:function(){return a},set:function(e){return a=e.match(/[^/:]*/)[0]+":",e}}),Object.defineProperty(this,"search",{get:function(){return c},set:function(e){return c=0<e.length?"?"+e.match(/\??(.*)/)[1]:"",e}}),Object.defineProperty(this,"username",{get:function(){return u},set:function(e){u=e}}),"string"==typeof e){var h=/^[a-zA-z]+:\/\/.*/.test(e),f=/^[a-zA-z]+:\/\/.*/.test(t);if(h)this.href=e;else{if(!f)throw new TypeError('URL string is not valid. If using a relative url, a second argument needs to be passed representing the base URL. Example: new URL("relative/path", "http://www.example.com");');this.href=t+e}}else n=e.hash,r=e.hostname,o=e.password?e.password:"",i=e.pathname,s=e.port,a=e.protocol,c=e.search,u=e.username?e.username:"";this.searchParams=function(e){var s=[],a=[];0<e.search.length&&e.search.slice(1).split("&").forEach(function(e){var t=e.split("=");s.push(t[0]),a.push(t[1])});function c(){0===s.length?e.search="":e.search=s.map(function(e,t){return e+"="+a[t]}).join("&")}return{append:function(e,t){s.push(e),a.push(t),c()},delete:function(e){for(;-1<s.indexOf(e);)a.splice(s.indexOf(e),1),s.splice(s.indexOf(e),1);c()},entries:function(){return s.map(function(e,t){return[e,a[t]]})},get:function(e){return a[s.indexOf(e)]},getAll:function(n){return a.filter(function(e,t){return s[t]===n})},has:function(e){return-1<s.indexOf(e)},keys:function(){return s},setset:function(n,r){if(-1===s.indexOf(n))this.append(n,r);else{var o=!0,i=[];s=s.filter(function(e,t){return e!==n?(i.push(a[t]),!0):!!o&&(o=!1,i.push(r),!0)}),a=i,c()}},sort:function(){var e=this.entries().sort();s=[],a=[],e.forEach(function(e){s.push(e[0]),a.push(e[1])}),c()},toString:function(){return e.search.slice(1)},values:function(){return a}}}(this)}}"function"!=typeof URL?e():"searchParams"in new URL(window.location.href)||e()}(),function(u){var p;(function(a){var c,e;(e=c=a.WebSocketType||(a.WebSocketType={})).Request="myway-ws-request",e.RequestV1="myway-ws-requestv",e.Response="myway-ws-response",e.Notification="myway-ws-notification",e.Status="myway-ws-status";var t=function(r){function e(e,t,n){return r.call(this,t,n,["file:\\",n],"Manager","Agent",e,!0,!0)||this}return __extends(e,r),e.prototype.replaceLibrary=function(e){this._library=e},e.prototype.dispose=function(){},e}(a.MessageBase),r=function(i){function s(e){var t,n,r;if(parent!==window)return n=parent,r=p.AppServiceParameters.Instance().PortalDomain,t=i.call(this,e,n,r)||this,window.addEventListener("message",t._ReceiveMessage),t;var o="MessageAgent ne fonctionne que si l'application est intégrée dans un portail";throw s.logger.error(o),o}return __extends(s,i),s.prototype.dispose=function(){window.removeEventListener("message",this._ReceiveMessage)},s.prototype.postMessage=function(e,t,n,r){t.postMessage(e,n)},s.CLASS_NAME="MyWay.Services.Message.MessageAgent",s.logger=p.Loggers.LoggerFactory.INSTANCE.getClass(s.CLASS_NAME),s}(a.MessageAgentBase=t);a.MessageAgent=r;var n=function(){function e(){}return e.createMessageAgent=function(e){if(-1!=window.location.toString().indexOf("mywayPortalId")){var t=this._queryParam("mywayPortalId");sessionStorage.setItem("myway-portal-id",t)}var n=new URL(window.___MYSYS_BASE_URL___.replace(new RegExp("#","g"),"")).searchParams;return parent!==window?new r(e):p.ServiceManager&&p.ServiceManager.Instance()?new i(e):null!==sessionStorage.getItem("myway-portal-id")||null!==sessionStorage.getItem("myway-container-id")||n.get("myway-container-id")?new s(e):new o(e)},e._queryParam=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},e}();a.MessageAgentFactory=n;var o=function(t){function a(e){return t.call(this,e,window,window.location.protocol+"//"+window.location.host)||this}return __extends(a,t),a.prototype.SendMessage=function(e,t,n,r,o,i,s){a.logger.error("l'application n'est pas hébergée dans une iframe, les services techniques ne peuvent pas fonctionner : tentative de d'envoi de message vers [%1] au sujet de [%2] a échoué",e,t),console.warn("l'application n'est pas hébergée dans une iframe, les services techniques ne peuvent pas fonctionner : tentative de d'envoi de message vers ["+e+"] au sujet de ["+t+"] a échoué")},a.prototype.postMessage=function(e,t,n,r){t.postMessage(e,n)},a.CLASS_NAME="MyWay.Services.Message.SelfMessageManager",a.logger=p.Loggers.LoggerFactory.INSTANCE.getClass(a.CLASS_NAME),a}(t);a.SelfMessageManager=o;var i=function(n){function r(e){var t=n.call(this,e,window,window.location.protocol+"//"+window.location.host)||this;return r.Instance=t}return __extends(r,n),r.prototype.postMessage=function(e,t,n,r){var o={};o.data=e,o.origin=n,o.source=t,p.ServiceManager.Instance().Library.Message._ReceiveMessage(o)},r.CLASS_NAME="MyWay.Services.Message.MobileMessageAgent",r.logger=p.Loggers.LoggerFactory.INSTANCE.getClass(r.CLASS_NAME),r}(t);a.MobileMessageAgent=i;var s=function(t){function e(e){var i=t.call(this,e,window,window.location.protocol+"//"+window.location.host)||this;i.socketConnected=!1,i.waitingMessages=[];var r=[];r.push(i.getPort("https://localhost:8219/ports/getportsutilisateurMySys",function(e){return e.PortNodeJS})),r.push(i.getPort("http://localhost:8200/ports/getportsutilisateurMySys",function(e){return e.PortNodeJS})),r.push(i.getPort("http://localhost:8353/cdn/agents/ping",function(){return 8353})),r.push(i.getPort("https://localhost:8353/cdn/agents/ping",function(){return 8353}));var o=p.CoreCommon.ServiceDePromesse.defer(),s=0;return r.forEach(function(n){n.onResponse.then(function(e){s++;for(var t=0;t<r.length;t++)r[t]!==n&&(console.log("Port obtenu grâce à "+n.url+", annulation get port "+r[t].url),r[t].cancel());o.resolve(e)},function(){++s===r.length&&o.resolve(8353)})}),o.promise.then(function(e){var t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},n=a.io("https://localhost:"+e,{query:{uniqueClientId:t()},transports:["websocket"],secure:!0}),r=a.io("http://localhost:"+e,{query:{uniqueClientId:t()},transports:["websocket"]}),o=function(e,t){e.on("connect",function(){console.log("socket connected"),i.socket=e,i.socketConnected=!0,i.waitingMessages.splice(0).forEach(function(e){var t=e.pMessage,n=e.pTargetDomain;return i.postMessage(t,void 0,n,void 0)}),t.close()}),e.on("disconnect",function(){console.log("socket disconnected"),i.socketConnected=!1}),e.on(c.Notification,function(e){if(!e.header.containerId||window.sessionStorage.getItem("myway-container-id")===e.header.containerId){var t={data:{}};t.origin=window.location.protocol+"//"+window.location.host,t.data.RecipientZone=e.header.recipientZone,t.data.RecipientComponent="Context",t.data.SenderZone=e.header.senderZone,t.data.Subject=e.header.subject,t.data.Content=e.payload,t.data.CallbackIndex=0,t.data.ErreurCallbackIndex=0,t.data.Error=void 0,t.data.type="",i.transmettreMessage(t)}})};o(n,r),o(r,n)}),i}return __extends(e,t),e.prototype.getPort=function(e,t){var n=p.CoreCommon.ServiceDePromesse.defer();return{cancel:p.CoreCommon.SendRequest({url:e,method:p.MethodEnum.GET,withHeaders:!1},function(e){n.resolve(t(e))},function(){n.reject()}).cancel,onResponse:n.promise,url:e}},e.prototype.postMessage=function(o,e,i,t){var s=this,n=function(e){if(s.socketConnected){var n=i;o.RequestId=u.Services.CoreCommon.creerChaineAleatoire(16),o.portalId=window.sessionStorage.getItem("myway-portal-id")||void 0,o.containerId=window.sessionStorage.getItem("myway-container-id")||void 0,o.outsideContainer=""+window.sessionStorage.getItem("myway-outside-container")=="true";var t=new URL(window.___MYSYS_BASE_URL___.replace(new RegExp("#","g"),"")).searchParams;o.portalId=o.portalId||t.get("myway-portal-id")||void 0,o.containerId=o.containerId||t.get("myway-container-id")||void 0,o.outsideContainer=o.outsideContainer||""+t.get("myway-outside-container")=="true",s.socket.emit(c.RequestV1,o),"pmm"===e&&console.log("socket emit",o);var r=function(e){var t={};e.RequestId===o.RequestId&&(t.data=e,t.origin=n,s._ReceiveMessage(t),s.socket.off(c.Response,r))};s.socket.on(c.Response,r)}else s.waitingMessages.push({pMessage:o,pTargetDomain:i})};0<=window.location.href.indexOf("pmmpres-")?setTimeout(function(){n("pmm")},100):n()},e.CLASS_NAME="MyWay.Services.Message.PortailMyWayV2MessageAgent",e.logger=p.Loggers.LoggerFactory.INSTANCE.getClass(e.CLASS_NAME),e}(t);a.PortailMyWayV2MessageAgent=s})((p=u.Services||(u.Services={})).Message||(p.Message={}))}(MyWay||(MyWay={})),function(e){!function(u){u.onInitUsableLoggerForServiceAgent=null;var e=function(){function c(){var n=this;this.$$framework="$$framework",this.IsInitDone=!1,this.IsInitInProgress=!1,this.onNotificationForSPA=null,this._initTerminee=function(t){return n.Library.Core.addListenerOnNotification(function(e){n.OnNotification(e,n),t&&t(e,n)}),n.IsInitDone=!0,n.IsInitInProgress=!1,n.Library.Core.getPromesseSelfResoved()},this._displayError=function(e){c.logger.warn(e.codeLibelle)}}return Object.defineProperty(c.prototype,"Library",{get:function(){return this._serviceLibrary},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"idServiceAgent",{get:function(){return this._idServiceAgent},enumerable:!0,configurable:!0}),c.prototype.init=function(n){var r=this;if("IZIVENTE"===n.codeApplication){var e=!1;try{e=!0===window.JSON_PATCHED}catch(e){}if(!e){var o=JSON.stringify;JSON.stringify=function(e){if(e&&e instanceof Array&&1<e.length&&/myway-ws-request/.test(e[0])){var t=o.apply(this,arguments);return JSON.parse(t)}return o.apply(this,arguments)},window.JSON_PATCHED=!0}var i=u.CoreCommon.ServiceDePromesse.defer(),s=null;return s=null!==sessionStorage.getItem("myway-portal-id")||null!==sessionStorage.getItem("myway-container-id")?new u.Message.PortailMyWayV2MessageAgent({}):new u.Message.MessageAgent({}),this.Context={AddToContext:function(e,t){var n=u.CoreCommon.ServiceDePromesse.defer();return s.send(u.Components.ComponentType.Context,u.Context.ContextMessageSubject.AddToContext,{key:e,value:t}),n.resolve(!0),n.promise}},this.Lisa={Next:function(e){var t=u.CoreCommon.ServiceDePromesse.defer();return s.send(u.Components.ComponentType.Lisa,u.Lisa.Messages.LisaMessageSubject.Next,{valeurSortie:e}),t.resolve(null),t.promise}},i.resolve(this),i.promise}this._idServiceAgent=Math.random().toString(36).substring(2);i=u.CoreCommon.ServiceDePromesse.defer();var t=[];if(this.IsInitInProgress)i.reject(new u.Erreur("Initialisation du serviceAgent déjà lancée... Il ne peut pas y avoir deux initialisations simultanées."));else{this.IsInitInProgress=!0;var a=JSON.stringify(n);this.IsInitDone&&this._serializedInitialisationValues===a?c.logger.warn("serviceAgent déjà initialisé"):(this._serializedInitialisationValues=a,n||(n={codeApplication:null,onNotification:null}),n.onGlobalError||(n.onGlobalError=this._displayError),i.promise.catch(n.onGlobalError),u.Components.RegistryAgent.getInstance().managerInitializer={applicationVersion:"",codeApplication:n.codeApplication,disableGetStepInfo:n.disableGetStepInfo,disableScopeSave:n.disableScopeSave,donneesScopeASauvegarder:n.donneesScopeASauvegarder,scopeType:n.scopeType},t.push(function(){return u.Components.FactoryRegistries.getInstance().init().then(function(){for(var e in r._serviceLibrary=u.Components.RegistryAgent.getInstance().getLibrary(),r._serviceLibrary)r[e]=r._serviceLibrary[e];for(var t in r.Library)r[t]=r.Library[t];return u.AppServiceParameters.Instance().MessageAgent||r.IsInitDone?r._initAgents(n,n.onGlobalError):r._initAgents(n,i.reject)})}),this.IsInitDone||t.push(function(){return r.onNotificationForSPA&&(r.Library.Core.removeListenerOnNotification(r.onNotificationForSPA),r.onNotificationForSPA=null),r.Library.Core.getPromesseSelfResoved()})),n.disableGetStepInfo&&!0===n.disableGetStepInfo?t.push(function(){return r.Library.Context?r.Library.Context.SetMyWayCompatible():r.Library.Core.getPromesseSelfResoved()}):t.push(function(){if(r.Library.Context)return r.Library.Context.GetCurrentStepInfo().then(function(e){r.Library.Context.StepInfo=e})}),n.capacitesChat&&t.push(function(){return r.Library.Core.promesseTryCatch(function(e){r.Library.Chat&&r.Library.Chat.addChatCapacity(),e.resolve()})}),t.push(function(){return r._initTerminee(n.onNotification)}),u.Promesses.executePromisesSequentially(t).then(function(){i.resolve(r)},i.reject)}return i.promise},c.prototype._initAgents=function(t,e){var n=this;return u.CoreCommon.promesseTryCatch(function(e){u.CoreCommon.loadCdnAddonsServiceScript("framework-client-app-addon.js"),u.onInitUsableLoggerForServiceAgent&&u.onInitUsableLoggerForServiceAgent(n,t.codeApplication),e.resolve()})},c.prototype.SendRequest=function(n){return u.CoreCommon.promesseTryCatch(function(t){var e=n;e.logger=c.logger,u.CoreCommon.SendRequest(e,function(e){t.resolve(e)},function(e){t.reject(e)})})},c.prototype.SubscribeToNotification=function(t){var n=this;null!==this.onNotificationForSPA&&this.Library.Core.removeListenerOnNotification(this.onNotificationForSPA),this.onNotificationForSPA=function(e){t(e,n)},this.Library.Core.addListenerOnNotification(this.onNotificationForSPA)},c.prototype.Dispose=function(){return u.Components.FactoryRegistries.getInstance().dispose()},c.prototype.OnNotification=function(e,t){},c.staticInit=function(){window.onerror=function(e,t,n,r,o){if(-1<e.toString().toLowerCase().indexOf("script error"))c.logger.error("Erreur TFEB : Script Error: See Browser Console for Detail");else{var i=["Message: "+e,"URL: "+t,"Line: "+n,"Column: "+r,"Error object: "+JSON.stringify(o.stack)].join(" - ");c.logger.error("Erreur TFEB : "+i)}return!1},window.addEventListener("error",function(e){e&&e.error&&e.error.stack&&c.logger.error("Erreur TFEB : "+JSON.stringify(e.error.stack))},!1)},c.CLASS_NAME="MyWay.Services.ServiceAgent",c.logger=u.Loggers.LoggerFactory.INSTANCE.getClass(c.CLASS_NAME),c}();(u.ServiceAgent=e).staticInit()}(e.Services||(e.Services={}))}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),n=function(){function e(){if(e._instance)throw new Error("Error: Instantiation failed: Use AppServiceParameters.Instance() instead of new.");e._instance=this}return e.Instance=function(){return null===e._instance&&(e._instance=new e),e._instance},e._instance=null,e}(),t.AppServiceParameters=n}(MyWay||(MyWay={})),function(e){var t;t=e.Services||(e.Services={}),"undefined"!=typeof angular&&(t.moduleAgent=angular.module("moduleAgent",["ng"]))}(MyWay||(MyWay={})),function(e){!function(e){"undefined"!=typeof angular&&e.moduleAgent.service("instanceLoaderService",e.InstanceLoaderService);var o=function(){function o(e,t,n,r){this.$q=e,this.instanceLoaderService=t,this.$timeout=n,this.$rootScope=r}return o.Instance=function(e,t,n,r){return null===o._serviceAgentExtended&&(o._serviceAgentExtended=new i(e,t,n,r)),o._serviceAgentExtended},o.prototype.init=function(e){var t=this,n=this.$q.defer();return o.Instance(this.$q,this.instanceLoaderService,this.$timeout,this.$rootScope).init(e).then(function(){n.resolve(o.Instance(t.$q,t.instanceLoaderService,t.$timeout,t.$rootScope))},function(){n.reject()}),n.promise},o.$inject=["$q","instanceLoaderService","$timeout","$rootScope"],o._serviceAgentExtended=null,o}();e.ServiceAgentProvider=o;var i=function(i){function s(e,t,n,r){var o=i.call(this)||this;return o.$q=e,o.instanceLoaderService=t,o.$timeout=n,o.$rootScope=r,o._lastDigestTimerHandle=null,o.listenersBeforeInitialization=[],o.listenersAfterInitialization=[],s.onNewInstanceTraitements.forEach(function(e){e(o)}),o}return __extends(s,i),s.onNewInstance=function(e){s.onNewInstanceTraitements.push(e)},s.prototype.init=function(t){var n=this,r=this.$q.defer(),o=Date.now();t||(t={codeApplication:""}),this.listenersBeforeInitialization.forEach(function(e){e.call(n)});var e=this;return i.prototype.init.call(this,t).then(function(){n.listenersAfterInitialization.forEach(function(e){e.call(n,t,o)}),r.resolve(e)},function(e){r.reject(e)}),r.promise},s.prototype.addListenerBeforeInitialization=function(e){this.listenersBeforeInitialization.push(e)},s.prototype.addListenerAfterInitialization=function(e){this.listenersAfterInitialization.push(e)},s.prototype.removeListenerBeforeInitialization=function(t){e.CoreCommon.ArrayUtils.remove(this.listenersBeforeInitialization,function(e){return e===t})},s.prototype.removeListenerAfterInitialization=function(t){e.CoreCommon.ArrayUtils.remove(this.listenersAfterInitialization,function(e){return e===t})},s.prototype.sendRequest=function(e,t){var n=this,r=this.$q.defer();return i.prototype.SendRequest.call(this,e).then(function(e){t&&(e=n.instanceLoaderService.createInstance(t,e)),e&&"string"==typeof e&&(e=JSON.parse(e)),r.resolve(e)},function(e){r.reject(e)}),r.promise},s.prototype.LogDemarrage=function(){var e=this;s.logger_extended.debug("Début demarrage"),this.$timeout&&this.$timeout(function(){s.logger_extended.debug("Fin render")}),this.$rootScope&&this.$rootScope.$evalAsync(function(){s.logger_extended.debug("Fin digest"),e.$timeout&&e.$timeout(function(){s.logger_extended.debug("Fin render")})})},s.prototype.OnNotification=function(e,t){"FrameHidden"===e.Sujet?window.clearTimeout(this._watcherCountTimeout):"FrameShown"===e.Sujet&&t&&t.countWatchers&&t.countWatchers(),i.prototype.OnNotification.call(this,e,t)},s.CLASS_NAME_EXTENDED="MyWay.Services.ServiceAgentExtended",s.logger_extended=e.Loggers.LoggerFactory.INSTANCE.getClass(s.CLASS_NAME_EXTENDED),s.onNewInstanceTraitements=[],s.$inject=["$q","instanceLoaderService","$timeout","$rootScope"],s}(e.ServiceAgent);e.ServiceAgentExtended=i,"undefined"!=typeof angular&&(e.moduleAgent.provider("serviceAgentExtended",function(){this.$get=["$q","instanceLoaderService","$timeout","$rootScope",function(e,t,n,r){return o.Instance(e,t,n,r)}]}),e.moduleAgent.provider("serviceAgent",function(){this.$get=["$q","instanceLoaderService","$timeout","$rootScope",function(e,t,n,r){return o.Instance(e,t,n,r)}]}),e.moduleAgent.provider("serviceAgentProvider",function(){this.$get=["$q","instanceLoaderService","$timeout","$rootScope",function(e,t,n,r){return o.Instance(e,t,n,r)}]}))}(e.Services||(e.Services={}))}(MyWay||(MyWay={})),function(e){var i,s,t;i=e.Services||(e.Services={}),s=i.Core||(i.Core={}),t=function(o){function e(){var e=o.call(this)||this;return e._listenersOnNotification=[],e}return __extends(e,o),e.prototype.addListenerOnNotification=function(e){this._listenersOnNotification.push(e)},e.prototype.removeListenerOnNotification=function(t){i.CoreCommon.ArrayUtils.remove(this._listenersOnNotification,function(e){return t===e})},e.prototype.sendNotification=function(t){this._listenersOnNotification.forEach(function(e){e(t)})},e.prototype.init=function(e,t,n){var r=this;return this.library=e,this.messageService=t,i.CoreCommon.registerMethodForSendRequest(function(e){return r.sendMessage(s.CoreMessageSubject.SendRequest,e)}),o.prototype.getPromesseSelfResoved.call(this)},e.prototype.reception=function(t){var n=this;return o.prototype.promesseTryCatch.call(this,function(e){e.reject(new i.Erreur("Subject "+t.subject+" not implemented on "+n.name+" agent"))})},e.prototype.dispose=function(){return o.prototype.getPromesseSelfResoved.call(this)},e.prototype.sendMessage=function(e,t){return this.messageService.sendWithResponse(this.name,e,t)},e}(i.CoreCommon),s.CoreAgent=t,i.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),function(e){var t,n,r;t=e.Services||(e.Services={}),n=t.Message||(t.Message={}),r=function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}return o.m=n,o.c=r,o.p="",o(0)}([function(e,t,n){var c=n(1),r=n(7),u=n(15),p=n(3)("socket.io-client");e.exports=t=o;var h=t.managers={};function o(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=c(e),o=r.source,i=r.id,s=r.path,a=h[i]&&s in h[i].nsps;return n=t.forceNew||t["force new connection"]||!1===t.multiplex||a?(p("ignoring socket cache for %s",o),u(o,t)):(h[i]||(p("new io instance for %s",o),h[i]=u(o,t)),h[i]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}t.protocol=r.protocol,t.connect=o,t.Manager=n(15),t.Socket=n(39)},function(e,t,n){var o=n(2),i=n(3)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=o(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var o=a.exec(e||""),i={},s=14;s--;)i[c[s]]=o[s]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i}},function(o,r,e){(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))}),e.splice(r,0,t)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){var e=void 0;try{e=r.storage.getItem("debug")}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],o.exports=e(5)(r),o.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(r,e(4))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],p=!1,h=-1;function f(){p&&c&&(p=!1,c.length?u=c.concat(u):h=-1,u.length&&l())}function l(){if(!p){var e=a(f);p=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,p=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||p||a(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,s){function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}e.exports=function(t){function n(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return u.colors[Math.abs(t)%u.colors.length]}function u(e){var a=void 0;function c(){for(var e=arguments.length,o=Array(e),t=0;t<e;t++)o[t]=arguments[t];if(c.enabled){var i=c,n=Number(new Date),r=n-(a||n);i.diff=r,i.prev=a,i.curr=n,a=n,o[0]=u.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;s++;var n=u.formatters[t];if("function"==typeof n){var r=o[s];e=n.call(i,r),o.splice(s,1),s--}return e}),u.formatArgs.call(i,o),(i.log||u.log).apply(i,o)}}return c.namespace=e,c.enabled=u.enabled(e),c.useColors=u.useColors(),c.color=n(e),c.destroy=r,c.extend=o,"function"==typeof u.init&&u.init(c),u.instances.push(c),c}function r(){var e=u.instances.indexOf(this);return-1!==e&&(u.instances.splice(e,1),!0)}function o(e,t){var n=u(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((u.debug=u).default=u).coerce=function(e){return e instanceof Error?e.stack||e.message:e},u.disable=function(){var e=[].concat(a(u.names.map(i)),a(u.skips.map(i).map(function(e){return"-"+e}))).join(",");return u.enable(""),e},u.enable=function(e){u.save(e),u.names=[],u.skips=[];var t=void 0,n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?u.skips.push(new RegExp("^"+e.substr(1)+"$")):u.names.push(new RegExp("^"+e+"$")));for(t=0;t<u.instances.length;t++){var o=u.instances[t];o.enabled=u.enabled(o.namespace)}},u.enabled=function(e){if("*"===e[e.length-1])return!0;var t=void 0,n=void 0;for(t=0,n=u.skips.length;t<n;t++)if(u.skips[t].test(e))return!1;for(t=0,n=u.names.length;t<n;t++)if(u.names[t].test(e))return!0;return!1},u.humanize=s(6),Object.keys(t).forEach(function(e){u[e]=t[e]}),u.instances=[],u.names=[],u.skips=[],u.formatters={},u.selectColor=n,u.enable(u.load()),u}},function(e,t){var a=36e5,c=864e5;function u(e,t,n,r){var o=1.5*n<=t;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var n,r,o,i,s=typeof e;if("string"===s&&0<e.length)return function(e){if(!(100<(e=String(e)).length)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===s&&isFinite(e))return t.long?(o=e,i=Math.abs(o),c<=i?u(o,i,c,"day"):a<=i?u(o,i,a,"hour"):6e4<=i?u(o,i,6e4,"minute"):1e3<=i?u(o,i,1e3,"second"):o+" ms"):(n=e,r=Math.abs(n),c<=r?Math.round(n/c)+"d":a<=r?Math.round(n/a)+"h":6e4<=r?Math.round(n/6e4)+"m":1e3<=r?Math.round(n/1e3)+"s":n+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,c,t){var u=t(8)("socket.io-parser"),n=t(11),i=t(12),p=t(13),r=t(14);function o(){}c.protocol=4,c.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],c.CONNECT=0,c.DISCONNECT=1,c.EVENT=2,c.ACK=3,c.ERROR=4,c.BINARY_EVENT=5,c.BINARY_ACK=6,c.Encoder=o,c.Decoder=h;var s=c.ERROR+'"encode error"';function a(e){var t=""+e.type;if(c.BINARY_EVENT!==e.type&&c.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data){var n=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===n)return s;t+=n}return u("encoded %j as %s",e,t),t}function h(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:c.ERROR,data:"parser error: "+e}}o.prototype.encode=function(e,t){var n,o;u("encoding packet %j",e),c.BINARY_EVENT===e.type||c.BINARY_ACK===e.type?(n=e,o=t,i.removeBlobs(n,function(e){var t=i.deconstructPacket(e),n=a(t.packet),r=t.buffers;r.unshift(n),o(r)})):t([a(e)])},n(h.prototype),h.prototype.add=function(e){var t;if("string"==typeof e)t=function(e){var t=0,n={type:Number(e.charAt(0))};if(null==c.types[n.type])return l("unknown packet type "+n.type);if(c.BINARY_EVENT===n.type||c.BINARY_ACK===n.type){for(var r="";"-"!==e.charAt(++t)&&(r+=e.charAt(t),t!=e.length););if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1))for(n.nsp="";++t;){var o=e.charAt(t);if(","===o)break;if(n.nsp+=o,t===e.length)break}else n.nsp="/";var i=e.charAt(t+1);if(""!==i&&Number(i)==i){for(n.id="";++t;){var o=e.charAt(t);if(null==o||Number(o)!=o){--t;break}if(n.id+=e.charAt(t),t===e.length)break}n.id=Number(n.id)}if(e.charAt(++t)){var s=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t)),a=!1!==s&&(n.type===c.ERROR||p(s));if(!a)return l("invalid payload");n.data=s}return u("decoded %s as %j",e,n),n}(e),c.BINARY_EVENT===t.type||c.BINARY_ACK===t.type?(this.reconstructor=new f(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!r(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length!==this.reconPack.attachments)return null;var t=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(r,i,o){(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(){var e;try{e=i.storage.debug}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e}(i=r.exports=o(9)).log=function(){return"object"===("undefined"==typeof console?"undefined":e(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+i.humanize(this.diff),t){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,n)}},i.save=function(e){try{null==e?i.storage.removeItem("debug"):i.storage.debug=e}catch(e){}},i.load=n,i.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],i.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},i.enable(n())}).call(i,o(4))},function(e,c,t){function n(e){var r;function a(){if(a.enabled){var o=a,e=+new Date,t=e-(r||e);o.diff=t,o.prev=r,o.curr=e,r=e;for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];i[0]=c.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;s++;var n=c.formatters[t];if("function"==typeof n){var r=i[s];e=n.call(o,r),i.splice(s,1),s--}return e}),c.formatArgs.call(o,i),(a.log||c.log||console.log.bind(console)).apply(o,i)}}return a.namespace=e,a.enabled=c.enabled(e),a.useColors=c.useColors(),a.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return c.colors[Math.abs(n)%c.colors.length]}(e),a.destroy=o,"function"==typeof c.init&&c.init(a),c.instances.push(a),a}function o(){var e=c.instances.indexOf(this);return-1!==e&&(c.instances.splice(e,1),!0)}(c=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},c.disable=function(){c.enable("")},c.enable=function(e){var t;c.save(e),c.names=[],c.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?c.skips.push(new RegExp("^"+e.substr(1)+"$")):c.names.push(new RegExp("^"+e+"$")));for(t=0;t<c.instances.length;t++){var o=c.instances[t];o.enabled=c.enabled(o.namespace)}},c.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=c.skips.length;t<n;t++)if(c.skips[t].test(e))return!1;for(t=0,n=c.names.length;t<n;t++)if(c.names[t].test(e))return!0;return!1},c.humanize=t(10),c.instances=[],c.names=[],c.skips=[],c.formatters={}},function(e,t){var i=36e5,s=864e5;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var n,r,o=typeof e;if("string"===o&&0<e.length)return function(e){if(!(100<(e=String(e)).length)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===o&&!1===isNaN(e))return t.long?a(n=e,s,"day")||a(n,i,"hour")||a(n,6e4,"minute")||a(n,1e3,"second")||n+" ms":s<=(r=e)?Math.round(r/s)+"d":i<=r?Math.round(r/i)+"h":6e4<=r?Math.round(r/6e4)+"m":1e3<=r?Math.round(r/1e3)+"s":r+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}(e.exports=r).prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var p=n(13),h=n(14),r=Object.prototype.toString,f="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),l="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=function e(t,n){if(!t)return t;if(h(t)){var r={_placeholder:!0,num:n.length};return n.push(t),r}if(p(t)){for(var o=new Array(t.length),i=0;i<t.length;i++)o[i]=e(t[i],n);return o}if("object"!=typeof t||t instanceof Date)return t;var o={};for(var s in t)o[s]=e(t[s],n);return o}(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(p(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"==typeof t)for(var o in t)t[o]=e(t[o],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,a){var c=0,u=e;!function e(t,n,r){if(!t)return t;if(f&&t instanceof Blob||l&&t instanceof File){c++;var o=new FileReader;o.onload=function(){r?r[n]=this.result:u=this.result,--c||a(u)},o.readAsArrayBuffer(t)}else if(p(t))for(var i=0;i<t.length;i++)e(t[i],i,t);else if("object"==typeof t&&!h(t))for(var s in t)e(t[s],s,t)}(u),c||a(u)}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e){return n&&Buffer.isBuffer(e)||r&&(e instanceof ArrayBuffer||o(e))};var n="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,r="function"==typeof ArrayBuffer,o=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}},function(e,t,n){var c=n(16),i=n(39),r=n(11),o=n(7),u=n(41),s=n(42),p=n(3)("socket.io-client:manager"),a=n(38),h=n(43),f=Object.prototype.hasOwnProperty;function l(e,t){if(!(this instanceof l))return new l(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}(e.exports=l).prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},l.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},l.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},r(l.prototype),l.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},l.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},l.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},l.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},l.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},l.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},l.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},l.prototype.open=l.prototype.connect=function(n,e){if(p("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=c(this.uri,this.opts);var t=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=u(t,"open",function(){r.onopen(),n&&n()}),i=u(t,"error",function(e){if(p("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),n){var t=new Error("Connection error");t.data=e,n(t)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;p("connect attempt will timeout after %d",s);var a=setTimeout(function(){p("connect attempt timed out after %d",s),o.destroy(),t.close(),t.emit("error","timeout"),r.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(o),this.subs.push(i),this},l.prototype.onopen=function(){p("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",s(this,"ondata"))),this.subs.push(u(e,"ping",s(this,"onping"))),this.subs.push(u(e,"pong",s(this,"onpong"))),this.subs.push(u(e,"error",s(this,"onerror"))),this.subs.push(u(e,"close",s(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",s(this,"ondecoded")))},l.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},l.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},l.prototype.ondata=function(e){this.decoder.add(e)},l.prototype.ondecoded=function(e){this.emit("packet",e)},l.prototype.onerror=function(e){p("error",e),this.emitAll("error",e)},l.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",o),n.on("connect",function(){n.id=r.generateId(e)}),this.autoConnect&&o()}function o(){~a(r.connecting,n)||r.connecting.push(n)}return n},l.prototype.destroy=function(e){var t=a(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},l.prototype.packet=function(n){p("writing packet %j",n);var r=this;n.query&&0===n.type&&(n.nsp+="?"+n.query),r.encoding?r.packetBuffer.push(n):(r.encoding=!0,this.encoder.encode(n,function(e){for(var t=0;t<e.length;t++)r.engine.write(e[t],n.options);r.encoding=!1,r.processPacketQueue()}))},l.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},l.prototype.cleanup=function(){p("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},l.prototype.close=l.prototype.disconnect=function(){p("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},l.prototype.onclose=function(e){p("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},l.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();p("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(p("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(p("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(p("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},l.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(17),e.exports.parser=n(24)},function(e,t,n){var r=n(18),o=n(11),h=n(3)("engine.io-client:socket"),i=n(38),s=n(24),a=n(2),c=n(32);function f(e,t){if(!(this instanceof f))return new f(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=a(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=a(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}(e.exports=f).priorWebsocketSuccess=!1,o(f.prototype),f.protocol=s.protocol,(f.Socket=f).Transport=n(23),f.transports=n(18),f.parser=n(24),f.prototype.createTransport=function(e){h('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},f.prototype.open=function(){var e;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},f.prototype.setTransport=function(e){h("setting transport %s",e.name);var t=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=e).on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},f.prototype.probe=function(n){h('probing transport "%s"',n);var r=this.createTransport(n,{probe:1}),o=!1,i=this;function e(){if(i.onlyBinaryUpgrades){var e=!this.supportsBinary&&i.transport.supportsBinary;o=o||e}o||(h('probe transport "%s" opened',n),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(e){if(!o)if("pong"===e.type&&"probe"===e.data){if(h('probe transport "%s" pong',n),i.upgrading=!0,i.emit("upgrading",r),!r)return;f.priorWebsocketSuccess="websocket"===r.name,h('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){o||"closed"!==i.readyState&&(h("changing transport and sending upgrade packet"),p(),i.setTransport(r),r.send([{type:"upgrade"}]),i.emit("upgrade",r),r=null,i.upgrading=!1,i.flush())})}else{h('probe transport "%s" failed',n);var t=new Error("probe error");t.transport=r.name,i.emit("upgradeError",t)}}))}function s(){o||(o=!0,p(),r.close(),r=null)}function t(e){var t=new Error("probe error: "+e);t.transport=r.name,s(),h('probe transport "%s" failed because of error: %s',n,e),i.emit("upgradeError",t)}function a(){t("transport closed")}function c(){t("socket closed")}function u(e){r&&e.name!==r.name&&(h('"%s" works - aborting "%s"',e.name,r.name),s())}function p(){r.removeListener("open",e),r.removeListener("error",t),r.removeListener("close",a),i.removeListener("close",c),i.removeListener("upgrading",u)}f.priorWebsocketSuccess=!1,r.once("open",e),r.once("error",t),r.once("close",a),this.once("close",c),this.once("upgrading",u),r.open()},f.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},f.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(h('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else h('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},f.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},f.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},f.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},f.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}function t(){e.onClose("forced close"),h("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},f.prototype.onError=function(e){h("socket error %j",e),f.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},f.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(h('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},f.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~i(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t,n){var s=n(19),a=n(21),c=n(35),r=n(36);t.polling=function(e){var t=!1,n=!1,r=!1!==e.jsonp;if("undefined"!=typeof location){var o="https:"===location.protocol,i=location.port;i||(i=o?443:80),t=e.hostname!==location.hostname||i!==e.port,n=e.secure!==o}if(e.xdomain=t,e.xscheme=n,"open"in new s(e)&&!e.forceJSONP)return new a(e);if(!r)throw new Error("JSONP disabled");return new c(e)},t.websocket=r},function(e,t,n){var o=n(20);e.exports=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||o))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(e,t,n){var o=n(19),r=n(22),i=n(11),s=n(33),a=n(3)("engine.io-client:polling-xhr");function c(){}function u(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function p(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=u,e.exports.Request=p,s(u,r),u.prototype.supportsBinary=!0,u.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new p(e)},u.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},u.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},i(p.prototype),p.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new o(e),n=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError("number"==typeof t.status?t.status:0)},0))},a("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}"undefined"!=typeof document&&(this.index=p.requestsCount++,p.requests[this.index]=this)},p.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},p.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},p.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},p.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete p.requests[this.index],this.xhr=null}},p.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},p.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},p.prototype.abort=function(){this.cleanup()},p.requestsCount=0,p.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",f);else if("function"==typeof addEventListener){var h="onpagehide"in self?"pagehide":"unload";addEventListener(h,f,!1)}function f(){for(var e in p.requests)p.requests.hasOwnProperty(e)&&p.requests[e].abort()}},function(e,t,n){var r=n(23),o=n(32),i=n(24),s=n(33),a=n(34),c=n(3)("engine.io-client:polling");e.exports=p;var u=null!=new(n(19))({xdomain:!1}).responseType;function p(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}s(p,r),p.prototype.name="polling",p.prototype.doOpen=function(){this.poll()},p.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||n()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||n()}))}else n()},p.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},p.prototype.onData=function(e){var r=this;c("polling got data %s",e),i.decodePayload(e,this.socket.binaryType,function(e,t,n){if("opening"===r.readyState&&r.onOpen(),"close"===e.type)return r.onClose(),!1;r.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},p.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},p.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};i.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){var r=n(24);function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}n(11)((e.exports=o).prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,f,t){var o,n=t(25),i=t(26),l=t(27),a=t(28),u=t(29);"undefined"!=typeof ArrayBuffer&&(o=t(30));var r="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),s="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=r||s;f.protocol=3;var h=f.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},c=n(h),d={type:"error",data:"parser error"},y=t(31);function g(e,t,n){for(var o=new Array(e.length),r=a(e.length,n),i=function(n,e,r){t(e,function(e,t){o[n]=t,r(e,o)})},s=0;s<e.length;s++)i(s,e[s],r)}f.encodePacket=function(e,t,n,r){"function"==typeof t&&(r=t,t=!1),"function"==typeof n&&(r=n,n=null);var o,i,s,a=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(e,t,n){if(!t)return f.encodeBase64Packet(e,n);var r=e.data,o=new Uint8Array(r),i=new Uint8Array(1+r.byteLength);i[0]=h[e.type];for(var s=0;s<o.length;s++)i[s+1]=o[s];return n(i.buffer)}(e,t,r);if(void 0!==y&&a instanceof y)return function(e,t,n){if(!t)return f.encodeBase64Packet(e,n);if(p)return function(e,t,n){if(!t)return f.encodeBase64Packet(e,n);var r=new FileReader;return r.onload=function(){f.encodePacket({type:e.type,data:r.result},t,!0,n)},r.readAsArrayBuffer(e.data)}(e,t,n);var r=new Uint8Array(1);r[0]=h[e.type];var o=new y([r.buffer,e.data]);return n(o)}(e,t,r);if(a&&a.base64)return o=e,i=r,s="b"+f.packets[o.type]+o.data.data,i(s);var c=h[e.type];return void 0!==e.data&&(c+=n?u.encode(String(e.data),{strict:!1}):String(e.data)),r(""+c)},f.encodeBase64Packet=function(t,n){var r,o="b"+f.packets[t.type];if(void 0!==y&&t.data instanceof y){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];n(o+e)},i.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];r=String.fromCharCode.apply(null,a)}return o+=btoa(r),n(o)},f.decodePacket=function(e,t,n){if(void 0===e)return d;if("string"==typeof e){if("b"===e.charAt(0))return f.decodeBase64Packet(e.substr(1),t);if(n&&!1===(e=function(e){try{e=u.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return d;var r=e.charAt(0);return Number(r)==r&&c[r]?1<e.length?{type:c[r],data:e.substring(1)}:{type:c[r]}:d}r=new Uint8Array(e)[0];var o=l(e,1);return y&&"blob"===t&&(o=new y([o])),{type:c[r],data:o}},f.decodeBase64Packet=function(e,t){var n=c[e.charAt(0)];if(!o)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=o.decode(e.substr(1));return"blob"===t&&y&&(r=new y([r])),{type:n,data:r}},f.encodePayload=function(e,t,n){"function"==typeof t&&(n=t,t=null);var r=i(e);return t&&r?y&&!p?f.encodePayloadAsBlob(e,n):f.encodePayloadAsArrayBuffer(e,n):e.length?void g(e,function(e,n){f.encodePacket(e,!!r&&t,!1,function(e){var t;n(null,(t=e).length+":"+t)})},function(e,t){return n(t.join(""))}):n("0:")},f.decodePayload=function(e,t,n){if("string"!=typeof e)return f.decodePayloadAsBinary(e,t,n);var r;if("function"==typeof t&&(n=t,t=null),""===e)return n(d,0,1);for(var o,i,s="",a=0,c=e.length;a<c;a++){var u=e.charAt(a);if(":"===u){if(""===s||s!=(o=Number(s)))return n(d,0,1);if(s!=(i=e.substr(a+1,o)).length)return n(d,0,1);if(i.length){if(r=f.decodePacket(i,t,!1),d.type===r.type&&d.data===r.data)return n(d,0,1);if(!1===n(r,a+o,c))return}a+=o,s=""}else s+=u}return""!==s?n(d,0,1):void 0},f.encodePayloadAsArrayBuffer=function(e,r){if(!e.length)return r(new ArrayBuffer(0));g(e,function(e,t){f.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,t){var n=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),s=new Uint8Array(n),a=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);n=r.buffer}s[a++]=t?0:1;var i=n.byteLength.toString();for(o=0;o<i.length;o++)s[a++]=parseInt(i[o]);for(s[a++]=255,r=new Uint8Array(n),o=0;o<r.length;o++)s[a++]=r[o]}),r(s.buffer)})},f.encodePayloadAsBlob=function(e,n){g(e,function(e,a){f.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);e=n.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),i=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)i[r]=parseInt(o[r]);if(i[o.length]=255,y){var s=new y([t.buffer,i.buffer,e]);a(null,s)}})},function(e,t){return n(new y(t))})},f.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var t=e,o=[];0<t.byteLength;){for(var i=new Uint8Array(t),s=0===i[0],a="",c=1;255!==i[c];c++){if(310<a.length)return r(d,0,1);a+=i[c]}t=l(t,2+a.length),a=parseInt(a);var u=l(t,0,a);if(s)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(e){var p=new Uint8Array(u);for(u="",c=0;c<p.length;c++)u+=String.fromCharCode(p[c])}o.push(u),t=l(t,a)}var h=o.length;o.forEach(function(e,t){r(f.decodePacket(e,n,!0),t,h)})}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){var i=n(13),r=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);e.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(i(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&e(t[o]))return!0;return!1}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),r<n&&(n=r),r<=t||n<=t||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},function(e,t){function s(){}e.exports=function(e,n,r){var o=!1;return r=r||s,0===(i.count=e)?n():i;function i(e,t){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,n(e),n=r):0!==i.count||o||n(null,t)}}},function(e,t){var i,s,a,c=String.fromCharCode;function u(e){for(var t,n,r=[],o=0,i=e.length;o<i;)55296<=(t=e.charCodeAt(o++))&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function r(e,t){if(55296<=e&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function o(e,t){return c(e>>t&63|128)}function p(e,t){if(0==(4294967168&e))return c(e);var n="";return 0==(4294965248&e)?n=c(e>>6&31|192):0==(4294901760&e)?(r(e,t)||(e=65533),n=c(e>>12&15|224),n+=o(e,6)):0==(4292870144&e)&&(n=c(e>>18&7|240),n+=o(e,12),n+=o(e,6)),n+=c(63&e|128)}function h(){if(s<=a)throw Error("Invalid byte index");var e=255&i[a];if(a++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function f(e){var t,n;if(s<a)throw Error("Invalid byte index");if(a==s)return!1;if(t=255&i[a],a++,0==(128&t))return t;if(192==(224&t)){if(128<=(n=(31&t)<<6|h()))return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if(2048<=(n=(15&t)<<12|h()<<6|h()))return r(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&65536<=(n=(7&t)<<18|h()<<12|h()<<6|h())&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=u(e),o=r.length,i=-1,s="";++i<o;)s+=p(r[i],n);return s},decode:function(e,t){var n=!1!==(t=t||{}).strict;i=u(e),s=i.length,a=0;for(var r,o=[];!1!==(r=f(n));)o.push(r);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)65535<(t=e[r])&&(o+=c((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=c(t);return o}(o)}}},function(e,t){!function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=new Uint8Array(256),e=0;e<i.length;e++)h[i.charCodeAt(e)]=e;t.encode=function(e){var t,n=new Uint8Array(e),r=n.length,o="";for(t=0;t<r;t+=3)o+=i[n[t]>>2],o+=i[(3&n[t])<<4|n[t+1]>>4],o+=i[(15&n[t+1])<<2|n[t+2]>>6],o+=i[63&n[t+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,n,r,o,i,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),p=new Uint8Array(u);for(t=0;t<a;t+=4)n=h[e.charCodeAt(t)],r=h[e.charCodeAt(t+1)],o=h[e.charCodeAt(t+2)],i=h[e.charCodeAt(t+3)],p[c++]=n<<2|r>>4,p[c++]=(15&r)<<4|o>>2,p[c++]=(3&o)<<6|63&i;return u}}()},function(e,t){var r=void 0!==r?r:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=r&&r.prototype.append&&r.prototype.getBlob;function s(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function a(e,t){t=t||{};var n=new r;return s(e).forEach(function(e){n.append(e)}),t.type?n.getBlob(t.type):n.getBlob()}function c(e,t){return new Blob(s(e),t||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=n?o?Blob:c:i?a:void 0},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,i={},s=0,a=0;function c(e){for(var t="";t=r[e%o]+t,0<(e=Math.floor(e/o)););return t}function u(){var e=c(+new Date);return e!==n?(s=0,n=e):e+"."+c(s++)}for(;a<o;a++)i[r[a]]=a;u.encode=c,u.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=t*o+i[e.charAt(a)];return t},e.exports=u},function(n,e,a){(function(r){var o=a(22),e=a(33);n.exports=t;var i,u=/\n/g,p=/\\n/g;function s(){}function t(e){if(o.call(this,e),this.query=this.query||{},!i){var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:{};i=t.___eio=t.___eio||[]}this.index=i.length;var n=this;i.push(function(e){n.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=s)},!1)}e(t,o),t.prototype.supportsBinary=!1,t.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},t.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},t.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,o=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=s,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function a(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),c(),e=e.replace(p,"\\\n"),this.area.value=e.replace(u,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a}}).call(e,function(){return this}())},function(e,t,n){var r,o,i=n(23),s=n(24),a=n(32),c=n(33),u=n(34),p=n(3)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{o=n(37)}catch(e){}var h=r||o;function f(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(h=o),i.call(this,e)}c(e.exports=f,i),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new h(e,t):new h(e):new h(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},f.prototype.write=function(e){var r=this;this.writable=!1;for(var o=e.length,t=0,n=o;t<n;t++)!function(n){s.encodePacket(n,r.supportsBinary,function(e){if(!r.usingBrowserWebSocket){var t={};n.options&&(t.compress=n.options.compress),r.perMessageDeflate&&("string"==typeof e?Buffer.byteLength(e):e.length)<r.perMessageDeflate.threshold&&(t.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(e):r.ws.send(e,t)}catch(e){p("websocket closed before onclose event")}--o||(r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0))})}(e[t])},f.prototype.onClose=function(){i.prototype.onClose.call(this)},f.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},f.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===f.prototype.name)}},function(e,t){},function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){var o=n(7),r=n(11),i=n(40),s=n(41),a=n(42),c=n(3)("socket.io-client:socket"),u=n(32),p=n(26);e.exports=l;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=r.prototype.emit;function l(e,t,n){this.io=e,this.nsp=t,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(l.prototype),l.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",a(this,"onopen")),s(e,"packet",a(this,"onpacket")),s(e,"close",a(this,"onclose"))]}},l.prototype.open=l.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},l.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},l.prototype.emit=function(e){if(h.hasOwnProperty(e))return f.apply(this,arguments),this;var t=i(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:p(t))?o.BINARY_EVENT:o.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},l.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},l.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:o.CONNECT,query:e})}else this.packet({type:o.CONNECT})},l.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},l.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===o.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},l.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},l.prototype.ack=function(t){var n=this,r=!1;return function(){if(!r){r=!0;var e=i(arguments);c("sending ack %j",e),n.packet({type:p(e)?o.BINARY_ACK:o.ACK,id:t,data:e})}}},l.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},l.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},l.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},l.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},l.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},l.prototype.close=l.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},l.prototype.compress=function(e){return this.flags.compress=e,this},l.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var r=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}(e.exports=n).prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}])},"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):n.io=r()}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-core-agent.min.js.map
var MyWay;!function(e){var n,o;n=e.Services||(e.Services={}),((o=n.Components||(n.Components={})).ComponentType||(o.ComponentType={})).JAB="JAB"}(MyWay||(MyWay={})),function(e){var n,o,t;n=e.Services||(e.Services={}),o=n.JAB||(n.JAB={}),(t=o.JABMessageSubject||(o.JABMessageSubject={}))[t.Enregistrer=0]="Enregistrer",n.Components.FactoryRegistries.getInstance().declareComponent(n.Components.ComponentType.JAB,[n.Components.ComponentType.Core])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-jab-common.min.js.map
var MyWay;!function(e){var n,t;n=e.Services||(e.Services={}),((t=n.Components||(n.Components={})).ComponentType||(t.ComponentType={})).TraitementNsdk="TraitementNsdk"}(MyWay||(MyWay={})),function(e){var n,t,o;n=e.Services||(e.Services={}),t=n.TraitementNsdk||(n.TraitementNsdk={}),(o=t.TraitementNsdkMessageSubject||(t.TraitementNsdkMessageSubject={}))[o.Lancer=0]="Lancer",n.Components.FactoryRegistries.getInstance().declareComponent(n.Components.ComponentType.TraitementNsdk,[n.Components.ComponentType.Core])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-traitement-nsdk-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();!function(e){var t,o;t=e.Services||(e.Services={}),((o=t.Components||(t.Components={})).ComponentType||(o.ComponentType={})).Dates="Dates"}(MyWay||(MyWay={})),function(e){var m;(function(e){var n,t;(t=n=e.FORMATS_DATE||(e.FORMATS_DATE={}))[t.aaaammjj=10]="aaaammjj";var o=function(e){function l(){return e.call(this,m.Components.ComponentType.Dates)||this}return __extends(l,e),l.prototype.init=function(){return m.CoreCommon.getPromesseSelfResoved()},l.prototype.dispose=function(){return m.CoreCommon.getPromesseSelfResoved()},l.prototype.getDateDuJour=function(e){var t="";if(m.Controle.StaticEnumControle.isAnEnumValue(e,n)||(t+="Le paramètre 'format' est obligatoire et sa valeur doit faire partie de l'enum 'FORMATS_DATE' / "),""!=t)return t=t.substring(0,t.lastIndexOf("/")-1),m.Loggers.FLASH.INSTANCE.setValue("action","getDateDuJour"),void l.logger.error(t);var o=new Date;switch(e){case n.aaaammjj:return o.getFullYear()+("0"+(o.getMonth()+1)).substr(-2,2)+("0"+o.getDate()).substr(-2,2);default:var r="Le format '"+e+"' n'est pas reconnu!";return m.Loggers.FLASH.INSTANCE.setValue("action","getDateDuJour"),l.logger.error(r),r}},l.prototype.isBissextile=function(){var e=(new Date).getFullYear();return e%4==0&&e%100!=0||e%400==0},l.prototype.getNbJoursMois=function(e,t){return[31,this.isBissextile()?29:28,31,30,31,30,31,31,30,31,30,31][t]},l.prototype.CompareDates=function(e,t,o){var r,n=Math.round(Math.abs((e.getTime()-t.getTime())/864e5));switch(o){case"d":r=1;break;case"m":r=30;break;case"y":r=365;break;default:r=1}return Math.floor(n/r)},l.prototype.addDate=function(e,t,o,r){var n="";if(m.Controle.StaticDateControle.isDate(e)||(n+="Le paramètre 'd' est obligatoire et doit être un objet date / "),m.Controle.StaticNumberControle.isInt(t)||(n+="Le paramètre 'jours' est obligatoire et doit être un nombre entier / "),m.Controle.StaticAnyControle.isNotUndefinedAndNotNull(o)&&!m.Controle.StaticNumberControle.isInt(o)&&(n+="Le paramètre 'mois' doit être un nombre entier / "),m.Controle.StaticAnyControle.isNotUndefinedAndNotNull(r)&&!m.Controle.StaticNumberControle.isInt(r)&&(n+="Le paramètre 'annees' doit être un nombre entier / "),""!=n)return n=n.substring(0,n.lastIndexOf("/")-1),m.Loggers.FLASH.INSTANCE.setValue("action","addDate"),void l.logger.error(n);var a=e.getTime(),s=new Date;if(0<t&&(a+=864e5*t),s.setTime(a),null!=o&&0<o){var i=s.getDate();s.setDate(1),s.setMonth(s.getMonth()+o);var u=this.getNbJoursMois(s.getFullYear(),s.getMonth());s.setDate(Math.min(i,u))}return null!=r&&0<r&&s.setFullYear(s.getFullYear()+r),s},l.CLASS_NAME="MyWay.Services.Dates.DatesCommon",l.logger=m.Loggers.LoggerFactory.INSTANCE.getClass(l.CLASS_NAME),l}(m.Components.ComponentBase);e.DatesCommon=o,m.Components.RegistryCommon.getInstance().register(o),m.Components.FactoryRegistries.getInstance().declareComponent(m.Components.ComponentType.Dates,[])})((m=e.Services||(e.Services={})).Dates||(m.Dates={}))}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-dates-common.min.js.map
var MyWay;!function(e){var n,s;n=e.Services||(e.Services={}),((s=n.Components||(n.Components={})).ComponentType||(s.ComponentType={})).Persistence="Persistence"}(MyWay||(MyWay={})),function(e){var n,s;n=e.Services||(e.Services={}),(s=n.Persistence||(n.Persistence={})).PersistenceMessageSubject||(s.PersistenceMessageSubject={}),n.Components.FactoryRegistries.getInstance().declareComponent(n.Components.ComponentType.Persistence,[])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-persistence-common.min.js.map
var MyWay;!function(e){var _,F,i,n;_=e.Services||(e.Services={}),F=_.Fichier||(_.Fichier={}),(i=F.TYPE_FICHIER||(F.TYPE_FICHIER={}))[i.PDF=0]="PDF",i[i.PDF_EMBED=5]="PDF_EMBED",i[i.PDFA_1A=10]="PDFA_1A",i[i.PDFA_1B=15]="PDFA_1B",i[i.PDFX_1_2001=20]="PDFX_1_2001",i[i.PDFX_1A_2001=25]="PDFX_1A_2001",i[i.PDFX_1A_2003=30]="PDFX_1A_2003",i[i.PDFX_3_2002=35]="PDFX_3_2002",i[i.PDFX_3_2003=40]="PDFX_3_2003",i[i.JSON=105]="JSON",i[i.TAR_GZ=110]="TAR_GZ",i[i.WORDML=100]="WORDML",(n=F.TYPE_DONNEES_A_SAUVER||(F.TYPE_DONNEES_A_SAUVER={}))[n.BLOB=0]="BLOB",n[n.BASE64=1]="BASE64"}(MyWay||(MyWay={})),function(e){var _,F;_=e.Services||(e.Services={}),((F=_.Components||(_.Components={})).ComponentType||(F.ComponentType={})).Fichier="Fichier"}(MyWay||(MyWay={})),function(e){var _,F,i;_=e.Services||(e.Services={}),F=_.Fichier||(_.Fichier={}),(i=F.FichierMessageSubject||(F.FichierMessageSubject={}))[i.SaveAs=0]="SaveAs",_.Components.FactoryRegistries.getInstance().declareComponent(_.Components.ComponentType.Fichier,[])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-fichier-common.min.js.map
var MyWay;!function(e){var E,n;E=e.Services||(e.Services={}),((n=E.Components||(E.Components={})).ComponentType||(n.ComponentType={})).BaseDeDonnees="BaseDeDonnees"}(MyWay||(MyWay={})),function(e){var E,n,s,R;E=e.Services||(e.Services={}),n=E.BaseDeDonnees||(E.BaseDeDonnees={}),s=n.Messages||(n.Messages={}),(R=s.BaseDeDonneesMessageSubject||(s.BaseDeDonneesMessageSubject={}))[R.GetBases=0]="GetBases",R[R.Get=1]="Get",R[R.GetAll=2]="GetAll",R[R.Find=3]="Find",R[R.Count=4]="Count",R[R.Ajouter=5]="Ajouter",R[R.Supprimer=6]="Supprimer",R[R.MettreAJour=7]="MettreAJour",R[R.ResetAll=8]="ResetAll",E.Components.FactoryRegistries.getInstance().declareComponent(E.Components.ComponentType.BaseDeDonnees,[])}(MyWay||(MyWay={})),function(e){var E,n,s,R,T,I,t,a,o;E=e.Services||(e.Services={}),n=E.BaseDeDonnees||(E.BaseDeDonnees={}),(s=n.messages||(n.messages={})).NOM_BIBLIOTHEQUE="BaseDeDonnees",(R=s.DB_UPGRADE_TYPE||(s.DB_UPGRADE_TYPE={}))[R.TABLE_CREER="tableCreer"]="TABLE_CREER",R[R.TABLE_SUPPRIMER="tableSupprimer"]="TABLE_SUPPRIMER",R[R.INDEX_CREER="indexCreer"]="INDEX_CREER",R[R.INDEX_SUPPRIMER="indexSupprimer"]="INDEX_SUPPRIMER",(T=s.CAPACITE||(s.CAPACITE={}))[T.VOLATILE=1]="VOLATILE",T[T.MONO_ENREGISTREMENT=2]="MONO_ENREGISTREMENT",T[T.MULTI_ENREGISTREMENT=3]="MULTI_ENREGISTREMENT",(I=s.TYPE_BASE||(s.TYPE_BASE={}))[I.INDEXEDDB="indexeddb"]="INDEXEDDB",I[I.LOCALSTORAGE="localstorage"]="LOCALSTORAGE",I[I.MEMORY="memory"]="MEMORY",(t=s.CLE_TYPE||(s.CLE_TYPE={}))[t.AUTOINCREMENT="autoincrement"]="AUTOINCREMENT",t[t.PATH="path"]="PATH",(a=s.CRITERE_TYPE||(s.CRITERE_TYPE={}))[a.EGAL="egal"]="EGAL",a[a.INFERIEUR="inferieur"]="INFERIEUR",a[a.SUPERIEUR="superieur"]="SUPERIEUR",a[a.BORNES="bornes"]="BORNES",(o=s.CRITERE_DIRECTION||(s.CRITERE_DIRECTION={}))[o.PRECEDENT="precedent"]="PRECEDENT",o[o.PRECEDENT_UNIQUE="precedent_unique"]="PRECEDENT_UNIQUE",o[o.SUIVANT="suivant"]="SUIVANT",o[o.SUIVANT_UNIQUE="suivant_unique"]="SUIVANT_UNIQUE"}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-database-common.min.js.map
var MyWay;!function(e){var n;(n=e.Services||(e.Services={})).Bug||(n.Bug={})}(MyWay||(MyWay={})),function(e){var n,o;n=e.Services||(e.Services={}),((o=n.Components||(n.Components={})).ComponentType||(o.ComponentType={})).Performance="Performance"}(MyWay||(MyWay={})),function(e){var n,o,r,a,c;n=e.Services||(e.Services={}),o=n.Performance||(n.Performance={}),(r=o.PerformanceMessageSubject||(o.PerformanceMessageSubject={}))[r.STEP=0]="STEP",r[r.END=1]="END",r[r.CANCEL=2]="CANCEL",n.Components.FactoryRegistries.getInstance().declareComponent(n.Components.ComponentType.Performance,[n.Components.ComponentType.Core]),(a=o.PerformanceType||(o.PerformanceType={}))[a.OPERATION=0]="OPERATION",a[a.APP_LOADING=1]="APP_LOADING",a[a.HTTP_REQUEST=2]="HTTP_REQUEST",(c=o.AppLoadingPerformanceStep||(o.AppLoadingPerformanceStep={})).START_LISA="startLisa",c.END_LISA="endLisa",c.INIT_SPA="initSpa",c.MANUAL_END="manualEnd",c.AUTO_END="autoEnd"}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-performance-common.min.js.map
var MyWay;!function(e){var o,t;o=e.Services||(e.Services={}),((t=o.Components||(o.Components={})).ComponentType||(t.ComponentType={})).Export="Export"}(MyWay||(MyWay={})),function(e){var o,t,r;o=e.Services||(e.Services={}),t=o.Export||(o.Export={}),(r=t.ExportMessageSubject||(t.ExportMessageSubject={}))[r.ExporterFichier=0]="ExporterFichier",o.Components.FactoryRegistries.getInstance().declareComponent(o.Components.ComponentType.Export,[o.Components.ComponentType.Core])}(MyWay||(MyWay={})),function(e){var o,t,r,n;o=e.Services||(e.Services={}),t=o.Export||(o.Export={}),(r=t.FORMAT_FICHIER||(t.FORMAT_FICHIER={}))[r.CSV="csv"]="CSV",(n=t.LOCALISATION||(t.LOCALISATION={}))[n.EN=0]="EN",n[n.FR=1]="FR"}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-export-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(n,e){function t(){this.constructor=n}o(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}();!function(n){var s;(function(n){var t=function(){function n(){}return n.filtrer=function(n,e){var t="";if(s.Controle.StaticArrayControle.isArray(n)||(t+="Le paramètre 'collection' est obligatoire et doit être un tableau / "),s.Controle.StaticFunctionControle.isFunction(e)||(t+="Le paramètre 'predicat' est obligatoire et doit être une fonction / "),""!=t)throw t=t.substring(0,t.lastIndexOf("/")-1);for(var o=[],r=-1,i=n.length;++r<i;){var u=n[r],a=e(u);if(!s.Controle.StaticBooleanControle.isBoolean(a)){o=null;break}a&&o.push(u)}return o},n}();n.StaticArrayExtension=t;var e=function(){function n(){}return n.prototype.filtrer=function(n,e){return t.filtrer(n,e)},n}();n.ArrayExtension=e})((s=n.Services||(n.Services={})).Donnees||(s.Donnees={}))}(MyWay||(MyWay={})),function(n){var e,t;e=n.Services||(n.Services={}),((t=e.Components||(e.Components={})).ComponentType||(t.ComponentType={})).Donnees="Donnees"}(MyWay||(MyWay={})),function(n){var t,o,e;t=n.Services||(n.Services={}),o=t.Donnees||(t.Donnees={}),e=function(e){function n(){var n=e.call(this,t.Components.ComponentType.Donnees)||this;return n.Enum=new o.EnumExtension,n.Array=new o.ArrayExtension,n.Object=new o.ObjectExtension,n.String=new o.StringExtension,n}return __extends(n,e),n.prototype.init=function(){return t.CoreCommon.getPromesseSelfResoved()},n.prototype.dispose=function(){return t.CoreCommon.getPromesseSelfResoved()},n}(t.Components.ComponentBase),o.DonneesCommon=e,t.Components.RegistryCommon.getInstance().register(e),t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.Donnees,[])}(MyWay||(MyWay={})),function(n){var e;(function(n){var t=function(){function n(){}return n.getNames=function(n){var e=[];for(var t in n)"number"==typeof n[t]&&e.push(t);return e},n.getName=function(n,e){var t=null;for(var o in n)"number"==typeof n[o]&&n[o]===e&&(t=o);return t},n.getValues=function(n){var e=[];for(var t in n)"number"!=typeof n[t]&&e.push(parseInt(t,10));return e},n.getValue=function(n,e){var t=null;for(var o in n)"number"!=typeof n[o]&&n[o]===e&&(t=Number(o));return t},n.getValuesAndNames=function(n){var e=[];for(var t in n)"number"!=typeof n[t]&&e.push({value:Number(t),name:n[Number(t)]});return e},n}();n.StaticEnumExtension=t;var e=function(){function n(){}return n.prototype.getNames=function(n){return t.getNames(n)},n.prototype.getName=function(n,e){return t.getName(n,e)},n.prototype.getValues=function(n){return t.getValues(n)},n.prototype.getValue=function(n,e){return t.getValue(n,e)},n.prototype.getValuesAndNames=function(n){return t.getValuesAndNames(n)},n}();n.EnumExtension=e})((e=n.Services||(n.Services={})).Donnees||(e.Donnees={}))}(MyWay||(MyWay={})),function(n){var o;(function(n){var e=function(){function n(){}return n.getTaille=function(n){return o.Controle.StaticAnyControle.isNotUndefinedAndNotNull(n)?JSON.stringify(n).length:0},n}();n.StaticObjectExtension=e;var t=function(){function n(){}return n.prototype.getTaille=function(n){return e.getTaille(n)},n}();n.ObjectExtension=t})((o=n.Services||(n.Services={})).Donnees||(o.Donnees={}))}(MyWay||(MyWay={})),function(n){var o;(function(n){var e=function(){function n(){}return n.getEmptyStringIfNotStringOrGetItSelf=function(n){return o.Controle.StaticStringControle.isStringNotEmpty(n)?n:""},n}();n.StaticStringExtension=e;var t=function(){function n(){}return n.prototype.getEmptyStringIfNotStringOrGetItSelf=function(n){return e.getEmptyStringIfNotStringOrGetItSelf(n)},n}();n.StringExtension=t})((o=n.Services||(n.Services={})).Donnees||(o.Donnees={}))}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-donnees-common.min.js.map
var MyWay;!function(p){var e,t;e=p.Test||(p.Test={}),function(l){function d(){return{Core:{createPromiseSelfResolved:p.Services.CoreCommon.createPromiseSelfResolved,createPromiseSelfError:p.Services.CoreCommon.createPromiseSelfError,promesseTryCatch:p.Services.CoreCommon.promesseTryCatch,getPromesseSelfResoved:p.Services.CoreCommon.getPromesseSelfResoved},Context:{}}}l.generateEmptyLibraryAgent=d;var f=function(){function e(){}return e.getInstance=function(){return null===e.INSTANCE&&(e.INSTANCE=new e).init(),e.INSTANCE},e.prototype.init=function(){var r=this;this.componentsByKey={},p.Services.Components.RegistryAgent.getInstance().components.forEach(function(e){var t=new e;r.componentsByKey[t.name.toString()]=e})},e.prototype.getClass=function(e){return this.componentsByKey[e.toString()]},e.INSTANCE=null,e}();l.declareAgentVersExterieurATester=function(g){var e=[];return{execute:function(){describe("Lorsque j'utilise l'agent "+g.classAgentName+" vers l'exterieur",function(){e.forEach(function(e){e()})})},test:function(c){var t="";t="Si j'appelle la méthode "+c.agentMethod+" de l'agent correctement j'ai bien le comportement attendu",c.testMethodSuffix&&(t+=" [cas : "+c.testMethodSuffix+"]"),e.push(function(){var e=it;!0===c.only&&(e=fit),e(t,function(e){var t=l.generateMessageService(),r=d(),n={},a=f.getInstance().getClass(g.component);if(a){expect(!0).toBe(!0,"La class agent du type "+g.component+" est enregistrée auprès du RegistryAgent");var s=new a,o=!1,i=void 0,u=void 0;return l.override(t,"sendWithResponse",function(e,t,r){return o=!0,i=t,u=r,e!==g.component?p.Services.Promesses.createPromiseSelfError(new p.Services.Erreur("L'agent n'envoie pas un message au bon composant. Il est de type "+g.component+" mais il envoie un message au composant "+e)):c.hasResponseMessage?p.Services.Promesses.createPromiseSelfResolved(c.responseMessage):p.Services.Promesses.getPromesseSelfResoved()}),p.Services.CoreCommon.getPromesseSelfResoved().then(function(){if(g.beforeEach){var e={agentLibrary:r,instance:s,isErrorMode:!1};return g.beforeEach(e)}}).then(function(){var e={agentLibrary:r,instance:s,isErrorMode:!1};return c.before?c.before(e):void 0}).then(function(){return s.init(r,t,n)}).then(function(){return c.agentHasMethodParams?s[c.agentMethod].apply(s,c.agentMethodParams):s[c.agentMethod].call(s)}).then(function(e){if(expect(o).toBe(!0,"Le sendMessage doit être appelé"),expect(i).toBe(c.typeMessage,"Le message "+g.enumTypeMessage[c.typeMessage]+" doit être envoyé, et pas "+g.enumTypeMessage[i]),c.hasRequestMessage)switch(c.requestMessageTestMode){case l.TestMode.NoCheck:expect(!0).toBe(!0,"Vérification du message que l'agent a envoyé au manager [test ignoré]");break;case l.TestMode.StrictEquals:expect(u).toBe(c.requestMessage,"Vérification du message que l'agent a envoyé au manager");break;case l.TestMode.DeepEquals:default:expect(u).toEqual(c.requestMessage,"Vérification du message que l'agent a envoyé au manager")}else expect(u).toBe(void 0,"Vérification du message que l'agent a envoyé au manager");if(c.agentHasResult)switch(c.agentResultTestMode){case l.TestMode.NoCheck:expect(!0).toBe(!0,"Vérification du résultat retourné par l'agent [test ignoré]");break;case l.TestMode.StrictEquals:expect(e).toBe(c.agentResult,"Vérification du résultat retourné par l'agent");break;case l.TestMode.ObjectPropertiesEquals:expect(e).toEqual(jasmine.objectContaining(c.agentResult),"Vérification du résultat retourné par l'agent");break;case l.TestMode.ArrayObjectPropertiesEquals:expect(e.length).toEqual(c.agentResult.length,"Vérification du résultat retourné par l'agent - Test du nombre de résutlats dans le tableau de réponse"),e.length===c.agentResult.length&&e.forEach(function(e,t){expect(e).toEqual(jasmine.objectContaining(c.agentResult[t]),"Vérification du résultat retourné par l'agent - Vérification de l'élément "+t)});break;case l.TestMode.DeepEquals:default:expect(e).toEqual(c.agentResult,"Vérification du résultat retourné par l'agent")}else expect(e).toBe(void 0,"Vérification du résultat retourné par l'agent")},function(e){fail("Une erreur s'est produite! Details : "+e.codeLibelle),console.error(e)}).then(function(){if(g.afterEach){var e={agentLibrary:r,instance:s,isErrorMode:!1};return g.afterEach(e)}}).then(function(){var e={agentLibrary:r,instance:s,isErrorMode:!1};return c.after?c.after(e):void 0}).finally(e)}fail("La class agent du type "+g.component+" n'est pas enregistrée auprès du RegistryAgent")})}),e.push(function(){t="Si j'appelle la méthode "+c.agentMethod+" de l'agent de manière incorrecte j'ai bien une erreur qui remonte",c.testMethodSuffix&&(t+=" [cas : "+c.testMethodSuffix+"]"),it(t,function(e){var t=l.generateMessageService(),n=d(),r={},a=f.getInstance().getClass(g.component);if(a){expect(!0).toBe(!0,"La class agent du type "+g.component+" est enregistrée auprès du RegistryAgent");var s=new a,o=!1,i=void 0,u=void 0;l.override(t,"sendWithResponse",function(e,t,r){return o=!0,i=t,u=r,e!==g.component?n.Core.createPromiseSelfError(new p.Services.Erreur("L'agent n'envoie pas un message au bon composant. Il est de type "+g.component+" mais il envoie un message au composant "+e)):p.Services.Promesses.createPromiseSelfError(new p.Services.Erreur("Erreur de test"))}),p.Services.CoreCommon.getPromesseSelfResoved().then(function(){if(g.beforeEach){var e={agentLibrary:n,instance:s,isErrorMode:!0};return g.beforeEach(e)}}).then(function(){var e={agentLibrary:n,instance:s,isErrorMode:!0};return c.before?c.before(e):void 0}).then(function(){return s.init(n,t,r)}).then(function(){return c.agentHasMethodParams?s[c.agentMethod].apply(s,c.agentMethodParams):s[c.agentMethod].call(s)}).then(function(e){fail("Une erreur aurait dû se produire!")},function(e){if(expect(o).toBe(!0,"Le sendMessage doit être appelé"),expect(i).toBe(c.typeMessage,"Le message "+g.enumTypeMessage[c.typeMessage]+" doit être envoyé"),c.hasRequestMessage)switch(c.requestMessageTestMode){case l.TestMode.NoCheck:expect(!0).toBe(!0,"Vérification du message que l'agent a envoyé au manager [test ignoré]");break;case l.TestMode.StrictEquals:expect(u).toBe(c.requestMessage,"Vérification du message que l'agent a envoyé au manager");break;case l.TestMode.DeepEquals:default:expect(u).toEqual(c.requestMessage,"Vérification du message que l'agent a envoyé au manager")}else expect(u).toBe(void 0,"Vérification du message que l'agent a envoyé au manager");expect(e.codeLibelle).toBe(c.agentResultErreur,"Vérification de l'erreur renvoyée par l'agent")}).then(function(){if(g.afterEach){var e={agentLibrary:n,instance:s,isErrorMode:!0};return g.afterEach(e)}}).then(function(){var e={agentLibrary:n,instance:s,isErrorMode:!0};return c.after?c.after(e):void 0}).finally(e)}else fail("La class agent du type "+g.component+" n'est pas enregistrée auprès du RegistryAgent")})})}}}}((t=e.V1||(e.V1={})).Services||(t.Services={}))}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-test-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var t,n;t=e.Services||(e.Services={}),((n=t.Components||(t.Components={})).ComponentType||(n.ComponentType={})).Context="Context"}(MyWay||(MyWay={})),function(e){var t,n,o;t=e.Services||(e.Services={}),n=t.Context||(t.Context={}),(o=n.ContextMessageSubject||(n.ContextMessageSubject={}))[o.AddToContext=0]="AddToContext",o[o.AddToContextTech=1]="AddToContextTech",o[o.ClearContext=2]="ClearContext",o[o.AddToSharedContext=3]="AddToSharedContext",o[o.RemoveFromSharedContext=4]="RemoveFromSharedContext",o[o.AddToProcessStepContext=5]="AddToProcessStepContext",o[o.AddToGlobalContext=6]="AddToGlobalContext",o[o.AddToTempoContext=7]="AddToTempoContext",o[o.AddListToContext=8]="AddListToContext",o[o.AddToMainProcessContext=9]="AddToMainProcessContext",o[o.GetFromMainProcessContext=10]="GetFromMainProcessContext",o[o.ChangeMainProcessName=11]="ChangeMainProcessName",o[o.GetFromContext=12]="GetFromContext",o[o.GetObjectFromContext=13]="GetObjectFromContext",o[o.GetTypedObjectFromContext=14]="GetTypedObjectFromContext",o[o.ReinitialisationServiceAgent=15]="ReinitialisationServiceAgent",o[o.GetCurrentStepInfo=16]="GetCurrentStepInfo",o[o.GetSharedStorage=17]="GetSharedStorage",o[o.GetWaitingProcesses=18]="GetWaitingProcesses",o[o.GetPortals=19]="GetPortals",o[o.GetGlobalStorage=20]="GetGlobalStorage",o[o.SetMyWayCompatible=21]="SetMyWayCompatible",o[o.GetListFromContext=22]="GetListFromContext",o[o.GetAuthentificationInfo=23]="GetAuthentificationInfo",o[o.GetParametresComptables=24]="GetParametresComptables",o[o.PutProcessInPortalContext=25]="PutProcessInPortalContext",o[o.PutTaskInPortalContext=26]="PutTaskInPortalContext",o[o.GetCurrentProcessId=27]="GetCurrentProcessId",o[o.GetCurrentMainProcess=28]="GetCurrentMainProcess",o[o.GetCurrentStepId=29]="GetCurrentStepId",o[o.Notification=30]="Notification",o[o.AnalyseApp=31]="AnalyseApp",o[o.RemoveFromContext=32]="RemoveFromContext",o[o.RemoveFromSharedContextContext=33]="RemoveFromSharedContextContext",o[o.GetPortalContext=34]="GetPortalContext",o[o.SwitchProcess=35]="SwitchProcess",o[o.EndProcess=36]="EndProcess",o[o.EndAllProcess=37]="EndAllProcess",o[o.Inconnu=38]="Inconnu",o[o.GetFromSharedContext=39]="GetFromSharedContext",t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.Context,[t.Components.ComponentType.Persistence])}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Context||(t.Context={}),t.CoreCommon.addListenerOnAddMyWayHeaders(function(e,t){t.stepInfo?(e["X-identifiantProcessus"]=t.stepInfo.CurrentParentProcessId,e["X-nomComposant"]=t.stepInfo.NomComposant,e["X-niveauTrace"]=t.stepInfo.NiveauTrace.toString()):(e["X-identifiantProcessus"]="",e["X-nomComposant"]="",e["X-niveauTrace"]=""),t.authentificationInfo&&(e["X-codeEtablissement"]=t.authentificationInfo.codeEtablissement,e["X-identifiantPoste"]=t.authentificationInfo.numeroStationTravail,e["X-identifiantConnexionAgent"]=t.authentificationInfo.agentConnecte.referenceExterneAgent,e["X-identifiantNationalAgent"]||(e["X-identifiantNationalAgent"]=""),t.oldHeader&&(e.authentificationInfo=JSON.stringify(t.authentificationInfo)),t.authentificationInfo.agentConnecte.referenceExterneEdsRattachemen?e["X-agenceRattachement"]=t.authentificationInfo.agentConnecte.referenceExterneEdsRattachemen:e["X-agenceRattachement"]="0000000",t.authentificationInfo.agentConnecte.numeroInterneEds?e["X-posteFonctionnelAgent"]=t.authentificationInfo.agentConnecte.numeroInterneEds:e["X-posteFonctionnelAgent"]="0000000"),t.parametresComptables&&(e["X-identifiantGuichetOperation"]=t.parametresComptables.edsInterneGuichetComptable)})}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t;(function(e){var t,n,o;(t=e.StorageLevel||(e.StorageLevel={}))[t.Global=0]="Global",t[t.Process=1]="Process",t[t.Step=2]="Step",t[t.Shared=3]="Shared",t[t.Tempo=4]="Tempo",t[t.MainProcess=5]="MainProcess",(n=e.PATH_PART||(e.PATH_PART={}))[n.MAIN_PROCESS_ID=0]="MAIN_PROCESS_ID",n[n.LAST_PROCESS_ID=1]="LAST_PROCESS_ID",n[n.PREVIOUS_PROCESS_ID=2]="PREVIOUS_PROCESS_ID",n[n.STEP_ID=3]="STEP_ID",(o=e.EtatEtape||(e.EtatEtape={}))[o.NONE=0]="NONE",o[o.STARTED=1]="STARTED",o[o.RESET=2]="RESET";var a=function(){};e.IStepAction=a;var r=function(){};e.IStepContrat=r;var i=function(){function e(){this.TotalWatchers=0,this.TotalWatchers2=0,this.TotalWatchers3=0,this.WatcherByScope=[]}return e.prototype.ToString=function(){return JSON.stringify(this)},e}();e.AnalyseResult=i;var s=function(e,t){this.Name=e,this.WatcherCount=t};e.AnalyseScope=s})((t=e.Services||(e.Services={})).Context||(t.Context={}))}(MyWay||(MyWay={})),function(e){var t;(function(e){var t=function(){this.Contrats=[],this.AuthorizedOutputs=[]},n=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(e.StepInfo=t);e.StepInfoExtended=n;var o=function(){};e.ContratInfo=o;var a=function(){};e.DonneesLocales=a;var r=function(){this.agentConnecte=new C,this.guichetAgent=new p};e.AuthentificationInfo=r;var i=function(){};e.ParametresComptables=i;var s=function(){};e.ParametresNumerisation=s;var c=function(){};e.ParametresServeurPoste=c;var C=function(){};e.AgentConnecte=C;var p=function(){};e.GuichetAgent=p;var u=function(){};e.InfosUserPoste=u})((t=e.Services||(e.Services={})).Context||(t.Context={}))}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),((n=t.Components||(t.Components={})).ComponentType||(n.ComponentType={})).Display="Display"}(MyWay||(MyWay={})),function(e){var t,n,o;t=e.Services||(e.Services={}),n=t.Display||(t.Display={}),(o=n.DisplayMessageSubject||(n.DisplayMessageSubject={}))[o.Redirect=0]="Redirect",o[o.RedirectInStep=1]="RedirectInStep",o[o.PrepareSubmit=2]="PrepareSubmit",o[o.DisplayMessage=3]="DisplayMessage",o[o.GetMyIFrameId=4]="GetMyIFrameId",o[o.Refresh=5]="Refresh",t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.Display,[t.Components.ComponentType.Context,t.Components.ComponentType.Core])}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-context-display-common.min.js.map
var MyWay;!function(y){var a;(a=y.Services||(y.Services={})).Bug||(a.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-donnees-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(t){var n,r,e;n=t.Services||(t.Services={}),r=n.JAB||(n.JAB={}),e=function(t){function e(){return t.call(this,n.Components.ComponentType.JAB)||this}return __extends(e,t),e.prototype.Enregistrer=function(t){return this.sendMessage(r.JABMessageSubject.Enregistrer,{data:t})},e}(n.Components.ComponentAgentBase),r.JABAgent=e,n.Components.RegistryAgent.getInstance().register(e)}(MyWay||(MyWay={})),function(t){var e;(e=t.Services||(t.Services={})).Bug||(e.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-jab-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var n,i,t;n=e.Services||(e.Services={}),i=n.Fichier||(n.Fichier={}),t=function(e){function t(){return e.call(this,n.Components.ComponentType.Fichier)||this}return __extends(t,e),t.prototype.saveAs=function(e,t,n,r){var o={data:e,type:t,nomFichier:n,typeDonnees:r};return this.sendMessage(i.FichierMessageSubject.SaveAs,o)},t}(n.Components.ComponentAgentBase),i.FichierAgent=t,n.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-fichier-agent.min.js.map
var MyWay;!function(y){var a;(a=y.Services||(y.Services={})).Bug||(a.Bug={})}(MyWay||(MyWay={})),function(y){var a;(a=y.Services||(y.Services={})).Bug||(a.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-dates-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var t in s)s.hasOwnProperty(t)&&(e[t]=s[t])};return function(e,s){function t(){this.constructor=e}n(e,s),e.prototype=null===s?Object.create(s):(t.prototype=s.prototype,new t)}}();!function(e){var t,n,s;t=e.Services||(e.Services={}),n=t.BaseDeDonnees||(t.BaseDeDonnees={}),s=function(e){function s(){return e.call(this,t.Components.ComponentType.BaseDeDonnees)||this}return __extends(s,e),s.prototype.getBases=function(){return this.sendMessage(n.Messages.BaseDeDonneesMessageSubject.GetBases,{})},s.prototype.get=function(e){return this.sendMessage(n.Messages.BaseDeDonneesMessageSubject.Get,{base:e.base,cle:e.cle,table:e.table})},s.prototype.getAll=function(e){return this.sendMessage(n.Messages.BaseDeDonneesMessageSubject.GetAll,{base:e.base,table:e.table})},s.prototype.find=function(e){return this.sendMessage(n.Messages.BaseDeDonneesMessageSubject.Find,{table:e.table})},s.prototype.count=function(e){return this.sendMessage(n.Messages.BaseDeDonneesMessageSubject.Count,{base:e.base,table:e.table})},s.prototype.ajouter=function(e){return this.sendMessage(n.Messages.BaseDeDonneesMessageSubject.Ajouter,{base:e.base,elements:[e.element],table:e.table})},s.prototype.supprimer=function(e){return this.sendMessage(n.Messages.BaseDeDonneesMessageSubject.Supprimer,{base:e.base,cles:[e.cle],table:e.table})},s.prototype.modifier=function(e){return this.sendMessage(n.Messages.BaseDeDonneesMessageSubject.MettreAJour,{base:e.base,elements:[{cle:e.cle,element:e.element}],table:e.table})},s.prototype.resetAll=function(){return this.sendMessage(n.Messages.BaseDeDonneesMessageSubject.ResetAll,{})},s}(t.Components.ComponentAgentBase),n.BaseDeDonneesAgent=s,t.Components.RegistryAgent.getInstance().register(s)}(MyWay||(MyWay={})),function(e){var s;(s=e.Services||(e.Services={})).Bug||(s.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-database-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(t){var e;(e=t.Services||(t.Services={})).Bug||(e.Bug={})}(MyWay||(MyWay={})),function(t){var n,r,e;n=t.Services||(t.Services={}),r=n.TraitementNsdk||(n.TraitementNsdk={}),e=function(t){function e(){return t.call(this,n.Components.ComponentType.TraitementNsdk)||this}return __extends(e,t),e.prototype.Lancer=function(t,e){return this.sendMessage(r.TraitementNsdkMessageSubject.Lancer,{traitement:t,data:e})},e}(n.Components.ComponentAgentBase),r.TraitementNsdkAgent=e,n.Components.RegistryAgent.getInstance().register(e)}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-traitement-nsdk-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();!function(t){var o,n,e;o=t.Services||(t.Services={}),n=o.Export||(o.Export={}),e=function(t){function e(){return t.call(this,o.Components.ComponentType.Export)||this}return __extends(e,t),e.prototype.exporterFichier=function(t,e,o){var r={donnees:t,format:e,options:o};return this.sendMessage(n.ExportMessageSubject.ExporterFichier,r)},e.CLASS_NAME="MyWay.Services.Export.ExportAgent",e.logger=o.Loggers.LoggerFactory.INSTANCE.getClass(e.CLASS_NAME),e}(o.Components.ComponentAgentBase),n.ExportAgent=e,o.Components.RegistryAgent.getInstance().register(e)}(MyWay||(MyWay={})),function(t){var e;(e=t.Services||(t.Services={})).Bug||(e.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-export-agent.min.js.map
var MyWay;!function(e){var r;(r=e.Services||(e.Services={})).Bug||(r.Bug={})}(MyWay||(MyWay={})),function(e){var r,n;r=e.Services||(e.Services={}),((n=r.Components||(r.Components={})).ComponentType||(n.ComponentType={})).Preferences="Preferences"}(MyWay||(MyWay={})),function(e){var r,n,o;r=e.Services||(e.Services={}),n=r.Preferences||(r.Preferences={}),(o=n.PreferencesMessageSubject||(n.PreferencesMessageSubject={}))[o.LirePreference=0]="LirePreference",o[o.EcrirePreference=1]="EcrirePreference",o[o.LireMultiPreference=2]="LireMultiPreference",r.Components.FactoryRegistries.getInstance().declareComponent(r.Components.ComponentType.Preferences,[r.Components.ComponentType.Context,r.Components.ComponentType.Core])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-preferences-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])};return function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();!function(D){var t;(function(t){var e=function(){};t.InfoFichier=e;var a=function(t,e,a,n){this.ExecApp=t,this.ExecServ=a,this.ExecTransaction=e,this.ExecWeb=n};t.ExecutableWrapper=a;var n=function(t){this.Executable=t};t.ExecApp=n;var r=function(t){this.Numero=t};t.ExecTransaction=r;var o=function(t){this.CodeSortie=t};t.ExecServ=o;var i=function(t,e){this.Url=t,this.Libelle=e};t.ExecWeb=i;var c=function(t,e){this.ProcessId=t,this.StepId=e};t.ContexteMyway=c;var s=function(t,e){this.NumeroClient=t,this.Plan=e};t.ContexteClient=s;var p=function(t){this.Valeur=t};t.JsonStringArray=p;var h=function(){};t.infoDataStructNSDK=h;var f=function(){function e(t){}return Object.defineProperty(e.prototype,"StructData",{get:function(){return this._StructData},set:function(t){this._StructData=t,e.Size=this.CalcSize()},enumerable:!0,configurable:!0}),e.prototype.DeSerializeData=function(t){for(var e=0,a=this.StructData,n=0;n<this.StructData.length;n++)"cwlgqr"!=a[n].DataName&&(this[a[n].DataName]=t.substring(e,e+a[n].DataLength)),e+=a[n].DataLength;this.cwlgqr=e},e.prototype.SerializeData=function(){for(var t=this.StructData,e="",a=0;a<this.StructData.length;a++)"cwlgqr"!=t[a].DataName&&(e+=this[t[a].DataName]);return e},e.prototype.CalcSize=function(){for(var t=this.StructData,e=0,a=0;a<this.StructData.length;a++)e+=t[a].DataLength;return e},e}();t.SegmentNsdkClass=f;var u=function(e){function t(){var t=e.call(this)||this;return t.StructData=[{DataName:"cwlgqr",DataLength:4},{DataName:"cwlnqr",DataLength:8},{DataName:"cidfiej",DataLength:5},{DataName:"cnuf9cg",DataLength:10},{DataName:"cdtfkc0",DataLength:8},{DataName:"ccdtn",DataLength:2},{DataName:"cnocee1",DataLength:7},{DataName:"ccocee3",DataLength:7},{DataName:"cddf9tr",DataLength:8},{DataName:"cdff9tr",DataLength:8},{DataName:"cidct",DataLength:7},{DataName:"cidtiem",DataLength:9},{DataName:"cidit",DataLength:9},{DataName:"cmtf9op",DataLength:15},{DataName:"cmtf9o1",DataLength:15},{DataName:"ccdfadv",DataLength:3},{DataName:"cnsf9rq",DataLength:4},{DataName:"cdtfkcc",DataLength:8}],t}return __extends(t,e),t}(D.Services.Interop.SegmentNsdkClass);t.s_5s6f5a=u})((t=D.Services||(D.Services={})).Interop||(t.Interop={}))}(MyWay||(MyWay={})),function(t){var e,a;e=t.Services||(t.Services={}),((a=e.Components||(e.Components={})).ComponentType||(a.ComponentType={})).Interop="Interop"}(MyWay||(MyWay={})),function(t){var e,a,n,r;e=t.Services||(t.Services={}),a=e.Interop||(e.Interop={}),n=a.Messages||(a.Messages={}),(r=n.InteropMessageSubject||(n.InteropMessageSubject={}))[r.AfficherWindowParHandle=0]="AfficherWindowParHandle",r[r.AfficherWindowParPid=1]="AfficherWindowParPid",r[r.AfficherSynthese=2]="AfficherSynthese",r[r.ActiverApplicationAppelante=3]="ActiverApplicationAppelante",r[r.AddToContextInterop=4]="AddToContextInterop",r[r.AddListToContextInterop=5]="AddListToContextInterop",r[r.GetFromContextInterop=6]="GetFromContextInterop",r[r.GetListFromContextInterop=7]="GetListFromContextInterop",r[r.Lancer=8]="Lancer",r[r.EndStep=9]="EndStep",r[r.TriggerNotifications=10]="TriggerNotifications",r[r.LireFichier=11]="LireFichier",r[r.EcrireFichier=12]="EcrireFichier",r[r.ClearBus=13]="ClearBus",e.Components.FactoryRegistries.getInstance().declareComponent(e.Components.ComponentType.Interop,[e.Components.ComponentType.Context,e.Components.ComponentType.Persistence])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-interop-common.min.js.map
var MyWay;!function(E){var R,_,I;R=E.Services||(E.Services={}),_=R.Libelle||(R.Libelle={}),(I=_.TYPE_AFFICHAGE||(_.TYPE_AFFICHAGE={}))[I.ERREUR=10]="ERREUR",I[I.AVERTISSEMENT=30]="AVERTISSEMENT",I[I.INFORMATION=50]="INFORMATION",I[I.OUI_NON=70]="OUI_NON",I[I.OUI_NON_ANNULER=90]="OUI_NON_ANNULER",I[I.VALIDER_ANNULER=110]="VALIDER_ANNULER",I[I.ANNULER=120]="ANNULER",I[I.VIDE=140]="VIDE"}(MyWay||(MyWay={})),function(E){var R,_;R=E.Services||(E.Services={}),((_=R.Components||(R.Components={})).ComponentType||(_.ComponentType={})).Libelle="Libelle"}(MyWay||(MyWay={})),function(E){var R,_,I;R=E.Services||(E.Services={}),_=R.Libelle||(R.Libelle={}),(I=_.LibelleMessageSubject||(_.LibelleMessageSubject={}))[I.afficherMessage=0]="afficherMessage",I[I.constituerLibelle=1]="constituerLibelle",R.Components.FactoryRegistries.getInstance().declareComponent(R.Components.ComponentType.Libelle,[R.Components.ComponentType.Context,R.Components.ComponentType.Core,R.Components.ComponentType.Display])}(MyWay||(MyWay={})),function(E){var R,_,I;R=E.Services||(E.Services={}),_=R.Libelle||(R.Libelle={}),I=function(){function E(){}return E.COM={MESSAGE_SANS_VARIABLE:"COM.MESSAGE_SANS_VARIABLE",RESULTATS:"COM.RESULTATS",ERREUR_PARAMETRE_MAUVAIS_TYPE:"COM.ERREUR_PARAMETRE_MAUVAIS_TYPE",ERREUR_PARAMETRES:"COM.ERREUR_PARAMETRES",ERREUR_FRAMEWORK:"COM.ERREUR_FRAMEWORK",ERREUR_SERVEUR:"COM.ERREUR_SERVEUR",ERREUR_TIMEOUT_SERVEUR:"COM.ERREUR_TIMEOUT_SERVEUR",ERREUR_TIMEOUT_CLIENT:"COM.ERREUR_TIMEOUT_CLIENT",ERREUR_ACCES_SERVEUR:"COM.ERREUR_ACCES_SERVEUR",ERREUR_CONFIGURATION_PAS_DE_CONFIG:"COM.ERREUR_CONFIGURATION_PAS_DE_CONFIG",ERREUR_HABILITATION_MAUVAIS_FORMAT:"COM.ERREUR_HABILITATION_MAUVAIS_FORMAT",ERREUR_HABILITATION_CODE_INCONNU:"COM.ERREUR_HABILITATION_CODE_INCONNU",ERREUR_HABILITATION_PARAMETRES_INSUFFISANTS:"COM.ERREUR_HABILITATION_PARAMETRES_INSUFFISANTS",ERREUR_HABILITATION_AUTHENTIFICATION_MANQUANTE:"COM.ERREUR_HABILITATION_AUTHENTIFICATION_MANQUANTE",ERREUR_INDEXED_DB_NON_SUPPORTE:"COM.ERREUR_INDEXED_DB_NON_SUPPORTE",ERREUR_INDEXED_DB_GENERIQUE:"COM.ERREUR_INDEXED_DB_GENERIQUE",ERREUR_INDEXED_DB_SUPPRESSION_IMPOSSIBLE:"COM.ERREUR_INDEXED_DB_SUPPRESSION_IMPOSSIBLE",ERREUR_INDEXED_DB_ACCES_IMPOSSIBLE:"COM.ERREUR_INDEXED_DB_ACCES_IMPOSSIBLE",ERREUR_INDEXED_DB_LECTURE_IMPOSSIBLE:"COM.ERREUR_INDEXED_DB_LECTURE_IMPOSSIBLE",ERREUR_INDEXED_DB_AJOUT_IMPOSSIBLE:"COM.ERREUR_INDEXED_DB_AJOUT_IMPOSSIBLE",ERREUR_INDEXED_DB_MAJ_IMPOSSIBLE:"COM.ERREUR_INDEXED_DB_MAJ_IMPOSSIBLE",ERREUR_INDEXED_DB_REQUETE_IMPOSSIBLE_INDEX:"COM.ERREUR_INDEXED_DB_REQUETE_IMPOSSIBLE_INDEX",ERREUR_INDEXED_DB_REQUETE_IMPOSSIBLE_CRITERE:"COM.ERREUR_INDEXED_DB_REQUETE_IMPOSSIBLE_CRITERE",ERREUR_INDEXED_DB_CALCUL_TAILLE:"COM.ERREUR_INDEXED_DB_CALCUL_TAILLE",ERREUR_CONTEXTE_RECUP_CODE_ETAB_IMPOSSIBLE:"COM.ERREUR_CONTEXTE_RECUP_CODE_ETAB_IMPOSSIBLE",ERREUR_CONTEXTE_RECUP_ID_AGENCE_IMPOSSIBLE:"COM.ERREUR_CONTEXTE_RECUP_ID_AGENCE_IMPOSSIBLE",ERREUR_DONNEESDELOC_OBJET_MAL_FORME:"COM.ERREUR_DONNEESDELOC_OBJET_MAL_FORME",ERREUR_DONNEESDELOC_PROPRIETE_ABSENTE:"COM.ERREUR_DONNEESDELOC_PROPRIETE_ABSENTE",ERREUR_DONNEESDELOC_RECUP_DERNMAJ_IMPOSSIBLE:"COM.ERREUR_DONNEESDELOC_RECUP_DERNMAJ_IMPOSSIBLE",ERREUR_LISA_NEXT_IMPOSSIBLE:"COM.ERREUR_LISA_NEXT_IMPOSSIBLE",ERREUR_LISA_START_IMPOSSIBLE:"COM.ERREUR_LISA_START_IMPOSSIBLE",ERREUR_LISA_GETPROCESSES_IMPOSSIBLE:"COM.ERREUR_LISA_GETPROCESSES_IMPOSSIBLE",ERREUR_LISA_GETTOOLS_IMPOSSIBLE:"COM.ERREUR_LISA_GETTOOLS_IMPOSSIBLE",ERREUR_NUMERISATION_RECUP_CODE_ETAB_IMPOSSIBLE:"COM.ERREUR_NUMERISATION_RECUP_CODE_ETAB_IMPOSSIBLE",ERREUR_NUMERISATION_RECUP_DONNEES_DELOCALISEES_IMPOSSIBLE:"COM.ERREUR_NUMERISATION_RECUP_DONNEES_DELOCALISEES_IMPOSSIBLE",ERREUR_INTEROP_SERVICE_LOCAL_APPEL_IMPOSSIBLE:"COM.ERREUR_INTEROP_SERVICE_LOCAL_APPEL_IMPOSSIBLE",ERREUR_FICHIER_PARAMETRE_DATA_VIDE:"COM.ERREUR_FICHIER_PARAMETRE_DATA_VIDE",ERREUR_FICHIER_PARAMETRE_B64_VIDE:"COM.ERREUR_FICHIER_PARAMETRE_B64_VIDE",ERREUR_APPLICATION:"COM.ERREUR_APPLICATION",ERREUR_APPLICATION_CODE_NON_RENSEIGNE:"COM.ERREUR_APPLICATION_CODE_NON_RENSEIGNE",ERREUR_APPLICATION_TYPE_INCONNU:"COM.ERREUR_APPLICATION_TYPE_INCONNU",ERREUR_APPLICATION_DEMARRAGE_IMPO:"COM.ERREUR_APPLICATION_DEMARRAGE_IMPOSSIBLE",ERREUR_APPLICATION_MAINTENANCE:"COM.ERREUR_APPLICATION_MAINTENANCE",ERREUR_MOBILITE_RECUP_RESEAU_IMPOSSIBLE:"COM.ERREUR_MOBILITE_RECUP_RESEAU_IMPOSSIBLE",ERREUR_MOBILITE_RECUP_LISTE_PERIPH_IMPOSSIBLE:"COM.ERREUR_MOBILITE_RECUP_LISTE_PERIPH_IMPOSSIBLE",ERREUR_MOBILITE_RECUP_LISTE_TABLETTES_SIGNATURES_IMPOSSIBLE:"COM.ERREUR_MOBILITE_RECUP_LISTE_TABLETTES_SIGNATURES_IMPOSSIBLE",ERREUR_MOBILITE_RECUP_INFO_MACHINE_IMPOSSIBLE:"COM.ERREUR_MOBILITE_RECUP_INFO_MACHINE_IMPOSSIBLE",ERREUR_MOBILITE_RECUP_PLATEFORME_MACHINE_IMPOSSIBLE:"COM.ERREUR_MOBILITE_RECUP_PLATEFORME_MACHINE_IMPOSSIBLE",ERREUR_MOBILITE_RECUP_RESOLUTION_ECRAN_IMPOSSIBLE:"COM.ERREUR_MOBILITE_RECUP_RESOLUTION_ECRAN_IMPOSSIBLE",ERREUR_MOBILITE_RECUP_TYPE_ECRAN_IMPOSSIBLE:"COM.ERREUR_MOBILITE_RECUP_TYPE_ECRAN_IMPOSSIBLE",ERREUR_CAPACITES_REGLE_INCONNU:"COM.ERREUR_CAPACITES_REGLE_INCONNU",ERREUR_COMMUNICATION_MESSAGE_INDISPONIBLE:"COM.MESSAGE_INDISPONIBLE",ERREUR_COMMUNICATION_FORMAT_MAIL_INCORRECT:"COM.ERREUR_COMMUNICATION_FORMAT_MAIL_INCORRECT",ERREUR_COMMUNICATION_FORMAT_NUMERO_INCORRECT:"COM.ERREUR_COMMUNICATION_FORMAT_NUMERO_INCORRECT",ERREUR_COMMUNICATION_DONNEES_APPEL_MANQUANTE:"COM.ERREUR_COMMUNICATION_DONNEES_APPEL_MANQUANTE",ERREUR_COMMUNICATION_PARAMETRES_INSUFFISANTS:"COM.ERREUR_COMMUNICATION_PARAMETRES_INSUFFISANTS",ERREUR_CONTROLE_STRING_ADRESSEIP_INCORRECT:"COM.ERREUR_CONTROLE_STRING_ADRESSEIP_INCORRECT",ERREUR_ACQUISITION_PARAMETRES_INSUFFISANTS:"COM.ERREUR_ACQUISITION_PARAMETRES_INSUFFISANTS",ERREUR_EXPORT_DONNEES_ENTREES_FORMAT_INVALIDE:"COM.ERREUR_EXPORT_DONNEES_ENTREES_FORMAT_INVALIDE",ERREUR_EXPORT_DONNEES_ENTREES_VIDE:"COM.ERREUR_EXPORT_DONNEES_ENTREES_VIDE",ERREUR_EXPORT_DONNEES_ENTREES_NB_INVALIDE:"COM.ERREUR_EXPORT_DONNEES_ENTREES_NB_INVALIDE",ERREUR_EXPORT_CONVERSION_CSV_IMPOSSIBLE:"COM.ERREUR_EXPORT_CONVERSION_CSV_IMPOSSIBLE",ERREUR_EXPORT_TELECHARGEMENT_IMPOSSIBLE:"COM.ERREUR_EXPORT_TELECHARGEMENT_IMPOSSIBLE",ERREUR_EXPORT_FORMAT_FICHIER_INCONNU:"COM.ERREUR_EXPORT_FORMAT_FICHIER_INCONNU"},E.TEC={CHAINE_VIDE:"TEC.CHAINE_VIDE",VALIDATION_ARRAY:"TEC.VALIDATION_ARRAY",IMPRESSION_GENERATION_EN_COURS:"TEC.IMPRESSION_GENERATION_EN_COURS",IMPRESSION_IMPRESSION_EN_COURS:"TEC.IMPRESSION_IMPRESSION_EN_COURS",IMPRESSION_GENERATION_IMPRESSION_EN_COURS:"TEC.IMPRESSION_GENERATION_IMPRESSION_EN_COURS",NUMERISATION_EN_COURS:"TEC.NUMERISATION_EN_COURS"},E}(),_.LibelleModel=I}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-libelle-common.min.js.map
var MyWay;!function(e){var n,t;n=e.Services||(e.Services={}),((t=n.Components||(n.Components={})).ComponentType||(t.ComponentType={})).Communication="Communication"}(MyWay||(MyWay={})),function(e){var n,t,o;n=e.Services||(e.Services={}),t=n.Communication||(n.Communication={}),(o=t.CommunicationMessageSubject||(t.CommunicationMessageSubject={}))[o.EnvoyerMail=0]="EnvoyerMail",o[o.DeclencherAppel=1]="DeclencherAppel",o[o.RaccrocherAppel=2]="RaccrocherAppel",o[o.EnvoyerMessageAppliKiosque=3]="EnvoyerMessageAppliKiosque",n.Components.FactoryRegistries.getInstance().declareComponent(n.Components.ComponentType.Communication,[n.Components.ComponentType.Context,n.Components.ComponentType.Core])}(MyWay||(MyWay={})),function(e){var o,n;o=e.Services||(e.Services={}),(n=o.Communication||(o.Communication={})).controleEnvoyerMail=function(e){var n="^[a-zA-Z]+[a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+.[a-zA-Z]{2,3}(;[a-zA-Z]+[a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+.[a-zA-Z]{2,3})*$",t="Le format de l'adresse mail du paramètre '{0}' ({1}) est incorrect";return o.Controle.StaticStringControle.isString(e.to)?e.to.match(n)?o.Controle.StaticStringControle.isString(e.cc)&&!e.cc.match(n)?t.replace("{0}","cc").replace("{1}",e.cc):o.Controle.StaticStringControle.isString(e.bcc)&&!e.bcc.match(n)?t.replace("{0}","bcc").replace("{1}",e.bcc):"":t.replace("{0}","to").replace("{1}",e.to):"Le paramètre 'to' doit être une chaine de caractères"},n.controleDeclencherAppel=function(e){return/^(0|\+33)[1-9]([-. ]?[0-9]{2}){4}$/.test(e.numeroDestinataire)?"":"Le format du numéro du destinataire ({0}) est incorrect".replace("{0}",e.numeroDestinataire)}}(MyWay||(MyWay={})),function(e){var c;(function(e){var n=function(e,n,t,o,c){this.to=e,this.subject=n,this.body=t,this.cc=o,this.bcc=c};e.Mail=n;var t=function(e){this.numeroDestinataire=e};e.Call=t;var o=function(e,n,t){this.IdAgent=e,this.Payload=new c.Payload(n,t)};e.MessageAgent=o})((c=e.Services||(e.Services={})).Communication||(c.Communication={}))}(MyWay||(MyWay={})),function(e){var n;(n=e.Services||(e.Services={})).Bug||(n.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-communication-common.min.js.map
var MyWay;!function(e){var t,n;t=e.Services||(e.Services={}),((n=t.Components||(t.Components={})).ComponentType||(n.ComponentType={})).ContexteClient="ContexteClient"}(MyWay||(MyWay={})),function(e){var t,n,o;t=e.Services||(e.Services={}),n=t.ContexteClient||(t.ContexteClient={}),(o=n.ContextClientMessageSubject||(n.ContextClientMessageSubject={}))[o.GetContextesParClients=0]="GetContextesParClients",o[o.GetId=1]="GetId",o[o.GetClient=2]="GetClient",o[o.SetClient=3]="SetClient",o[o.GetProperty=4]="GetProperty",o[o.AddToList=5]="AddToList",o[o.SetProperty=6]="SetProperty",o[o.RemoveFromList=7]="RemoveFromList",o[o.DeleteProperty=8]="DeleteProperty",o[o.GetContenu=9]="GetContenu",o[o.SetContenu=10]="SetContenu",o[o.GetContextes=11]="GetContextes",o[o.DestroyContext=12]="DestroyContext",o[o.NewContext=13]="NewContext",o[o.ChangeContextProcess=14]="ChangeContextProcess",o[o.ChangeContextMode=15]="ChangeContextMode",o[o.DetailsContext=16]="DetailsContext",o[o.SetReloadSynthese=17]="SetReloadSynthese",o[o.getRefresh=18]="getRefresh",o[o.setDirty=19]="setDirty",t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.ContexteClient,[t.Components.ComponentType.Context,t.Components.ComponentType.Core,t.Components.ComponentType.Display,t.Components.ComponentType.Persistence])}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t,n,o,C,s;t=e.Services||(e.Services={}),n=t.ContexteClient||(t.ContexteClient={}),o=n.Messages||(n.Messages={}),(C=o.ContexteClientMode||(o.ContexteClientMode={}))[C.AUTOMATIQUE="AUTOMATIQUE"]="AUTOMATIQUE",C[C.MANUEL="MANUEL"]="MANUEL",(s=o.MiseAJourContexteClientType||(o.MiseAJourContexteClientType={}))[s.addToList="addToList"]="addToList",s[s.removeFromList="removeFromList"]="removeFromList",s[s.deleteProperty="deleteProperty"]="deleteProperty",s[s.setProperty="setProperty"]="setProperty",s[s.setClient="setClient"]="setClient",s[s.nouveauContexte="nouveauContexte"]="nouveauContexte",s[s.detructionContexte="detructionContexte"]="detructionContexte",s[s.changementContexte="changementContexte"]="changementContexte"}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-contexte-client-common.min.js.map
var MyWay;!function(e){var r;(function(e){var t;(t=e.NIVEAUX_TRACE||(e.NIVEAUX_TRACE={}))[t.DEBUG=30]="DEBUG",t[t.INFO=50]="INFO",t[t.WARNING=70]="WARNING",t[t.ERROR=90]="ERROR";var n=function(){function e(){}return e.gererErreur=function(e){return e&&(e instanceof Error?e={message:e.message,stack:e.stack}:r.Controle.StaticObjectControle.isObjectSpecified(e,"DOMException")&&(e={code:e.code,message:e.message,name:e.name,stack:e.stack})),e},e}();e.Utils=n})((r=e.Services||(e.Services={})).Trace||(r.Trace={}))}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(s){var d;(function(u){var e=function(){function e(e,t,n){this._componentName=e,this._zoneName=t,this._library=n}return e.prototype.debug=function(e,t,n){this.send(u.NIVEAUX_TRACE.DEBUG,e,t,n)},e.prototype.info=function(e,t,n){this.send(u.NIVEAUX_TRACE.INFO,e,t,n)},e.prototype.warning=function(e,t,n){this.send(u.NIVEAUX_TRACE.WARNING,e,t,n)},e.prototype.error=function(e,t,n){this.send(u.NIVEAUX_TRACE.ERROR,e,t,n)},e.prototype.send=function(e,t,n,r){var o,i;i="Application"===this._zoneName?(o=this._componentName,null):(o=void 0!==s.Framework?s.Framework.NAME+" V"+s.Framework.VERSION:"Framework inconnu",this._componentName+this._zoneName);var a=this.createTrace(e,t,window.location.href,o,i,n,r);this._library&&this._library.Trace&&this._library.Trace.send(a)},e.prototype.createTrace=function(e,t,n,r,o,i,a){var s=(new Date).getTime();"ServiceAgentExtended"===i&&a&&a.lastDigestTime&&(s=a.lastDigestTime,a=null),a=u.Utils.gererErreur(a);var c="";if(d.Controle.StaticEnumControle.isAnEnumValue(e,u.NIVEAUX_TRACE)||(c+="Le paramètre 'niveau' est obligatoire et sa valeur doit faire partie de l'enum 'NIVEAUX_TRACE' / "),d.Controle.StaticStringControle.isStringNotEmpty(t)||(c+="Le paramètre 'message' est obligatoire et doit être de type string et non vide / "),d.Controle.StaticStringControle.isStringNotEmpty(n)||(c+="Le paramètre 'url' est obligatoire et doit être de type string et non vide / "),d.Controle.StaticStringControle.isStringNotEmpty(r)||(c+="Le paramètre 'application' est obligatoire et doit être de type string et non vide / "),d.Controle.StaticStringControle.isStringNotEmptyOrNullOrUndefined(o)||(c+="Le paramètre 'composant' doit être soit null soit undefined soit de type string et non vide / "),d.Controle.StaticStringControle.isStringNotEmptyOrNullOrUndefined(i)||(c+="Le paramètre 'action' doit être soit null soit undefined soit de type string et non vide / "),""!=c)throw c=c.substring(0,c.lastIndexOf("/")-1),new Error(c);var l=new p;return l.datetime=s,l.niveau=e,l.client="",l.serveur="",l.url=n,l.application=r,d.Controle.StaticAnyControle.isNotUndefinedAndNotNull(o)?l.composant=o:l.composant="",d.Controle.StaticAnyControle.isNotUndefinedAndNotNull(i)?l.action=i:l.action="",l.message=t,d.Controle.StaticAnyControle.isNotUndefinedAndNotNull(a)?l.details=a:l.details=null,l},e}();u.Logger=e;var p=function(){};u.TraceModel=p})((d=s.Services||(s.Services={})).Trace||(d.Trace={}))}(MyWay||(MyWay={})),function(e){var t,n;t=e.Services||(e.Services={}),((n=t.Components||(t.Components={})).ComponentType||(n.ComponentType={})).Trace="Trace"}(MyWay||(MyWay={})),function(e){var t,n,r,o;t=e.Services||(e.Services={}),n=t.Trace||(t.Trace={}),r=n.Messages||(n.Messages={}),(o=r.TraceMessageSubject||(r.TraceMessageSubject={}))[o.Tracer=0]="Tracer",o[o.Logger=1]="Logger",o[o.GetIntervallePurge=2]="GetIntervallePurge",o[o.GetQuotaPurge=3]="GetQuotaPurge",o[o.PurgerTraces=4]="PurgerTraces",o[o.SendDiagnostic=5]="SendDiagnostic",o[o.SetModeDebug=6]="SetModeDebug",o[o.ReInitDbTraces=7]="ReInitDbTraces",t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.Trace,[t.Components.ComponentType.Context,t.Components.ComponentType.Core,t.Components.ComponentType.BaseDeDonnees])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-trace-common.min.js.map
var MyWay;!function(e){var o,n;o=e.Services||(e.Services={}),((n=o.Components||(o.Components={})).ComponentType||(n.ComponentType={})).ConfigurationPoste="ConfigurationPoste"}(MyWay||(MyWay={})),function(e){var o,n,t;o=e.Services||(e.Services={}),n=o.ConfigurationPoste||(o.ConfigurationPoste={}),(t=n.ConfigurationPosteMessageSubject||(n.ConfigurationPosteMessageSubject={}))[t.GetConfiguration=0]="GetConfiguration",o.Components.FactoryRegistries.getInstance().declareComponent(o.Components.ComponentType.ConfigurationPoste,[o.Components.ComponentType.Context,o.Components.ComponentType.Core])}(MyWay||(MyWay={})),function(e){var o;(o=e.Services||(e.Services={})).Bug||(o.Bug={})}(MyWay||(MyWay={})),function(e){var o;(o=e.Services||(e.Services={})).Bug||(o.Bug={})}(MyWay||(MyWay={})),function(e){var o;(o=e.Services||(e.Services={})).Bug||(o.Bug={})}(MyWay||(MyWay={})),function(e){var o;(o=e.Services||(e.Services={})).Bug||(o.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-configuration-poste-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var p;(function(c){var r=function(){};c.ScopeData=r;var s=function(e,t){this.name=e,this.data=t};c.ServiceData=s;var e=function(o){function i(){var e=o.call(this,p.Components.ComponentType.Context)||this;return e.listenersNotificationsCorrespondance=[],e._listenedKey=null,e._listernerCallback=null,e}return __extends(i,o),i.prototype.init=function(e,t,n){var r=this;return this.sauvegardeScopeParam=n,this.sauvegardeScopeParam||(this.sauvegardeScopeParam={}),this.sauvegardeScopeParam.donneesScopeASauvegarder||(this.sauvegardeScopeParam.donneesScopeASauvegarder=["*"]),this.sauvegardeScopeParam.scopeType||(this.sauvegardeScopeParam.scopeType=c.ScopeType.View),null!==this.sauvegardeScopeParam.disableScopeSave&&void 0!==this.sauvegardeScopeParam.disableScopeSave||(this.sauvegardeScopeParam.disableScopeSave=!0),o.prototype.init.call(this,e,t,n).then(function(){return n&&!0===n.disableGetStepInfo?r.GetCurrentStepInfo().then(function(e){r.StepInfo=e}):r.SetMyWayCompatible().then(function(){},function(){})})},i.prototype.AddToContext=function(t,e){var n=this;return this.sendMessage(c.ContextMessageSubject.AddToContext,{key:t,value:e}).then(function(e){return n._checkKey(t),e})},i.prototype.AddToSharedContext=function(e,t){return this.sendMessage(c.ContextMessageSubject.AddToSharedContext,{key:e,value:t})},i.prototype.RemoveFromSharedContext=function(e){return this.sendMessage(c.ContextMessageSubject.RemoveFromSharedContext,{key:e})},i.prototype.AddToMainProcessContext=function(e,t){return this.sendMessage(c.ContextMessageSubject.AddToMainProcessContext,{key:e,value:t})},i.prototype.AddListToContext=function(t){var n=this;return this.sendMessage(c.ContextMessageSubject.AddListToContext,{kvp:t}).then(function(e){return n._checkKeys(t),e})},i.prototype.GetFromContext=function(e){return this.sendMessage(c.ContextMessageSubject.GetFromContext,{key:e})},i.prototype.GetFromSharedContext=function(e){return this.sendMessage(c.ContextMessageSubject.GetFromSharedContext,{key:e})},i.prototype.GetObjectFromContext=function(e){return this.sendMessage(c.ContextMessageSubject.GetObjectFromContext,{keyArray:e})},i.prototype.GetTypedObjectFromContext=function(e){return this.sendMessage(c.ContextMessageSubject.GetTypedObjectFromContext,{template:e})},i.prototype.GetListFromContext=function(e){return this.sendMessage(c.ContextMessageSubject.GetListFromContext,{keyArray:e})},i.prototype.GetAuthentificationInfo=function(){return this.sendMessage(c.ContextMessageSubject.GetAuthentificationInfo,{})},i.prototype.getAuthentificationInfo=function(){return this.GetAuthentificationInfo()},i.prototype.GetParametresComptables=function(){return this.sendMessage(c.ContextMessageSubject.GetParametresComptables,{})},i.prototype.Redirect=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),this.library.Display.redirect(e,t)},i.prototype.GetWaitingProcesses=function(){return this.sendMessage(c.ContextMessageSubject.GetWaitingProcesses,{})},i.prototype.PutProcessInPortalContext=function(e){return this.sendMessage(c.ContextMessageSubject.PutProcessInPortalContext,{processId:e})},i.prototype.PutTaskInPortalContext=function(e){return this.sendMessage(c.ContextMessageSubject.PutTaskInPortalContext,{taskId:e})},i.prototype.GetCurrentProcessId=function(){return this.sendMessage(c.ContextMessageSubject.GetCurrentProcessId,{})},i.prototype.GetCurrentStepId=function(){return this.sendMessage(c.ContextMessageSubject.GetCurrentStepId,{})},i.prototype.reinitialisationServiceAgent=function(e){return this.sendMessage(c.ContextMessageSubject.ReinitialisationServiceAgent,{idServiceAgentGenere:e})},i.prototype.GetCurrentStepInfo=function(){return this.sendMessage(c.ContextMessageSubject.GetCurrentStepInfo,{})},i.prototype.SetMyWayCompatible=function(){var t=this;return this.sendMessage(c.ContextMessageSubject.SetMyWayCompatible,{}).then(function(e){return t.VersionComposant=e.versionComposant,!0})},i.prototype.SubscribeToNotification=function(e,r){var o=this;return e.forEach(function(t){var n=!1;if(o.listenersNotificationsCorrespondance.every(function(e){return e.callbackExterne===t&&(n=!0),!n}),!n){var e={callbackExterne:t,callbackInterne:function(e){t(e,r)}};o.library.Core.addListenerOnNotification(e.callbackInterne),o.listenersNotificationsCorrespondance.push(e)}}),r&&this.library.Interop?this.library.Interop.triggerNotifications():p.Promesses.getPromesseSelfResoved()},i.prototype.retirerListenerNotification=function(t){var n=this;p.CoreCommon.ArrayUtils.remove(this.listenersNotificationsCorrespondance,function(e){return e.callbackExterne===t&&(n.library.Core.removeListenerOnNotification(e.callbackInterne),!0)})},i.prototype.ChangeMainProcessName=function(e){return this.sendMessage(c.ContextMessageSubject.ChangeMainProcessName,{name:e})},i.prototype.getAllElementsWithAttribute=function(e){for(var t=[],n=document.getElementsByTagName("*"),r=0,o=n.length;r<o;r++)null!==n[r].getAttribute(e)&&t.push(n[r]);return t},i.prototype.SauvegarderDonneesScope=function(){if(this.sauvegardeScopeParam.disableScopeSave||!this.StepInfo||!this.StepInfo.CurrentStepId)return null;if("undefined"==typeof angular)return null;var e=null;try{if(this.sauvegardeScopeParam.scopeType==c.ScopeType.Service){var t=this._getServiceData(this.sauvegardeScopeParam.donneesScopeASauvegarder);try{e=JSON.pruned(t)}catch(e){p.Loggers.FLASH.INSTANCE.setValue("action","SauvegarderDonneesScope"),i.logger.error("impossible de serialiser le scope")}}else{var n=this._getAngularScope();if(!n)return;var r=this._getOverallScopeContent(n);try{e=JSON.pruned(r)}catch(e){p.Loggers.FLASH.INSTANCE.setValue("action","SauvegarderDonneesScope"),i.logger.error("impossible de serialiser le scope")}}e&&(e.length<1e4?this._addToProcessStepContext("donneesScope",e,this.StepInfo.CurrentPath):(p.Loggers.FLASH.INSTANCE.setValue("action","SauvegarderDonneesScope"),i.logger.warn("Sauvegarde du scope non autorisee, le scope serialise depasse la taille limite de %1 caracteres : %2",1e4,e.length)))}catch(e){p.Loggers.FLASH.INSTANCE.setValue("action","SauvegarderDonneesScope"),i.logger.debug("impossible de récupérer le scope")}},i.prototype._addToProcessStepContext=function(e,t,n){return this.sendMessage(c.ContextMessageSubject.AddToProcessStepContext,{key:e,value:t,processStepId:n})},i.prototype._getAngularScope=function(){var e;if(this.sauvegardeScopeParam.scopeType===c.ScopeType.View){var t=this.getAllElementsWithAttribute("ng-view");if(0===t.length&&(t=this.getAllElementsWithAttribute("data-ng-view")),0===t.length)return null;e=angular.element(t).scope()}else this.sauvegardeScopeParam.scopeType===c.ScopeType.Root&&(e=angular.element(document).scope());return e},i.prototype._getOverallScopeContent=function(t){var s=this;if(this.sauvegardeScopeParam.scopeType!==c.ScopeType.View)return this.sauvegardeScopeParam.scopeType===c.ScopeType.Root?this._getScopeData(t,null):this.sauvegardeScopeParam.scopeType===c.ScopeType.Service?this._getServiceData(this.sauvegardeScopeParam.donneesScopeASauvegarder):void 0;var a={};return 1==this.sauvegardeScopeParam.donneesScopeASauvegarder.length&&"*"===this.sauvegardeScopeParam.donneesScopeASauvegarder[0]?a=this._getScopeContent(t):this.sauvegardeScopeParam.donneesScopeASauvegarder.forEach(function(e){var n=e.split(".");if(1===n.length)a[e]=s._getScopeContent(t[n[0]]);else{var r=t,o={};n.forEach(function(e,t){0===t?(a[e]||(a[e]={}),o=a[e],r=r[e]):t===n.length-1?o[e]=s._getScopeContent(r[e]):(o[e]||(o[e]={}),o=o[e],r=r[e])})}}),a},i.prototype._getScopeData=function(e,t){var n=new r;return n.id=e.$id,n.data=this._getScopeContent(e),e.$$childHead&&this._getScopeData(e.$$childHead,n),e.$$nextSibling&&this._getScopeData(e.$$nextSibling,t),t&&(t.children||(t.children=[]),t.children.push(n)),n},i.prototype._setScope=function(t,e){var n=this,r=this._getScopeById(t,e.id);if(r)for(var o in e.data)p.CoreCommon.applyProperties(e.data,r,o);e.children&&e.children.forEach(function(e){n._setScope(t,e)})},i.prototype._getServiceData=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=angular.element(document.body).injector().get(r);t.push(new s(r,o))}return t},i.prototype._setServices=function(e){for(var t=0;t<e.length;t++){var n=e[t].name,r=e[t].data,o=angular.element(document.body).injector().get(n);for(var s in r)p.CoreCommon.applyProperties(r,o,s)}},i.prototype._getScopeById=function(e,t){return e.$id===t?e:e.$$childHead&&(n=this._getScopeById(e.$$childHead,t))?n:e.$$nextSibling&&(n=this._getScopeById(e.$$nextSibling,t))?n:null;var n},i.prototype._isObject=function(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)},i.prototype._getScopeContent=function(e){if(!this._isObject(e[n]))return e;var t={};for(var n in e)if("$"!==n[0]&&"function"!=typeof e[n]&&e[n]&&e.hasOwnProperty(n))if(this._isObject(e[n])){if(e[n].$$framework)continue;t[n]=this._getScopeContent(e[n])}else t[n]=e[n];return t},i.prototype.getId=function(e){return e.id?"#"+e.id:""},i.prototype.getClasses=function(e){return e.className?"."+e.className.replace(new RegExp(" ","g"),"."):""},i.prototype.InitialiserDonneesScope=function(e){var n=this;if(this.sauvegardeScopeParam.disableScopeSave||!e||!e.CurrentStepId||"undefined"==typeof angular){var t=p.Promesses.getServiceDePromesse().defer();return p.Loggers.FLASH.INSTANCE.setValue("action","InitialiserDonneesScope"),i.logger.debug("sauvegarde scope non utilisable"),t.resolve(!1),t.promise}i.logger.warn("InitialiserDonneesScope - Restauration du scope, log pour remonter sur Kibana qui utilise cette fonctionnalité");var r=this,o=!1;return this.GetFromContext("donneesScope").then(function(e){if(e)try{var s=JSON.parse(e),a=n._getAngularScope();if(a||r.sauvegardeScopeParam.scopeType!==c.ScopeType.View&&r.sauvegardeScopeParam.scopeType!==c.ScopeType.Root){if(r.sauvegardeScopeParam.scopeType===c.ScopeType.View){if(1==n.sauvegardeScopeParam.donneesScopeASauvegarder.length&&"*"===n.sauvegardeScopeParam.donneesScopeASauvegarder[0])for(var t in s)p.CoreCommon.applyProperties(s,a,t);else n.sauvegardeScopeParam.donneesScopeASauvegarder.forEach(function(e,t){var n=e.split(".");if(1===n.length)p.CoreCommon.applyProperties(s,a,t);else{var r=a,o={};n.forEach(function(e,t){0===t?(r[e]||(r[e]={}),o=s[e],r=r[e]):t===n.length-1?p.CoreCommon.applyProperties(o,r,e):(r[e]||(r[e]={}),o=o[e],r=r[e])})}});a.$apply()}else r.sauvegardeScopeParam.scopeType===c.ScopeType.Root?(n._setScope(a,s),a.$apply()):r.sauvegardeScopeParam.scopeType===c.ScopeType.Service&&n._setServices(s);o=!0}else p.Loggers.FLASH.INSTANCE.setValue("action","InitialiserDonneesScope"),i.logger.warn("pas de scope trouvé sur la vue")}catch(e){p.Loggers.FLASH.INSTANCE.setValue("action","InitialiserDonneesScope"),i.logger.error("Problème lors de l'initialisation des données du scope : %1",e.toString())}return o})},i.prototype.sendNotification=function(e){return this.library.Core.sendNotification(e),e&&"fin d etape"===e.Sujet&&this.SauvegarderDonneesScope(),p.Promesses.getPromesseSelfResoved()},i.prototype.reception=function(e){switch(e.subject){case c.ContextMessageSubject.Notification:var t=e.message;return this.sendNotification(t);case c.ContextMessageSubject.AnalyseApp:var n=this.AnalyseApp(),r=p.Promesses.getServiceDePromesse().defer();return r.resolve(n),r.promise;default:return o.prototype.reception.call(this,e)}},i.prototype.AnalyseApp=function(){if("undefined"==typeof angular)return null;for(var e=new c.AnalyseResult,t=document.getElementsByClassName("ng-scope"),n=0,r=[].slice.call(t);n<r.length;n++){var o=r[n],s=o.localName+this.getId(o)+this.getClasses(o),a=angular.element(o).scope();if(a)if(a.$$watchers){var i=a.$$watchers.length;e.TotalWatchers+=i,e.WatcherByScope.push(new c.AnalyseScope(s,i))}else e.WatcherByScope.push(new c.AnalyseScope(s,0))}return e.TotalWatchers2=this.CountWatcher2(),e.TotalWatchers3=this.CountWatcher3(),e},i.prototype.CountWatcher2=function(){var e=angular.element(document.getElementsByTagName("body")),n=[],r=function(t){angular.forEach(["$scope","$isolateScope"],function(e){t.data()&&t.data().hasOwnProperty(e)&&angular.forEach(t.data()[e].$$watchers,function(e){n.push(e)})}),angular.forEach(t.children(),function(e){r(angular.element(e))})};r(e);var t=[];return angular.forEach(n,function(e){t.indexOf(e)<0&&t.push(e)}),t.length},i.prototype.CountWatcher3=function(){var e=this.getAllElementsWithAttribute("ng-controller"),n=0;return e&&e.forEach(function(e){var t=angular.element(e).scope();t&&t.$$watchers&&(n+=t.$$watchers.length)}),n},i.prototype.SetContextListener=function(e,t){this._listenedKey=e,this._listernerCallback=t},i.prototype._checkKey=function(e){var t=!1;return this._listenedKey&&this._listernerCallback&&e===this._listenedKey&&(this._listernerCallback(),t=!0),t},i.prototype._checkKeys=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var o=r[n];if(this._checkKey(o.Key)){t=!0;break}}return t},i.CLASS_NAME="MyWay.Services.Context.ContextAgent",i.logger=p.Loggers.LoggerFactory.INSTANCE.getClass(i.CLASS_NAME),i}(p.Components.ComponentAgentBase);c.ContextAgent=e,p.Components.RegistryAgent.getInstance().register(e)})((p=e.Services||(e.Services={})).Context||(p.Context={}))}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).ServiceAgentExtended.prototype.OnContextEvent=function(){t.ServiceAgentExtended.logger_extended.info("Ajout au contexte de %1",this._listenedKey),t.ServiceAgentProvider._serviceAgentExtended._diagnostic.userTime=Date.now(),this.library.Context.SetContextListener(null,null)},t.ServiceAgentExtended.prototype.addToSharedContext=function(e,t){try{var n=this.$q.defer();return this.Context.AddToSharedContext(e,t).then(function(){n.resolve()},function(){n.reject()}),n.promise}catch(e){throw new Error("context pas initialise !")}},t.ServiceAgentExtended.prototype.removeFromSharedContext=function(e){try{var t=this.$q.defer();return this.Context.RemoveFromSharedContext(e).then(function(){t.resolve()},function(){t.reject()}),t.promise}catch(e){throw new Error("context pas initialise !")}},t.ServiceAgentExtended.prototype.addToContext=function(e,t){try{var n=this.$q.defer();return this.Context.AddToContext(e,t).then(function(){n.resolve()},function(){n.reject()}),n.promise}catch(e){throw new Error("context pas initialise !")}},t.ServiceAgentExtended.prototype.addListToContext=function(e){try{var t=this.$q.defer(),n=[];return angular.forEach(e,function(e,t){n.push({Key:t,Value:e})}),this.Context.AddListToContext(n).then(function(){t.resolve()},function(){t.reject()}),t.promise}catch(e){throw new Error("context pas initialise !")}},t.ServiceAgentExtended.prototype.getFromContext=function(e,t){var n=this;try{var r=this.$q.defer();return this.Context.GetFromContext(e).then(function(e){t&&(e=n.instanceLoaderService.createInstance(t,e)),r.resolve(e)},function(){r.reject()}),r.promise}catch(e){throw new Error("context pas initialise !")}},t.ServiceAgentExtended.prototype.getFromSharedContext=function(e,t){var n=this;try{var r=this.$q.defer();return this.Context.GetFromSharedContext(e).then(function(e){t&&(e=n.instanceLoaderService.createInstance(t,e)),r.resolve(e)},function(){r.reject()}),r.promise}catch(e){throw new Error("context pas initialise !")}},t.ServiceAgentExtended.prototype.getListFromContext=function(e){try{var t=this.$q.defer();return this.Context.GetListFromContext(e).then(function(e){t.resolve(e)},function(){t.reject()}),t.promise}catch(e){throw new Error("context pas initialise !")}},t.ServiceAgentExtended.prototype.getAuthentificationInfo=function(){try{var t=this.$q.defer();return this.Context.GetAuthentificationInfo().then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}catch(e){throw new Error("context pas initialise !")}},t.ServiceAgentExtended.prototype.getParametresComptables=function(){try{var t=this.$q.defer();return this.Context.GetParametresComptables().then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}catch(e){throw new Error(e)}}}(MyWay||(MyWay={})),function(e){var s;(s=e.Services||(e.Services={})).Core.defineProperty(s.ServiceAgent,"Step",{get:function(){return this.Library.Context.StepInfo}}),s.ServiceAgent.prototype.SendRequest=function(e){var o=this;return s.Promesses.promesseTryCatch(function(t){var n=o,r=e;r.logger=s.ServiceAgent.logger,n.Library&&n.Library.Context&&n.Library.Context.StepInfo?(r.stepInfo=n.Library.Context.StepInfo,r.versionComposant=r.stepInfo.VersionComposant):n.Library&&n.Library.Context&&(r.stepInfo=null,r.versionComposant=n.Library.Context.VersionComposant),e.withHeaders?n.Context.GetAuthentificationInfo().then(function(e){r.authentificationInfo=e,n.Library.Context.GetParametresComptables().then(function(e){r.parametresComptables=e,s.CoreCommon.SendRequest(r,function(e){t.resolve(e)},function(e){t.reject(e)})}).catch(t.reject)}).catch(t.reject):s.CoreCommon.SendRequest(r,function(e){t.resolve(e)},function(e){t.reject(e)})})}}(MyWay||(MyWay={})),function(e){var r,o,t;r=e.Services||(e.Services={}),o=r.Display||(r.Display={}),t=function(t){function n(){var e=t.call(this,r.Components.ComponentType.Display)||this;return e.myIFrameId=null,e}return __extends(n,t),n.prototype.getMyIFrameId=function(){return this.myIFrameId},n.prototype.reception=function(e){switch(e.subject){case o.DisplayMessageSubject.Refresh:return e.message,this.Refresh(),r.Promesses.getPromesseSelfResoved();default:return t.prototype.reception.call(this,e)}},n.prototype.Refresh=function(){try{angular.element(document.body).injector().get("$route").reload()}catch(e){r.Loggers.FLASH.INSTANCE.setValue("details",e),n.logger.warn("Reload failed")}},n.prototype.RedirectInStep=function(e){return this.sendMessage(o.DisplayMessageSubject.RedirectInStep,{}).then(function(e){window.location.href=e})},n.prototype.PrepareSubmit=function(e){return this.sendMessage(o.DisplayMessageSubject.PrepareSubmit,{url:e})},n.prototype.redirect=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),this.sendMessage(o.DisplayMessageSubject.Redirect,{url:e,previousUrl:t})},n.prototype.displayMessage=function(e){return this.sendMessage(o.DisplayMessageSubject.DisplayMessage,{message:e})},n.CLASS_NAME="MyWay.Services.Display.DisplayAgent",n.logger=r.Loggers.LoggerFactory.INSTANCE.getClass(n.CLASS_NAME),n}(r.Components.ComponentAgentBase),o.DisplayAgent=t,r.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),function(e){(e.Services||(e.Services={})).ServiceAgent.prototype.DisplayMessage=function(e){this.Library&&this.Library.Display?this.Library.Display.displayMessage(e):console.error("Erreur de chargement avant l'initialisation du service agent : ",e)}}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-context-display-agent.min.js.map
var MyWay;!function(e){var o,n;o=e.Services||(e.Services={}),((n=o.Components||(o.Components={})).ComponentType||(n.ComponentType={})).BriqueCommunication="BriqueCommunication"}(MyWay||(MyWay={})),function(e){var o,n;o=e.Services||(e.Services={}),(n=o.BriqueCommunication||(o.BriqueCommunication={})).BriqueCommunicationMessageSubject||(n.BriqueCommunicationMessageSubject={})}(MyWay||(MyWay={})),function(e){var o;(o=e.Services||(e.Services={})).Bug||(o.Bug={})}(MyWay||(MyWay={})),function(e){var o,n,E,t;o=e.Services||(e.Services={}),n=o.BriqueCommunication||(o.BriqueCommunication={}),E=n.Messages||(n.Messages={}),(t=E.EVENT_TYPE||(E.EVENT_TYPE={}))[t.CHAT=1]="CHAT",t[t.NOTIFICATION=2]="NOTIFICATION"}(MyWay||(MyWay={})),function(e){var o,n;o=e.Services||(e.Services={}),((n=o.Components||(o.Components={})).ComponentType||(n.ComponentType={})).Chat="Chat"}(MyWay||(MyWay={})),function(e){var o,n,E,t;o=e.Services||(e.Services={}),n=o.BriqueCommunication||(o.BriqueCommunication={}),E=n.Chat||(n.Chat={}),(t=E.ChatMessageSubject||(E.ChatMessageSubject={}))[t.OpenChatroom=0]="OpenChatroom",t[t.OpenChat=1]="OpenChat",t[t.SendMessage=2]="SendMessage",t[t.CloseChat=3]="CloseChat",t[t.GetUtilisateurs=4]="GetUtilisateurs",t[t.EnvoyerMessageVideoroom=5]="EnvoyerMessageVideoroom",t[t.ReceptionMessageVideoroom=6]="ReceptionMessageVideoroom",t[t.GetChatrooms=7]="GetChatrooms",t[t.GetChatroom=8]="GetChatroom",t[t.PrendreLaMainVideoroom=9]="PrendreLaMainVideoroom",t[t.DemarrerVideoChatroom=10]="DemarrerVideoChatroom",t[t.ArreterVideoChatroom=11]="ArreterVideoChatroom",t[t.AccepterDemanderExpert=12]="AccepterDemanderExpert",t[t.InviterPersonnesAUneChatroom=13]="InviterPersonnesAUneChatroom",t[t.SetStatut=14]="SetStatut",t[t.AddChatCapacity=15]="AddChatCapacity",t[t.WebRTC=16]="WebRTC",o.Components.FactoryRegistries.getInstance().declareComponent(o.Components.ComponentType.BriqueCommunication,[o.Components.ComponentType.Context]),o.Components.FactoryRegistries.getInstance().declareComponent(o.Components.ComponentType.Chat,[o.Components.ComponentType.BriqueCommunication,o.Components.ComponentType.Context,o.Components.ComponentType.Core,o.Components.ComponentType.Display,o.Components.ComponentType.Evennements,o.Components.ComponentType.Persistence])}(MyWay||(MyWay={})),function(e){var o;(o=e.Services||(e.Services={})).Bug||(o.Bug={})}(MyWay||(MyWay={})),function(e){var o,n,E,t,C,T,i,a;o=e.Services||(e.Services={}),n=o.BriqueCommunication||(o.BriqueCommunication={}),E=n.Chat||(n.Chat={}),t=E.Messages||(E.Messages={}),(C=t.TYPE||(t.TYPE={}))[C.OPEN_CHATROOM=1]="OPEN_CHATROOM",C[C.OPEN_CHAT=2]="OPEN_CHAT",C[C.SEND_MESSAGE=3]="SEND_MESSAGE",C[C.CLOSE_CHAT=4]="CLOSE_CHAT",C[C.GET_UTILISATEURS=5]="GET_UTILISATEURS",C[C.ENVOYER_MESSAGE_VIDEOROOM=6]="ENVOYER_MESSAGE_VIDEOROOM",C[C.RECEPTION_MESSAGE_VIDEOROOM=7]="RECEPTION_MESSAGE_VIDEOROOM",C[C.GET_CHATROOMS=8]="GET_CHATROOMS",C[C.GET_CHATROOM=16]="GET_CHATROOM",C[C.PRENDRE_LA_MAIN_VIDEOROOM=9]="PRENDRE_LA_MAIN_VIDEOROOM",C[C.DEMARRER_VIDEO_CHATROOM=10]="DEMARRER_VIDEO_CHATROOM",C[C.ARRETER_VIDEO_CHATROOM=11]="ARRETER_VIDEO_CHATROOM",C[C.ACCEPTER_DEMANDE_EXPERT=12]="ACCEPTER_DEMANDE_EXPERT",C[C.INVITER_PERSONNES_A_UNE_CHATROOM=13]="INVITER_PERSONNES_A_UNE_CHATROOM",C[C.SET_STATUT=14]="SET_STATUT",C[C.ADD_CHAT_CAPACITY=15]="ADD_CHAT_CAPACITY",(T=t.EVENT_TYPE||(t.EVENT_TYPE={}))[T.MESSAGE_RECU=1]="MESSAGE_RECU",T[T.CHAT_FERME=2]="CHAT_FERME",T[T.CHAT_OUVERT=3]="CHAT_OUVERT",T[T.MISE_A_JOUR_LISTE_UTILISATEURS=4]="MISE_A_JOUR_LISTE_UTILISATEURS",T[T.UTILISATEUR_CONNECTE_A_CHAT=5]="UTILISATEUR_CONNECTE_A_CHAT",T[T.UTILISATEUR_DECONNECTE_A_CHAT=6]="UTILISATEUR_DECONNECTE_A_CHAT",T[T.CHANGEMENT_MAIN_CHATROOM=7]="CHANGEMENT_MAIN_CHATROOM",T[T.DEMANDE_EXPERT=8]="DEMANDE_EXPERT",T[T.FIN_DEMANDE_EXPERT=9]="FIN_DEMANDE_EXPERT",T[T.CHAT_DIV_ELEMENT=10]="CHAT_DIV_ELEMENT",T[T.FIN_VIDEOROOM=11]="FIN_VIDEOROOM",(i=t.UTILISATEUR_TYPE||(t.UTILISATEUR_TYPE={}))[i.CONSEILLER=0]="CONSEILLER",i[i.EXPERT=1]="EXPERT",i[i.CLIENT=2]="CLIENT",i[i.PROSPECT=3]="PROSPECT",(a=t.UTILISATEUR_STATUT||(t.UTILISATEUR_STATUT={}))[a.CONNECTE=1]="CONNECTE",a[a.DECONNECTE=2]="DECONNECTE"}(MyWay||(MyWay={})),function(e){var o,n,E;o=e.Services||(e.Services={}),n=o.BriqueCommunication||(o.BriqueCommunication={}),function(e){var o;(o=e.TYPE||(e.TYPE={}))[o.ABONNEMENT=1]="ABONNEMENT",o[o.DESABONNEMENT=2]="DESABONNEMENT",o[o.GET_LISTE_SUJETS=3]="GET_LISTE_SUJETS";var n=function(){};e.INotificationMessageAbonnementRequest=n;var E=function(){};e.INotificationMessageDesabonnementRequest=E;var t,C=function(){};e.INotificationMessageListeSujetsResponse=C,(t=e.EVENT_TYPE||(e.EVENT_TYPE={}))[t.NOUVEL_ABONNEMENT=1]="NOUVEL_ABONNEMENT",t[t.DESABONNEMENT=2]="DESABONNEMENT",t[t.NOTIFICATION_MESSAGE=3]="NOTIFICATION_MESSAGE"}((E=n.Notification||(n.Notification={})).Messages||(E.Messages={}))}(MyWay||(MyWay={})),function(e){var o,n;o=e.Services||(e.Services={}),((n=o.Components||(o.Components={})).ComponentType||(n.ComponentType={})).Notification="Notification"}(MyWay||(MyWay={})),function(e){var o,n,E,t;o=e.Services||(e.Services={}),n=o.BriqueCommunication||(o.BriqueCommunication={}),E=n.Notification||(n.Notification={}),(t=E.NotificationMessageSubject||(E.NotificationMessageSubject={}))[t.Abonnement=0]="Abonnement",t[t.Desabonnement=1]="Desabonnement",t[t.GetListeSubjects=2]="GetListeSubjects",o.Components.FactoryRegistries.getInstance().declareComponent(o.Components.ComponentType.Notification,[o.Components.ComponentType.BriqueCommunication,o.Components.ComponentType.Context,o.Components.ComponentType.Core,o.Components.ComponentType.Evennements,o.Components.ComponentType.Persistence])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-brique-communication-common.min.js.map
var MyWay;!function(e){var i,y;i=e.Services||(e.Services={}),((y=i.Components||(i.Components={})).ComponentType||(y.ComponentType={})).Mobilite="Mobilite"}(MyWay||(MyWay={})),function(e){var i,y,t,r;i=e.Services||(e.Services={}),y=i.Mobilite||(i.Mobilite={}),t=y.Messages||(y.Messages={}),(r=t.MobiliteMessageSubject||(t.MobiliteMessageSubject={}))[r.GetInfoMachine=0]="GetInfoMachine",r[r.GetPeripheriques=1]="GetPeripheriques",r[r.GetPeripheriquesParType=2]="GetPeripheriquesParType",r[r.GetReseau=3]="GetReseau",i.Components.FactoryRegistries.getInstance().declareComponent(i.Components.ComponentType.Mobilite,[i.Components.ComponentType.Context,i.Components.ComponentType.Core])}(MyWay||(MyWay={})),function(e){var i,y,t;i=e.Services||(e.Services={}),y=i.Mobilite||(i.Mobilite={}),t=function(){this.typePeripherique=y.TYPE_PERIPHERIQUE.CAISSE_AUTO},y.CaisseAuto=t}(MyWay||(MyWay={})),function(e){var i,y,t;i=e.Services||(e.Services={}),y=i.Mobilite||(i.Mobilite={}),(t=y.PLATEFORME||(y.PLATEFORME={}))[t.MYSYS=1]="MYSYS",t[t.WINDOWS=2]="WINDOWS",t[t.APPLE=3]="APPLE",t[t.ANDROID=4]="ANDROID",t[t.AUTRE=99]="AUTRE"}(MyWay||(MyWay={})),function(e){var i,y,t,r;i=e.Services||(e.Services={}),y=i.Mobilite||(i.Mobilite={}),(r=t=y.TYPE_PERIPHERIQUE||(y.TYPE_PERIPHERIQUE={}))[r.TABLETTE_SIGNATURE=0]="TABLETTE_SIGNATURE",r[r.CAISSE_AUTO=1]="CAISSE_AUTO",y.TypePeripherique=t}(MyWay||(MyWay={})),function(e){var i,y,t;i=e.Services||(e.Services={}),y=i.Mobilite||(i.Mobilite={}),(t=y.TYPE_RESEAU||(y.TYPE_RESEAU={}))[t.DECONNECTE=0]="DECONNECTE",t[t.VPN=10]="VPN",t[t.WIFI_AGENCE=20]="WIFI_AGENCE",t[t.FILAIRE=30]="FILAIRE",t[t.CONNECTE=99]="CONNECTE",t[t.INCONNU=99]="INCONNU"}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Mobilite||(i.Mobilite={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Mobilite||(i.Mobilite={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Mobilite||(i.Mobilite={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Mobilite||(i.Mobilite={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Mobilite||(i.Mobilite={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Mobilite||(i.Mobilite={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i,y,t;i=e.Services||(e.Services={}),y=i.Mobilite||(i.Mobilite={}),(t=y.RECUP_INFO||(y.RECUP_INFO={}))[t.FICHIER=0]="FICHIER",t[t.DETECTION=1]="DETECTION"}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i,r,y;i=e.Services||(e.Services={}),r=i.Mobilite||(i.Mobilite={}),y=function(e,i,y,t){this.typePeripherique=r.TYPE_PERIPHERIQUE.TABLETTE_SIGNATURE,this.type=e,this.modele=i,this.codeModele=y,this.idMateriel=t},r.TabletteSignature=y}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-mobilite-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])};return function(e,i){function n(){this.constructor=e}c(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(e){var i,n;i=e.Services||(e.Services={}),((n=i.Components||(i.Components={})).ComponentType||(n.ComponentType={})).Acquisition="Acquisition"}(MyWay||(MyWay={})),function(e){var i,n,c,r;i=e.Services||(e.Services={}),n=i.Acquisition||(i.Acquisition={}),(c=n.Messages||(n.Messages={})).START_STATE="start",c.END_STATE="finish",c.ERROR="error",(r=c.AcquisitionMessageSubject||(c.AcquisitionMessageSubject={}))[r.AppelRADLAD=0]="AppelRADLAD",r[r.ChangeState=1]="ChangeState",r[r.ConvertBase64ToBin=2]="ConvertBase64ToBin",r[r.ConvertFileToImg=3]="ConvertFileToImg",r[r.FermetureSpiFactory=4]="FermetureSpiFactory",r[r.GetDocumentGEDAtAndOpen=5]="GetDocumentGEDAtAndOpen",r[r.GetDocumentGEDAndOpen=6]="GetDocumentGEDAndOpen",r[r.GetDocumentGEDAndSave=7]="GetDocumentGEDAndSave",r[r.GetProcessingTask=8]="GetProcessingTask",r[r.MergeAndOpenPDF=9]="MergeAndOpenPDF",r[r.MergerEtArchiver=10]="MergerEtArchiver",r[r.MergerEtUploader=11]="MergerEtUploader",r[r.OuvrirListeDocumentGED=12]="OuvrirListeDocumentGED",r[r.Purge=13]="Purge",r[r.RecupereListeDocumentGED=14]="RecupereListeDocumentGED",r[r.SetConfigurationScanner=15]="SetConfigurationScanner",r[r.GetListeScanner=16]="GetListeScanner",r[r.IsPrisEnMainADistance=17]="IsPrisEnMainADistance",r[r.UploadDocumentFrom=18]="UploadDocumentFrom",r[r.IsDocumentSigne=19]="IsDocumentSigne",i.Components.FactoryRegistries.getInstance().declareComponent(i.Components.ComponentType.Acquisition,[i.Components.ComponentType.Context])}(MyWay||(MyWay={})),function(e){var i,n,c;i=e.Services||(e.Services={}),n=i.Acquisition||(i.Acquisition={}),(c=n.ACQUISITION_TYPE||(n.ACQUISITION_TYPE={}))[c.BINARY=0]="BINARY",c[c.BASE64=1]="BASE64"}(MyWay||(MyWay={})),function(e){var i,n,c;i=e.Services||(e.Services={}),n=i.Acquisition||(i.Acquisition={}),(c=n.BINARIZE_METHOD||(n.BINARIZE_METHOD={}))[c.SIMPLE_THRESHOLD=0]="SIMPLE_THRESHOLD",c[c.GLOBAL_THRESHOLD=1]="GLOBAL_THRESHOLD",c[c.ADAPTIVE_THRESHOLD=2]="ADAPTIVE_THRESHOLD",c[c.DYNAMIC_THRESHOLD=3]="DYNAMIC_THRESHOLD"}(MyWay||(MyWay={})),function(e){var i,n,c;i=e.Services||(e.Services={}),n=i.Acquisition||(i.Acquisition={}),(c=n.FILE_FORMAT||(n.FILE_FORMAT={}))[c.BMP=0]="BMP",c[c.PNG=1]="PNG",c[c.GIF=2]="GIF",c[c.JPG_JPEG=3]="JPG_JPEG",c[c.PDF=4]="PDF",c[c.TIF_TIFF=5]="TIF_TIFF"}(MyWay||(MyWay={})),function(e){var i,n,c;i=e.Services||(e.Services={}),n=i.Acquisition||(i.Acquisition={}),(c=n.FORMAT_MERGE||(n.FORMAT_MERGE={}))[c.PDF=0]="PDF",c[c.ZIP=1]="ZIP"}(MyWay||(MyWay={})),function(e){var i,n,c;i=e.Services||(e.Services={}),n=i.Acquisition||(i.Acquisition={}),(c=n.OUVERTURE_ARCHIVE||(n.OUVERTURE_ARCHIVE={}))[c.NATIVE=0]="NATIVE",c[c.OUTLOOK=1]="OUTLOOK"}(MyWay||(MyWay={})),function(e){var i,n,c;i=e.Services||(e.Services={}),n=i.Acquisition||(i.Acquisition={}),(c=n.ROTATION_VALUES||(n.ROTATION_VALUES={}))[c.ANGLE_90=90]="ANGLE_90",c[c.ANGLE_180=180]="ANGLE_180",c[c.ANGLE_270=270]="ANGLE_270"}(MyWay||(MyWay={})),function(e){var i,n,c;i=e.Services||(e.Services={}),n=i.Acquisition||(i.Acquisition={}),(c=n.LOCALISATION_SCANNER||(n.LOCALISATION_SCANNER={}))[c.SCANNER_DISTANT=0]="SCANNER_DISTANT",c[c.SCANNER_LOCAL=1]="SCANNER_LOCAL",c[c.NONE=2]="NONE"}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i,n;i=e.Services||(e.Services={}),n=function(){},(i.Acquisition||(i.Acquisition={})).IConvertFileParams=n}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i,n;i=e.Services||(e.Services={}),n=function(){},(i.Acquisition||(i.Acquisition={})).ICreerImageBitonalParams=n}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i,n;i=e.Services||(e.Services={}),n=function(){},(i.Acquisition||(i.Acquisition={})).IPdfParams=n}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i,n,c;i=e.Services||(e.Services={}),n=i.Acquisition||(i.Acquisition={}),c=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i}(n.IPdfParams),n.IGuidParams=c}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i,n;i=e.Services||(e.Services={}),n=function(){},(i.Acquisition||(i.Acquisition={})).IRadladParams=n}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i,n;i=e.Services||(e.Services={}),n=function(){},(i.Acquisition||(i.Acquisition={})).IScannerAccessibleResult=n}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={})),function(e){var i,n;i=e.Services||(e.Services={}),n=function(){},(i.Acquisition||(i.Acquisition={})).IProcessingTasks=n}(MyWay||(MyWay={})),function(e){var i;(i=e.Services||(e.Services={})).Bug||(i.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-acquisition-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var t,n;t=e.Services||(e.Services={}),((n=t.Components||(t.Components={})).ComponentType||(n.ComponentType={})).Aide="Aide"}(MyWay||(MyWay={})),function(e){var t,n,o,s;t=e.Services||(e.Services={}),n=t.Aide||(t.Aide={}),o=n.Messages||(n.Messages={}),(s=o.AideMessageSubject||(o.AideMessageSubject={}))[s.GetContenuInfobulle=0]="GetContenuInfobulle",s[s.GetInfobullesAffichables=1]="GetInfobullesAffichables",t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.Aide,[t.Components.ComponentType.Context,t.Components.ComponentType.Display,t.Components.ComponentType.Preferences])}(MyWay||(MyWay={})),function(e){var t;(function(e){var t=function(e){e&&(this.ChampsDeSaisie=e.ChampsDeSaisie,this.ModalePush=e.ModalePush,this.Totem=e.Totem,this.InfobullesAffichees=e.InfobullesAffichees,this.DetailInfobulleAffichee=e.DetailInfobulleAffichee)};e.AideResult=t;var n=function(e){e&&(this.Id=e.Id,this.IdChamp=e.IdChamp,this.MessageCommunautaire=e.MessageCommunautaire,this.MessageEtablissement=e.MessageEtablissement,this.EstUneNouveaute=e.EstUneNouveaute)};e.ChampDeSaisieResult=n;var o=function(e){e&&(this.Message=e.Message)};e.ModalePushResult=o;var s=function(e){e&&(this.Categorie=e.Categorie,this.Titre=e.Titre,this.FormatDocument=e.FormatDocument,this.Lien=e.Lien,this.EstUneNouveaute=e.EstUneNouveaute)};e.TotemResult=s;var i=function(){},a=function(o){function e(e,t){var n=o.call(this)||this;return n._estNouveaute="string"==typeof e?(n._nomChampLie=e||"",t||!1):"object"==typeof e?(n._nomChampLie=e&&e._nomChampLie?e._nomChampLie:"",!(!e||!e._estNouveaute)&&e._estNouveaute):(n._nomChampLie="",!1),n}return __extends(e,o),e.prototype.getNomChampLie=function(){return this._nomChampLie},e.prototype.getEstNouveaute=function(){return this._estNouveaute},e}(e.Infobulle=i),u=function(i){function e(e,t,n,o){var s=this;return s._image="string"==typeof e?((s=i.call(this,e,t)||this)._message=n||"",o||null):"object"==typeof e?((s=i.call(this,e)||this)._message=e&&e._message?e._message:"",e&&e._image?e._image:null):((s=i.call(this,"",!1)||this)._message="",null),s}return __extends(e,i),e.prototype.getNomChampLie=function(){return i.prototype.getNomChampLie.call(this)},e.prototype.getEstNouveaute=function(){return i.prototype.getEstNouveaute.call(this)},e.prototype.getMessage=function(){return this._message},e.prototype.getImage=function(){return this._image},e}(e.InfobulleAfficheeResult=a);e.DetailInfobulleAfficheeResult=u})((t=e.Services||(e.Services={})).Aide||(t.Aide={}))}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-aide-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){var n,t,r;n=e.Services||(e.Services={}),t=n.Preferences||(n.Preferences={}),r=function(e){function r(){return e.call(this,n.Components.ComponentType.Preferences)||this}return __extends(r,e),r.prototype.LirePreference=function(e,r){var n={nomVariable:e,isChargerServeur:r};return this.sendMessage(t.PreferencesMessageSubject.LirePreference,n).then(function(e){return e.valeurVariable})},r.prototype.EcrirePreference=function(e,r){var n={preferences:[{cle:e,valeur:r}]};return this.sendMessage(t.PreferencesMessageSubject.EcrirePreference,n)},r.prototype.lireMultiPreference=function(e){var r={codesPreference:e};return this.sendMessage(t.PreferencesMessageSubject.LireMultiPreference,r).then(function(e){return e.preferences})},r.prototype.ecrireMultiPreference=function(e){var r={preferences:e};return this.sendMessage(t.PreferencesMessageSubject.EcrirePreference,r)},r}(n.Components.ComponentAgentBase),t.PreferencesAgent=r,n.Components.RegistryAgent.getInstance().register(r)}(MyWay||(MyWay={})),function(e){var r;(r=e.Services||(e.Services={})).Bug||(r.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-preferences-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var n,s,t;n=e.Services||(e.Services={}),s=n.Interop||(n.Interop={}),t=function(e){function t(){return e.call(this,n.Components.ComponentType.Interop)||this}return __extends(t,e),t.prototype.lireFichier=function(e){var t={nomFichier:e};return this.sendMessage(s.Messages.InteropMessageSubject.LireFichier,t).then(function(e){return e.data})},t.prototype.ecrireFichier=function(e,t,n,r){var o={nomFichier:e,fluxdonnees:t,ajouter:n,creeDir:r};return this.sendMessage(s.Messages.InteropMessageSubject.EcrireFichier,o).then(function(e){return e.data})},t.prototype.AfficherSynthese=function(e){return this.sendMessage(s.Messages.InteropMessageSubject.AfficherSynthese,{numeroClient:e})},t.prototype.triggerNotifications=function(){return this.sendMessage(s.Messages.InteropMessageSubject.TriggerNotifications)},t}(n.Components.ComponentAgentBase),s.InteropAgent=t,n.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-interop-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var t,s,n;t=e.Services||(e.Services={}),s=t.Libelle||(t.Libelle={}),n=function(e){function i(){return e.call(this,t.Components.ComponentType.Libelle)||this}return __extends(i,e),i.prototype.afficherMessage=function(e,t,n,r){i.logger.info("Méthode à surveiller - afficherMessage");var o={codeLibelle:e,typeAffichage:t,valeurs:n,delai:r};return this.sendMessage(s.LibelleMessageSubject.afficherMessage,o)},i.prototype.constituerLibelle=function(e,t){i.logger.info("Méthode à surveiller - constituerLibelle");var n={codeLibelle:e,valeurs:t};return this.sendMessage(s.LibelleMessageSubject.constituerLibelle,n)},i.CLASS_NAME="MyWay.Services.Libelle.LibelleAgent",i.logger=t.Loggers.LoggerFactory.INSTANCE.getClass(i.CLASS_NAME),i}(t.Components.ComponentAgentBase),s.LibelleAgent=n,t.Components.RegistryAgent.getInstance().register(n)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-libelle-agent.min.js.map
var MyWay;!function(e){var n,r;n=e.Services||(e.Services={}),((r=n.Components||(n.Components={})).ComponentType||(r.ComponentType={})).Impression="Impression"}(MyWay||(MyWay={})),function(e){var n,r,o,i;n=e.Services||(e.Services={}),r=n.Impression||(n.Impression={}),o=r.Messages||(r.Messages={}),(i=o.ImpressionMessageSubject||(o.ImpressionMessageSubject={}))[i.Generer=0]="Generer",i[i.GetJsonConverti=1]="GetJsonConverti",i[i.Imprimer=2]="Imprimer",i[i.ImprimerLot=3]="ImprimerLot",i[i.GenererImprimer=4]="GenererImprimer",n.Components.FactoryRegistries.getInstance().declareComponent(n.Components.ComponentType.Impression,[n.Components.ComponentType.Context,n.Components.ComponentType.Core,n.Components.ComponentType.Display,n.Components.ComponentType.Fichier,n.Components.ComponentType.Libelle])}(MyWay||(MyWay={})),function(e){var n,r,o,i,s,t;n=e.Services||(e.Services={}),r=n.Impression||(n.Impression={}),(o=r.RESTITUTION_VERSION||(r.RESTITUTION_VERSION={}))[o.V180=180]="V180",(i=r.GENERATION_ACTION||(r.GENERATION_ACTION={}))[i.archiver=10]="archiver",i[i.archiverAndGetFichier=20]="archiverAndGetFichier",i[i.getFichier=30]="getFichier",(s=r.GENERATION_IMPRESSION_ACTION||(r.GENERATION_IMPRESSION_ACTION={}))[s.archiverAndGetFichier=20]="archiverAndGetFichier",s[s.getFichier=30]="getFichier",(t=r.TYPE_IMAGE||(r.TYPE_IMAGE={}))[t.Id=0]="Id",t[t.Flux=1]="Flux"}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-impression-common.min.js.map
var MyWay;!function(e){var s,n;s=e.Services||(e.Services={}),((n=s.Components||(s.Components={})).ComponentType||(n.ComponentType={})).DonneesDelocalisees="DonneesDelocalisees"}(MyWay||(MyWay={})),function(e){var s,n,o,t;s=e.Services||(e.Services={}),n=s.DonneesDelocalisees||(s.DonneesDelocalisees={}),o=n.Messages||(n.Messages={}),(t=o.DonneesDelocaliseesMessageSubject||(o.DonneesDelocaliseesMessageSubject={}))[t.GetDonneesDelocalisees=0]="GetDonneesDelocalisees",t[t.GetListeDonneesDelocalisees=1]="GetListeDonneesDelocalisees",t[t.GetRubriqueLibelle=2]="GetRubriqueLibelle",t[t.GetDonneesParCriteres=3]="GetDonneesParCriteres",t[t.ReInitDbDonneesDelocalisees=4]="ReInitDbDonneesDelocalisees",t[t.GetTDTById=5]="GetTDTById",t[t.DeleteTDTById=6]="DeleteTDTById",s.Components.FactoryRegistries.getInstance().declareComponent(s.Components.ComponentType.DonneesDelocalisees,[s.Components.ComponentType.Context,s.Components.ComponentType.Dates,s.Components.ComponentType.Libelle,s.Components.ComponentType.BaseDeDonnees])}(MyWay||(MyWay={})),function(e){var s,n,o;s=e.Services||(e.Services={}),n=s.DonneesDelocalisees||(s.DonneesDelocalisees={}),(o=n.CRITERES_OPERATEUR||(n.CRITERES_OPERATEUR={}))[o.EGAL=0]="EGAL",o[o.CONTIENT=1]="CONTIENT"}(MyWay||(MyWay={})),function(e){var s;(s=e.Services||(e.Services={})).Bug||(s.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-donnees-delocalisees-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}}();!function(e){var t,o,n;t=e.Services||(e.Services={}),o=t.Communication||(t.Communication={}),n=function(e){function n(){return e.call(this,t.Components.ComponentType.Communication)||this}return __extends(n,e),n.prototype.envoyerMail=function(e){return this.sendMessage(o.CommunicationMessageSubject.EnvoyerMail,{mail:e})},n.prototype.declencherAppel=function(e){return this.sendMessage(o.CommunicationMessageSubject.DeclencherAppel,{call:e})},n.prototype.raccrocherAppel=function(){return this.sendMessage(o.CommunicationMessageSubject.RaccrocherAppel,{})},n}(t.Components.ComponentAgentBase),o.CommunicationAgent=n,t.Components.RegistryAgent.getInstance().register(n)}(MyWay||(MyWay={})),function(e){var n;(n=e.Services||(e.Services={})).Bug||(n.Bug={})}(MyWay||(MyWay={})),function(e){var n;(n=e.Services||(e.Services={})).Bug||(n.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-communication-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var t,o,n;t=e.Services||(e.Services={}),o=t.Performance||(t.Performance={}),n=function(e){function r(){return e.call(this,t.Components.ComponentType.Performance)||this}return __extends(r,e),r.prototype.etape=function(e,t){var n={id:e,label:t};return r.logger.info("Début de la mesure d'étape "+e),this.sendMessage(o.PerformanceMessageSubject.STEP,n)},r.prototype.fin=function(e,t){var n={id:e,label:t};return r.logger.info("Fin de la mesure d'étape "+e),this.sendMessage(o.PerformanceMessageSubject.END,n)},r.prototype.annuler=function(e){return r.logger.info("Annulation de la mesure d'étape "+e),this.sendMessage(o.PerformanceMessageSubject.CANCEL,e)},r.prototype.finChargementManuel=function(){var t=this;return this.getId().then(function(e){return r.logger.info("Fin manuel de la mesure d'étape "+e),t.fin(e,o.AppLoadingPerformanceStep.MANUAL_END)})},r.prototype.getId=function(){var t=""+Date.now()+Math.random();return this.library.Context.GetCurrentStepInfo().then(function(e){return e?e.CurrentStepId:t})},r.CLASS_NAME="MyWay.Services.Performance.PerformanceAgent",r.logger=t.Loggers.LoggerFactory.INSTANCE.getClass(r.CLASS_NAME),r}(t.Components.ComponentAgentBase),o.PerformanceAgent=n,t.Components.RegistryAgent.getInstance().register(n)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-performance-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var t,s,n;t=e.Services||(e.Services={}),s=t.ContexteClient||(t.ContexteClient={}),n=function(r){function e(){return r.call(this,t.Components.ComponentType.ContexteClient)||this}return __extends(e,r),e.prototype.init=function(e,t,n){return r.prototype.init.call(this,e,t,n)},e.prototype.getExpediteur=function(){var e="agent";return this.library.Context&&this.library.Context.StepInfo&&(e=this.library.Context.StepInfo.CurrentParentProcessId),e},e.prototype.getContextesParClients=function(){return this.sendMessage(s.ContextClientMessageSubject.GetContextesParClients).then(function(e){return e.ids})},e.prototype.getId=function(){return this.sendMessage(s.ContextClientMessageSubject.GetId).then(function(e){return e.id})},e.prototype.getClient=function(){return this.sendMessage(s.ContextClientMessageSubject.GetClient).then(function(e){return e.id})},e.prototype.setClient=function(e){var t={client:e,expediteur:this.getExpediteur()};return this.sendMessage(s.ContextClientMessageSubject.SetClient,t)},e.prototype.getProperty=function(e){var t={cle:e};return this.sendMessage(s.ContextClientMessageSubject.GetProperty,t).then(function(e){return e.valeur})},e.prototype.addToList=function(e,t){var n={cle:e,valeur:t,expediteur:this.getExpediteur()};return this.sendMessage(s.ContextClientMessageSubject.AddToList,n).then(function(e){return e.estOk})},e.prototype.setProperty=function(e,t){var n={cle:e,valeur:t,expediteur:this.getExpediteur()};return this.sendMessage(s.ContextClientMessageSubject.SetProperty,n).then(function(e){return e.estOk})},e.prototype.removeFromList=function(e){var t={cle:e,expediteur:this.getExpediteur()};return this.sendMessage(s.ContextClientMessageSubject.RemoveFromList,t).then(function(e){return e.estOk})},e.prototype.deleteProperty=function(e){var t={cle:e,expediteur:this.getExpediteur()};return this.sendMessage(s.ContextClientMessageSubject.DeleteProperty,t).then(function(e){return e.estOk})},e.prototype.getContenu=function(e){var t={idClient:e};return this.sendMessage(s.ContextClientMessageSubject.GetContenu,t).then(function(e){return e.valeur})},e.prototype.setContenu=function(e,t){var n={idClient:e,valeur:t,expediteur:this.getExpediteur()};return this.sendMessage(s.ContextClientMessageSubject.SetContenu,n).then(function(e){return e.estOk})},e.prototype.setReloadSynthese=function(e){var t={idClient:e,expediteur:this.getExpediteur()};return this.sendMessage(s.ContextClientMessageSubject.SetReloadSynthese,t).then(function(e){return e.estOk})},e.prototype.getRefresh=function(e,t){var n={idBlocMetierListen:e,params:t,expediteur:this.getExpediteur()};return this.sendMessage(s.ContextClientMessageSubject.getRefresh,n).then(function(e){return e.estOk})},e.prototype.setDirty=function(e,t){var n={idBlocMetierNotify:e,params:t,expediteur:this.getExpediteur()};return this.sendMessage(s.ContextClientMessageSubject.setDirty,n).then(function(e){return e.estOk})},e}(t.Components.ComponentAgentBase),s.ContexteClientAgent=n,t.Components.RegistryAgent.getInstance().register(n)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-contexte-client-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}();!function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var o;(o=e.Services||(e.Services={})).ServiceAgentExtended.prototype._diagnostic=null,o.ServiceAgentExtended.prototype.demarrerDiagnostic=function(e,t){var i=this;if(this._diagnostic.stepId!==this.Step.CurrentStepId)return this._diagnostic.previousStepEndTime=this.Step.PreviousStepEndTime,this._diagnostic.stepStartTime=this.Step.StartTime,this._diagnostic.displayTime=this.Step.DisplayTime,this._diagnostic.initTime=t,this._diagnostic.lastDigestCycleTime=t,this._diagnostic.userTime=0,this._diagnostic.codeApplication=e.codeApplication,this._diagnostic.stepId=this.Step.CurrentStepId,this._diagnostic.stepPath=this.Step.CurrentPath,this._diagnostic.finalDiagnostic=this.Step.DiagnosticTraceSentForStep,this._diagnostic.timeBeforeTransition=0,"Connaissance Client Particulier"!==this.Step.NomComposant||e.listenedContextKey||(e.listenedContextKey="MAJSYNTHESENSDK"),this._listenedContextKey=e.listenedContextKey,this.prepareTracesTechniques(),this.Step.Diagnostic&&this.countWatchers(),this.Library.Context.GetFromContext(o.Trace.KEY_TIME_BEFORE_TRANSITION).then(function(e){if(null!==e){var t=Number(e);isNaN(t)||(i._diagnostic.timeBeforeTransition=t),i.Library.Context.AddToContext(o.Trace.KEY_TIME_BEFORE_TRANSITION,"")}})},o.ServiceAgentExtended.prototype.prepareTracesTechniques=function(){var n=this;o.ServiceAgentExtended.logger_extended.info("Fin d'initialisation du serviceAgent"),n._clearWatchListener=n.$rootScope.$watch(function(e,t,i){n._diagnostic.digestCycles++,n._diagnostic.lastDigestCycleTime=Date.now(),n.Step&&n.Step.Diagnostic&&n.Library.Trace.sendDiagnostic(n._diagnostic),n._lastDigestTimerHandle&&window.clearTimeout(n._lastDigestTimerHandle),n._lastDigestTimerHandle=window.setTimeout(function(){n.OnPremiereAction(null)},1e4)}),n.$rootScope.$on("$includeContentLoaded",function(){o.ServiceAgentExtended.logger_extended.debug("$includeContentLoaded")}),n.$rootScope.$on("$viewContentLoaded",function(){o.ServiceAgentExtended.logger_extended.debug("$viewContentLoaded")}),this.ajouteEvenementsUtilisateurs(),this._listenedContextKey&&this.Library.Context.SetContextListener(this._listenedContextKey,this.OnContextEvent)},o.ServiceAgentExtended.prototype.ajouteEvenementsUtilisateurs=function(){var t=this;window.addEventListener("mousedown",function(e){t.OnPremiereAction(e)},!1),window.addEventListener("wheel",function(e){t.OnPremiereAction(e)},!1),window.addEventListener("scroll",function(e){t.OnPremiereAction(e)},!1),window.addEventListener("keypress",function(e){t.OnPremiereAction(e)},!1)},o.ServiceAgentExtended.prototype.retireEvenementsUtilisateurs=function(){var t=this;window.removeEventListener("mousedown",function(e){t.OnPremiereAction(e)},!1),window.removeEventListener("wheel",function(e){t.OnPremiereAction(e)},!1),window.removeEventListener("scroll",function(e){t.OnPremiereAction(e)},!1),window.removeEventListener("keypress",function(e){t.OnPremiereAction(e)},!1)},o.ServiceAgentExtended.prototype.stringify=function(e,t){var i="";return i+="|stepId|"+e.stepId,i+="|digestCycles|"+e.digestCycles,i+="|totalDisplayDuration|"+(e.totalDisplayDuration+e.timeBeforeTransition),i+="|stepStartDuration|"+e.stepStartDuration,i+="|totalStartDuration|"+e.totalStartDuration,t&&t.type?i+="|type|"+t.type:i+="|type|timer",i+="|staticFilesLoadDuration|"+e.staticFilesLoadDuration,i+="|digestDuration|"+e.digestDuration,i+="|userDuration|"+(e.userDuration+e.timeBeforeTransition),i+="|totalUserDuration|"+e.totalUserDuration,i+="|userDurationEnabled|"+e.userDurationEnabled},o.ServiceAgentExtended.prototype.OnPremiereAction=function(e){this._diagnostic.finalDiagnostic||(o.Loggers.FLASH.INSTANCE.setValue("action","ServiceAgentExtended"),o.Loggers.FLASH.INSTANCE.setValue("details",{lastDigestTime:this._diagnostic.lastDigestCycleTime}),o.ServiceAgentExtended.logger_extended.info("fin de chargement de l'application %1",this.stringify(this._diagnostic,e)),this._diagnostic.finalDiagnostic=!0,this.Library.Trace.sendDiagnostic(this._diagnostic)),this._clearWatchListener&&this._clearWatchListener(),this._lastDigestTimerHandle&&window.clearTimeout(this._lastDigestTimerHandle),this.retireEvenementsUtilisateurs()},o.ServiceAgentExtended.prototype.cleanTimers=function(){this._clearWatchListener&&this._clearWatchListener(),this._lastDigestTimerHandle&&window.clearTimeout(this._lastDigestTimerHandle),this.retireEvenementsUtilisateurs(),this._watcherCountTimeout&&window.clearTimeout(this._watcherCountTimeout)},o.ServiceAgentExtended.prototype.countWatchers=function(){var e=this,t=this.Context.AnalyseApp();this._diagnostic.watchers=Math.max(t.TotalWatchers,t.TotalWatchers2,t.TotalWatchers3),this.Library.Trace.sendDiagnostic(this._diagnostic),this._watcherCountTimeout=window.setTimeout(function(){e.countWatchers()},5e3)},o.ServiceAgentExtended.onNewInstance(function(e){e.addListenerBeforeInitialization(function(){this._diagnostic?this.cleanTimers():this._diagnostic=new o.ApplicationDiagnostic}),e.addListenerAfterInitialization(function(e,t){this.Step&&this.demarrerDiagnostic(e,t)})})}(MyWay||(MyWay={})),function(e){var n,o;(n=e.Services||(e.Services={})).Core.defineProperty(n.ServiceAgent,"Trace",{get:function(){return o},set:function(){}}),n.onInitUsableLoggerForServiceAgent=function(e,t){var i;i=t||"LocalLauncher",o=new n.Trace.Logger(i,"Application",e.Library)}}(MyWay||(MyWay={})),function(e){var t;((t=e.Services||(e.Services={})).Trace||(t.Trace={})).KEY_TIME_BEFORE_TRANSITION="TempsAvantTransition"}(MyWay||(MyWay={})),function(e){var r,t,i;r=e.Services||(e.Services={}),t=r.Trace||(r.Trace={}),i=function(o){function e(){var e=o.call(this,r.Components.ComponentType.Trace)||this;return e.regExpSTC=/^MyWay\.Services\./,e}return __extends(e,o),e.prototype.init=function(e,t,i){var n=this;return this._application=i.codeApplication,this._applicationVersion=i.applicationVersion,o.prototype.init.call(this,e,t,i).then(function(){r.Loggers.Appenders.BroadcastAppender.METHODE_PURGE_TRACES=function(e){n.sendLog(e)}})},e.prototype.dispose=function(){return r.Loggers.Appenders.BroadcastAppender.METHODE_PURGE_TRACES=null,this.library.Core.getPromesseSelfResoved()},e.prototype.send=function(e){return r.CoreCommon.ServiceDePromesse.defer(),this.sendMessage(t.Messages.TraceMessageSubject.Tracer,{trace:e})},e.prototype.sendLog=function(e){return r.CoreCommon.ServiceDePromesse.defer(),this.sendMessage(t.Messages.TraceMessageSubject.Logger,{log:e})},e.prototype.sendDiagnostic=function(e){return this.sendMessage(t.Messages.TraceMessageSubject.SendDiagnostic,{diagnostic:e})},e.prototype.setTempsAvantTransition=function(e){return this.library.Context.AddToContext(t.KEY_TIME_BEFORE_TRANSITION,e.toString())},e}(r.Components.ComponentAgentBase),t.TraceAgent=i,r.Components.RegistryAgent.getInstance().register(i)}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-trace-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();!function(s){var a,e,m,u,t;a=s.Services||(s.Services={}),e=a.BriqueCommunication||(a.BriqueCommunication={}),m=e.Chat||(e.Chat={}),u=function(){function e(e,t,o,r,i,s){var n=this;this.producerConsumer=e,this.chatroom=t,this.onGetDivVideo=o,this.onCloseVideo=r,this.myUserId=i,this.userDistantId=s,this.onAcceptOffer=function(){n.aDemarre=!0,n.webRTCLib.createStream({audio:!0,video:!0},function(e){n.localStream=e,null===n.chatroom.streamLocal&&(n.chatroom.streamLocal=e,null!==n.chatroom.htmlElementStream?WebRtcCDN.WebRTCLib.attachStream(n.chatroom.streamLocal,n.chatroom.htmlElementStream):n.onGetDivVideo({cestmoi:!0,chatroom_id:n.chatroom.id,user_id:n.myUserId,doitLancerAutresVideos:!0}))},function(e){n.remoteStream=e,n.remoteStreamVideo?WebRtcCDN.WebRTCLib.attachStream(e,n.remoteStreamVideo):n.onGetDivVideo({cestmoi:!1,chatroom_id:n.chatroom.id,user_id:n.userDistantId,doitLancerAutresVideos:!0})})},this.onClose=function(){n.aDemarre=!1,n.onCloseVideo()},this.aDemarre=!1,this.webRTCLib=new WebRtcCDN.WebRTCLib(e),this.init()}return e.prototype.start=function(e){this.aDemarre?(this.onGetDivVideo({cestmoi:!0,chatroom_id:this.chatroom.id,user_id:this.myUserId,doitLancerAutresVideos:e}),this.onGetDivVideo({cestmoi:!1,chatroom_id:this.chatroom.id,user_id:this.userDistantId,doitLancerAutresVideos:e})):this.createOffer()},e.prototype.close=function(){this.webRTCLib.close()},e.prototype.getLocalStream=function(){return this.localStream},e.prototype.setVideoElement=function(e){this.remoteStreamVideo,this.remoteStreamVideo=e,this.remoteStream&&WebRtcCDN.WebRTCLib.attachStream(this.remoteStream,this.remoteStreamVideo)},e.prototype.init=function(){this.webRTCLib.onAcceptOffer(this.onAcceptOffer),this.webRTCLib.onClose(this.onClose)},e.prototype.createOffer=function(){var t=this;this.aDemarre=!0,this.webRTCLib.createStream({audio:!0,video:!0},function(e){t.localStream=e,null===t.chatroom.streamLocal&&(t.chatroom.streamLocal=e,null!==t.chatroom.htmlElementStream?WebRtcCDN.WebRTCLib.attachStream(t.chatroom.streamLocal,t.chatroom.htmlElementStream):t.onGetDivVideo({cestmoi:!0,chatroom_id:t.chatroom.id,user_id:t.myUserId,doitLancerAutresVideos:!0})),t.webRTCLib.createOffer()},function(e){t.remoteStream=e,t.remoteStreamVideo?WebRtcCDN.WebRTCLib.attachStream(e,t.remoteStreamVideo):t.onGetDivVideo({cestmoi:!1,chatroom_id:t.chatroom.id,user_id:t.userDistantId,doitLancerAutresVideos:!0})})},e.CLASS_NAME="MyWay.Services.BriqueCommunication.Chat.VideoRoom",e.logger=a.Loggers.LoggerFactory.INSTANCE.getClass(e.CLASS_NAME),e}(),t=function(i){function c(){var e=i.call(this,a.Components.ComponentType.Chat)||this;return e.noop=function(){},e.producersConsumers=[],e.producersConsumersById={},e.promesseCodeAgent=null,e.numMessage=0,e}return __extends(c,i),c.prototype.init=function(e,t,o){var r=this;return i.prototype.init.call(this,e,t,o).then(function(){r.library.Context.SubscribeToNotification([function(e){"NotificationEvent"===e.Sujet&&r.traiterEvennement(e)}],null)})},c.prototype.sendNotification=function(e){var t={mainEventType:a.BriqueCommunication.Messages.EVENT_TYPE.CHAT,event:e};this.library.Context.sendNotification({Sujet:"NotificationEvent",type:s.Services.CommonEventType.BriqueCommunication,Contenu:t})},c.prototype.addChatCapacity=function(){this.sendMessage(m.ChatMessageSubject.AddChatCapacity,{})},c.prototype.getMe=function(){var t=this;return this.promesseCodeAgent||(this.promesseCodeAgent=this.library.Context.getAuthentificationInfo().then(function(e){return t.getMyCode(e)})),this.promesseCodeAgent},c.prototype.setStatut=function(e){return this.sendMessage(m.ChatMessageSubject.SetStatut,{statut:e})},c.prototype.openChat=function(e){return this.sendMessage(m.ChatMessageSubject.OpenChat,{destinataire:e})},c.prototype.openTchatroom=function(e){return this.sendMessage(m.ChatMessageSubject.OpenChatroom,{idChat:e})},c.prototype.closeChat=function(e){var t=this.producersConsumersById[e];if(t)for(var o in t.videorooms)t.videorooms[o].close();return this.sendMessage(m.ChatMessageSubject.CloseChat,{idChat:e})},c.prototype.sendMessageChat=function(e,t){return this.sendMessage(m.ChatMessageSubject.SendMessage,{idChat:e,message:t})},c.prototype.getUtilisateurs=function(){return this.sendMessage(m.ChatMessageSubject.GetUtilisateurs,{})},c.prototype.getChatrooms=function(){return this.sendMessage(m.ChatMessageSubject.GetChatrooms,{})},c.prototype.getChatroom=function(e){return this.sendMessage(m.ChatMessageSubject.GetChatroom,{chatroom_id:e})},c.prototype.accepterInvitationExpert=function(e,t,o){return this.sendMessage(m.ChatMessageSubject.AccepterDemanderExpert,{chatroom_id:e,domaine:t,prospect_id:o})},c.prototype.inviterPersonnesAUneChatroom=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return this.sendMessage(m.ChatMessageSubject.InviterPersonnesAUneChatroom,{chatroom_id:e,users_id:t})},c.prototype.setHtmlElementVideo=function(e,o,r){var i=this.producersConsumersById[e];i&&this.getMe().then(function(e){if(o===e)return i.htmlElementStream=r,void(null!==i.streamLocal&&WebRtcCDN.WebRTCLib.attachStream(i.streamLocal,i.htmlElementStream));var t=i.videorooms[o];t&&t.setVideoElement(r)})},c.prototype.commencerVideo=function(e){var t=this.producersConsumersById[e];if(t){for(var o in t.videorooms)t.videorooms[o].start(!1);this.sendMessage(m.ChatMessageSubject.DemarrerVideoChatroom,{idChat:e})}},c.prototype.arreterVideo=function(e){var t=this.producersConsumersById[e];if(t){for(var o in t.videorooms)t.videorooms[o].close();this.sendMessage(m.ChatMessageSubject.ArreterVideoChatroom,{idChat:e})}},c.prototype.devenirFramePrincipalePourChatroomVideo=function(e){this.sendMessage(m.ChatMessageSubject.PrendreLaMainVideoroom,{idChat:e})},c.prototype.reception=function(e){switch(e.subject){case m.ChatMessageSubject.AddChatCapacity:var t=e.message;return this.handleMessageWebRTC(t),this.library.Core.getPromesseSelfResoved();default:return i.prototype.reception.call(this,e)}},c.prototype.traiterEvennement=function(e){switch(e.type){case s.Services.CommonEventType.BriqueCommunication:this.traiterEvennementBriqueCommunication(e)}},c.prototype.traiterEvennementBriqueCommunication=function(e){switch(e.Contenu.mainEventType){case s.Services.BriqueCommunication.Messages.EVENT_TYPE.CHAT:this.traiterEvennementChat(e.Contenu.event)}},c.prototype.traiterEvennementChat=function(e){switch(e.eventType){case s.Services.BriqueCommunication.Chat.Messages.EVENT_TYPE.CHAT_OUVERT:var t=e;this.etablirVideorooms(t.chatroom_id,t.membres,t.estFramePrincipale);break;case s.Services.BriqueCommunication.Chat.Messages.EVENT_TYPE.CHAT_FERME:t=e,this.terminerToutesVideorooms(t.chatroom_id);break;case s.Services.BriqueCommunication.Chat.Messages.EVENT_TYPE.UTILISATEUR_CONNECTE_A_CHAT:var o=e;this.ajouterVideoroom(o.chatroom_id,o.user_id,o.estFramePrincipale);break;case s.Services.BriqueCommunication.Chat.Messages.EVENT_TYPE.UTILISATEUR_DECONNECTE_A_CHAT:var r=e;this.terminerVideoroom(r.chatroom_id,r.user_id);break;case s.Services.BriqueCommunication.Chat.Messages.EVENT_TYPE.CHANGEMENT_MAIN_CHATROOM:var i=e;this.changementMainChatroom(i.chatroom_id,i.estFramePrincipale,i.videoEstEnCours)}},c.prototype.changementMainChatroom=function(o,r,e){var i=this,s=this.producersConsumersById[o];if(s){var n=[];s.membres.forEach(function(e){var t=s.videorooms[e];!r&&t?(t.close(),delete s.videorooms[e]):r&&!t&&n.push(i.ajouterVideoroom(o,e,r))}),r&&e&&a.CoreCommon.ServiceDePromesse.all(n).then(function(){i.commencerVideo(o)})}},c.prototype.ajouterVideoroom=function(i,s,e){var n=this,a=this.producersConsumersById[i];a||(a={id:i,htmlElementStream:null,streamLocal:null,videorooms:{},membres:[]},this.producersConsumersById[i]=a);var t=!1;if(a.membres.every(function(e){return e===s&&(t=!0),t}),t||a.membres.push(s),e)return this.getMe().then(function(r){if(r!==s){var e=a.videorooms[s];if(!e){var t={producer:function(e){c.logger.debug("Emission %1",JSON.pruned(e));var t=JSON.stringify(e);n.sendMessage(m.ChatMessageSubject.EnvoyerMessageVideoroom,{chatroom_id:i,user_id:s,message:t})},setConsumer:function(e){t.consumer=e},consumer:function(){}},o=new u(t,a,function(e){if(n.sendNotification({eventType:m.Messages.EVENT_TYPE.CHAT_DIV_ELEMENT,cestmoi:e.cestmoi,chatroom_id:e.chatroom_id,user_id:e.user_id}),e.doitLancerAutresVideos)for(var t in a.videorooms)if(t!==s){var o=!1;/^agent/.test(t)||(o=!0),r.localeCompare(t)<0&&(o=!0),o&&a.videorooms[t].start(!1)}},function(){if(delete a.videorooms[s],a.streamLocal===o.getLocalStream())for(var e in a.videorooms){var t=a.videorooms[e].getLocalStream();if(t){a.streamLocal=t,n.sendNotification({eventType:m.Messages.EVENT_TYPE.CHAT_DIV_ELEMENT,cestmoi:!0,chatroom_id:a.id,user_id:r});break}}n.sendNotification({eventType:m.Messages.EVENT_TYPE.FIN_VIDEOROOM,chatroom_id:a.id,user_id:s})},r,s);return a.videorooms[s]=o,a.membres.push(s),e}}})},c.prototype.terminerVideoroom=function(e,t){var o=this.producersConsumersById[e];if(o){var r=o[t];r&&(r.close(),delete o[t])}},c.prototype.getMyCode=function(e){return"agent-S"+this.library.Core.StringUtils.leftPad(e.agentConnecte.referenceExterneAgent,"0",7)},c.prototype.etablirVideorooms=function(o,e,r){var i=this;this.getMe().then(function(t){e.forEach(function(e){e!==t&&i.ajouterVideoroom(o,e,r)})})},c.prototype.terminerToutesVideorooms=function(e){var t=this.producersConsumersById[e];if(t)for(var o in t.videorooms)t.videorooms[o].close()},c.prototype.handleMessageWebRTC=function(e){var t=this.producersConsumersById[e.chatroom_id];if(t){var o=t.videorooms[e.user_id];o&&o.producerConsumer&&o.producerConsumer.consumer&&(c.logger.debug("EmissionReception %1",JSON.pruned(e)),o.producerConsumer.consumer(JSON.stringify(e.content)))}},c.CLASS_NAME="MyWay.Services.BriqueCommunication.Chat.ChatAgent",c.logger=a.Loggers.LoggerFactory.INSTANCE.getClass(c.CLASS_NAME),c}(a.Components.ComponentAgentBase),m.ChatAgent=t,a.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),function(e){var o,t,r,i;o=e.Services||(e.Services={}),t=o.BriqueCommunication||(o.BriqueCommunication={}),r=t.Notification||(t.Notification={}),i=function(e){function t(){return e.call(this,o.Components.ComponentType.Notification)||this}return __extends(t,e),t.prototype.abonnement=function(e){return this.sendMessage(r.NotificationMessageSubject.Abonnement,{subject:e})},t.prototype.desabonnement=function(e){return this.sendMessage(r.NotificationMessageSubject.Desabonnement,{subject:e})},t.prototype.getListeSujets=function(){return this.sendMessage(r.NotificationMessageSubject.GetListeSubjects,{})},t}(o.Components.ComponentAgentBase),r.NotificationAgent=i,o.Components.RegistryAgent.getInstance().register(i)}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-brique-communication-agent.min.js.map
var MyWay;!function(e){var a,t;a=e.Services||(e.Services={}),((t=a.Components||(a.Components={})).ComponentType||(t.ComponentType={})).Capacites="Capacites"}(MyWay||(MyWay={})),function(e){var a,t,C,E;a=e.Services||(e.Services={}),t=a.Capacites||(a.Capacites={}),C=t.Messages||(t.Messages={}),(E=C.CapacitesMessageSubject||(C.CapacitesMessageSubject={}))[E.GetCapacite=0]="GetCapacite",a.Components.FactoryRegistries.getInstance().declareComponent(a.Components.ComponentType.Capacites,[a.Components.ComponentType.Context,a.Components.ComponentType.Mobilite])}(MyWay||(MyWay={})),function(e){var a,t,C;a=e.Services||(e.Services={}),t=a.Capacites||(a.Capacites={}),(C=t.REGLE||(t.REGLE={}))[C.INTEROP_APPLI_BANCAIRE=0]="INTEROP_APPLI_BANCAIRE",C[C.INTEROP_WINDOWS=1]="INTEROP_WINDOWS",C[C.TABLETTE_SIGNATURE=2]="TABLETTE_SIGNATURE",C[C.CAISSE_AUTO=3]="CAISSE_AUTO",C[C.CONNECTE=4]="CONNECTE",C[C.MODIFIER_HABILITATION=5]="MODIFIER_HABILITATION",C[C.ECRAN_COMPATIBLE_MYWAY=6]="ECRAN_COMPATIBLE_MYWAY",C[C.RESEAU_INTERNE=7]="RESEAU_INTERNE",C[C.PORTAIL_MYWAY=8]="PORTAIL_MYWAY"}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-capacites-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}();!function(e){var t,i,s;t=e.Services||(e.Services={}),i=t.Mobilite||(t.Mobilite={}),s=function(e){function s(){return e.call(this,t.Components.ComponentType.Mobilite)||this}return __extends(s,e),s.prototype.getCaissesAuto=function(){return this.sendMessage(i.Messages.MobiliteMessageSubject.GetPeripheriquesParType,{typePeripherique:i.TYPE_PERIPHERIQUE.CAISSE_AUTO})},s.prototype.getInfoMachine=function(){return this.sendMessage(i.Messages.MobiliteMessageSubject.GetInfoMachine,{})},s.prototype.GetPeripheriques=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.logger.debug("Attention, cette méthode est dépréciée, Il faut utiliser la méthode mobilite.getPeripheriques()"),this.getPeripheriques.apply(this,e)},s.prototype.getPeripheriques=function(){return this.sendMessage(i.Messages.MobiliteMessageSubject.GetPeripheriques,{})},s.prototype.getReseau=function(){return this.sendMessage(i.Messages.MobiliteMessageSubject.GetReseau,{})},s.prototype.getTablettesSignature=function(e){return this.sendMessage(i.Messages.MobiliteMessageSubject.GetPeripheriquesParType,{typePeripherique:i.TYPE_PERIPHERIQUE.TABLETTE_SIGNATURE,params:e})},s.CLASS_NAME="MyWay.Services.Mobilite.MobiliteAgent",s.logger=t.Loggers.LoggerFactory.INSTANCE.getClass(s.CLASS_NAME),s}(t.Components.ComponentAgentBase),i.MobiliteAgent=s,t.Components.RegistryAgent.getInstance().register(s)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-mobilite-agent.min.js.map
var MyWay;!function(e){var n,o;n=e.Services||(e.Services={}),o=function(){},(n.TraceSuivi||(n.TraceSuivi={})).TraceSuiviModel=o}(MyWay||(MyWay={})),function(e){var n,o;n=e.Services||(e.Services={}),((o=n.Components||(n.Components={})).ComponentType||(o.ComponentType={})).TraceSuivi="TraceSuivi"}(MyWay||(MyWay={})),function(e){var n,o,i,a;n=e.Services||(e.Services={}),o=n.TraceSuivi||(n.TraceSuivi={}),i=o.Messages||(o.Messages={}),(a=i.TraceSuiviMessageSubject||(i.TraceSuiviMessageSubject={}))[a.SendTraceSuivi=0]="SendTraceSuivi",a[a.SendTraceSuiviForcee=1]="SendTraceSuiviForcee",n.Components.FactoryRegistries.getInstance().declareComponent(n.Components.ComponentType.TraceSuivi,[n.Components.ComponentType.Context,n.Components.ComponentType.Core,n.Components.ComponentType.Mobilite,n.Components.ComponentType.BaseDeDonnees])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-trace-suivi-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var t in s)s.hasOwnProperty(t)&&(e[t]=s[t])};return function(e,s){function t(){this.constructor=e}n(e,s),e.prototype=null===s?Object.create(s):(t.prototype=s.prototype,new t)}}();!function(i){var r,o,e;r=i.Services||(i.Services={}),o=r.Acquisition||(r.Acquisition={}),e=function(n){function e(){var e=n.call(this,r.Components.ComponentType.Acquisition)||this;return e.defers={},e}return __extends(e,n),e.prototype.appelRADLAD=function(e,s){return this.sendMessage(o.Messages.AcquisitionMessageSubject.AppelRADLAD,{fileInfos:e,params:s})},e.prototype.convertFileToImg=function(e,s,t){return void 0===s&&(s=null),void 0===t&&(t=!0),null===s&&(s={dpi:300,quality:90,thumbQuality:30}),this.sendMessage(o.Messages.AcquisitionMessageSubject.ConvertFileToImg,{fileInfo:e,params:s,autoriseDocumentSigne:t})},e.prototype.mergerEtArchiver=function(e,s){return this.sendMessage(o.Messages.AcquisitionMessageSubject.MergerEtArchiver,{fileInfos:e,putDocumentInput:s})},e.prototype.mergerEtUploader=function(e){return this.sendMessage(o.Messages.AcquisitionMessageSubject.MergerEtUploader,{fileInfos:e})},e.prototype.convertBase64ToBin=function(e){return this.sendMessage(o.Messages.AcquisitionMessageSubject.ConvertBase64ToBin,{urls:e})},e.prototype.purge=function(e){return void 0===e&&(e=8),this.sendMessage(o.Messages.AcquisitionMessageSubject.Purge,{hour:e})},e.prototype.fermetureSpiFactory=function(){return this.sendMessage(o.Messages.AcquisitionMessageSubject.FermetureSpiFactory,{})},e.prototype.setConfigurationScanner=function(e){return this.sendMessage(o.Messages.AcquisitionMessageSubject.SetConfigurationScanner,{typeScanner:e})},e.prototype.mergeAndOpenPDF=function(e){var s=this;return this.sendMessage(o.Messages.AcquisitionMessageSubject.MergeAndOpenPDF,{params:e}).then(function(e){return{guid:e,promise:s.getProcessingTask(e)}},function(e){throw e})},e.prototype.recupereListeDocumentGED=function(e,s){return this.sendMessage(o.Messages.AcquisitionMessageSubject.RecupereListeDocumentGED,{params:e,formatResultat:s}).catch(function(e){throw e})},e.prototype.ouvrirListeDocumentGED=function(e,s,t){return this.sendMessage(o.Messages.AcquisitionMessageSubject.OuvrirListeDocumentGED,{params:e,formatResultat:s,formatOuverture:t}).catch(function(e){throw e})},e.prototype.getDocumentGedAndOpen=function(e){var s=this;return this.sendMessage(o.Messages.AcquisitionMessageSubject.GetDocumentGEDAndOpen,{params:e}).then(function(e){return{guid:e,promise:s.getProcessingTask(e)}},function(e){throw e})},e.prototype.getProcessingTask=function(s){var t=this;return this.defers[s]?this.defers[s].promise:r.Promesses.promesseTryCatch(function(e){t.defers[s]=e,t.sendMessage(o.Messages.AcquisitionMessageSubject.GetProcessingTask,{guid:s})})},e.prototype.getDocumentGEDAndSave=function(e){return this.sendMessage(o.Messages.AcquisitionMessageSubject.GetDocumentGEDAndSave,{params:e})},e.prototype.getListeScanner=function(e){return this.sendMessage(o.Messages.AcquisitionMessageSubject.GetListeScanner,{checkRemote:e})},e.prototype.isPrisEnMainADistance=function(){return this.sendMessage(o.Messages.AcquisitionMessageSubject.IsPrisEnMainADistance,{})},e.prototype.getDocumentGedSaveAtAndOpen=function(e){return this.sendMessage(o.Messages.AcquisitionMessageSubject.GetDocumentGEDAtAndOpen,{params:e}).catch(function(e){throw e})},e.prototype.uploadDocumentFrom=function(e){return this.sendMessage(o.Messages.AcquisitionMessageSubject.UploadDocumentFrom,{cheminDuFichierSurLePoste:e}).catch(function(e){throw e})},e.prototype.reception=function(e){if(e.subject!==o.Messages.AcquisitionMessageSubject.ChangeState)return n.prototype.reception.call(this,e);var s=e.message;if(s.state===o.Messages.END_STATE)return this.defers[s.guid].resolve(s),delete this.defers[s.guid],r.Promesses.createPromiseSelfResolved();if(s.state!==o.Messages.ERROR)return this.defers[s.guid].notify(s),r.Promesses.createPromiseSelfResolved();var t=new i.Services.Erreur(s.detail);return this.defers[s.guid].reject(t),delete this.defers[s.guid],r.Promesses.createPromiseSelfError(t)},e.prototype.isDocumentSigne=function(e){return this.sendMessage(o.Messages.AcquisitionMessageSubject.IsDocumentSigne,{fileinfos:e}).catch(function(e){throw e})},e}(r.Components.ComponentAgentBase),o.AcquisitionAgent=e,r.Components.RegistryAgent.getInstance().register(e)}(MyWay||(MyWay={})),function(e){var s;(s=e.Services||(e.Services={})).Bug||(s.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-acquisition-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var n,s,t;n=e.Services||(e.Services={}),s=n.Aide||(n.Aide={}),t=function(e){function t(){return e.call(this,n.Components.ComponentType.Aide)||this}return __extends(t,e),t.prototype.GetContenuInfobulle=function(e,t,n,o){return this.sendMessage(s.Messages.AideMessageSubject.GetContenuInfobulle,{idChampLie:e,horsProcessus:t,codeProcessus:n,codeEtape:o}).then(function(e){var t=new s.DetailInfobulleAfficheeResult(e);return new s.DetailInfobulleAfficheeResult(t)})},t.prototype.GetInfobullesAffichables=function(e,t,n){return this.sendMessage(s.Messages.AideMessageSubject.GetInfobullesAffichables,{horsProcessus:e,codeProcessus:t,codeEtape:n}).then(function(e){for(var t=[],n=0;n<e.length;n++)t.push(new s.InfobulleAfficheeResult(e[n]));return t})},t}(n.Components.ComponentAgentBase),s.AideAgent=t,n.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-aide-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}();!function(e){var s,n,t;s=e.Services||(e.Services={}),n=s.Impression||(s.Impression={}),t=function(e){function t(){return e.call(this,s.Components.ComponentType.Impression)||this}return __extends(t,e),t.prototype.generer=function(e,t){return this.sendMessage(n.Messages.ImpressionMessageSubject.Generer,{data:e,generationParams:t})},t.prototype.imprimer=function(e,t){return this.sendMessage(n.Messages.ImpressionMessageSubject.Imprimer,{data:e,impressionParams:t})},t.prototype.imprimerLot=function(e,t){return this.sendMessage(n.Messages.ImpressionMessageSubject.ImprimerLot,{data:e,parametresActiveXGlobaux:t})},t.prototype.genererImprimer=function(e,t){return this.sendMessage(n.Messages.ImpressionMessageSubject.GenererImprimer,{data:e,generationImpressionParams:t})},t.prototype.getJsonConverti=function(e){return this.sendMessage(n.Messages.ImpressionMessageSubject.GetJsonConverti,{data:e})},t.prototype.imprimerEcran=function(){return window.print()},t}(s.Components.ComponentAgentBase),n.ImpressionAgent=t,s.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-impression-agent.min.js.map
var MyWay;!function(e){var n,o;n=e.Services||(e.Services={}),((o=n.Components||(n.Components={})).ComponentType||(o.ComponentType={})).Numerisation="Numerisation"}(MyWay||(MyWay={})),function(e){var n,o,t;n=e.Services||(e.Services={}),o=n.Numerisation||(n.Numerisation={}),(t=o.NumerisationMessageSubject||(o.NumerisationMessageSubject={}))[t.Numeriser=0]="Numeriser",t[t.GetSpiFactoryActivationStatut=1]="GetSpiFactoryActivationStatut",t[t.NumeriserArcade=2]="NumeriserArcade",n.Components.FactoryRegistries.getInstance().declareComponent(n.Components.ComponentType.Numerisation,[n.Components.ComponentType.Context,n.Components.ComponentType.Core,n.Components.ComponentType.Display,n.Components.ComponentType.DonneesDelocalisees,n.Components.ComponentType.Libelle])}(MyWay||(MyWay={})),function(e){var n;(n=e.Services||(e.Services={})).Bug||(n.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-numerisation-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var n,s,t;n=e.Services||(e.Services={}),s=n.DonneesDelocalisees||(n.DonneesDelocalisees={}),t=function(e){function t(){return e.call(this,n.Components.ComponentType.DonneesDelocalisees)||this}return __extends(t,e),t.prototype.getDonneesDelocalisees=function(e,t){return this.sendMessage(s.Messages.DonneesDelocaliseesMessageSubject.GetDonneesDelocalisees,{numEtablissement:e,objectDataName:t})},t.prototype.getListeDonneesDelocalisees=function(e,t){return this.sendMessage(s.Messages.DonneesDelocaliseesMessageSubject.GetListeDonneesDelocalisees,{numEtablissement:e,objectDataNames:t})},t.prototype.getRubriqueLibelle=function(e,t,n){return this.sendMessage(s.Messages.DonneesDelocaliseesMessageSubject.GetRubriqueLibelle,{numEtablissement:e,objectDataName:t,code:n})},t.prototype.getDonneesParCriteres=function(e,t,n){return this.sendMessage(s.Messages.DonneesDelocaliseesMessageSubject.GetDonneesParCriteres,{numEtablissement:e,objectDataName:t,criteres:n})},t}(n.Components.ComponentAgentBase),s.DonneesDelocaliseesAgent=t,n.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).ServiceAgentExtended.prototype.getDonneesDelocalisees=function(e,t){try{var n=this.$q.defer();return this.DonneesDelocalisees.getDonneesDelocalisees(e,t).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}catch(e){throw new Error("context pas initialise !")}},t.ServiceAgentExtended.prototype.getListDonneesDelocalisees=function(t,n){var s=this;try{var o=this.$q.defer();return this.getAuthentificationInfo().then(function(e){s.DonneesDelocalisees.getDonneesDelocalisees(e.codeEtablissement,t).then(function(e){var t=[];n&&void 0!==e.donnees?e.donnees.forEach(function(e){t.push(s.instanceLoaderService.createInstance(n,e))}):t=e.donnees,o.resolve(t)},function(e){o.reject(e)})}),o.promise}catch(e){throw new Error("utilisateur pas authentifie ou service local pas demarre !")}}}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-donnees-delocalisees-agent.min.js.map
var MyWay;!function(i){var t,a;t=i.Services||(i.Services={}),((a=t.Components||(t.Components={})).ComponentType||(a.ComponentType={})).Habilitation="Habilitation"}(MyWay||(MyWay={})),function(i){var t,a,n;t=i.Services||(i.Services={}),a=t.Habilitation||(t.Habilitation={}),(n=a.HabilitationMessageSubject||(a.HabilitationMessageSubject={}))[n.EstHabilite=0]="EstHabilite",n[n.ChargerHabilitations=1]="ChargerHabilitations",n[n.ObtenirHabilitations=2]="ObtenirHabilitations",n[n.ObtenirHabilitation=3]="ObtenirHabilitation",n[n.ModifierHabilitation=4]="ModifierHabilitation",t.Components.FactoryRegistries.getInstance().declareComponent(t.Components.ComponentType.Habilitation,[t.Components.ComponentType.Capacites,t.Components.ComponentType.Context,t.Components.ComponentType.Core])}(MyWay||(MyWay={})),function(i){var t;(function(i){var t;(t=i.DOMAIN||(i.DOMAIN={}))[t.MYSYS="mysys"]="MYSYS",t[t.IAM="iam"]="IAM",t[t.CULTURENET="cultureNet"]="CULTURENET";var a,n=function(i,t){this[i]=t};i.HabilitationModel=n,(a=i.EHabilitationType||(i.EHabilitationType={}))[a.MYSYS=0]="MYSYS",a[a.IAM=1]="IAM",a[a.CULTURENET=2]="CULTURENET"})((t=i.Services||(i.Services={})).Habilitation||(t.Habilitation={}))}(MyWay||(MyWay={})),function(i){var t;(t=i.Services||(i.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-habilitation-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var n,o,t;n=e.Services||(e.Services={}),o=n.Capacites||(n.Capacites={}),t=function(e){function t(){return e.call(this,n.Components.ComponentType.Capacites)||this}return __extends(t,e),t.prototype.getCapacite=function(e){return this.sendMessage(o.Messages.CapacitesMessageSubject.GetCapacite,{regle:e})},t}(n.Components.ComponentAgentBase),o.CapacitesAgent=t,n.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-capacites-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={})),function(e){var n,r,t;n=e.Services||(e.Services={}),r=n.TraceSuivi||(n.TraceSuivi={}),t=function(e){function t(){return e.call(this,n.Components.ComponentType.TraceSuivi)||this}return __extends(t,e),t.prototype.tracer=function(e){return this.sendMessage(r.Messages.TraceSuiviMessageSubject.SendTraceSuivi,{trace:e})},t}(n.Components.ComponentAgentBase),r.TraceSuiviAgent=t,n.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-trace-suivi-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();!function(e){var t,n,r;t=e.Services||(e.Services={}),n=t.Numerisation||(t.Numerisation={}),r=function(e){function r(){return e.call(this,t.Components.ComponentType.Numerisation)||this}return __extends(r,e),r.prototype.numeriser=function(e,t){return r.logger.info("Méthode à déprécier - numeriser"),this.sendMessage(n.NumerisationMessageSubject.Numeriser,{data:e,numerisationParams:t})},r.prototype.numeriserArcade=function(e,t){return r.logger.info("Méthode à surveiller - numeriserArcade"),this.sendMessage(n.NumerisationMessageSubject.NumeriserArcade,{data:e,numerisationParams:t})},r.prototype.getSpiFactoryActivationStatut=function(){return r.logger.info("Méthode à surveiller - getSpiFactoryActivationStatut"),this.sendMessage(n.NumerisationMessageSubject.GetSpiFactoryActivationStatut,{})},r.CLASS_NAME="MyWay.Services.Numerisation.NumerisationAgent",r.logger=t.Loggers.LoggerFactory.INSTANCE.getClass(r.CLASS_NAME),r}(t.Components.ComponentAgentBase),n.NumerisationAgent=r,t.Components.RegistryAgent.getInstance().register(r)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-numerisation-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(t){var n,o,e;n=t.Services||(t.Services={}),o=n.Habilitation||(n.Habilitation={}),e=function(t){function e(){return t.call(this,n.Components.ComponentType.Habilitation)||this}return __extends(e,t),e.prototype.EstHabilite=function(t){var e=n.Controle.StaticArrayControle.isArray(t);return this.sendMessage(o.HabilitationMessageSubject.EstHabilite,{code:e?t:[t]}).then(function(t){return e?t:t[0]})},e}(n.Components.ComponentAgentBase),o.HabilitationAgent=e,n.Components.RegistryAgent.getInstance().register(e)}(MyWay||(MyWay={})),function(t){var e;(e=t.Services||(t.Services={})).Bug||(e.Bug={})}(MyWay||(MyWay={})),function(t){var e;(e=t.Services||(t.Services={})).Bug||(e.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-habilitation-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();!function(t){var e,o;e=t.Services||(t.Services={}),o=function(){},(e.Lisa||(e.Lisa={})).LisaCallbackResult=o}(MyWay||(MyWay={})),function(t){var e,o;e=t.Services||(t.Services={}),((o=e.Components||(e.Components={})).ComponentType||(o.ComponentType={})).Lisa="Lisa"}(MyWay||(MyWay={})),function(t){var e,o,n,s;e=t.Services||(t.Services={}),o=e.Lisa||(e.Lisa={}),n=o.Messages||(o.Messages={}),(s=n.LisaMessageSubject||(n.LisaMessageSubject={}))[s.Next=0]="Next",s[s.StartProcess=1]="StartProcess",s[s.StartSubProcess=2]="StartSubProcess",s[s.StartExternalApp=3]="StartExternalApp",s[s.GetProcesses=4]="GetProcesses",s[s.GetTools=5]="GetTools",s[s.GetCodesProcessus=6]="GetCodesProcessus",s[s.GetInfoProcessus=7]="GetInfoProcessus",s[s.StartUrl=8]="StartUrl",s[s.StartUrlPortal=9]="StartUrlPortal",s[s.StartProcessPortal=10]="StartProcessPortal",e.Components.FactoryRegistries.getInstance().declareComponent(e.Components.ComponentType.Lisa,[e.Components.ComponentType.Aide,e.Components.ComponentType.Context,e.Components.ComponentType.ContexteClient,e.Components.ComponentType.Core,e.Components.ComponentType.Display,e.Components.ComponentType.Habilitation,e.Components.ComponentType.Interop,e.Components.ComponentType.TraceSuivi])}(MyWay||(MyWay={})),function(t){var e;(function(t){var e=function(){function t(){}return t.prototype.Init=function(t){t&&(t.ProcessDemarre&&(this.ProcessDemarre=new s(t.ProcessDemarre)),t.ProchaineEtape&&(this.ProchaineEtape=new i(t.ProchaineEtape)))},t}(),o=function(o){function t(t){var e=o.call(this)||this;return t&&(e.CodeEtape=t.CodeEtape,e.ValeurSortie=t.ValeurSortie,e.FinProcess=t.FinProcess,e.ValeurFinProcess=t.ValeurFinProcess),e.Init(t),e}return __extends(t,o),t}(t.ResultBase=e);t.NextResult=o;var n=function(o){function t(t){var e=o.call(this)||this;return t&&(e.CodeProcessus=t.CodeProcessus,e.VersionExport=t.VersionExport),e.Init(t),e}return __extends(t,o),t}(e);t.StartResult=n;var s=function(t){t&&(this.Code=t.Code,this.ValeurDepart=t.ValeurDepart,this.Nom=t.Nom,this.EtapesConnues=t.EtapesConnues,this.CodeEtape=t.CodeEtape,this.OptionsProcess=t.OptionsProcess,this.OptionsProcessAsEtape=t.OptionsProcessAsEtape,this.Actions=t.Actions)};t.ProcessResult=s;var i=function(t){if(t){if(this.CodeEtape=t.CodeEtape,this.CodeMetier=t.CodeMetier,this.TypeApplication=t.TypeApplication,this.ValeurEntree=t.ValeurEntree,this.CodeApplication=t.CodeApplication,this.NomApplication=t.NomApplication,this.Icone=t.Icone,this.LocalisationAbsolue=t.LocalisationAbsolue,this.LocalisationRelative=t.LocalisationRelative,this.Contrats=[],t.Contrats)for(var e=0;e<t.Contrats.length;e++){var o=t.Contrats[e],n=new r(o);this.Contrats.push(n)}if(this.Actions=[],t.Actions)for(e=0;e<t.Actions.length;e++){var s=t.Actions[e],i=new a(s);this.Actions.push(i)}this.OptionsEtape=t.OptionsEtape,this.OptionsPointEntree=t.OptionsPointEntree}};t.EtapeResult=i;var r=function(t){t&&(this.Code=t.Code,this.Type=t.Type,this.Longueur=t.Longueur,this.Nullable=t.Nullable,this.Mode=t.Mode,this.OptionsContrat=t.OptionsContrat)};t.ContratResult=r;var a=function(t){if(t&&(this.ValeurSortie=t.ValeurSortie,this.EstExterne=t.EstExterne,this.NomExterne=t.NomExterne,this.OptionsAction=t.OptionsAction,this.ValeursFinProcessPossibles=[],t.ValeursFinProcessPossibles))for(var e=0;e<t.ValeursFinProcessPossibles.length;e++){var o=t.ValeursFinProcessPossibles[e];this.ValeursFinProcessPossibles.push(o)}};t.ActionResult=a;var p=function(t,e,o){this.Nom=t,this.Icone=e,this.Url=o};t.ApplicationResult=p})((e=t.Services||(t.Services={})).Lisa||(e.Lisa={}))}(MyWay||(MyWay={})),function(t){var e;(e=t.Services||(t.Services={})).Bug||(e.Bug={})}(MyWay||(MyWay={})),function(t){var e;(e=t.Services||(t.Services={})).Bug||(e.Bug={})}(MyWay||(MyWay={})),function(t){var e,o;e=t.Services||(t.Services={}),o=function(){function o(){}return o.setImplementation=function(t){o.implementation=t},Object.defineProperty(o.prototype,"StepInfo",{get:function(){return o.implementation.StepInfo},enumerable:!0,configurable:!0}),o.prototype.Next=function(t){return o.implementation.Next(t)},o.prototype.AddToContext=function(t,e){return o.implementation.AddToContext(t,e)},o.prototype.GetFromContext=function(t){return o.implementation.GetFromContext(t)},o.prototype.LireFichier=function(t){return o.implementation.LireFichier(t)},o.prototype.Previous=function(){return o.implementation.Previous()},o.CLASS_NAME="MyWay.Services.RouteurAgent",o.logger=e.Loggers.LoggerFactory.INSTANCE.getClass(o.CLASS_NAME),o}(),e.RouteurAgent=o}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-lisa-common.min.js.map
var MyWay;!function(e){var n,o;n=e.Services||(e.Services={}),((o=n.Components||(n.Components={})).ComponentType||(o.ComponentType={})).Application="Application"}(MyWay||(MyWay={})),function(e){var n,o,p,t;n=e.Services||(e.Services={}),o=n.Application||(n.Application={}),p=o.Messages||(o.Messages={}),(t=p.ApplicationMessageSubject||(p.ApplicationMessageSubject={}))[t.Demarrer=0]="Demarrer",t[t.DemarrerProcessus=1]="DemarrerProcessus",n.Components.FactoryRegistries.getInstance().declareComponent(n.Components.ComponentType.Application,[n.Components.ComponentType.Context,n.Components.ComponentType.ContexteClient,n.Components.ComponentType.Core,n.Components.ComponentType.Display,n.Components.ComponentType.Evennements,n.Components.ComponentType.Lisa])}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-application-common.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(t){var e;(e=t.Services||(t.Services={})).Bug||(e.Bug={})}(MyWay||(MyWay={})),function(t){var e,n,o;e=t.Services||(t.Services={}),n=e.Lisa||(e.Lisa={}),o=function(r){function t(){return r.call(this,e.Components.ComponentType.Lisa)||this}return __extends(t,r),t.prototype.init=function(t,e,n){var o=this;return r.prototype.init.call(this,t,e,n).then(function(){if(!n.disableGetStepInfo||!0!==n.disableGetStepInfo)return o.library.Context.GetCurrentStepInfo().then(function(t){o.StepCode=t.StepCode,o.library.Context.StepInfo=t});o.StepCode=n.codeApplication})},t.prototype.Next=function(t){return this.NextWithStep(this.StepCode,t)},t.prototype.NextWithStep=function(t,e){return this.sendMessage(n.Messages.LisaMessageSubject.Next,{valeurSortie:e,stepCode:t}).then(function(t){return t.processInAgent&&(window.location.href=t.url),t})},t}(e.Components.ComponentAgentBase),n.LisaAgent=o,e.Components.RegistryAgent.getInstance().register(o)}(MyWay||(MyWay={})),function(t){var e;(e=t.Services||(t.Services={})).Bug||(e.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-lisa-agent.min.js.map
var MyWay,__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();!function(e){var n,r,t;n=e.Services||(e.Services={}),r=n.Application||(n.Application={}),t=function(e){function t(){return e.call(this,n.Components.ComponentType.Application)||this}return __extends(t,e),t.prototype.Demarrer=function(e){return this.sendMessage(r.Messages.ApplicationMessageSubject.Demarrer,{codeApplication:e})},t.prototype.DemarrerProcessus=function(e,t,n,o){return void 0===t&&(t=null),void 0===o&&(o=null),this.sendMessage(r.Messages.ApplicationMessageSubject.DemarrerProcessus,{codeProcessus:e,delegationPortail:t,initData:n,valeurDepart:o})},t}(n.Components.ComponentAgentBase),r.ApplicationAgent=t,n.Components.RegistryAgent.getInstance().register(t)}(MyWay||(MyWay={})),function(e){var t;(t=e.Services||(e.Services={})).Bug||(t.Bug={})}(MyWay||(MyWay={}));
//# sourceMappingURL=mw-stc-framework-modules-application-agent.min.js.map