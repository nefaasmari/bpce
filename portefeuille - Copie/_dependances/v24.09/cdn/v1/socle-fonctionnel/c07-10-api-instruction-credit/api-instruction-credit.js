/**
 * Généré par : SIGCESIE\ct-tfsbuild
 * Changeset TFS : C672386
 * Etiquette TFS : maintenance-myc-patch4-api_20230227.1
 * Déclenchement : IndividualCI
 */
var ApiInstuctionCredit;!function(e){"use strict";e.app=angular.module("apiInstructionCredit",["ngRoute","moduleAgent"])}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e.DATE_ACCEPTATION="La date d’acceptation de l’assurance doit être comprise entre la date de création du dossier et la date du jour."}(t=e.ErreurSaisie||(e.ErreurSaisie={}))}(t=e.ReponseAssureur||(e.ReponseAssureur={}));var i;!function(e){e.conventionAde="A341H",e.conventionApe="A348Q"}(i=e.NumeroExterneConvention||(e.NumeroExterneConvention={}))}(t=e.Assurance||(e.Assurance={}))}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t="43199",i=function(){function e(){}return e.getListeTypeFonctionnementCompte=function(i){return i===t?e.listeTypeFonctionnementCompteCFF:e.listeTypeFonctionnementCompte},e.getListeModeDeComposition=function(){return e.listeModesDeComposition},e.idChampLieuResidence="cdfprs",e.listeCapaciteJuridique=[{code:48,libelle:"Inconnu"},{code:49,libelle:"Capable"},{code:50,libelle:"Incapable"}],e.listeEmployeurCommunPrimoAccedant=[{code:32,libelle:""},{code:48,libelle:"Non"},{code:49,libelle:"Oui"}],e.listeModeLogement=[{code:49,libelle:"Propriétaire"},{code:50,libelle:"Locataire"},{code:51,libelle:"Logement de fonction"},{code:52,libelle:"Logé chez les parents"},{code:53,libelle:"Logé à titre gratuit"},{code:54,libelle:"Locataire HLM"},{code:55,libelle:"Locataire Meublé"},{code:56,libelle:"Nomade"},{code:57,libelle:"Usufruitier"},{code:63,libelle:"Inconnu"}],e.listeModeTransport=[{code:48,libelle:""},{code:86,libelle:"Voiture"},{code:67,libelle:"Transport en commun"},{code:65,libelle:"Autre"}],e.codeNatureLienEntiteTitulairePR="PR",e.listeNatureLienEntiteTitulaire=[{code:"PE",libelle:"Personne physique"},{code:e.codeNatureLienEntiteTitulairePR,libelle:"Nom commercial du professionnel"},{code:"LA",libelle:"Désignation du lieu d'activité"}],e.listePrimoAccedant=[{code:32,libelle:"Non ou sans objet pour le projet"},{code:52,libelle:"Oui"},{code:49,libelle:"Oui: Titulaire d'une carte d'invalidité"},{code:50,libelle:"Oui: Allocation personne handicapée"},{code:51,libelle:"Oui: Victime de catastrophe"}],e.listeRoleRepresantant=[{code:"15",libelle:"Dirigeant"},{code:"16",libelle:"Représentant"}],e.listeSecteurActivite=[{code:49,libelle:"Public"},{code:50,libelle:"Privé"},{code:51,libelle:"Autre"},{code:52,libelle:"Semi-public et régies nationales"}],e.listeStatutOccupationLogementEmprunteur=[{code:49,libelle:"Locataire HLM"},{code:50,libelle:"Autre locataire"},{code:52,libelle:"Hébergé(e) à titre gratuit"},{code:57,libelle:"Autres statuts"},{code:48,libelle:"Inconnu"}],e.listeTypeContrat=[{code:"1",libelle:"Titulaire"},{code:"2",libelle:"Non titulaire"},{code:"3",libelle:"CDI (hors période d'essai)"},{code:"4",libelle:"CDD (hors période d'essai)"},{code:"5",libelle:"CDD (sous contrat d'intérim)"},{code:"6",libelle:"Période d'essai"},{code:"7",libelle:"Autres"}],e.listeTypeCompte=[{code:"1",libelle:"Mode simple"},{code:"2",libelle:"Mode joint entre époux"},{code:"3",libelle:"Mode joint"},{code:"4",libelle:"Mode indivision successorale"},{code:"5",libelle:"Mode indivision conventionnel avec ou sans solidarité"},{code:"6",libelle:"Autres"}],e.listeTypeFonctionnementCompte=[{code:"57",libelle:"Non défini"},{code:"49",libelle:"Très mauvais"},{code:"50",libelle:"Mauvais"},{code:"51",libelle:"Normal"},{code:"52",libelle:"Bon"}],e.listeTypeFonctionnementCompteCFF=[{code:"48",libelle:"Non défini"},{code:"49",libelle:"Très mauvais"},{code:"50",libelle:"Mauvais"},{code:"54",libelle:"Moyen"},{code:"51",libelle:"Correct"},{code:"52",libelle:"Bon"},{code:"55",libelle:"Très Bon"},{code:"53",libelle:"Pas de compte de dépôt"}],e.listeModesDeComposition=[{code:49,libelle:"Mode simple"},{code:50,libelle:"Joint entre emprunteur"},{code:51,libelle:"Joint hors emprunteur"}],e.listeTypeNationalite=[{code:49,libelle:"Français"},{code:50,libelle:"Etranger U.E."},{code:51,libelle:"Etranger non U.E."}],e.listeFonctionnementComptes=[{code:49,libelle:"Très Mauvais"},{code:50,libelle:"Mauvais"},{code:51,libelle:"Normal"},{code:52,libelle:"Bon"},{code:57,libelle:"Non Défini"}],e}();e.Client=i}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.vide=32,e.space=32,e}();e.Caractere=t;var i=function(){function e(){}return e.zero=48,e.un=49,e.deux=50,e.trois=51,e.quatre=52,e.cinq=53,e.six=54,e.sept=55,e.huit=56,e.neuf=57,e}();e.Nombre=i;var n;!function(e){var t=function(){function e(){}return e.A=65,e.B=66,e.C=67,e.D=68,e.E=69,e.F=70,e.G=71,e.H=72,e.I=73,e.J=74,e.K=75,e.L=76,e.M=77,e.N=78,e.O=79,e.P=80,e.Q=81,e.R=82,e.S=83,e.T=84,e.U=85,e.V=86,e.W=87,e.X=88,e.Y=89,e.Z=90,e}();e.Maj=t;var i=function(){function e(){}return e.a=97,e.b=98,e.c=99,e.d=100,e.e=101,e.f=102,e.g=103,e.h=104,e.i=105,e.j=106,e.k=107,e.l=108,e.m=109,e.n=110,e.o=111,e.p=112,e.q=113,e.r=114,e.s=115,e.t=116,e.u=117,e.v=118,e.w=119,e.x=120,e.y=121,e.z=122,e}();e.Min=i}(n=e.Lettre||(e.Lettre={}))}(t=e.CodeAscii||(e.CodeAscii={}))}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(e){e._2en1FauxRelais={code:t.CodeAscii.Nombre.trois,libelle:"2 en 1 faux relais"},e._2en1VraiRelais={code:t.CodeAscii.Nombre.deux,libelle:"2 en 1 vrai relais"},e._transformable={code:t.CodeAscii.Nombre.un,libelle:"transformable"},e.listePretCombine=[e._2en1FauxRelais,e._2en1VraiRelais,e._transformable]}(i=t.PretCombine||(t.PretCombine={}));var n;!function(e){e._enPlageDeValeur={code:t.CodeAscii.Lettre.Maj.N,libelle:"en plage de valeur"},e._palierDeTaux={code:t.CodeAscii.Lettre.Maj.O,libelle:"taux d’intérêt du palier de taux"},e.listeModeExpressionTaux=[e._enPlageDeValeur,e._palierDeTaux]}(n=t.AmortissementTaux||(t.AmortissementTaux={}));var r=function(){function t(){}return t.date0="0001-01-01",t.dateTime0="0001-01-01T00:00:00.000+0100",t.dateFinAppDefaut="9999-12-31",t.minDateEntreePatrEtDateAcq="1800-01-01",t.maxDateEntreePatrEtDateAcq="2999-12-31",t.codeTypologieCadreFiscalLmp="02",t.dateDuJour=moment(new Date).format("YYYY-MM-DD"),t.dateJourPlusUn=moment(new Date).add("days",1).format("YYYY-MM-DD"),t.valeurMaximumChampsMontant=99999999999.99,t.colonnesTableauEditionDocuments=[{title:"Document",bind:"codeDoc",cssClass:"col-md-2 col-lg-2"},{title:"Libellé",bind:"libelleDoc",cssClass:"col-md-4 col-lg-4"},{title:"Nbre ex. Emprunteur",bind:"nombreEmp",cssClass:"col-md-1 col-lg-1"},{title:"Nbre ex. Notaire",bind:"nombreNotaire",cssClass:"col-md-1 col-lg-1"},{title:"Nbre ex. Dossier",bind:"nombreDossier",cssClass:"col-md-1 col-lg-1"},{title:"Nbre ex. Caution",bind:"nombreCaution",cssClass:"col-md-1 col-lg-1"},{title:"Nbre ex. Autre",bind:"nombreAutre",cssClass:"col-md-1 col-lg-1"},{title:"Nbre ex. Total",bind:"nombreTotal",cssClass:"col-md-1 col-lg-1"}],t.codeUidUtilisateur="uid",t.listeModalites=[{code:"E",libelle:"Echéance maximale"},{code:"T",libelle:"Endettement maximal"},{code:"P",libelle:"Paliers contraints"}],t.listeModeRestitution=[{code:"A",libelle:"TAEG"},{code:"P",libelle:"TEG"}],t.typeTauxPropCreditExistant=80,t.periodiciteCreditExistant=77,t.listeTypeCredit=[{code:1,libelle:"Consommation"},{code:2,libelle:"Trésorerie"},{code:3,libelle:"Habitat"},{code:9,libelle:"Revolving"}],t.listeMotifRemboursementAnticipe=[{code:"NP",libelle:"RA anticipé sur produit nouveau prêt"},{code:"VB",libelle:"RA anticipé suite à vente d'un bien"},{code:"EC",libelle:"RA anticipé avec épargne en C.E."},{code:"EH",libelle:"RA anticipé avec épargne hors C.E."},{code:"AU",libelle:"Autres"}],t.indiceCreditInterneModeOptim="O",t.indiceCreditInterneModeManuel="I",t.codeTypePhaseAmortissement="AM",t.codeTypePhasePrefinancement="PF",t.codeTypePhaseDiffereAmortissement="DA",t.codeTypePhaseMobilite="MO",t.codeTypePhaseDiffereTotal="DT",t.listeTypePhase=[{code:t.codeTypePhaseAmortissement,libelle:"Amortissement"},{code:t.codeTypePhasePrefinancement,libelle:"Préfinancement"},{code:t.codeTypePhaseDiffereAmortissement,libelle:"Différé d'amortissement"},{code:t.codeTypePhaseMobilite,libelle:"Mobilisation"},{code:t.codeTypePhaseDiffereTotal,libelle:"Différé total"}],t.listePeriodicitePhase=[{code:"M",libelle:"Mensuelle"},{code:"B",libelle:"Bimensuelle"},{code:"T",libelle:"Trimestrielle"},{code:"S",libelle:"Semestrielle"},{code:"A",libelle:"Annuelle"}],t.listePeriodicitePhaseComplete=[{code:"J",libelle:"Journalière"},{code:"M",libelle:"Mensuelle"},{code:"B",libelle:"Bimestrielle"},{code:"T",libelle:"Trimestrielle"},{code:"S",libelle:"Semestrielle"},{code:"A",libelle:"Annuelle"}],t.listeUnitePeriodeDureePhase=[{code:"A",libelle:"années"},{code:"S",libelle:"semestres"},{code:"T",libelle:"trimestres"},{code:"M",libelle:"mois"}],t.listeTypesMensualiteCredit=[{code:"E",libelle:"Actuarielles"},{code:"P",libelle:"Proportionnelles"}],t.listeStatutsEtablissement=[{code:"P",libelle:"Conservé"},{code:"A",libelle:"Non conservé"}],t.listeStatutsHorsEtablissement=[{code:"F",libelle:"Futur"}],t.listeTypePeriodicite=[{code:"M",libelle:"Mensuelle"},{code:"B",libelle:"Bimestrielle"},{code:"T",libelle:"Trimestrielle"},{code:"S",libelle:"Semestrielle"},{code:"A",libelle:"Annuelle"}],t.listeNaturePret=[{code:"1",libelle:"Prêt conventionné"},{code:"2",libelle:"Prêt à l'Accession Sociale"},{code:"3",libelle:"Prêt Epargne Logement"},{code:"4",libelle:"Prêt 1% logement"},{code:"5",libelle:"Autre prêt social"},{code:"6",libelle:"Autre prêt éligible"},{code:"7",libelle:"Autre prêt libre"},{code:"8",libelle:"Prêt relais"},{code:"9",libelle:"PAP"},{code:"A",libelle:"Pass-Foncier"}],t.listeTypeDeRemboursement=[{code:"1",libelle:"Constant"},{code:"2",libelle:"Modulable"},{code:"9",libelle:"Autre"}],t.listenatureGarantie=[{code:"0",libelle:"Pas de sureté"},{code:"1",libelle:"Hypothèque (ou PPD)"},{code:"2",libelle:"Organisme de cautionnement"},{code:"3",libelle:"Caution Personnelle"},{code:"9",libelle:"Autre garantie"}],t.codeNatureGarantiePAH="27",t.codeCategorieEmprunteurParticulier="008",t.listeNatureGarantie=[{code:"06",libelle:"Hypothèque immobilière"},{code:"titi",libelle:"toto"}],t.listeSegmentBaleII=[{code:"BPA",libelle:"23"},{code:"BPP",libelle:"24"},{code:"DA",libelle:"25"},{code:"DP",libelle:"26"},{code:"JA",libelle:"27"},{code:"JP",libelle:"28"},{code:"I",libelle:"29"}],t.listeAncienContratAssurance=["9882R","0813J","0101K","0904H","0905J","7005P","7002L","7014Z","7018D","7023J","7044G","1517Z","9885V","9886W","9902N","1082B","1150A","1325Q","8165A","9259P","7017C","6652F"],t.listeNouveauContratAssurance=["2220X"],t.listeModeCalculCotisation=[{code:49,montant:!1,plageMontant:!1,taux:!1,plageTaux:!1},{code:50,montant:!0,plageMontant:!1,taux:!1,plageTaux:!1},{code:51,montant:!0,plageMontant:!0,taux:!1,plageTaux:!1},{code:52,montant:!1,plageMontant:!1,taux:!0,plageTaux:!1},{code:53,montant:!1,plageMontant:!1,taux:!0,plageTaux:!0},{code:54,montant:!1,plageMontant:!1,taux:!0,plageTaux:!1},{code:55,montant:!0,plageMontant:!0,taux:!0,plageTaux:!1}],t.listeTypeRisque=[{code:49,libelle:"Risque simple"},{code:50,libelle:"Risque aggravé"}],t.listeDemandeCessionAnteriorite=[{code:67,libelle:"Inscription en concurrence"},{code:83,libelle:"Inscription sans concurrence"},{code:78,libelle:"Pas de cession rang"},{code:79,libelle:"En cession"},{code:32,libelle:"Sans objet"}],t.listeFormeActe=[{code:e.Constantes.CodeAscii.Lettre.Maj.N,libelle:"Sous seing privé"},{code:e.Constantes.CodeAscii.Lettre.Maj.O,libelle:"Authentique"}],t.listeTypeRattachement=[{code:e.Constantes.CodeAscii.Lettre.Maj.A,libelle:"Automatique"},{code:e.Constantes.CodeAscii.Lettre.Maj.I,libelle:"Intéractif"}],t.codeActivationBestCFF=53,t.colonnesTableauAssurance=[{title:"Assuré(s)",bind:"nomAssure",cssClass:"col-md-3 col-lg-3 text-center"},{title:"Convention",bind:"libelleConvention",cssClass:"col-md-4 col-lg-4 text-center"},{title:"Risques",bind:"risqueTypeAssurance",cssClass:"col-md-2 col-lg-2 text-center"},{title:"Montant",bind:"montant",filter:"| devise:2:'':mwTableRow.codeDevise",cssClass:"col-md-2 col-lg-2 text-center"},{title:"Taux",bind:"taux",filter:"| currency:'%':2",cssClass:"col-md-1 col-lg-1 text-center"}],t}();t.Donnees=r;var s=function(){function e(){}return e.PASSAGE_SANS_SUITE_PAR_INSTRUCTEUR="RE",e}();t.CodeEvenementPassageDossierASansSuite=s;var o=function(){function e(){}return e.REFUS_CLIENT="PJ",e}();t.CodeEvenementRefusClient=o;var a=function(){function e(){}return e.BLOCNOTE="BLOCNOTE",e.DIVERS="DIVERS",e}();t.TypeBlocNotes=a}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t;!function(t){var i=function(){function e(){}return e.ACTION_DOSSIER_CONSULTATION=0,e.ACTION_DOSSIER_INSTRUCTION=1,e.ACTION_DOSSIER_DECISION=2,e.ACTION_DOSSIER_CONFORMITE=4,e.ACTION_DOSSIER_PRISE_EN_CHARGE_BACK_OFFICE=5,e}();t.Action=i;var n=function(){function t(){}return t.TOUS={code:null,libelle:"Tous"},t.PAPIER={code:e.CodeAscii.Lettre.Maj.P,libelle:"Papier"},t.ELECTRONIQUE={code:e.CodeAscii.Lettre.Maj.E,libelle:"Electronique"},t}();t.TypeSignature=n;var r=function(){function e(){}return e.CREATION_ENVELOPPE_CLASSEUR_CLIENT="JB",e.CREATION_DOSSIER_IDN="JC",e.ACTIVATION_TRANSACTION_SIGNATURE_BANQUE="JA",e.MISE_A_DISPO_OFFRE="JD",e.REMISE_OFFRE="JE",e.ACCUSE_RECEPTION_OFFRE="JF",e.ACCUSE_DEFINITIF="JG",e.RELANCE1_RECEPTION_OFFRE="J1",e.RELANCE2_RECEPTION_OFFRE="J2",e.ACTIVATION_ESPACE_SIGNATURE="JI",e.SIGNATURE_OFFRE_EMPRUNTEUR="JK",e.SIGNATURE_DEFINITIVE="JL",e.RELANCE3_SIGNATURE="J3",e.RELANCE4_SIGNATURE="J4",e.ABANDON="JR",e.ENVOI_MAIL_SMS_OFFRE_TOTALEMENT_SIGNEE="JT",e.ANNULATION="JH",e.ERREUR_TRAITEMENT_AUTO="JQ",e.CODE_NATURE_EVENEMENT_LECTURE_DOSSIER_CENTRAL="T",e}();t.TypeEvenementHisto=r,function(e){e[e.demandeCredit_SED=4]="demandeCredit_SED",e[e.demandeCredit_SAG=3]="demandeCredit_SAG",e[e.offre=2]="offre",e[e.offre_SAG=1]="offre_SAG",e[e["default"]=0]="default",e[e.nonInitialise=-30]="nonInitialise"}(t.CodeSignatureElectronique||(t.CodeSignatureElectronique={}));t.CodeSignatureElectronique}(t=e.Dossier||(e.Dossier={}))}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e.getCasProjet=function(e,t){switch(e){case"005":return{cadreFiscal:!1}}switch(e+"-"+t){case"001-01":case"002-32":case"008-18":case"145-A6":return{cadreFiscal:!1}}return{cadreFiscal:!0}},Object.defineProperty(e,"affichageChamps",{get:function(){var t=[{typeObjetToc:"041",typeObjetTor:"38",cas:e.casChampsMontant[0],eligibilite:!1,casInfosCompl:e.casChampsInfosCompl[6]},{typeObjetToc:"032",typeObjetTor:"94",cas:e.casChampsMontant[13],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"008",typeObjetTor:"B5",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"07",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"08",cas:e.casChampsMontant[1],eligibilite:!1,casInfosCompl:e.casChampsInfosCompl[4]},{typeObjetToc:"008",typeObjetTor:"14",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"15",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"16",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"17",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"18",cas:e.casChampsMontant[14],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[6]},{typeObjetToc:"008",typeObjetTor:"20",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"21",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"008",typeObjetTor:"25",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"26",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"27",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"28",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"29",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"30",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"31",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"008",typeObjetTor:"33",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"34",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"35",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"36",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"008",typeObjetTor:"37",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"049",typeObjetTor:"38",cas:e.casChampsMontant[0],eligibilite:!1,casInfosCompl:e.casChampsInfosCompl[7]},{typeObjetToc:"215",typeObjetTor:"38",cas:e.casChampsMontant[1],eligibilite:!1,casInfosCompl:e.casChampsInfosCompl[7]},{typeObjetToc:"148",typeObjetTor:"B7",cas:e.casChampsMontant[3],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"145",typeObjetTor:"A6",cas:e.casChampsMontant[3],eligibilite:!1,casInfosCompl:e.casChampsInfosCompl[7]},{typeObjetToc:"003",typeObjetTor:"02",cas:e.casChampsMontant[16],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"003",typeObjetTor:"03",cas:e.casChampsMontant[17],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"003",typeObjetTor:"R4",cas:e.casChampsMontant[17],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"003",typeObjetTor:"07",cas:e.casChampsMontant[8],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"003",typeObjetTor:"97",cas:e.casChampsMontant[13],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"003",typeObjetTor:"98",cas:e.casChampsMontant[8],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"003",typeObjetTor:"R5",cas:e.casChampsMontant[8],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"002",typeObjetTor:"32",cas:e.casChampsMontant[7],eligibilite:!1,casInfosCompl:e.casChampsInfosCompl[7]},{typeObjetToc:"001",typeObjetTor:"01",cas:e.casChampsMontant[7],eligibilite:!1,casInfosCompl:e.casChampsInfosCompl[7]},{typeObjetToc:"004",typeObjetTor:"A9",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"004",typeObjetTor:"B1",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"004",typeObjetTor:"B4",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"004",typeObjetTor:"04",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"004",typeObjetTor:"R3",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"004",typeObjetTor:"05",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"004",typeObjetTor:"06",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"004",typeObjetTor:"07",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[2]},{typeObjetToc:"004",typeObjetTor:"08",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[4]},{typeObjetToc:"004",typeObjetTor:"20",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"004",typeObjetTor:"25",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"004",typeObjetTor:"26",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"004",typeObjetTor:"27",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"004",typeObjetTor:"30",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[1]},{typeObjetToc:"007",typeObjetTor:"22",cas:e.casChampsMontant[15],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[5]},{typeObjetToc:"006",typeObjetTor:"09",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[9]},{typeObjetToc:"006",typeObjetTor:"R1",cas:e.casChampsMontant[1],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[9]},{typeObjetToc:"006",typeObjetTor:"13",cas:e.casChampsMontant[10],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"006",typeObjetTor:"14",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"006",typeObjetTor:"15",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"006",typeObjetTor:"16",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"006",typeObjetTor:"17",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"006",typeObjetTor:"21",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"006",typeObjetTor:"24",cas:e.casChampsMontant[10],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[8]},{typeObjetToc:"006",typeObjetTor:"R2",cas:e.casChampsMontant[10],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[8]},{typeObjetToc:"006",typeObjetTor:"28",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"006",typeObjetTor:"29",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"006",typeObjetTor:"31",cas:e.casChampsMontant[0],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[0]},{typeObjetToc:"005",typeObjetTor:"C1",cas:e.casChampsMontant[11],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[6]},{typeObjetToc:"005",typeObjetTor:"C2",cas:e.casChampsMontant[11],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[6]},{typeObjetToc:"005",typeObjetTor:"07",cas:e.casChampsMontant[11],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[6]},{typeObjetToc:"005",typeObjetTor:"10",cas:e.casChampsMontant[11],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[6]},{typeObjetToc:"005",typeObjetTor:"11",cas:e.casChampsMontant[6],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[6]},{typeObjetToc:"005",typeObjetTor:"12",cas:e.casChampsMontant[11],eligibilite:!1,casInfosCompl:e.casChampsInfosCompl[6]},{typeObjetToc:"005",typeObjetTor:"13",cas:e.casChampsMontant[6],eligibilite:!0,casInfosCompl:e.casChampsInfosCompl[6]}];return _.each(t,function(t){return t.casProjet=e.getCasProjet(t.typeObjetToc,t.typeObjetTor)}),t},enumerable:!0,configurable:!0}),e.casChampsMontant=[{champsTerrain:!1,champsAcquisition:!0,champsMobilier:!0,afficheFraisNotaire:!0,afficheBoutonNegociation:!0,champsTravaux:!0,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!0,champsMobilier:!0,afficheFraisNotaire:!0,afficheBoutonNegociation:!0,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!0,champsMobilier:!1,afficheFraisNotaire:!0,afficheBoutonNegociation:!1,champsTravaux:!0,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!1,afficheBoutonNegociation:!1,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!1,champsTravauxReserves:!1,champsRachatCreance:!0,champsBesoin:!0,champsNegociation:!1,rachatRegroupement:!0},{champsTerrain:!0,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!0,afficheBoutonNegociation:!0,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!0,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!0,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!1,afficheBoutonNegociation:!1,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!0,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!0,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!1,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!1,afficheBoutonNegociation:!1,champsTravaux:!0,champsEcoPTZ:!0,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!1,rachatRegroupement:!1},{champsTerrain:!0,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!0,afficheBoutonNegociation:!0,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!1,afficheBoutonNegociation:!1,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!0,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!1,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!0,champsMobilier:!0,afficheFraisNotaire:!1,afficheBoutonNegociation:!0,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!0,champsMobilier:!0,afficheFraisNotaire:!0,afficheBoutonNegociation:!0,champsTravaux:!0,champsEcoPTZ:!0,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!1,afficheBoutonNegociation:!1,champsTravaux:!0,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!1,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!1,afficheBoutonNegociation:!1,champsTravaux:!0,champsEcoPTZ:!0,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!0,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!0,afficheBoutonNegociation:!0,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!0,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!0,champsMobilier:!1,afficheFraisNotaire:!0,afficheBoutonNegociation:!0,champsTravaux:!0,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!1,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!0,champsMobilier:!0,afficheFraisNotaire:!1,afficheBoutonNegociation:!1,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!1,fraisDivers:!0,champsTravauxReserves:!1,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!0,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!0,afficheBoutonNegociation:!0,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!0,fraisDivers:!0,champsTravauxReserves:!0,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!0,rachatRegroupement:!1},{champsTerrain:!1,champsAcquisition:!1,champsMobilier:!1,afficheFraisNotaire:!1,afficheBoutonNegociation:!1,champsTravaux:!1,champsEcoPTZ:!1,champsPrixConvenu:!1,champsCoutConstruction:!0,fraisDivers:!0,champsTravauxReserves:!0,champsRachatCreance:!1,champsBesoin:!1,champsNegociation:!1,rachatRegroupement:!1}],e.casChampsInfosCompl=[{champsSurfaceHabitable:!0,champsDateFinConstruction:!0,champsDateAchevementTravaux:!0,champsPerformanceEnergetique:!1},{champsSurfaceHabitable:!0,champsDateFinConstruction:!0,champsDateAchevementTravaux:!1,champsPerformanceEnergetique:!1},{champsSurfaceHabitable:!0,champsDateFinConstruction:!1,champsDateAchevementTravaux:!0,champsPerformanceEnergetique:!1},{champsSurfaceHabitable:!1,champsDateFinConstruction:!0,champsDateAchevementTravaux:!0,champsPerformanceEnergetique:!1},{champsSurfaceHabitable:!0,champsDateFinConstruction:!1,champsDateAchevementTravaux:!1,champsPerformanceEnergetique:!1},{champsSurfaceHabitable:!1,champsDateFinConstruction:!0,champsDateAchevementTravaux:!1,champsPerformanceEnergetique:!1},{champsSurfaceHabitable:!1,champsDateFinConstruction:!1,champsDateAchevementTravaux:!0,champsPerformanceEnergetique:!1},{champsSurfaceHabitable:!1,champsDateFinConstruction:!1,champsDateAchevementTravaux:!1,champsPerformanceEnergetique:!1},{champsSurfaceHabitable:!0,champsDateFinConstruction:!0,champsDateAchevementTravaux:!0,champsPerformanceEnergetique:!0},{champsSurfaceHabitable:!0,champsDateFinConstruction:!0,champsDateAchevementTravaux:!1,champsPerformanceEnergetique:!0},{champsSurfaceHabitable:!0,champsDateFinConstruction:!1,champsDateAchevementTravaux:!0,champsPerformanceEnergetique:!0},{champsSurfaceHabitable:!1,champsDateFinConstruction:!0,champsDateAchevementTravaux:!0,champsPerformanceEnergetique:!0},{champsSurfaceHabitable:!0,champsDateFinConstruction:!1,champsDateAchevementTravaux:!1,champsPerformanceEnergetique:!0},{champsSurfaceHabitable:!1,champsDateFinConstruction:!0,champsDateAchevementTravaux:!1,champsPerformanceEnergetique:!0},{champsSurfaceHabitable:!1,champsDateFinConstruction:!1,champsDateAchevementTravaux:!0,champsPerformanceEnergetique:!0},{champsSurfaceHabitable:!1,champsDateFinConstruction:!1,champsDateAchevementTravaux:!1,champsPerformanceEnergetique:!0}],e}();e.Ecrans=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function t(){}return t.regroupementCredit={numDoc:"FC050DIR",informationPopup:"Avant de choisir d'éditer ce document FC050DIR, assurez-vous d'avoir bien vérifié les données saisies concernant le regroupement de crédits."},t.demandeCreditDoc={numDoc:"FC003DC"},t.condServSignElecDoc={numDoc:"ST_CCSE"},t.listeTypeEligibilite=[{code:e.CodeAscii.Caractere.vide,libelle:"Non éligible"},{code:e.CodeAscii.Lettre.Maj.F,libelle:"Eligibilité Banque de France"},{code:e.CodeAscii.Lettre.Maj.D,libelle:"Eligibilité IEDOM"},{code:e.CodeAscii.Lettre.Maj.X,libelle:"Eligibilité IEOM"}],t.statutConcerne="Concerné",t.statutNonConcerne="Non concerné",t.listeTitreLiasseEdition=[{code:"IT",libelle:"Entête",ordre:1,utilite:"Regroupe les documents d’entête, exemple Consigne de mise sous pli, courrier d’accompagnement, …"
},{code:"IE",libelle:"Exemplaire emprunteur",ordre:2,utilite:"Pour regrouper les documents à envoyer à l’emprunteur."},{code:"IP",libelle:"Exemplaire prêteur",ordre:3,utilite:"Regroupe les documents destinés au prêteur."},{code:"IN",libelle:"Exemplaire notaire",ordre:4,utilite:"Regroupe les documents destinés au notaire."},{code:"ID",libelle:"Déblocage des fonds",ordre:5,utilite:"Regroupe les documents de déblocage des fonds."},{code:"CO",libelle:"Constitution de l’offre",ordre:6,utilite:"Regroupe les libellés (indicateurs) qui constitueront le libellé final du dossier d’édition."},{code:"IM",libelle:"Exemplaire emprunteur",ordre:7,utilite:"Pour regrouper les documents à envoyer à l’emprunteur."},{code:"IC",libelle:"Exemplaire caution",ordre:8,utilite:"Regroupe les documents destinés à la caution"}],t.listeMotifsAnnulerConstitution=[{code:e.CodeAscii.Nombre.zero,libelle:"Problème technique client"},{code:e.CodeAscii.Nombre.un,libelle:"Choix client de revenir au processus papier"},{code:e.CodeAscii.Nombre.deux,libelle:"Offre erronée"},{code:e.CodeAscii.Nombre.trois,libelle:"Problème technique banque"},{code:e.CodeAscii.Nombre.quatre,libelle:"Autre motif"}],t.habilitationLancerProcessSignature="SV",t.libelleLoiConso="Loi conso",t.libelleLoiImmo="Loi immo",t.libelleAutreLoi="Autre loi",t.libelleEditionAgenceOuBo="Edition en Agence ou en Back Office",t.messageEditionAgenceOuBoObligatoire="Le choix est obligatoire",t}();e.Edition=t;var t;!function(e){var t=function(){function e(){}return e.emprunteur={code:"Empr.",libelle:"Emprunteur"},e.notaire={code:"Notaire",libelle:"Notaire"},e.caution={code:"Caution",libelle:"Caution"},e.liste=[e.emprunteur,e.notaire,e.caution],e}();e.RoleDestinataireOffre=t;var i=function(){function e(){}return e.propositionCommerciale="FZ001SI",e.tableauAmortissementCredit="FZ015TA",e.assrExterne="FC050REF",e}();e.NomDocument=i;var n=function(){function e(){}return e.notices="nOTICES",e.codeNotices="2220N",e.titreNotices="Notices",e.fC050ACA="fC050ACA",e.fCX50ACA="fCX50ACA",e.listeDonneesCreditAModifierACA="listeDonneesCreditAModifierACA",e.listeDonneesCreditAModifier="listeDonneesCreditAModifier",e}();e.NomSaisieCompl=n}(t=e.Edition||(e.Edition={}))}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function t(){}return t.paramsEditiqueProposition=[{id:"#SComp_RDVDER_1",data:"APOK"},{id:"#SComp_RDVDER_2",data:"RDVOK"},{id:"#SComp_RDVDER_3",data:"DEROK"}],t.paramsEditiquePtz=[{id:"#SComp_ATTPTZ_1",data:"AN1OK"},{id:"#SComp_ATTPTZ_2",data:"AN2OK"},{id:"#SComp_ATTPTZ_3",data:"AN3OK"},{id:"#SComp_ATTPTZ_4",data:"AN4OK"},{id:"#SComp_ATTPTZ_5",data:"AN5OK"},{id:"#SComp_ATTPTZ_6",data:"AN6OK"},{id:"#SComp_ATTPTZ_7",data:"AN7OK"},{id:"#SComp_ATTPTZ_8",data:"AN8OK"},{id:"#SComp_ATTPTZ_9",data:"AN9OK"},{id:"#SComp_ATTPTZ_10",data:"ANXOK"},{id:"#SComp_ATTPTZ_11",data:"ANXIOK"},{id:"#SComp_ATTPTZ_12",data:"ANIIIOK"},{id:"#SComp_ATTPTZ_13",data:"ANIVOK"},{id:"#SComp_ATTPTZ_14",data:"ANXIVOK"}],t.paramsPieco=[{id:"TYPE_EDITION",data:"FINAL"}],t.formatPapier=e.CodeAscii.Lettre.Maj.P,t.formatIndustrialise=e.CodeAscii.Lettre.Maj.E,t.formatSignatureElectronique=e.CodeAscii.Lettre.Maj.Q,t}();e.Editique=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e.typeRolePersonneCaution={code:"03",libelle:"Caution"},e.typeRolePersonneEmprunteur={code:"04",libelle:"Emprunteur"},e.typeRolePersonneCoEmprunteur={code:"05",libelle:"Co emprunteur"},e.typeRolePersonneVendeur={code:"06",libelle:"Vendeur"},e.typeRolePersonneProprietaire={code:"07",libelle:"Propriétaire"},e.typeRolePersonneHuissier={code:"08",libelle:"Huissier"},e.typeRolePersonnePayeur={code:"09",libelle:"Payeur"},e.typeRolePersonneOrganismeSignataire={code:"10",libelle:"Organisme signataire d'une convention"},e.typeRolePersonneCaf={code:"11",libelle:"CAF"},e.typeRolePersonneRedacteur={code:"13",libelle:"Rédacteur d'acte"},e.typeRolePersonneBeneficiaireVersement={code:"14",libelle:"Bénéficiaire d'un versement"},e.typeRolePersonneDirigeant={code:"15",libelle:"Dirigeant"},e.typeRolePersonneRepresentant={code:"16",libelle:"Représentant"},e.listeTypeRolePersonne=[e.typeRolePersonneCaution,e.typeRolePersonneEmprunteur,e.typeRolePersonneCoEmprunteur,e.typeRolePersonneVendeur,e.typeRolePersonneProprietaire,e.typeRolePersonneHuissier,e.typeRolePersonnePayeur,e.typeRolePersonneOrganismeSignataire,e.typeRolePersonneRedacteur,e.typeRolePersonneDirigeant,e.typeRolePersonneRepresentant],e}();e.Emprunteur=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e.codeFamilleCEL="CL",e.codeFamillePEL="PL",e.listeTypesEpargneLogement=[{libelle:"CEL",code:"L"},{libelle:"PEL",code:"P"}],e.listeReservationsDroitsAcquis=[{code:"0",libelle:"non réservé"},{code:"1",libelle:"réservation faite"},{code:"2",libelle:"réservation en échec"},{code:"3",libelle:"contrat inconnu"}],e.listeResidencesEncours=[{code:80,libelle:"Principale"},{code:83,libelle:"Secondaire"}],e}();e.EpargneLogement=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e.pyPatz2005="PY",e.pzPatzMinistereDuLogement="PZ",e.pzEcoPatz="PX",e}();e.CodeFamilleControle=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.accessoireComplementaire="ACCP",e.accessoireLieProduit="ACLP",e.assurance="ASSR",e.garantiePersonnelle="GARP",e.garantieReelle="GARR",e.serviceSurObjet="SVCO",e.saisiesComplementaire="SACP",e}();e.Accessoire=t;var i=function(){function e(){}return e.alerteEnEntree="ALEN",e.alerteEnSortie="ALSO",e}();e.Alerte=i;var n=function(){function e(){}return e.apl="APLO",e}();e.Apl=n;var r=function(){function e(){}return e.avis="AVIS",e.avisOrganismeExt="AVOE",e}();e.Avis=r;var s=function(){function e(){}return e.bienAVendre="BIAV",e}();e.BienAVendre=s;var o=function(){function e(){}return e.batimentHabitableFinance="BAFI",e.constructionFinance="COFI",e.soulteFinance="SOFI",e.terrainFinance="TEFI",e.travauxFinance="TVFI",e.bienConsoFinance="BICF",e.autoMoto="AUMO",e.batimentSousJacent="BASJ",e.bienSousJacentSoulte="BSJS",e.terrainSousJacent="TESJ",e.bienEquipementPro="BIEQ",e.tresorerieFinancee="TRFI",e.detailCoutObjet="DECO",e}();e.BienFinance=o;var a=function(){function e(){}return e.antichrese="ANCH",e.bienDivers="BIDI",e.bonDeCaisseCapitalisation="BONC",e.cessionDaillyAutre="CEDA",e.cessionDaillyLoyerImmeuble="CEDL",e.contratAssurance="CTAS",e.delegationLoyer="DELO",e.gageCompteInstrumentFinancier="GACP",e.gageVehicule="GAVE",e.hypothequeAerienne="HYAE",e.hypothequeImmobiliere="HYIM",e.nantissementFondDeCommerce="NAFC",e.nantissementPartSociale="NAPS",e.nantissementValeurMateriel="NAVM",e.nantissementValeurMobiliere="NAVB",e.versementAttendu="VRAT",e.proprietaire="PROP",e.referenceCadastrale="RFCA",e.referenceLot="RFLO",e}();e.BienGaranti=a;var c=function(){function e(){}return e.blocNotes="BLNO",e}();e.BlocNote=c;var l=function(){function e(){}return e.butLocatif="BULO",e}();e.ButLocatif=l;var u=function(){function e(){}return e.clausePersonnalisee="CLAP",e}();e.ClausePersonnalisee=u;var d=function(){function e(){}return e.compteDepotParticulier="CPDP",e.compteProfessionnel="CPPR",e.compteModalites="CMPT",e}();e.Compte=d;var p=function(){function e(){}return e.cotisation="COTI",e.cotisationDerogation="CODE",e.cotisationPeriode="COPE",e.cotisationPhase="COPH",e}();e.Cotisation=p;var m=function(){function e(){}return e.cotisationTrancheAge="CPTA",e.trancheMontant="TRMN",e}();e.CotisationTranche=m;var f=function(){function e(){}return e.couvertureCredit="CVCR",e}();e.CouvertureCredit=f;var h=function(){function e(){}return e.creditExterne="CREX",e}();e.CreditExterne=h;var C=function(){function e(){}return e.creditInterne="CRIN",e.droitUtilise="DRUT",e.ajustementTaux="SYRE",e}();e.CreditInterne=C;var v=function(){function e(){}return e.creditModaliteLecture="CRMD",e.compteCourant="CPCO",e}();e.CreditModalite=v;var g=function(){function e(){}return e.creditBonification="CRBO",e}();e.CreditBonification=g;var b=function(){function e(){}return e.creditBonificationInfo="BOIF",e}();e.CreditBonificationInfo=b;var A=function(){function e(){}return e.creditPalierProgression="CRPP",e.creditPalierTaux="CRPT",e}();e.CreditPalier=A;var S=function(){function e(){}return e.creditParamRevisionParPeriode="PRPE",e.creditParamRevisionParPhase="PRPH",e.creditParamIndexationParPeriode="PIPE",e.creditParamIndexationParPhase="PIPH",e}();e.CreditParam=S;var P=function(){function e(){}return e.creditPhaseAmortissement="PHAM",e.creditPhaseDiffereAmortissement="PHDA",e.creditPhaseDiffereTotal="PHDT",e.creditPhaseMobilisation="PHMO",e.creditPhasePrefinancement="PHPR",e.complementPhasePretCombine="CPPC",e}();e.CreditPhase=P;var E=function(){function e(){}return e.dossier="DOSS",e}();e.Dossier=E;var y=function(){function e(){}return e.echeanceOptimisation="ECHO",e}();e.Optimisation=y;var I=function(){function e(){}return e.evenement="EVNT",e}();e.Evenement=I;var D=function(){function e(){}return e.familleEpargne="FAEP",e}();e.FamilleEpargne=D;var T=function(){function e(){}return e.garantieHD="GAHD",e.creditHD="CRHD",e}();e.GarantieHD=T;var R=function(){function e(){}return e.emprunteur="EMPR",e}();e.Emprunteur=R;var M=function(){function e(){}return e.garant="GRNT",e}();e.Garant=M;var O=function(){function e(){}return e.interditBancaire="INTB",e}();e.InterditBancaire=O;var x=function(){function e(){}return e.opposition="OPPO",e}();e.Opposition=x;var w=function(){function e(){}return e.palierContraint="PALC",e}();e.PalierContraint=w;var L=function(){function e(){}return e.patrimoineImmobilier="PTIM",e}();e.PatrimoineImmobilier=L;var j=function(){function e(){}return e.payeur="PAYR",e}();e.Payeur=j;var q=function(){function e(){}return e.personneMorale="PERM",e.personnePhysique="PERP",e.activite="ACTV",e.complementFicheContact="CFCT",e.relationEntrePersonne="REPS",e}();e.Personne=q;var F=function(){function e(){}return e.planFinancement="PLAN",e}();e.PlanFinancement=F;var N=function(){function e(){}return e.projetImmobilier="PRJI",e.projetNonImmobilier="PRJN",e.projetEPS="PRJE",e}();e.Projet=N;var _=function(){function e(){}return e.compteEpargneLogement="CTEL",e.planEpargneLogement="PLEL",e.trancheEL="TREL",e}();e.Epargne=_;var B=function(){function e(){}return e.promotionImmobiliere="PRIM",e}();e.PromotionImmobiliere=B;var V=function(){function e(){}return e.reamenagement="REAT",e.pretReamenage="PREA",e.pretReamenageInfoRegroup="PRIR",e}();e.Reamenagement=V;var G=function(){function e(){}return e.redacteurActe="REAC",e}();e.RedacteurActe=G;var U=function(){function e(){}return e.remiseClient="RECL",e}();e.RemiseClient=U;var $=function(){function e(){}return e.charge="CHAR",e.creditExistant="CRXT",e.creditCZRT="CZRT",e.phaseCreditExistant="PHCE",e.ressource="RESS",e}();e.RessourceCharge=$;var W=function(){function e(){}return e.revenuFiscal="RVFI",e}();e.RevenuFiscal=W;var H=function(){function e(){}return e.suiviPlanifie="SUIP",e}();e.SuiviPlanifie=H;var k=function(){function e(){}return e.variationDuree="VADU",e}();e.VariationDuree=k;var J=function(){function e(){}return e.versement="VERS",e.versementFractionne="VFRA",e}();e.Versement=J;var Y=function(){function e(){}return e.pieceClient="PCLI",e.pieceAgence="PAGN",e.controleManuel="CTMA",e}();e.Piece=Y;var z=function(){function e(){}return e.complementDossier="CODO",e}();e.ComplementDossier=z}(t=e.Idws||(e.Idws={}))}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e.ENTITE_TITULAIRE_RECHERCHE="identifiantEntiteTitulaire",e.ENTITE_TITULAIRE_INSTRUCTION="idEntiteTitulaire",e.CONSULTATION_DOSSIER="CONSULTATION_DOSSIER",e}();e.ContexteLisa=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e.TITRE="Modalité d'impayés en erreur:",e.CONTENT="Veuillez modifier la modalité d'impayés."}(t=e.Marqueur||(e.Marqueur={}))}(t=e.Absente||(e.Absente={}))}(t=e.Impaye||(e.Impaye={}))}(t=e.Modalite||(e.Modalite={}))}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e.listeCodePrivilege=["05","06","07","63","81","83","18","38"],e.codeHypothequePVH="H1",e.codeHypothequeHCR="H2",e.codeHypothequeHCCPF="H3",e.codeHypothequeHCNR="H4",e.codeHypothequeMEM="H6",e.codeHypothequeTirageHCCPF="H7",e.codeCessionDailly="01",e.codeGageVehicule="02",e.codeAutresGages="03",e.codeHypothequeAerienne="04",e.codeHypothequeFluviale="05",e.codeHypothequeImmobiliere="06",e.codeHypothequeMaritime="07",e.codeAntichrese="08",e.codeNantissementDroitPropr="09",e.codeNantissementFdsComm="10",e.codeGageMarchandise="11",e.codeNantissementMarchePublic="12",e.codeNantissementMarchePrive="13",e.codeGageMaterielOutillage="14",e.codeNantissementPartsSociales="15",e.codeNantissementCompte="16",e.codeNantissementCIF="17",e.codePrivilegePr="18",e.codeSubrogationImmobilier="19",e.codeAutresSubrogation="20",e.codeSubrogationVendeurImmeuble="21",e.codeSubogationVendeurFdsComm="22",e.codeSubogationVendeurMeubles="23",e.codeCautionPersonneMorale="25",e.codeCautionPersonnePhysique="26",e.codePromesseHypotheque="27",e.codeLettreIntentionConfort="28",e.codePrivilegeCoPartage="29",e.codeCautionPersonneMoraleConv="30",e.codeCautionSteCautionConv="31",e.codeDelegationAssururance="32",e.codeDelegationloyer="33",e.codeDelegationCessionCreance="34",e.codeCessionSalaires="35",e.codeDomiciliationSalaire="36",e.codePremiereDemande="37",e.codePrivilegeVendeurPPD="38",e.codeNantissementCIFEnreg="39",e.codeNantissementCompteEnreg="40",e.codeCautionPersonnePhysiqueActe="41",e.codeNantissementAssurance="42",e.codeCautionHypothecaireTiers="43",e.codePromesseEnreg="44",e.codeNantissementAssuranceExterne="45",e.codeCessionLoyers="46",e.codePromesseLoyers="47",e.codePromesseFdsComm="48",e.codePromesseParts="49",e.codePromesseComptes="50",e.codePromesseob="51",e.codeGarantieBons="52",e.codePromesseAssurance="53",e.codePromesseloyer="54",e.codeMandatHypothecaire="55",e.codeCautionDefautPaiement="56",e.codeSuiGeneris="57",e.codeCautionPerteFinale="58",e.codeCautionHypothequeSol="59",e.codeCautionGagiste="61",e.codeCessionDroitCommun="62",e.codeHypothequeJudiciaireProvisoire="63",e.codeMURACEFUn="64",e.codeMURACEFDeux="65",e.codeCautionHypothecaireMorale="66",e.codeHommeCle="67",e.codeActifPassif="68",e.codeInterditHypothecaire="80",e.codeHypothequeJudiciaireDefinitive="81",e.codeNantissementPartsSignifie="82",e.codeHypothequeBailConstruction="83",e.codeOrdreIrrevocableUn="85",e.codeConventionBlocage="86",e.codeNantissementCreance="87",e.codeOrdreIrrevocableDeux="88",e.codeNantissementFdsArtisanal="89",e.codeAssurancePersonnelleExterne="98",e.codeGarantDiversReprise="99",e.listeCodeHypotheque=[e.codeHypothequePVH,e.codeHypothequeHCR,e.codeHypothequeHCCPF,e.codeHypothequeHCNR,"H5",e.codeHypothequeMEM,e.codeHypothequeHCCPF,"H8"],e}();e.NatureGarantie=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e.codeTransfertNeo="CIFITR",e.codeFicheSuiveuse="CIFCAL",e.codeCreationDossierNeo="CIFICR",e.codeDeviseEuro="EUR",e.couleursGraphiques=["#E9BE81","#F85D44","#77BCAC","#6485CE","#E2814C","#A465BB"],e.pourCompteAgent="PourCompteAgent",e.codeAffichageActionPieco="CIFCMV",e.regroupementCredit={numDoc:"FC050DIR",informationPopup:"Avant de choisir d'éditer ce document FC050DIR, assurez-vous d'avoir bien vérifié les données saisies concernant le regroupement de crédits."},e.bT95Codes={historisationBDF:{codeValue:"CIFIHB",parameterValue:"1"},propositionByMail:{codeValue:"CIFIEV",parameterValue:"1"},activationNewMYC:{codeValue:"CIFCBP",parameterValue:"1"},activationMYCV2:{codeValue:"CIFI21",parameterValue:"1"}},e}();e.Parametrage=t;var i=function(){function e(){}return e.AVIS_CONFORMITE="RC",e}();e.CodeTypologieAvis=i;var n=function(){function e(){}return e.TRANSFERT_CONFORMITE="TC",e.TRANSFERT_DECISION="TD",e.TRANSFERT_BACK_OFFICE="PB",e.INSTRUCTION="IN",e}();e.CodeTypeEven=n;var r=function(){function e(){}return e.accesNewMyc="BS",e}();e.CodeHabilitationAgent=r}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(){}return t.listeFinalites=[{code:null,libelle:"Tous"},{code:"ACCP",libelle:"Etude de votre demande de crédit"},{code:"EDOF",libelle:"Edition de l’offre de crédit"},{code:"ROFS",libelle:"Retour d’offre signée"},{code:"DDFO",libelle:"Déblocage des fonds"}],t.listeStatutsPieceNumerique=[{code:null,libelle:"Tous"},{code:e.Constantes.CodeAscii.Lettre.Maj.R,libelle:"Oui"},{code:e.Constantes.CodeAscii.Lettre.Maj.A,libelle:"Non"},{code:e.Constantes.CodeAscii.Lettre.Maj.N,libelle:"Non concerné"}],t.listeStatutsPiece=[{code:null,libelle:"Tous"},{code:e.Constantes.CodeAscii.Lettre.Maj.R,libelle:"Présente"},{code:e.Constantes.CodeAscii.Lettre.Maj.A,libelle:"Absente"},{code:e.Constantes.CodeAscii.Lettre.Maj.N,libelle:"Non concerné"}],t.listeControleTraiterAvant=[{code:"ALL",libelle:"Tous"},{code:"EDOF",libelle:"Edition de l’offre de crédit"},{code:"ROFS",libelle:"Retour d’offre signé"}],t.listeStatutsControle=[{code:null,libelle:"Tous"},{code:e.Constantes.CodeAscii.Lettre.Maj.R,libelle:"OK"},{code:e.Constantes.CodeAscii.Lettre.Maj.A,libelle:"KO"},{code:e.Constantes.CodeAscii.Lettre.Maj.N,libelle:"NC"}],t}();t.Pieco=i}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e.modeCalculLibelle="instruction-modeCalcul",e.modeRestitutionLibelle="instruction-modeRestitution",e}();e.PreferencesUtilisateur=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(e){e.TYPE_TRAVAUX_ECOBOUQUET="ECOBOUQUET",e.TYPE_TRAVAUX_ECOPERFENE="ECOPERFENE",e.TYPE_TRAVAUX_ECOSYSASSE="ECOSYSASSE"}(i=t.NatureTravaux||(t.NatureTravaux={}));var n=function(){function t(){}return t.codeLoiConso=49,t.codeLoiImmo=50,t.idChampNatureTravauxEcoPtz="cnfctr",t.clePremierChampTravauxEcoPtz="INDFRAIS",t.cleDernierChampTravauxEcoPtz="COUCPLT",t.identifiantChamp=["cdfare","ctfaoc","ciffv"],t.listeModeOccupationLogement=[{code:69,libelle:"Emprunteur"},{code:76,libelle:"Locataire"},{code:65,libelle:"Ascendant"},{code:68,libelle:"Descendant"}],t.listePrimoAccedant=[{code:32,libelle:"Non ou sans objet pour le projet"},{code:52,libelle:"Oui"},{code:49,libelle:"Oui: Titulaire d'une carte d'invalidité"},{code:50,libelle:"Oui: Allocation personne handicapée"},{code:51,libelle:"Oui: Victime de catastrophe"}],t.listeDestinationBien=[{code:80,libelle:"Principale",tri:[69,65,68]},{code:83,libelle:"Secondaire",tri:[69,65,68]},{code:76,libelle:"Locatif principal",tri:[76]},{code:86,libelle:"Locatif secondaire",tri:[76]},{code:67,libelle:"Copropriété",tri:[69]}],t.listeEmoluments=[{valeur:1,libelle:"Tout immeuble autre que HLM"},{valeur:2,libelle:"Immeuble HLM"},{valeur:3,libelle:"Autres"}],t.listeDelaisRealisation=["Vous avez signé une promesse de vente","Vous avez trouvé et pensez signer prochainement","Vous êtes en recherche active","Vous débutez vos recherches","Vous n’avez pas de projet précis"],t.listePerformancesEnergetiquesLogementAncien=[{code:"A",libelle:"Indice A"},{code:"B",libelle:"Indice B"},{code:"C",libelle:"Indice C"},{code:"D",libelle:"Indice D"},{code:"E",libelle:"Indice E"},{code:"F",libelle:"Indice F"},{code:"G",libelle:"Indice G"},{code:"Y",libelle:"Monument historique"},{code:"Z",libelle:"Logement sans DPE"}],t.listePerformancesEnergetiquesLogementNeuf=[{code:"O",libelle:"BBC 2005 et dépôt PC avant le 01/01/2013"},{code:"R",libelle:"RT 2012"},{code:"H",libelle:"Très Haute performance"},{code:"M",libelle:"RTAA ou RTG DOM exclusivement"},{code:"Q",libelle:"BBC Rénovation"},{code:"P",libelle:"HPE Rénovation"},{code:"V",libelle:"Rénovation : 2 attestations de performance"},{code:"L",libelle:"PSLA Métropole Dérogatoire (DFA<01/01/2012)"},{code:"S",libelle:"PSLA DOM Dérogatoire (DFA<01/01/2012)"},{code:"N",libelle:"Autre"}],t.listeUnitesPermisConstruire=[{code:"NH",libelle:"Jusqu'à 100 unités",emolument:2},{code:"NI",libelle:"De 101 à 249 unités",emolument:2},{code:"NJ",libelle:"De 250 à 499 unités",emolument:2},{code:"NK",libelle:"500 et plus",emolument:2},{code:"NB",libelle:"Jusqu'à 10 unités",emolument:1},{code:"NC",libelle:"De 11 à 24 unités",emolument:1},{code:"ND",libelle:"De 25 à 99 unités",emolument:1},{code:"NE",libelle:"De 100 à 249 unités",emolument:1},{code:"NF",libelle:"De 250 à 499 unités",emolument:1},{code:"NG",libelle:"500 et plus",emolument:1}],t.listeOrigineDemande=[{code:"S",libelle:"Salon"},{code:"C",libelle:"Campagne commerciale"},{code:"",libelle:"Sans signification"}],t.listeTechniqueVente=[{code:"",libelle:"Normale"},{code:"D",libelle:"Démarché"},{code:"V",libelle:"Vente à distance"},{code:"A",libelle:"VAD précédée d'un démarchage"},{code:null,libelle:"Non Affecté"}],t.listeObjetBienRevendu=[{code:"008",libelle:"Divers immob."},{code:"006",libelle:"Logement existant"},{code:"004",libelle:"Logement neuf"},{code:"002",libelle:"Non bâti"},{code:"001",libelle:"Terrain"},{code:"",libelle:"Non défini"}],t.listeModesAcquisition=[{code:49,libelle:"Achat"},{code:50,libelle:"Don, héritage ou donation"},{code:51,libelle:"Autres, non propriétaire"},{code:52,libelle:"Bail à construction"}],t.listeTypesDeVente=[{code:48,libelle:"Non défini"},{code:49,libelle:"Mandat"},{code:50,libelle:"Promesse"},{code:51,libelle:"Particuliers"}],t.listeNatureTravauxEcoPtz=[{code:" ",libelle:"Aucun"},{code:"P",libelle:"ECOPERFENE"},{code:"1",libelle:"ECOBOUQUET"},{code:"2",libelle:"ECOBOUQUET"},{code:"3",libelle:"ECOBOUQUET"},{code:"A",libelle:"ECOSYSASSE"}],t.listeReglementations=[{code:32,libelle:"Droit commun"},{code:49,libelle:"Loi Consommation"},{code:50,libelle:"Loi Immobilier"}],t.listeGarantieAchevementTravaux=[{code:e.Constantes.CodeAscii.Lettre.Maj.O,libelle:"OUI"},{code:e.Constantes.CodeAscii.Lettre.Maj.N,libelle:"NON"},{code:e.Constantes.CodeAscii.Caractere.vide,libelle:"Sans objet"}],t.maxValueSurfaceHabitable=99999.99,t.maxValueSurfaceTerrain=9999999,t.messageErreurValSurfHabitable="La surface ne peut dépasser 99 999, 99 m² ou être négative",t.messageErreurValSurfTerrain="La surface ne peut dépasser 9 999 999 m² ou être négative",t.messageErreurDateAcquisition="La date doit être comprise entre l'an 1800 et l'an 2999",t.messageErreurDateEstimation="La date d'estimation doit être inférieure ou égale à la date du jour",t.messageErreurDateSuiviPlanifie="La date du suivi planifié doit être strictement supérieur à la date du jour + 1",t}();t.Projet=n}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e.versionWsdl="0",e.versionWsdlN=0,e.codeApplication="77",e.codeApplicationN=77,e.restParametre="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/creditparametre/v6",e.restCalcul="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/creditservice/v6",e.restEntiteTitulaire="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/entitetitulaire/v1",e.restRisqueClient="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/risqueclient/v1",e.restTiersV1="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tiers/v1",e.restTiersV3="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tiers/v3",e.restAgent="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/agent/v2",e.restStructure="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/structure/v1",e.restStructureV2="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/structure/v2",e.operationInstructservV7="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/operationinstructser/v7",e.dossierCreditInstructionV7="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/dossiercreditinstruction/v7",e.dossierCreditInstrucV7="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/dossiercreditinstruc/v7",e.elementInstructServV7="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/elementinstructserv/v7",e.editionInstructServV7="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/editioninstructserv/v7",e.dossierInstructServV7="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/dossierinstructserv/v7",e}();e.Service=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t;!function(e){e._003_CONSTRUCTION="003",e._004_LOGEMENT_NEUF="004",e._005_TRAVAUX="005",e._006_LOGEMENT_EXISTANT="006",e._007_PARTS_DE_SCPI_HABITAT="007",e._008_OPERATION_IMMOBILIERES_DIVERSES="008",e._052_INVEST_PATRIMONIAL_NON_HABITAT="052",e._145_REGROUPEMENT_CREDITS_IMMOBILIERS="145",e._147_REAM_RACHAT_CREDIT_CONSOMMATION="147",e._148_RACHAT_CREDIT_IMMOBILIER="148"}(t=e.Toc||(e.Toc={}))}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t;!function(e){e._02_TERRAIN_PLUS_CONSTRUCTION_AVEC_CONTRAT="02",e._03_CONSTRUCTION_AVEC_CONTRAT="03",e._04_LOGEMENT_NEUF_ACQUIS_ETAT_FUTUR_ACHEVEMENT_VEFA="04",e._05_LOGEMENT_NEUF_ACQUIS_CLE_MAIN="05",e._06_LOGEMENT_AMELIORE_PAR_PROMOTEUR="06",e._07_TRANSFORMATION_LOCAUX_NON_HABITABLE_HABITATION="07",e._08_PARTS_SOCIETE_DROIT_ATTRIBUTION="08",e._09_LOGEMENT_EXISTANT_SANS_TRAVAUX="09",e._10_AGRANDISSEMENT_PAR_EXTENSION_OU_SURELEVATION="10",e._12_TRAVAUX_PIG="12",e._13_TRAVAUX_ECONOMIE_ENERGIE="13",e._18_PAIEMENT_DE_SOULTE_LOGEMENT_ANCIEN="18",e._22_SCPI_HABITAT="22",e._24_LOGEMENT_EXISTANT_AVEC_TRAVAUX="24",e._25_NUE_PROPRIETE="25",e._26_LOGEMENT_NEUF_RESIDENCE_TOURISME="26",e._30_LOGEMENT_NEUF_EN_INDIVISION="30",e._57_INVESTISSEMENT_PATRIMONIAL_NON_HABITAT="57",e._98_CONSTRUCTION_SANS_CONTRAT="98",e._A6_REGROUPEMENT_CREDITS_IMMOBILIERS="A6",e._B7_REAM_RACHAT_CREDIT_IMMOBILIER="B7",e._R1_BRS_ANCIEN_SANS_TRAVAUX="R1",e._R2_BRS_ANCIEN_AVEC_TRAVAUX="R2",e._R3_BRS_LOGEMENT_NEUF="R3",e._R4_BRS_CONSTRUCTION_AVEC_CONTRAT="R4",e._R5_BRS_CONSTRUCTION_SANS_CONTRAT="R5"}(t=e.Tor||(e.Tor={}))}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e.loyerDuTerrain="AZ",e.pensionAlimentaireVersee="C1",e.loyerResidencePrincipale="C2",e.loyerAutreResidence="C3",e.rentesViageresPayees="C5",e.autresCharges="C7",e.autresCreditsEnCe="ZP",e.autresCreditCautionneEnCe="ZQ",e.autresCreditCautionneHorsCe="ZR",e.autresCreditsHorsCe="ZX",e.apl="ZZ",e.atoutClic="ZC",e.creditConnaissanceClient="C2",e}();e.TypeCharge=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function t(){}return t.listeTypologieObjet=[{idws:e.Idws.BienGaranti.hypothequeImmobiliere,typologie:"01"},{idws:e.Idws.BienGaranti.hypothequeAerienne,typologie:"02"},{idws:e.Idws.BienGaranti.nantissementFondDeCommerce,typologie:"03"},{idws:e.Idws.BienGaranti.nantissementValeurMobiliere,typologie:"04"},{idws:e.Idws.BienGaranti.nantissementValeurMateriel,typologie:"05"},{idws:e.Idws.BienGaranti.gageVehicule,typologie:"06"},{idws:e.Idws.BienGaranti.nantissementPartSociale,typologie:"07"},{idws:e.Idws.BienGaranti.cessionDaillyLoyerImmeuble,typologie:"08"},{idws:e.Idws.BienGaranti.antichrese,typologie:"09"},{idws:e.Idws.BienGaranti.gageCompteInstrumentFinancier,typologie:"10"},{idws:e.Idws.BienGaranti.contratAssurance,typologie:"11"},{idws:e.Idws.BienGaranti.cessionDaillyAutre,typologie:"12"},{idws:e.Idws.BienGaranti.delegationLoyer,typologie:"13"},{idws:e.Idws.BienGaranti.bonDeCaisseCapitalisation,typologie:"14"},{idws:e.Idws.BienGaranti.bienDivers,typologie:"00"}],t}();e.TypologieObjetPorteGarantie=t}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t;!function(t){"use strict";var i;!function(t){t.urlAccepterImportWeb=e.Service.operationInstructservV7+"/accepterImportWeb",t.urlAccorderAccessoire=e.Service.operationInstructservV7+"/accorderAccessoire",t.urlAnnulerAccordPreteur=e.Service.operationInstructservV7+"/annulerAccordPreteur",t.urlAnnulerTrfViaDossRes=e.Service.operationInstructservV7+"/annulerTrfViaDossRes",t.urlAnnulerTrfViaIdDoss=e.Service.operationInstructservV7+"/annulerTrfViaIdDoss",t.urlControlerDecision=e.Service.operationInstructservV7+"/controlerDecision",t.urlControlerEditionOffr=e.Service.operationInstructservV7+"/controlerEditionOffr",t.urlFermerDossier=e.Service.operationInstructservV7+"/fermerDossier",t.urlModificationAccPretr=e.Service.operationInstructservV7+"/modificationAccPretr",t.urlPasserAccordPreteur=e.Service.operationInstructservV7+"/passerAccordPreteur",t.urlPasserDossierSsSuite=e.Service.operationInstructservV7+"/passerDossierSsSuite",t.urlPasserEnOffreConclue=e.Service.operationInstructservV7+"/passerEnOffreConclue",t.urlPasserEnOffreEditee=e.Service.operationInstructservV7+"/passerEnOffreEditee",t.urlProrogationDossier=e.Service.operationInstructservV7+"/prorogationDossier",t.urlRefuserAccordPreteur=e.Service.operationInstructservV7+"/refuserAccordPreteur",t.urlRefuserImportWeb=e.Service.operationInstructservV7+"/refuserImportWeb",t.urlRemettreOffre=e.Service.operationInstructservV7+"/remettreOffre",t.urlRendreDossierViaId=e.Service.operationInstructservV7+"/rendreDossierViaId",t.urlRetenirPlanOptimise=e.Service.operationInstructservV7+"/retenirPlanOptimise",t.urlSignatureOffre=e.Service.operationInstructservV7+"/signatureOffre",t.urlSignerOffrePret=e.Service.operationInstructservV7+"/signerOffrePret",t.urlTransfererDossierDansApp=e.Service.operationInstructservV7+"/transfDossierDansApp",t.urlTransfererDossViaId=e.Service.operationInstructservV7+"/transfererDossViaId",t.urlTransfererDossViaRes=e.Service.operationInstructservV7+"/transfererDossViaRes",t.urlTransfererMyCredimmo=e.Service.operationInstructservV7+"/transfererMyCredimmo",t.urlTransfererProprDos=e.Service.operationInstructservV7+"/transfererProprDos",t.urlValidationAccordPreteur=e.Service.operationInstructservV7+"/validationAccordPreteur",t.urlValiderAccordClient=e.Service.operationInstructservV7+"/validerAccordClient",t.urlValiderAccordPreteur=e.Service.operationInstructservV7+"/validerAccordPreteur"}(i=t.OperationSurDossier||(t.OperationSurDossier={}));var n;!function(t){t.urlAjouterAccCompTier=e.Service.dossierCreditInstructionV7+"/ajouterAccCompTier",t.urlAjouterAccessoireComp=e.Service.dossierCreditInstructionV7+"/ajouterAccessoireComp",t.urlAjouterAccessoireLieProduit=e.Service.dossierCreditInstructionV7+"/ajouterAccessoireLieProduit",t.urlAjouterAssAvcControl=e.Service.dossierCreditInstructionV7+"/ajouterAssAvcControl",t.urlAjouterAssurance=e.Service.dossierCreditInstructionV7+"/ajouterAssurance",t.urlAjouterAvis=e.Service.dossierCreditInstructionV7+"/ajouterAvis",t.urlAjouterCharge=e.Service.dossierCreditInstructionV7+"/ajouterCharge",t.urlAjouterClausePersonnalisee=e.Service.dossierCreditInstructionV7+"/ajouterClausePersonnalisee",t.urlAjouterComptePersonne=e.Service.dossierCreditInstructionV7+"/ajouterComptePersonne",t.urlAjouterContratEpargneLogement=e.Service.dossierCreditInstructionV7+"/ajouterContratEpargneLogement",t.urlAjouterCreditBonification=e.Service.dossierCreditInstructionV7+"/ajouterCreditBonification",t.urlAjouterCreditExterne=e.Service.dossierCreditInstructionV7+"/ajouterCreditExterne",t.urlAjouterCreditInterne=e.Service.dossierCreditInstructionV7+"/ajouterCreditInterne",t.urlAjouterEvenement=e.Service.dossierCreditInstructionV7+"/ajouterEvenement",t.urlAjouterFamilleEpargnePersonne=e.Service.dossierCreditInstructionV7+"/ajouterFamilleEpargnePersonne",t.urlAjouterGarantiePersoConv=e.Service.dossierCreditInstructionV7+"/ajouterGarantiePersoConv",
t.urlAjouterGarantieV2=e.Service.dossierCreditInstructionV7+"/ajouterGarantieV2",t.urlAjouterGarAvecCtrl=e.Service.dossierCreditInstructionV7+"/ajouterGarAvecCtrl",t.urlAjouterGarPersConvCt=e.Service.dossierCreditInstructionV7+"/ajouterGarPersConvCt",t.urlAjouterMandat=e.Service.dossierCreditInstructionV7+"/ajouterMandat",t.urlAjouterMandatPayeur=e.Service.dossierCreditInstructionV7+"/ajouterMandatPayeur",t.urlAjouterPayeur=e.Service.dossierCreditInstructionV7+"/ajouterPayeur",t.urlAjouterPhaseCreditExistant=e.Service.dossierCreditInstructionV7+"/ajouterPhaseCreditExistant",t.urlAjouterPlanFinancement=e.Service.dossierCreditInstructionV7+"/ajouterPlanFinancement",t.urlAjouterPretReamenage=e.Service.dossierCreditInstructionV7+"/ajouterPretReamenage",t.urlAjouterPretReamengbl=e.Service.dossierCreditInstructionV7+"/ajouterPretReamengbl",t.urlAjouterRefusAssExt=e.Service.dossierCreditInstructionV7+"/ajouterRefusAssExt",t.urlAjouterRessource=e.Service.dossierCreditInstructionV7+"/ajouterRessource",t.urlAjouterRevenuFiscalEmprunteur=e.Service.dossierCreditInstructionV7+"/ajouterRevenuFiscalEmprunteur",t.urlAjouterSuiviPlanifie=e.Service.dossierCreditInstructionV7+"/ajouterSuiviPlanifie",t.urlAjouterVersementAttendu=e.Service.dossierCreditInstructionV7+"/ajouterVersementAttendu",t.urlAnnulerMandatSecours=e.Service.dossierCreditInstructionV7+"/annulerMandatSecours",t.urlAnnulerMandatSurPayeur=e.Service.dossierCreditInstructionV7+"/annulerMandatSurPayeur",t.urlCalculerBonification=e.Service.dossierCreditInstructionV7+"/calculerBonification",t.urlCalculerCredit=e.Service.dossierCreditInstructionV7+"/calculerCredit",t.urlCalculerCreditEL=e.Service.dossierCreditInstructionV7+"/calculerCreditEL",t.urlCalculerCreditIntern=e.Service.dossierCreditInstructionV7+"/calculerCreditIntern",t.urlCalculerEligibilite=e.Service.dossierCreditInstructionV7+"/calculerEligibilite",t.urlCalculerEnCoursEL=e.Service.dossierCreditInstructionV7+"/calculerEnCoursEL",t.urlCalculerEndettement=e.Service.dossierCreditInstructionV7+"/CalculerEndettement",t.urlCalculerFraisHypotheque=e.Service.dossierCreditInstructionV7+"/calculerFraisHypotheque",t.urlCalculerHypotheseCap=e.Service.dossierCreditInstructionV7+"/calculerHypotheseCap",t.urlCalculerModulCredit=e.Service.dossierCreditInstructionV7+"/calculerModulCredit",t.urlCalculerRevision=e.Service.dossierCreditInstructionV7+"/calculerRevision",t.urlChargerRefusAssExt=e.Service.dossierCreditInstructionV7+"/chargerRefusAssExt",t.urlConstruireTableauAmortissement=e.Service.dossierCreditInstructionV7+"/construireTableauAmortissement",t.urlControlerCompletude=e.Service.dossierCreditInstructionV7+"/controlerCompletude",t.urlControlerDossier=e.Service.dossierCreditInstructionV7+"/controlerDossier",t.urlCopierPlanFinancemnt=e.Service.dossierCreditInstructionV7+"/copierPlanFinancemnt",t.urlCtrlAvantAppelCegc=e.Service.dossierCreditInstructionV7+"/ctrlAvantAppelCegc",t.urlCtrlAvantEditOffre=e.Service.dossierCreditInstructionV7+"/ctrlAvantEditOffre",t.urlCtrlCompletudeGarAss=e.Service.dossierCreditInstructionV7+"/ctrlCompletudeGarAss",t.urlDefinirBienAVendre=e.Service.dossierCreditInstructionV7+"/definirBienAVendre",t.urlDefinirBienPorteGar=e.Service.dossierCreditInstructionV7+"/definirBienPorteGar",t.urlDefinirBlocNotes=e.Service.dossierCreditInstructionV7+"/definirBlocNotes",t.urlDefinirCharges=e.Service.dossierCreditInstructionV7+"/definirCharges",t.urlDefinirComplementDossier=e.Service.dossierCreditInstructionV7+"/definirComplementDossier",t.urlDefinirDetailCoutObj=e.Service.dossierCreditInstructionV7+"/definirDetailCoutObj",t.urlDefinirOrigineApport=e.Service.dossierCreditInstructionV7+"/definirOrigineApport",t.urlDefinirPhase=e.Service.dossierCreditInstructionV7+"/definirPhase",t.urlDefinirPoolEPS=e.Service.dossierCreditInstructionV7+"/definirPoolEPS",t.urlDefinirProjet=e.Service.dossierCreditInstructionV7+"/definirProjet",t.urlDefinirReamenagement=e.Service.dossierCreditInstructionV7+"/definirReamenagement",t.urlDefinirRedacteurActe=e.Service.dossierCreditInstructionV7+"/definirRedacteurActe",t.urlDefinirRemise=e.Service.dossierCreditInstructionV7+"/definirRemise",t.urlDefinirRemiseTaux=e.Service.dossierCreditInstructionV7+"/definirRemiseTaux",t.urlDefinirRessources=e.Service.dossierCreditInstructionV7+"/definirRessources",t.urlDefinirVersement=e.Service.dossierCreditInstructionV7+"/definirVersement",t.urlDefPaliersContraints=e.Service.dossierCreditInstructionV7+"/defPaliersContraints",t.urlEnregistrerComPieces=e.Service.dossierCreditInstructionV7+"/enregistrerComPieces",t.urlImpactsEligibilite=e.Service.dossierCreditInstructionV7+"/impactsEligibilite",t.urlInitSaisiesComp=e.Service.dossierCreditInstructionV7+"/initSaisiesComp",t.urlListeChargeRelation=e.Service.dossierCreditInstructionV7+"/listeChargeRelation",t.urlListerCatalogue=e.Service.dossierCreditInstructionV7+"/listerCatalogue",t.urlListerConstantes=e.Service.dossierCreditInstructionV7+"/listerConstantes",t.urlListerConventionsAssuranceCompatible=e.Service.dossierCreditInstructionV7+"/listerConventionsAssuranceCompatible",t.urlListerConventionsGarantie=e.Service.dossierCreditInstructionV7+"/listerConventionsGarantie",t.urlListerDetailsPretsRea=e.Service.dossierCreditInstructionV7+"/listerDetailsPretsRea",t.urlListerDocuments=e.Service.dossierCreditInstructionV7+"/listerDocuments",t.urlListerDossier=e.Service.dossierCreditInstructionV7+"/listerDossier",t.urlListerGammesLissageAutorisees=e.Service.dossierCreditInstructionV7+"/listerGammesLissageAutorisees",t.urlListerInformationGarantie=e.Service.dossierCreditInstructionV7+"/listerInformationGarantie",t.urlListerMandats=e.Service.dossierCreditInstructionV7+"/listerMandats",t.urlListerPretsRea=e.Service.dossierCreditInstructionV7+"/ListerPretsRea",t.urlListerProdEtFamAuto=e.Service.dossierCreditInstructionV7+"/listerProdEtFamAuto",t.urlListerProduitsAutorises=e.Service.dossierCreditInstructionV7+"/ListerProduitsAutorises",t.urlListerScConvAss=e.Service.dossierCreditInstructionV7+"/listerScConvAss",t.urlListerSynthese=e.Service.dossierCreditInstructionV7+"/listerSynthese",t.urlMiseAJourAccessComp=e.Service.dossierCreditInstructionV7+"/miseAJourAccessComp",t.urlMiseAJourAccLieProd=e.Service.dossierCreditInstructionV7+"/miseAJourAccLieProd",t.urlMiseAJourDossNum=e.Service.dossierCreditInstructionV7+"/miseAJourDossNum",t.urlMiseAJourPhase=e.Service.dossierCreditInstructionV7+"/miseAJourPhase",t.urlOuvrirBlocNotes=e.Service.dossierCreditInstructionV7+"/ouvrirBlocNotes",t.urlRecupererInfoCompPTZ=e.Service.dossierCreditInstructionV7+"/recupererInfoCompPTZ",t.urlRefuserAccessoire=e.Service.dossierCreditInstructionV7+"/refuserAccessoire",t.urlRetenirPropositionEL=e.Service.dossierCreditInstructionV7+"/retenirPropositionEL",t.urlSauverDossier=e.Service.dossierCreditInstructionV7+"/sauverDossier",t.urlSetDebug=e.Service.dossierCreditInstructionV7+"/setDebug",t.urlSignerMandat=e.Service.dossierCreditInstructionV7+"/signerMandat",t.urlSupprimerTiersAccCmp=e.Service.dossierCreditInstructionV7+"/supprimerTiersAccCmp",t.urlValiderPiecesJustif=e.Service.dossierCreditInstructionV7+"/validerPiecesJustif",t.urlVerifierEdsDecision=e.Service.dossierCreditInstructionV7+"/verifierEdsDecision"}(n=t.Dossier||(t.Dossier={}));var r;!function(t){t.urlAjouterDocumentsDansDossierEdition=e.Service.dossierCreditInstrucV7+"/ajouterDocumentsDansDossierEdition",t.urlAjouterPersAvecCtrl=e.Service.dossierCreditInstrucV7+"/ajouterPersAvecCtrl",t.urlAjouterPersonne=e.Service.dossierCreditInstrucV7+"/ajouterPersonne",t.urlAjouterPersonnes=e.Service.dossierCreditInstrucV7+"/ajouterPersonnes",t.urlAlimDossSignElecGene=e.Service.dossierCreditInstrucV7+"/alimDossSignElecGene",t.urlAlimenterDossierSignatureElectronique=e.Service.dossierCreditInstrucV7+"/alimenterDossierSignatureElectronique",t.urlAnnActeSignElecGen=e.Service.dossierCreditInstrucV7+"/annActeSignElecGen",t.urlAnnulerActeSignatureElectronique=e.Service.dossierCreditInstrucV7+"/annulerActeSignatureElectronique",t.urlAnnulerDossierEditio=e.Service.dossierCreditInstrucV7+"/annulerDossierEditio",t.urlCalculerOptimisationAvancee=e.Service.dossierCreditInstrucV7+"/calculerOptimisationAvancee",t.urlCalculerPiecesEtControles=e.Service.dossierCreditInstrucV7+"/calculerPiecesEtControles",t.urlConsulterDocsDossCNP=e.Service.dossierCreditInstrucV7+"/consulterDocsDossCNP",t.urlControlerAppelSGFGAS=e.Service.dossierCreditInstrucV7+"/controlerAppelSGFGAS",t.urlCreerDossEditionGde=e.Service.dossierCreditInstrucV7+"/creerDossEditionGde",t.urlCreerDossierCNP=e.Service.dossierCreditInstrucV7+"/creerDossierCNP",t.urlDefinirDossierMRH=e.Service.dossierCreditInstrucV7+"/definirDossierMRH",t.urlDefinirEmpAvecCtrl=e.Service.dossierCreditInstrucV7+"/definirEmpAvecCtrl",t.urlEligibleSignaElec=e.Service.dossierCreditInstrucV7+"/eligibleSignaElec",t.urlEligibleSignaElecGen=e.Service.dossierCreditInstrucV7+"/eligibleSignaElecGen",t.urlEnvoyerSACCEF=e.Service.dossierCreditInstrucV7+"/envoyerSACCEF",t.urlExecuterAnalyseRisqu=e.Service.dossierCreditInstrucV7+"/executerAnalyseRisqu",t.urlExecuterBale2=e.Service.dossierCreditInstrucV7+"/executerBale2",t.urlExecuterCalcDelegDec=e.Service.dossierCreditInstrucV7+"/executerCalcDelegDec",t.urlLancerAppelSGFGAS=e.Service.dossierCreditInstrucV7+"/lancerAppelSGFGAS",t.urlLancerProceSignaElec=e.Service.dossierCreditInstrucV7+"/lancerProceSignaElec",t.urlLancerProSignElecGen=e.Service.dossierCreditInstrucV7+"/lancerProSignElecGen",t.urlLireActeSignatureElectronique=e.Service.dossierCreditInstrucV7+"/lireActeSignatureElectronique",t.urlLireActeSignElecGene=e.Service.dossierCreditInstrucV7+"/lireActeSignElecGene",t.urlLireDecisionCNP=e.Service.dossierCreditInstrucV7+"/lireDecisionCNP",t.urlLireDocActSigElecGen=e.Service.dossierCreditInstrucV7+"/lireDocActSigElecGen",t.urlLireOffrePretIndustrialisee=e.Service.dossierCreditInstrucV7+"/lireOffrePretIndustrialisee",t.urlListerCollectivitCNP=e.Service.dossierCreditInstrucV7+"/listerCollectivitCNP",t.urlTransmettrePropCnp=e.Service.dossierCreditInstrucV7+"/transmettrePropCNP",t.urlListerDroitsAcquisEL=e.Service.dossierCreditInstrucV7+"/listerDroitsAcquisEL",t.urlListerDroitsAPretEL=e.Service.dossierCreditInstrucV7+"/listerDroitsAPretEL",t.urlListerPersonnes=e.Service.dossierCreditInstrucV7+"/listerPersonnes",t.urlRafraichirEmprDoss=e.Service.dossierCreditInstrucV7+"/rafraichirEmprDoss",t.urlRapatrierContratEL=e.Service.dossierCreditInstrucV7+"/rapatrierContratEL",t.urlRecupererCntxtEditio=e.Service.dossierCreditInstrucV7+"/recupererCntxtEditio",t.urlRecupererContexteCNP=e.Service.dossierCreditInstrucV7+"/recupererContexteCNP",t.urlSynchroniserAvecSmac=e.Service.dossierCreditInstrucV7+"/synchroniserAvecSmac",t.urlTesterPresRepCEGC=e.Service.dossierCreditInstrucV7+"/testerPresRepCEGC",t.urlTraiterReponseCEGC=e.Service.dossierCreditInstrucV7+"/traiterReponseCEGC",t.urlTraiterRetourSignSAG=e.Service.dossierCreditInstrucV7+"/traiterRetourSignSAG",t.urlValActeSignEleGene=e.Service.dossierCreditInstrucV7+"/valActeSignEleGene",t.urlValiderActeSignaElec=e.Service.dossierCreditInstrucV7+"/validerActeSignaElec",t.urlConsulterAssurCNP=e.Service.dossierCreditInstrucV7+"/consulterAssurCNP"}(r=t.Externe||(t.Externe={}));var s;!function(t){t.urlCopierDossier=e.Service.elementInstructServV7+"/copierDossier",t.urlCreerDossier=e.Service.elementInstructServV7+"/creerDossier",t.urlCreerElement=e.Service.elementInstructServV7+"/creerElement",t.urlCreerElements=e.Service.elementInstructServV7+"/creerElements",t.urlCreerProjet=e.Service.elementInstructServV7+"/creerProjet",t.urlLireElements=e.Service.elementInstructServV7+"/lireElements",t.urlLireSchemaDossier=e.Service.elementInstructServV7+"/lireSchemaDossier",t.urlMiseAJourElement=e.Service.elementInstructServV7+"/miseAJourElement",t.urlMiseAJourElements=e.Service.elementInstructServV7+"/miseAJourElements",t.urlOuvrirDossier=e.Service.elementInstructServV7+"/ouvrirDossier",t.urlOuvrirDossierComplet=e.Service.elementInstructServV7+"/ouvrirDossierComplet",t.urlSupprElementAvecCtrl=e.Service.elementInstructServV7+"/supprElementAvecCtrl",t.urlSupprimerElement=e.Service.elementInstructServV7+"/supprimerElement",t.urlSupprimerElements=e.Service.elementInstructServV7+"/supprimerElements"}(s=t.Elements||(t.Elements={}));var o;!function(t){t.urlEditerDocFC050REF=e.Service.editionInstructServV7+"/editerDocFC050REF",t.urlEditerDocFZHCOPT=e.Service.editionInstructServV7+"/editerDocFZHCOPT",t.urlEditerDocument=e.Service.editionInstructServV7+"/editerDocument",t.urlEditerDocumentEL=e.Service.editionInstructServV7+"/editerDocumentEL",t.urlEditerDocumentEPS=e.Service.editionInstructServV7+"/editerDocumentEPS",t.urlEditerDocuments=e.Service.editionInstructServV7+"/editerDocuments",t.urlEditerOffrePret=e.Service.editionInstructServV7+"/editerOffrePret"}(o=t.Edition||(t.Edition={}));var a;!function(t){t.urlLireSchemasComplet=e.Service.dossierInstructServV7+"/lireSchemasComplet"}(a=t.SchemaComplet||(t.SchemaComplet={}));var c;!function(t){t.urlChargerConventionAssurances=e.Service.restParametre+"/chargerConventionAssurances",t.urlChargerConventionGarantie=e.Service.restParametre+"/chargerConventionGarantie",t.urlChargerEchellesVersement=e.Service.restParametre+"/chargerEchellesVersement",t.urlChargerProduitFinancier=e.Service.restParametre+"/chargerProduitFinancier",t.urlChargerTypeEds=e.Service.restParametre+"/chargerTypeEds",t.urlChargerTypeEdsBackOffice=e.Service.restParametre+"/chargerTypeEdsBackOffice",t.urlChargerTypeEdsDecision=e.Service.restParametre+"/chargerTypeEdsDecision",t.urlListerAdrClasseRisqueCSP=e.Service.restParametre+"/listerAdrClasseRisqueCSP",t.urlListerAdrNatureAvantageFiscal=e.Service.restParametre+"/listerAdrNatureAvantageFiscal",t.urlListerAdrOpposition=e.Service.restParametre+"/listerAdrOpposition",t.urlListerAdrParamRubrique=e.Service.restParametre+"/listerAdrParamRubrique",t.urlListerAdrRisqueEpargne=e.Service.restParametre+"/listerAdrRisqueEpargne",t.urlListerBeneficiaire=e.Service.restParametre+"/listerBeneficiaire",t.urlListerCategorieEmprunteur=e.Service.restParametre+"/listerCategorieEmprunteur",t.urlListerClausesDeReservesAss=e.Service.restParametre+"/listerClausesDeReservesAss",t.urlListerClausesSuivi=e.Service.restParametre+"/listerClausesSuivi",t.urlListerCodePays=e.Service.restParametre+"/listerCodePays",t.urlListerConstantes=e.Service.restParametre+"/listerConstantes",t.urlListerConventionsBonification=e.Service.restParametre+"/listerConventionsBonification",t.urlListerConventionsGarantie=e.Service.restParametre+"/listerConventionsGarantie",t.urlListerDescriptionEchelle=e.Service.restParametre+"/listerDescriptionEchelle",t.urlListerDevise=e.Service.restParametre+"/listerDevise",t.urlListerEligibilites=e.Service.restParametre+"/listerEligibilites",t.urlListerEtablissements=e.Service.restParametre+"/listerEtablissements",t.urlListerFamillesDeProduits=e.Service.restParametre+"/listerFamillesDeProduits",t.urlListerInfoAgent=e.Service.restParametre+"/listerInfoAgent",t.urlListerLienObjFinanceObjSousJacent=e.Service.restParametre+"/listerLienObjFinanceObjSousJacent",t.urlListerLienParente=e.Service.restParametre+"/listerLienParente",t.urlListerLocalites=e.Service.restParametre+"/listerLocalites",t.urlListerModalitImpayes=e.Service.restParametre+"/listerModalitImpayes",t.urlListerModCalculAccesComp=e.Service.restParametre+"/listerModCalculAccesComp",t.urlListerModCalculHorsConvParProd=e.Service.restParametre+"/listerModCalculHorsConvParProd",t.urlListerModTiersTypRol=e.Service.restParametre+"/listerModTiersTypRol",t.urlListerModTypeDeRoleTiersParAcces=e.Service.restParametre+"/listerModTypeDeRoleTiersParAcces",t.urlListerMontantEncoursEpLogement=e.Service.restParametre+"/listerMontantEncoursEpLogement",t.urlListerNatureGarantie=e.Service.restParametre+"/listerNatureGarantie",t.urlListerNatureGarRelatifATypeObjet=e.Service.restParametre+"/listerNatureGarRelatifATypeObjet",t.urlListerPaliersDeProgressionParPhase=e.Service.restParametre+"/listerPaliersDeProgressionParPhase",t.urlListerPaliersDeTauxParPhase=e.Service.restParametre+"/listerPaliersDeTauxParPhase",t.urlListerParamApplicatif=e.Service.restParametre+"/listerParamApplicatif",t.urlListerParamCadreFiscal=e.Service.restParametre+"/listerParamCadreFiscal",t.urlListerParamCoutTravauxEcoPtz=e.Service.restParametre+"/listerParamCoutTravauxEcoPtz",t.urlListerParamEtab=e.Service.restParametre+"/listerParamEtab",t.urlListerParamGarantie=e.Service.restParametre+"/listerParamGarantie",t.urlListerParamOriginApp=e.Service.restParametre+"/listerParamOriginApp",t.urlListerParamTypeDeLogement=e.Service.restParametre+"/listerParamTypeDeLogement",t.urlListerParamTypeDuree=e.Service.restParametre+"/listerParamTypeDuree",t.urlListerProduitsAutorises=e.Service.restParametre+"/listerProduitsAutorises",t.urlListerRmbAnticipe=e.Service.restParametre+"/listerRmbAnticipe",t.urlListerSuivisPlanifies=e.Service.restParametre+"/listerSuivisPlanifies",t.urlListerTypeAccessoire=e.Service.restParametre+"/listerTypeAccessoire",t.urlListerTypeAssurance=e.Service.restParametre+"/listerTypeAssurance",t.urlListerTypeCharge=e.Service.restParametre+"/listerTypeCharge",t.urlListerTypeDeSinistreParConv=e.Service.restParametre+"/listerTypeDeSinistreParConv",t.urlListerTypeLogement=e.Service.restParametre+"/listerTypeLogement",t.urlListerTypeObjetCommercial=e.Service.restParametre+"/listerTypeObjetCommercial",t.urlListerTypeObjetReglemente=e.Service.restParametre+"/listerTypeObjetReglemente",t.urlListerTypeReglement=e.Service.restParametre+"/listerTypeReglement",t.urlListerTypeRessource=e.Service.restParametre+"/listerTypeRessource",t.urlListerTypeRole=e.Service.restParametre+"/listerTypeRole",t.urlListerTypesDeFraisGarantie=e.Service.restParametre+"/listerTypesDeFraisGarantie",t.urlListerTypeSituationFamiliale=e.Service.restParametre+"/listerTypeSituationFamiliale",t.urlListerTypologiesInstruction=e.Service.restParametre+"/listerTypologiesInstruction"}(c=t.CreditParametre||(t.CreditParametre={}));var l;!function(t){t.urlCalculerCapaciteRemboursement=e.Service.restCalcul+"/calculerCapaciteRemboursement",t.urlCalculerCaracteristiqueCredit=e.Service.restCalcul+"/calculerCaracteristiqueCredit",t.urlCalculerFraisNotaire=e.Service.restCalcul+"/calculerFraisNotaire",t.urlConsultationDossierSmac=e.Service.restCalcul+"/consultationDossierSmac",t.urlLireBaleII=e.Service.restCalcul+"/lireBaleII",t.urlLirePersonne=e.Service.restCalcul+"/lirePersonne"}(l=t.CreditService||(t.CreditService={}));var u;!function(t){t.urlInformationEntiteTitulaire=e.Service.restEntiteTitulaire+"/informationEntiteTitulaire",t.urlRecherche=e.Service.restEntiteTitulaire+"/recherche"}(u=t.EntiteTitulaire||(t.EntiteTitulaire={}));var d;!function(t){t.urlClient=e.Service.restTiersV1+"/client"}(d=t.TiersV1||(t.TiersV1={}));var p;!function(t){t.urlRecherche=e.Service.restTiersV3+"/recherche"}(p=t.TiersV3||(t.TiersV3={}));var m;!function(t){t.urlCaracteristique=e.Service.restAgent+"/caracteristique",t.urlRecherche=e.Service.restAgent+"/recherche"}(m=t.Agent||(t.Agent={}));var f;!function(t){t.urlRecherche=e.Service.restStructure+"/recherche"}(f=t.Structure||(t.Structure={}))}(t=e.WebServiceUrls||(e.WebServiceUrls={}))}(t=e.Constantes||(e.Constantes={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.Totalement="T"]="Totalement",e[e.ParRepartition="R"]="ParRepartition"}(e.AffectationResteAFinancer||(e.AffectationResteAFinancer={}));e.AffectationResteAFinancer}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.fromRecherche=""]="fromRecherche",e[e.fromInstruction="A"]="fromInstruction",e[e.fromInstructionEtTransfert="B"]="fromInstructionEtTransfert"}(e.ConsultationDossier||(e.ConsultationDossier={}));e.ConsultationDossier}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.Maxi="M"]="Maxi",e[e.Fixe="F"]="Fixe"}(e.CreditDuree||(e.CreditDuree={}));e.CreditDuree}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.Interne="I"]="Interne",e[e.Externe="E"]="Externe"}(e.CreditEpargneLogementConcours||(e.CreditEpargneLogementConcours={}));e.CreditEpargneLogementConcours}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.Oui="O"]="Oui",e[e.Non="N"]="Non"}(e.CreditEpargneLogementObligatoire||(e.CreditEpargneLogementObligatoire={}));e.CreditEpargneLogementObligatoire}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.Total="T"]="Total",e[e.Partiel="P"]="Partiel"}(e.CreditModeOptimisation||(e.CreditModeOptimisation={}));e.CreditModeOptimisation}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.Echeance="E"]="Echeance",e[e.Endettement="T"]="Endettement",e[e.Duree="D"]="Duree",e[e.Palier="P"]="Palier",e[e.NonRenseigne=""]="NonRenseigne"}(e.CritereOptim||(e.CritereOptim={}));e.CritereOptim}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.RedacteurActe=1]="RedacteurActe",e[e.Emprunteur=0]="Emprunteur"}(e.DestinataireClausePersonne||(e.DestinataireClausePersonne={}));e.DestinataireClausePersonne}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){!function(e){e[e.EditionAgence="AG"]="EditionAgence",e[e.EditionBackOffice="BO"]="EditionBackOffice",e[e.NonConcerne="NC"]="NonConcerne"}(t.TypeOffre||(t.TypeOffre={}));t.TypeOffre;!function(e){e[e.Dossier=0]="Dossier",e[e.Offre=1]="Offre",e[e.FicheSuiveuse=3]="FicheSuiveuse",e[e.RefusAssuranceExterne=4]="RefusAssuranceExterne"}(t.TypeDocument||(t.TypeDocument={}));t.TypeDocument;!function(e){e[e.EnAttente="En attente"]="EnAttente",e[e.EnCours="En cours"]="EnCours",e[e.Ok="Oui"]="Ok",e[e.Erreur="Erreur"]="Erreur"}(t.DocumentOffreIndustrialiseeStatutAction||(t.DocumentOffreIndustrialiseeStatutAction={}));t.DocumentOffreIndustrialiseeStatutAction;!function(e){e[e.DossierACreer="0"]="DossierACreer",e[e.ConsitutionEnCours="1"]="ConsitutionEnCours",e[e.Valide="2"]="Valide",e[e.AttenteSignatureRecepisse="3"]="AttenteSignatureRecepisse",e[e.AttenteSignatureDefinitive="4"]="AttenteSignatureDefinitive",e[e.Signe="5"]="Signe",e[e.Annuler="6"]="Annuler"}(t.IdentifiantEtatDossier||(t.IdentifiantEtatDossier={}));t.IdentifiantEtatDossier;!function(t){t[t.SansObjet=e.Constantes.CodeAscii.Caractere.vide]="SansObjet",t[t.EditionIndustrialisee=e.Constantes.CodeAscii.Lettre.Maj.I]="EditionIndustrialisee",t[t.SignatureElectronique=e.Constantes.CodeAscii.Lettre.Maj.S]="SignatureElectronique",t[t.DossierNumerique=e.Constantes.CodeAscii.Lettre.Maj.N]="DossierNumerique"}(t.Mode||(t.Mode={}));t.Mode}(i=t.Edition||(t.Edition={}))}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){!function(t){t[t.PropositionCommerciale=e.Constantes.CodeAscii.Lettre.Maj.P]="PropositionCommerciale",t[t.DemandeDeCredit=e.Constantes.CodeAscii.Lettre.Maj.D]="DemandeDeCredit",t[t.OffreCommerciale=e.Constantes.CodeAscii.Lettre.Maj.O]="OffreCommerciale"}(t.EtatDossier||(t.EtatDossier={}));t.EtatDossier;!function(t){t[t.PropositionCommerciale=e.Constantes.CodeAscii.Lettre.Maj.P]="PropositionCommerciale",t[t.PropositionCommercialeAutre=e.Constantes.CodeAscii.Lettre.Maj.A]="PropositionCommercialeAutre",t[t.Montage=e.Constantes.CodeAscii.Lettre.Maj.B]="Montage",t[t.Decision=e.Constantes.CodeAscii.Lettre.Maj.C]="Decision",t[t.Edition=e.Constantes.CodeAscii.Lettre.Maj.D]="Edition",t[t.Remise=e.Constantes.CodeAscii.Lettre.Maj.E]="Remise",t[t.OffreEnAttenteSignature=e.Constantes.CodeAscii.Lettre.Maj.G]="OffreEnAttenteSignature",t[t.OffreSigneeDelaiRetractation=e.Constantes.CodeAscii.Lettre.Maj.H]="OffreSigneeDelaiRetractation",t[t.OffreConclue=e.Constantes.CodeAscii.Lettre.Maj.U]="OffreConclue",t[t.DemandeCreditSansSuite=e.Constantes.CodeAscii.Lettre.Maj.V]="DemandeCreditSansSuite",t[t.PropositionCommercialeSansSuite=e.Constantes.CodeAscii.Lettre.Maj.W]="PropositionCommercialeSansSuite",t[t.OffreSansSuite=e.Constantes.CodeAscii.Lettre.Maj.X]="OffreSansSuite"}(t.SousEtatDossier||(t.SousEtatDossier={}));t.SousEtatDossier}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){!function(t){t[t.PasDEnvoi=e.Constantes.CodeAscii.Nombre.zero]="PasDEnvoi",t[t.Envoye=e.Constantes.CodeAscii.Lettre.Maj.E]="Envoye",t[t.AEnvoyer=e.Constantes.CodeAscii.Lettre.Maj.V]="AEnvoyer",t[t.AReEnvoyer=e.Constantes.CodeAscii.Lettre.Maj.R]="AReEnvoyer",t[t.AAnnuler=e.Constantes.CodeAscii.Lettre.Maj.U]="AAnnuler",t[t.Annule=e.Constantes.CodeAscii.Lettre.Maj.A]="Annule",t[t.ReponseTraitee=e.Constantes.CodeAscii.Lettre.Maj.T]="ReponseTraitee"}(t.EtatEnvoiSaccef||(t.EtatEnvoiSaccef={}));t.EtatEnvoiSaccef}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.EnAttente=0]="EnAttente",e[e.EnCours=1]="EnCours",e[e.Traite=2]="Traite"}(e.EtatVerificationMaj||(e.EtatVerificationMaj={}));e.EtatVerificationMaj}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.Vert=1]="Vert",e[e.Orange=2]="Orange",e[e.Rouge=3]="Rouge"}(e.FeuTricolore||(e.FeuTricolore={}));e.FeuTricolore}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t;!function(e){!function(e){e[e.MonoPayeur=0]="MonoPayeur",e[e.MultiPayeur=1]="MultiPayeur",e[e.PayeurUniqueParCredit=2]="PayeurUniqueParCredit",e[e.NonDefini=3]="NonDefini"}(e.ModePayeurRecouvrement||(e.ModePayeurRecouvrement={}));e.ModePayeurRecouvrement;!function(e){e[e.Facture=0]="Facture",e[e.Echelle=1]="Echelle"}(e.TypeJustificatif||(e.TypeJustificatif={}));e.TypeJustificatif;!function(e){e[e.TauxIndemnites=0]="TauxIndemnites",e[e.SurcoutTauxInterets=1]="SurcoutTauxInterets",e[e.Absent=2]="Absent"}(e.TypeRemboursementAnticipe||(e.TypeRemboursementAnticipe={}));e.TypeRemboursementAnticipe;!function(e){e[e.MajorationTaux=0]="MajorationTaux",e[e.TauxInteretRetard=1]="TauxInteretRetard",e[e.Absent=2]="Absent"}(e.TypeCaculImpaye||(e.TypeCaculImpaye={}));e.TypeCaculImpaye;!function(e){e[e.Tresorerie="TRE"]="Tresorerie",e[e.Nom="NOM"]="Nom",e[e.Rib="RIB"]="Rib",e[e.Iban="IBA"]="Iban"}(e.TypeDomiciliation||(e.TypeDomiciliation={}));e.TypeDomiciliation}(t=e.Modalites||(e.Modalites={}))}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t;!function(e){!function(e){e[e.neo=0]="neo",e[e.conso=1]="conso",e[e.immo=2]="immo",e[e.pro=3]="pro"}(e.CodeApplicationEnum||(e.CodeApplicationEnum={}));e.CodeApplicationEnum;!function(e){e[e.consultation=0]="consultation",e[e.edition=1]="edition"}(e.ModeOuvertureDossier||(e.ModeOuvertureDossier={}));e.ModeOuvertureDossier;!function(e){e[e.synthese=1]="synthese",e[e.client=2]="client",e[e.clientIntervenant=201]="clientIntervenant",e[e.clientRevenuEtCharges=202]="clientRevenuEtCharges",e[e.clientSurfaceFinanciere=203]="clientSurfaceFinanciere",e[e.projet=3]="projet",e[e.projetDescription=301]="projetDescription",e[e.projetReamenagement=302]="projetReamenagement",e[e.projetObjetFinance=302]="projetObjetFinance",e[e.financement=4]="financement",e[e.financementProjet=401]="financementProjet",e[e.financementDetailCredit=402]="financementDetailCredit",e[e.financementGarantie=403]="financementGarantie",e[e.financementAssurance=404]="financementAssurance",e[e.assurances=5]="assurances",e[e.garanties=6]="garanties",e[e.gestionAdmin=7]="gestionAdmin",e[e.gestionAdminAssurances=701]="gestionAdminAssurances",e[e.gestionAdminGaranties=702]="gestionAdminGaranties",e[e.gestionAdminModalites=703]="gestionAdminModalites",e[e.gestionAdminRedacteurActe=704]="gestionAdminRedacteurActe",e[e.gestionAdminSuivisPlanifies=705]="gestionAdminSuivisPlanifies",e[e.decisionPreteur=8]="decisionPreteur",e[e.decisionPreteurAvis=801]="decisionPreteurAvis",e[e.decisionPreteurIndicateursOctroi=802]="decisionPreteurIndicateursOctroi",e[e.decisionPreteurDecision=803]="decisionPreteurDecision",e[e.piecesEtControles=9]="piecesEtControles",e[e.piecesEtControlesClients=901]="piecesEtControlesClients",e[e.piecesEtControlesAgence=902]="piecesEtControlesAgence",e[e.piecesEtControlesControles=903]="piecesEtControlesControles",e[e.editionOffre=10]="editionOffre",e[e.editionOffreSectionCaracteristiques=1001]="editionOffreSectionCaracteristiques",e[e.editionOffreSectionClausesPersonnalisees=1002]="editionOffreSectionClausesPersonnalisees",e[e.editionOffreSectionListeMandats=1003]="editionOffreSectionListeMandats",e[e.remiseOffre=11]="remiseOffre",e[e.signatureOffre=12]="signatureOffre",e[e.historique=13]="historique",e[e.signataires=14]="signataires",e[e.majAdmin=15]="majAdmin",e[e.majAdminAssurances=1501]="majAdminAssurances",e[e.majAdminGaranties=1502]="majAdminGaranties",e[e.majAdminRedacteurActe=1503]="majAdminRedacteurActe",e[e.majAdminSignatureElectronique=1504]="majAdminSignatureElectronique",e[e.routageEditionDocuments=16]="routageEditionDocuments",e[e.emissionDocuments=17]="emissionDocuments",e[e.emissionDocumentsClients=1701]="emissionDocumentsClients",e[e.emissionDocumentsFicheSuiveuse=1702]="emissionDocumentsFicheSuiveuse",e[e.blocNotes=18]="blocNotes",e[e.editionOffreElectronique=19]="editionOffreElectronique"}(e.CodePageEnum||(e.CodePageEnum={}));e.CodePageEnum}(t=e.ParametreRouteur||(e.ParametreRouteur={}))}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.Une=0]="Une",e[e.Deux=1]="Deux",e[e.Trois=2]="Trois"}(e.PopinEtape||(e.PopinEtape={}));e.PopinEtape}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.OPTIMISE=new t("Optimise","optimise"),t.MANUEL=new t("Manuel","manuel"),t}(MyWay.Services.StringEnum);e.ModeCalcul=t;var i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.GRAPHIQUE=new t("Graphique","graphique"),t.TABLEAU=new t("Tableau","tableau"),t}(MyWay.Services.StringEnum);e.ModeRestitution=i}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.InstructionAgence="IA"]="InstructionAgence",e[e.InstructionBO="IB"]="InstructionBO",e[e.PriseEnChargeBO="PB"]="PriseEnChargeBO"}(e.ProcessusInstruction||(e.ProcessusInstruction={}));e.ProcessusInstruction}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.Apport=0]="Apport",e[e.CreditInterne=1]="CreditInterne",e[e.CreditComplementaire=2]="CreditComplementaire"}(e.RafTypeElement||(e.RafTypeElement={}));e.RafTypeElement}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.CoherenceDossier="Cohérence Dossier"]="CoherenceDossier",e[e.Client="Client"]="Client",e[e.Projet="Projet"]="Projet",e[e.Financement="Financement"]="Financement",e[e.Assurances="Assurances"]="Assurances",
e[e.Garanties="Garanties"]="Garanties",e[e.Modalites="Modalités"]="Modalites",e[e.Pieces="Pièces"]="Pieces",e[e.Manuel="Manuel"]="Manuel"}(e.RegroupementSyntheseErreur||(e.RegroupementSyntheseErreur={}));e.RegroupementSyntheseErreur}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){!function(t){t[t.TransfertAvis=e.Constantes.CodeAscii.Lettre.Maj.S]="TransfertAvis",t[t.TransfertDecision=e.Constantes.CodeAscii.Lettre.Maj.D]="TransfertDecision",t[t.TransfertConformite=e.Constantes.CodeAscii.Lettre.Maj.C]="TransfertConformite",t[t.AutoTransfert=e.Constantes.CodeAscii.Lettre.Maj.T]="AutoTransfert",t[t.transfertBackOffice=e.Constantes.CodeAscii.Lettre.Maj.B]="transfertBackOffice",t[t.transfertAutreBackOffice=e.Constantes.CodeAscii.Lettre.Maj.A]="transfertAutreBackOffice",t[t.transfertPropriete=e.Constantes.CodeAscii.Lettre.Maj.P]="transfertPropriete"}(t.TypeTraitementTransfertDossier||(t.TypeTraitementTransfertDossier={}));t.TypeTraitementTransfertDossier;!function(t){t[t.typeEnvoi=e.Constantes.CodeAscii.Lettre.Maj.E]="typeEnvoi",t[t.typeRetour=e.Constantes.CodeAscii.Lettre.Maj.R]="typeRetour",t[t.typeSansObjet=e.Constantes.CodeAscii.Lettre.Maj.S]="typeSansObjet"}(t.typeTransfertDossier||(t.typeTransfertDossier={}));t.typeTransfertDossier}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){!function(e){e[e.NonBloquant=0]="NonBloquant",e[e.Bloquant=1]="Bloquant",e[e.Manuelle=2]="Manuelle",e[e.Alerte=3]="Alerte"}(e.TypeAno||(e.TypeAno={}));e.TypeAno}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function t(e,t){this.code=e,this.libelle=t}return t.prototype.toString=function(){return this.code.toString()},t.getTypeControleDossierByCode=function(t){var i=null;if(null!==t)for(var n in e.TypeControleDossier)if(e.TypeControleDossier[n].code===t){i=e.TypeControleDossier[n];break}return i},t.CONTROLE_DOSSIER=new t(0,"Contrôle dossier"),t.ALERTE_DOSSIER=new t(1,"Alerte sur le dossier"),t.CONTROLE_PIECES_JUSTIFICATIVES=new t(2,"Contrôle pièces justificatives"),t.CONTROLE_PIECES_AGENCE=new t(3,"Contrôle pièces agence"),t.CONTROLE_MANUEL=new t(4,"Contrôle manuel"),t.CONTROLE_MODALITES=new t(5,"Contrôle modalités"),t.CONTROLE_EMPRUNTEUR=new t(6,"Contrôle emprunteur"),t.CONTROLE_CAUTION=new t(7,"Contrôle caution"),t.CONTROLE_PERSONNE=new t(8,"Contrôle personne"),t.CONTROLE_PROJET=new t(9,"Contrôle projet"),t.CONTROLE_PLAN_FINANCEMENT=new t(10,"Contrôle plan de financement"),t.CONTROLE_ASSURANCES=new t(11,"Contrôle assurances"),t.CONTROLE_GARANTIES=new t(12,"Contrôle garanties"),t.CONTROLE_CREDITS_EXTERNES=new t(13,"Contrôle crédits externes"),t.CONTROLE_CREDITS_INTERNES=new t(14,"Contrôle crédit interne"),t.CONTROLE_ELEMENTS_A_FOURNIR=new t(15,"Contrôle éléments à fournir"),t}();e.TypeControleDossier=t}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){!function(t){t[t.Aucun=e.Constantes.CodeAscii.Caractere.space]="Aucun",t[t.PerfEnergetique=e.Constantes.CodeAscii.Lettre.Maj.P]="PerfEnergetique",t[t.Bouquet1=e.Constantes.CodeAscii.Nombre.un]="Bouquet1",t[t.Bouquet2=e.Constantes.CodeAscii.Nombre.deux]="Bouquet2",t[t.Bouquet3=e.Constantes.CodeAscii.Nombre.trois]="Bouquet3",t[t.RehabAssainissement=e.Constantes.CodeAscii.Lettre.Maj.A]="RehabAssainissement"}(t.TypeEcoPtz||(t.TypeEcoPtz={}));t.TypeEcoPtz}(t=e.Enum||(e.Enum={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){return function(t){return t===e.Constantes.CodeAscii.Lettre.Maj.O?"Oui":"Non"}};e.app.filter("affichageOuiNon",i)}(t=e.Filtres||(e.Filtres={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";t.dateNotZero=function(){return function(t,i){return angular.isDefined(t)&&null!==t&&moment(t).format("DD/MM/YYYY")!==moment(e.Constantes.Donnees.date0).format("DD/MM/YYYY")&&moment(t).format("DD/MM/YYYY")!==moment(e.Constantes.Donnees.dateTime0).format("DD/MM/YYYY")?t:angular.isDefined(i)?i:null}},e.app.filter("dateNotZero",t.dateNotZero)}(t=e.Filtres||(e.Filtres={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";function t(e){var t;switch(e){case"EUR":t="€";break;case"CAD":t="$";break;case"USD":t="$";break;case"CHF":t="F";break;case"GBP":t="£"}return t}e.getSymboleDevise=t}(t=e.Filtres||(e.Filtres={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.indefini=0,e.creation=1,e.consultation=2,e.modification=3,e.suppression=4,e}();e.ModeEdition=t,e.DATA_INPUT="dataInput"}(t=e.Modale||(e.Modale={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.parse=function(t){return t?e.minDateToNull(moment(t).toDate()):null},e.format=function(e,t){return e?moment(e).format(t):""},e.dateToNeoString=function(t){var i=e.EMPTY_DATE;return t&&"string"==typeof t?i=t:t&&"object"==typeof t&&(i=moment(t).format("YYYY-MM-DD")),i},e.equalsDateNeo=function(t,i){return(t||e.EMPTY_DATE)===(i||e.EMPTY_DATE)},e.minDateToNull=function(e){return!e||1===e.getFullYear()||1900===e.getFullYear()&&1===e.getDate()&&0===e.getMonth()||9999===e.getFullYear()&&31===e.getDate()&&11===e.getMonth()?null:e},e.dateValorisee=function(t){return t&&t!==e.EMPTY_DATE&&t!==e.EMPTY_DATETIME},e.EMPTY_DATE="0001-01-01",e.EMPTY_DATETIME="0001-01-01T00:00:00.000+0100",e.FORMAT_DATENEO="YYYY-MM-DD",e.FORMAT_AFFICHAGE="DD/MM/YYYY",e}();e.OutilDate=t}(t=e.Outils||(e.Outils={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.findOrEmpty=function(e,t){return _.find(e||[],t)||{}},e.firstOrEmpty=function(e){return _.first(e||[])||{}},e.isNullOrEmpty=function(e){return!e||0===e.length},e}();e.Liste=t}(t=e.Outils||(e.Outils={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function i(){}return i.pickDeep=function(e,i){var n=[];return e[i]&&n.push(e[i]),t.Objet.pickRecursive(e,i,n),n},i.pickRecursive=function(e,i,n){var r=_.pick(e,i),s=_.pick(e,_.isObject);return _.each(s,function(e,r,s){var o;o=_.isArray(e)?_.reduce(e,function(e,r){var s=t.Objet.pickRecursive(r,i,n);return _.isEmpty(s[i])||(e.push(s),n.push(s[i])),e},[]):t.Objet.pickRecursive(e,i,n),_.isEmpty(o[i])||n.push(o[i])}),r},i.nullToEmpty=function(e){return e||{}},i.getMontant=function(t,i,n){return i===e.Constantes.Parametrage.codeDeviseEuro?t:0===n?0:parseFloat((t/n).toFixed(2))},i.safeGet=function(e){try{return e()}catch(t){return null}},i}();t.Objet=i}(t=e.Outils||(e.Outils={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.selectboxfirstOrEmpty=function(e,t){return _.find(e,{code:t})||{}},e.selectboxNumberfirstOrEmpty=function(e,t){return _.find(e,{code:t})||{}},e}();e.Selectbox=t}(t=e.Outils||(e.Outils={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.Adresse=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(t){void 0===t?(this.typeControle=null,this.idAno=null,this.libelleAno=null,this.typeAno=null,this.dateHeureAno=null,this.idControleRegle=null,this.idObjet=null,this.typeControleDetail=null):(this.typeControle=t.typeControle,this.idAno=t.idAno,this.libelleAno=t.libelleAno,this.typeAno=t.typeAno,this.dateHeureAno=t.dateHeureAno,this.idControleRegle=t.idControleRegle,this.idObjet=t.idObjet,this.typeControleDetail=e.Enum.TypeControleDossier.getTypeControleDossierByCode(t.typeControle))}return t}();t.AnomalieDossier=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.libelle=e}return e}();e.Ape=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){this.libelle=null,this.ligne1=null,this.ligne2=null,this.ligne3=null,this.ligne4=null,this.niveau2=null}return e}();e.Arborescence=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r,s){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===s&&(s=null),this.libelle=e,this.ligne1=t,this.ligne2=i,this.ligne3=n,this.ligne4=r,this.niveau3=s}return e}();e.Arborescence2=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null),this.libelle=e,this.ligne1=t,this.ligne2=i,this.ligne3=n,this.ligne4=r}return e}();e.Arborescence3=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r,s){void 0===r&&(r=!1),void 0===s&&(s=!0),this.etape=e,this.libelle=t,this.section=i,this.page=n,this.renseigne=r,this.necessaire=s}return e}();e.ChampsRequis=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r,s){this.revnFiscal=n,this.nombreEnfant=t.nombreEnfantCharge,this.nombrePersonne=t.nombrePersonneCmpstMeng,this.indicePrimoAccedant=e.defnSiEmpruntEstPrm;var o=e.cateRegleAttribut;this.typeLogement=o.charCodeAt(0),e.coutTotalObjet&&null!==e.coutTotalObjet?this.montantAcht=e.coutTotalObjet:this.montantAcht=0,this.codePoste=e.codePoste,this.ville=e.ville,"C"===String.fromCharCode(e.coutObjetSaisieCalculEnvl)?this.indiceCalculEnvl=!0:this.indiceCalculEnvl=!1,i&&null!==i?(i.surfHabitationCreeParConstruction?this.surfHabitation=i.surfHabitationCreeParConstruction:this.surfHabitation=0,this.indiceLogementHlm="O"===i.typeLogement,this.dateAcqsTerr=null,this.montantFrsNegocie=i.montantFrsNegocie):(this.surfHabitation=0,this.indiceLogementHlm=!1,this.dateAcqsTerr=null,this.montantFrsNegocie=0),r&&null!==r?this.montantTravaux=r.coutTravaux:this.montantTravaux=0,s&&null!==s?this.montantApport=s.montantApportPersonne:this.montantApport=0,this.indiceLogementPerf=!1,this.indicePerfEnergetique=65}return e}();e.EntreeEligibilite=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.libelle=e.libelle}return e}();e.Garantie=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(){}return t.MAP_CHAMPS_REQUIS={"TYPE-DE-PROJET":new e.Modele.ChampsRequis(1,"Type de projet","Description du projet","Projet",!1,!0),"VALEUR-BIEN-A-VENDRE":new e.Modele.ChampsRequis(1,"Valeur du bien à vendre","Description du projet","Projet",!1,!1),CRD:new e.Modele.ChampsRequis(1,"CRD","Description du projet","Projet",!1,!1),"MONTANT-OPERATION":new e.Modele.ChampsRequis(1,"Montant total","Montant du projet","Projet",!1,!0),"LOCALISATION-BIEN":new e.Modele.ChampsRequis(1,"Localisation du bien","Localisation du bien","Projet",!1,!0),"CRITERE-REMBOURSEMENT":new e.Modele.ChampsRequis(1,"Critère de remboursement","Financement Souhaité","Propositions",!1,!0)},t}();t.MapChampsRequis=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t){var i=null!==e?e:t;this.codeModeCalculAccessoire=i.codeModeCalculAccessoire,this.montantMinimumPlageAccessoire=i.montantMinimumPlageAccessoire,this.montantMaximumPlageAccessoire=i.montantMaximumPlageAccessoire,this.tauxMinimumAccessoire=i.tauxMinimumAccessoire,this.tauxMaximumAccessoire=i.tauxMaximumAccessoire,this.tauxConsolideAccessoire=i.tauxConsolideAccessoire,this.montantConsolideAccessoire=i.montantConsolideAccessoire,this.regleApplicationAccessoireAprd=i.regleApplicationAccessoireAprd,this.numeroRegleApplicationAccessoire=i.numeroRegleApplicationAccessoire,this.codeTypeAssietteCalculAccessoire=i.codeTypeAssietteCalculAccessoire,this.fractionFinancierMaximum=i.fractionFinancierMaximum,null!==e?(this.codeTypePhase=void 0!==e.codeTypePhase?e.codeTypePhase:null,this.obligatoire=79===e.codeAccessoireObligatoire,this.montantMinimumAccessoireCalcul=e.montantMinimumAccessoireCalcul,this.montantMaximumAccessoireCalcul=e.montantMaximumAccessoireCalcul):(this.codeTypePhase=null,this.obligatoire=!1,this.montantMinimumAccessoireCalcul=null,this.montantMaximumAccessoireCalcul=null)}return e}();e.ModaliteCalcul=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.libelle=e.libelle,this.sousFamille=e.sousFamille,this.famille=e.famille,this.typePret=t}return e}();e.Pret=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(e){function t(t,i){var n="Principal";e.call(this,t,n),this.isLissable=i}return __extends(t,e),t}(e.Pret);e.PretPrincipal=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,i){void 0===t&&(t=null),void 0===i&&(i=null),this.libelle=e,this.famille=i,this.sousFamille=t}return e}();e.Produit=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function t(){this.codeBanque=null,this.idCreditGestion=null,this.idDossierCommercialisation=null,this.idDossierOrigine=null,this.codePrdtetbl=null,this.codeApparRes=null,this.typeApparRes=null,this.dateCloture=null,this.montantRestantDuSurPretRefn=null,this.mtechePeriodePretRefn=null,this.perdeche=null,this.dateFinCredit=null,this.libelleProduit=null,this.typeRegle=null,this.typeCredit=null,this.nometblPret=null,this.codeOrigineApplicationGestionCredit=null,this.codeDev=null,this.idReamenagement=null,this.idInformationCompRegr=null,this.idws=null,this.origine=null,this.libellePeriodicite=null,this.complement=new e.InfoRegroupement,this.duree=null}return t}();e.PretReamenagement=t;var i=function(){function e(e){this.codeBanque=e.codeBanque,this.idCreditGestion=e.idCreditGestion,null!==e.idDossierCommercialisation?this.idDossierCommercialisation=e.idDossierCommercialisation:this.idDossierCommercialisation="",null!==e.idDossierOrigine?this.idDossierOrigine=e.idDossierOrigine:this.idDossierOrigine="",null!==e.codePrdtetbl?this.codePrdtetbl=e.codePrdtetbl:this.codePrdtetbl="",this.codeApparRes=e.codeApparRes,this.typeApparRes=e.typeApparRes,this.dateCloture=e.dateCloture,this.montantRestantDuSurPretRefn=e.montantRestantDuSurPretRefn,this.mtechePeriodePretRefn=e.mtechePeriodePretRefn,this.perdeche=e.perdeche,this.dateFinCredit=e.dateFinCredit,this.libelleProduit=e.libelleProduit,this.typeRegle=e.typeRegle,this.typeCredit=e.typeCredit,this.nometblPret=e.nometblPret,this.codeOrigineApplicationGestionCredit=e.codeOrigineApplicationGestionCredit,null!==e.codeDev?this.codeDev=e.codeDev:this.codeDev="",this.idws=e.idws}return e}();e.PretReamenagementMaj=i;var n=function(){function e(){this.codeBanque=null,this.idDossierCommercialisation=null,this.montantCRD=null,this.origineInformationSurMontantCRD=null,this.dateEnvsPourRemboursementAnticipe=null,this.codeExisteModeleIndemniteRaSurCredit=null,this.montantEstmRa=null,this.origineInformationSurMontantEstmIndemniteRa=null,this.codeIndiceFinancierIndemniteRa=null,this.codeModelePrevPourRa=null,this.origineInformationSurExistePrevContrat=null,this.delPrevContrat=null,this.origineInformationSurDelPrevContrat=null,this.existeUneGarantieHypotheque=null,this.montantFrsMainTotalUneGarantieHypotheque=null,this.origineInformationSurMontantFrsMainTotal=null,this.codeFinancierFrsMain=null,this.montantInterieurDusJusqFinCredit=null,this.codeAffectationTypeObjet=null,this.mtecheHorsAccessoire=null,this.origineInformationSurMtecheHorsAccessoire=null,this.tauxReference=null,this.origineInformationSurTauxReference=null,this.dateRappDonneur=null,this.origineInformationSurDateFinCredit=null,this.origineInformationSurMontantRestantDuSuurPretRach=null,this.origineInformationSurTypeLoiScrivenerCreditRach=null,this.idPretReamenagement=null,this.idws=null}return e}();e.InfoRegroupement=n;var r=function(){function e(e){e&&(this.montantCRD=e.montantCRD,this.origineInformationSurMontantCRD=e.origineInformationSurMontantCRD,this.dateEnvsPourRemboursementAnticipe=e.dateEnvsPourRemboursementAnticipe,this.codeExisteModeleIndemniteRaSurCredit=e.codeExisteModeleIndemniteRaSurCredit,this.montantEstmRa=e.montantEstmRa,this.origineInformationSurMontantEstmIndemniteRa=e.origineInformationSurMontantEstmIndemniteRa,this.codeIndiceFinancierIndemniteRa=e.codeIndiceFinancierIndemniteRa,this.codeModelePrevPourRa=e.codeModelePrevPourRa,this.origineInformationSurExistePrevContrat=e.origineInformationSurExistePrevContrat,this.delPrevContrat=e.delPrevContrat,this.origineInformationSurDelPrevContrat=e.origineInformationSurDelPrevContrat,this.existeUneGarantieHypotheque=e.existeUneGarantieHypotheque,this.montantFrsMainTotalUneGarantieHypotheque=e.montantFrsMainTotalUneGarantieHypotheque,this.origineInformationSurMontantFrsMainTotal=e.origineInformationSurMontantFrsMainTotal,this.codeFinancierFrsMain=e.codeFinancierFrsMain,this.montantInterieurDusJusqFinCredit=e.montantInterieurDusJusqFinCredit,this.codeAffectationTypeObjet=e.codeAffectationTypeObjet,this.mtecheHorsAccessoire=e.mtecheHorsAccessoire,this.origineInformationSurMtecheHorsAccessoire=e.origineInformationSurMtecheHorsAccessoire,this.tauxReference=e.tauxReference,this.origineInformationSurTauxReference=e.origineInformationSurTauxReference,this.dateRappDonneur=e.dateRappDonneur,this.origineInformationSurDateFinCredit=e.origineInformationSurDateFinCredit,this.origineInformationSurMontantRestantDuSuurPretRach=e.origineInformationSurMontantRestantDuSuurPretRach,this.origineInformationSurTypeLoiScrivenerCreditRach=e.origineInformationSurTypeLoiScrivenerCreditRach,this.idws=e.idws)}return e}();e.InfoRegroupementMaj=r;var s=function(){function e(e){e&&(this.typeReamenagement=e.typeReamenagement,this.usagePretTres=e.usagePretTres,this.ancnEcheance=e.ancnEcheance,this.capitalRestantDu=e.capitalRestantDu,this.valeurAchtObjetFinancier=e.valeurAchtObjetFinancier,this.dureResdPretRefn=e.dureResdPretRefn,this.dateAcqsObjetRefn=e.dateAcqsObjetRefn,this.coutAcqsObjetRefn=e.coutAcqsObjetRefn,this.idws=e.idws)}return e}();e.ReamenagementMaj=s;var o=function(){function e(){}return e}();e.IDetailPret=o}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(){this.types=new e.Modele.RechercherDossierStructure}return t}();t.RechercherDossier=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.RechercherDossierStructure=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.TypeCharge=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.TypeRevenu=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=e.Outils.OutilDate,n=function(){function t(e){this.mwNotificationService=e}return t.prototype.presenceAnoBloquante=function(t){return _.any(t,function(t){return t.typeAno===e.Enum.TypeAno.Bloquant})},t.prototype.formateAnomalies=function(t){return _.map(t,function(t){return new e.Modele.AnomalieDossier(t)})},t.prototype.getAnomaliesByTypes=function(e,t){var i=_.map(t,function(e){return e.code});return _.filter(e,function(e){return _.contains(i,e.typeControleDetail.code)})},t.prototype.afficheNotificationAnomalie=function(e){var t="";_.forEach(e,function(e){t+=e.idAno+" : "+e.libelleAno+"<br />"}),t&&this.mwNotificationService.showNotification(t,"information")},t.prototype.afficheNotificationAnomalieCalculCRIN=function(e,t){var i="";_.forEach(e,function(e){i+="[ Crédit "+t.libelleLongProduit+" ] "+e.idAno+" : "+e.libelleAno+"<br />"}),i&&this.mwNotificationService.showNotification(i,"information")},t.prototype.concateneDeuxListes=function(e,t){return t&&t.length>0&&(e=e&&e.length>0?e.concat(t):t),e},t.prototype.getParametrageBoutonContinuer=function(e,t,i){return{affichage:!(!t&&this.presenceAnomalieBloquante(e)||t&&this.verifBlocageElement(e,i)),libelle:t&&this.presenceAnomalieBloquanteForcable(e,i)?"Forcer":"Poursuivre"}},t.prototype.verifBlocageElement=function(e,t){return!t&&this.presenceAnomalieBloquante(e)||this.presenceAnomalieBloquanteNonForcable(e,t)},t.prototype.presenceAnomalieBloquante=function(e){return _.some(e,function(e){return 1===e.typeAno})},t.prototype.presenceAnomalieBloquanteNonForcable=function(e,t){var i=this;return t&&_.some(e,function(e){return 1===e.typeAno&&!i.anomalieForcablePieco(e)})},t.prototype.presenceAnomalieBloquanteForcable=function(e,t){var i=this;return t&&_.some(e,function(e){return 1===e.typeAno&&i.anomalieForcablePieco(e)})},t.prototype.anomalieForcablePieco=function(t){return t.typeControle===e.Enum.TypeControleDossier.CONTROLE_PIECES_JUSTIFICATIVES.code||t.typeControle===e.Enum.TypeControleDossier.CONTROLE_PIECES_AGENCE.code||t.typeControle===e.Enum.TypeControleDossier.CONTROLE_MANUEL.code||t.typeControle===e.Enum.TypeControleDossier.CONTROLE_ELEMENTS_A_FOURNIR.code},t.prototype.getLibelleCompletudeGarantie=function(e,t){var n;return n=_.some(this.getAnomaliesGarantie(e.idws,t),function(e){return 1===e.typeAno})?"Incomplet":i.dateValorisee(e.dateCloture)||i.dateValorisee(e.dateAccpAccessoire)?"Complet":"En attente de retour/accord…"},t.prototype.getAnomaliesGarantie=function(t,i){return _.filter(i,function(i){return i.idObjet===t&&i.typeControle===e.Enum.TypeControleDossier.CONTROLE_GARANTIES.code})},t.$inject=["MwNotificationService"],t}();t.AnomalieService=n,e.app.service("ApiInstuctionCredit.AnomalieService",n)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(e,t,i){this.$q=e,this.wsCatalogueFinancementService=t,this.wsAssuranceService=i,this._listeConventionAssurance=[]}return e.prototype.listerConventionsAssuranceAvecDetail=function(e,t,i){var n=this,r=_.filter(i,function(e){return!_.any(n._listeConventionAssurance,function(t){return t.idConvention===e})});if(r&&r.length>0){var s=_.map(r,function(i){return n.wsCatalogueFinancementService.getDetailConventionAssurance(e,t,i)});return this.$q.all(s).then(function(e){return n._listeConventionAssurance=_.union(n._listeConventionAssurance,e),n.filtrerConventionsAssurance(i)})}return this.$q.when(this.filtrerConventionsAssurance(i))},e.prototype.filtrerConventionsAssurance=function(e){return _.filter(this._listeConventionAssurance,function(t){return _.contains(e,t.idConvention)})},e.prototype.getAllIdwsAssurance=function(e){var t=[];return t.push(e.idws),_.forEach(e.couverturesCredits,function(e){t.push(e.idws),_.forEach(e.cotisations,function(e){t.push(e.idws)})}),t},e.prototype.editerLettreRefus=function(e,t,i){return this.wsAssuranceService.editerDocumentFC050REF(e,t,i)},e.prototype.chargerConventionAssurance=function(e,t,i){var n=this,r=_.find(this._listeConventionAssurance,function(e){return e.idConvention===i});return r?this.$q.when(r):this.wsCatalogueFinancementService.getDetailConventionAssurance(e,t,i).then(function(e){return Array.prototype.push.apply(n._listeConventionAssurance,[e]),n.$q.when(e)})},e.$inject=["$q","ApiInstuctionCredit.Data.CatalogueFinancementService","ApiInstuctionCredit.Data.AssuranceService"],e}();t.AssuranceService=i,e.app.service("ApiInstuctionCredit.AssuranceService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(e,t,i,n,r){this.$q=e,this.modaleService=t,this.wsDossierService=i,this.wsBonificationService=n,this.wsCatalogueFinancementService=r}return t.prototype.openModaleBonificationCalcul=function(e){var t={templateUrl:"typescript/fonctionnalites/bonification/modale-detail-calcul/modale-detail-calcul.html",controller:"ApiInstuctionCredit.ModaleFinancementBonificationCalculControleur",controllerAs:"ctrl",windowClass:"app-modal-window-MEG",backdrop:!0,keyboard:!0,size:"md",resolve:{callback:function(){},data:function(){return{creditBonification:e}}}};this.modaleService.showModal(t)},t.prototype.getPresenceCreditWithBonificationPossible=function(e){return _.any(e||[],function(e){return e.produitFinancier.estBonifiableFlat})},t.prototype.getCreditsInternesWithBonificationDescription=function(e,t,i,n){var r,s=this;if(e.length>0&&(r=_.find(t.projet.plansFinancement,function(t){return t.idws===e[0].idPlanFinancier})),angular.isDefined(r)&&this.getPresenceCreditWithBonificationPossible(e)&&this.getCreditWithBonificationExiste(t,e[0].idPlanFinancier)){var o=[];return _.forEach(e,function(e){o.push(s.getCreditInterneWithBonificationDescription(e,n,r,i))}),this.$q.all(o)}return this.$q.when(e)},t.prototype.getReglesEligibilites=function(e,t,i){return this.wsCatalogueFinancementService.getListeEligibilitesBonification(i,e,t)},t.prototype.calculerBonifications=function(e,t,i){var n=this,r=_.reduce(t||[],function(e,t){return null!==t.creditBonification&&e.concat([t.creditBonification.idws]),e},[]);return this.$q.all(_.map(r,function(t){return n.wsBonificationService.calculerBonification(e,t)})).then(function(){return n.wsDossierService.lireElements(e,[i])}).then(function(e){return e[0]})},t.prototype.getCreditWithBonificationExiste=function(e,t){var i=_.find(e.projet.plansFinancement,function(e){return e.idws===t});return _.any(i.creditsInternes||[],function(e){return null!==e.creditBonification})},t.prototype.getCreditInterneWithBonificationDescription=function(t,i,n,r){var s=_.find(n.creditsInternes,function(e){return e.idws===t.idws});return null===s.creditBonification?this.$q.when(t):this.wsCatalogueFinancementService.getListeConventionsBonification(i,t.idProduitFinancier).then(function(i){var n=_.find(r,function(e){return e.idws===s.creditBonification.idws});if(angular.isDefined(n)){var o=_.find(i,function(e){return e.idConvention===s.creditBonification.idConvention});t.creditBonificationDescription=new e.Modele.CreditBonificationDescription(n,o)}return t})},t.$inject=["$q","modalService","ApiInstuctionCredit.Data.DossierService","ApiInstuctionCredit.Data.BonificationService","ApiInstuctionCredit.Data.CatalogueFinancementService"],t}();t.BonificationService=i,e.app.service("ApiInstuctionCredit.BonificationService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(e){this.$q=e,this.cache={}}return Object.defineProperty(e.prototype,"defaultTimeToLive",{get:function(){return 9e5},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unlimitedTimeTolive",{get:function(){return-1},enumerable:!0,configurable:!0}),e.prototype.setToCache=function(e,t,i){if(e&&!_.isUndefined(t)){var n={data:t,timeToLive:i,instantiatedDate:new Date};this.cache[e]=n}},e.prototype.setToCacheFromPromise=function(e,t,i){var n=this;return t.then(function(t){return n.setToCache(e,t,i),t})},e.prototype.getFromCache=function(e){return _.isUndefined(this.cache[e])?void 0:this.isExpired(this.cache[e])?void delete this.cache[e]:this.cache[e].data},e.prototype.get=function(e,t,i,n){void 0===n&&(n=!0);var r=this.getFromCache(e);return!_.isUndefined(r)&&n?this.$q.when(r):this.setToCacheFromPromise(e,t(),i)},e.prototype.isExpired=function(e){if(-1===e.timeToLive)return!1;var t=moment(e.instantiatedDate).add(e.timeToLive);return moment().isAfter(t)},e.$inject=["$q"],e}();t.CacheService=i,e.app.service("ApiInstuctionCredit.Service.CacheService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(e,t,i,n,r){this.$q=e,this.modalService=t,this.wsPiecoService=i,this.wsOffreService=n,this.anomalieService=r}return t.prototype.getResultatEditionDocuments=function(t,i,n,r,s,o){var a=this,c=[],l=[];return this.$q.all(_.map(t,function(e){return a.getSaisieComplementaireByDocument(i,e)})).then(function(e){for(var n=[],r=0;r<e.length;r++)angular.isDefined(e[r])?(l.push(t[r]),n.push(e[r])):c.push(t[r]);return s(!1),a.setSaisieComplementaires(i,l,n,0,[])}).then(function(t){var l=c.concat(t);return 0===l.length?a.$q.when(new e.Modele.ResultatEditionDocuments):(s(!0),a.getFluxForDocumentsSynchrone(l,i,n,r,0,new e.Modele.ResultatEditionDocuments,e.Constantes.Editique.formatPapier,o))})},t.prototype.getListeDocumentDescriptionByDocument=function(e,t,i,n,r,s){var o=this;return this.setDocumentWithSaisiesComplementaires(e,t,n).then(function(){return o.getListeFluxForDocument(t,e,t.idwsElement,i,r,s)})},t.prototype.getResultatEditionOffreDescription=function(e,t,i,n,r,s){var o=this;return this.setDocumentWithSaisiesComplementaires(e,t,i).then(function(){return o.editerOffrePret(e,t,n,r,s)})},t.prototype.editerOffrePret=function(e,t,i,n,r){var s=this;return this.wsOffreService.editerOffrePret(e,t,i,n,!1,r).then(function(o){var a=_.union(o.listeAnomaliePassageEnGestion,o.listeAnomalie)||[];return a.length>0?s.popinAnomalieGestion(a).then(function(){return s.wsOffreService.editerOffrePret(e,t,i,n,!0,r)}):s.$q.when(o)})},t.prototype.popinAnomalieGestion=function(e){var t={anomalies:e,parametrageBoutonContinuer:this.anomalieService.getParametrageBoutonContinuer(e,!1,!1)},i={templateUrl:"typescript/fonctionnalites/edition/offre/modale-anomalie-gestion/modale-anomalie-gestion.html",controller:"ApiInstuctionCredit.ModaleAnomalieGestionControleur",controllerAs:"ctrl",windowClass:"app-modal-window-MEG",backdrop:"static",keyboard:!0,size:"lg",resolve:{callback:function(){},data:function(){return t}}};return this.modalService.showModal(i)},t.prototype.getFluxForDocumentsSynchrone=function(t,i,n,r,s,o,a,c){var l=this;return this.getListeFluxForDocument(t[s],i,n,r,e.Constantes.Editique.formatPapier,c).then(function(e){Array.prototype.push.apply(o.listeDocumentDescription,e)})["catch"](function(e){o.listeErreurs.push(e)}).then(function(){return s++,s<t.length?l.getFluxForDocumentsSynchrone(t,i,n,r,s,o,a,c):o})},t.prototype.getListeFluxForDocument=function(t,i,n,r,s,o){
var a=this,c=[];switch(t.modeleTheorique){case e.Constantes.Edition.NomDocument.tableauAmortissementCredit:_.forEach(r,function(e){c.push(a.getFluxForDocument(i,t,e,null,s,o))});break;default:c.push(this.getFluxForDocument(i,t,n,null,s,o))}return this.$q.all(c).then(function(e){return _.reduce(e,function(e,t){return e.concat(t||[])})})},t.prototype.getFluxForDocument=function(t,i,n,r,s,o){var a=this;return this.wsPiecoService.editionDocumentsAvecAno(t,i.modeleTheorique,n,r,+String.fromCharCode(i.niveauTraitement),s,o).then(function(t){if(e.Outils.Liste.isNullOrEmpty(t.listeDocument)){var n={libelle:""};return e.Outils.Liste.isNullOrEmpty(t.anomaliesLecture)?n.libelle="Pas de document généré":_.forEach(t.anomaliesLecture,function(e){n.libelle+=e.libelleAno+" "}),a.$q.reject(n)}return _.map(t.listeDocument,function(t){var n=angular.copy(i);return t.libelle&&(n.libelleDoc=t.libelle),new e.Modele.DocumentDescription(t,n)})})["catch"](function(e){return a.$q.reject(i.codeDoc+" : "+(e.codeLibelle?e.codeLibelle+" - ":"")+e.libelle)})},t.prototype.setDocumentWithSaisiesComplementaires=function(e,t,i){var n=this;return i?this.getSaisieComplementaireByDocument(e,t).then(function(i){return angular.isDefined(i)?n.setSaisieComplementaires(e,[t],[i],0,[]):n.$q.when([t])}):this.$q.when([t])},t.prototype.getSaisieComplementaireByDocument=function(t,i){var n=this;return this.wsPiecoService.getInitialiserSaisiesComplementaire(t,i.modeleTheorique).then(function(t){var r=i.modeleTheorique.substr(0,1).toLowerCase()+i.modeleTheorique.substr(1,i.modeleTheorique.length-1),s=angular.isDefined(t[r])?t[r]:null,o=n.isBlocVisible(s,!0),a=angular.isDefined(t[e.Constantes.Edition.NomSaisieCompl.notices])?t[e.Constantes.Edition.NomSaisieCompl.notices]:null,c=n.isBlocVisible(a,!0),l=t[e.Constantes.Edition.NomSaisieCompl.fC050ACA]||{},u=_.some(l[e.Constantes.Edition.NomSaisieCompl.listeDonneesCreditAModifierACA]||[],function(e){return n.isBlocVisible(e,!1)}),d=t[e.Constantes.Edition.NomSaisieCompl.fCX50ACA]||{},p=_.some(d[e.Constantes.Edition.NomSaisieCompl.listeDonneesCreditAModifierACA]||[],function(e){return n.isBlocVisible(e,!1)});if(o||c||u||p){var m={};return o&&(m[r]=s),c&&(m[e.Constantes.Edition.NomSaisieCompl.notices]=a),u&&(m[e.Constantes.Edition.NomSaisieCompl.fC050ACA]=l),p&&(m[e.Constantes.Edition.NomSaisieCompl.fCX50ACA]=d),m}})},t.prototype.isBlocVisible=function(e,t){var i=!1;return null===e||t&&!this.getAttributSaisieComplementaireNecessaireIsOk(e.saisieComplementaireNecessaire)||_.forEach(e,function(e,t){e&&e.visible&&"titre"!==t&&(i=!0)}),i},t.prototype.getAttributSaisieComplementaireNecessaireIsOk=function(e){return angular.isUndefined(e)||angular.isDefined(e)&&e===!0},t.prototype.setSaisieComplementaires=function(e,t,i,n,r){var s=this;return 0===t.length?this.$q.when([]):this.popinSaisieComplementaire(e,i[n]).then(function(o){return o&&r.push(t[n]),n++,n<t.length?s.setSaisieComplementaires(e,t,i,n,r):s.$q.when(r)})},t.prototype.popinSaisieComplementaire=function(e,t){var i={idDossier:e,proprieteSaisieComplementaire:t},n={templateUrl:"typescript/fonctionnalites/edition/documents/modale-saisie-complementaire/modale-saisie-complementaire.html",controller:"ApiInstuctionCredit.ModaleEditionSaisieComplementaireControleur",controllerAs:"ctrl",windowClass:"app-modal-window-MEG",backdrop:"static",keyboard:!0,size:"lg",resolve:{callback:function(){},data:function(){return i}}};return this.modalService.showModal(n).then(function(){return!0})["catch"](function(){return!1})},t.$inject=["$q","modalService","ApiInstuctionCredit.Data.PiecoService","ApiInstuctionCredit.Data.OffreService","ApiInstuctionCredit.AnomalieService"],t}();t.EditerDocumentService=i,e.app.service("ApiInstuctionCredit.EditerDocumentService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(){}return t.personneEstEmprunteur=function(t){return angular.isDefined(t)&&(_.contains(t,e.Constantes.Emprunteur.typeRolePersonneEmprunteur.code)||_.contains(t,e.Constantes.Emprunteur.typeRolePersonneCoEmprunteur.code))},t.personneEstGarant=function(t){return angular.isDefined(t)&&_.contains(t,e.Constantes.Emprunteur.typeRolePersonneCaution.code)},t.personneEstPayeur=function(t){return angular.isDefined(t)&&_.contains(t,e.Constantes.Emprunteur.typeRolePersonnePayeur.code)},t}();t.EmprunteurService=i,e.app.service("EmprunteurService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(){}return e.prototype.getMontantUtiliseTrancheEl=function(e,t){var i=_.find(t.projet.plansFinancement[0].creditsInternes,function(e){return(e.droitsUtilises||[]).length>0})||{},n=(_.find(i.droitsUtilises,function(t){return t.idTrancheEL===e.idws})||{}).montantDroitAcqsUtilisation||0;return i.droitsUtilises?n:void 0},e.$inject=[],e}();t.EpargneLogementService=i,e.app.service("ApiInstuctionCredit.EpargneLogementService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(e){this.modalService=e}return e.prototype.popinErreur=function(e){var t={closeButtonText:"Fermer",headerText:"Erreur",bodyText:0!==e.codeHttp?e.libelle:e.codeLibelle,iconName:"itce-warning",size:"md"};this.modalService.showPopup(t)},e.prototype.popinErreurMyWay=function(e){var t={closeButtonText:"Fermer",headerText:"Erreur",bodyText:0!==e.codeHttp?e.libelle:e.codeLibelle,iconName:"itce-warning",size:"md"};this.modalService.showPopup(t)},e.$inject=["modalService"],e}();t.ErreurService=i,e.app.service("ApiInstuctionCredit.ErreurService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t}return e.prototype.lireLeFichier=function(e){var t=this.$q.defer(),i=t.promise,n=new FileReader;return n.readAsDataURL(e),n.onloadend=function(){var e=n.result.split("base64,");angular.isDefined(e)&&e.length>1?t.resolve(e[1]):t.resolve("")},n.onerror=function(){var i={};i.codeLibelle="Impossible de lire le fichier "+e.name,t.reject(i)},i},e.prototype.convertirBase64Pdf=function(e,t,i){var n=t;n+=i?"-"+i+".pdf":".pdf";var r=MyWay.Services.Fichier.TYPE_FICHIER.PDF,s=MyWay.Services.BlobUtils.b64toBlob(e);return this.serviceAgentExtended.Fichier.saveAs(s,r,n).then(function(){return!0})},e.prototype.convertirFluxToTxt=function(e,t,i){var n=t;n+=i?"-"+i+".txt":".txt";var r=MyWay.Services.Fichier.TYPE_FICHIER.JSON;this.serviceAgentExtended.Fichier.saveAs(e,r,n)},e.$inject=["$q","serviceAgentExtended"],e}();t.FichierService=i,e.app.service("ApiInstuctionCredit.FichierService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(e){this.serviceAgentExtended=e}return e.prototype.lancerImpression=function(e){var t=this.getListeDocsImpression(e),i=this.getParametresActiveXGlobaux();return this.serviceAgentExtended.Impression.imprimerLot(t,i)},e.prototype.getListeDocsImpression=function(e){var t=this,i=[],n=1;return _.forEach(e,function(e){n++;var r=t.getDocumentImpressionLot(e.libelleDoc,e.fluxImpression,n,e.nombreTotal);i.push(r)}),i},e.prototype.getDocumentImpressionLot=function(e,t,i,n){var r={};r.annul=!0,r.impdef=!1,r.affred=!1,r.reimp=!1,r.enregistrer=!0,r.voir=!0,r.blocnbex=!1,r.nbcopiesdef=n;var s={obligatoires:{nomFichier:e},optionnels:{parametresActiveXIndividuels:r}};return{numeroOrdre:i,fichier:t,impressionParams:s}},e.prototype.getParametresActiveXGlobaux=function(){return{annul:!0,impdef:!1,affred:!1,reimp:!1}},e.$inject=["serviceAgentExtended"],e}();t.ImpressionService=i,e.app.service("ApiInstuctionCredit.ImpressionService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(){}return t.getListeModeReglementFiltree=function(t,i,n,r){var s,o=_.filter(t,function(t){return t.codeUtilisationModeRegle===e.Constantes.CodeAscii.Lettre.Maj.R&&(!n||n&&t.codeRegrEcheance===e.Constantes.CodeAscii.Lettre.Maj.N)});if(i)s=_.filter(o,function(t){return t.codeTypeDomiciliation!==e.Enum.Modalites.TypeDomiciliation.Iban.toString()||t.codeTypeDomiciliation===e.Enum.Modalites.TypeDomiciliation.Iban.toString()&&"08"===t.codeDomaineExactRegle||r===e.Constantes.Parametrage.codeDeviseEuro&&"09"===t.codeDomaineExactRegle});else{var a=[e.Enum.Modalites.TypeDomiciliation.Iban.toString(),e.Enum.Modalites.TypeDomiciliation.Tresorerie.toString()];s=_.filter(o,function(e){return!_.contains(a,e.codeTypeDomiciliation)})}return _.sortBy(s||[],function(e){return e.numeroOrdreClasse})},t}();t.ModalitesService=i,e.app.service("ApiInstuctionCredit.ModalitesService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(e,t,i){this.$q=e,this.wsCatalogueProjetService=t,this.mwsfAdresseService=i}return t.prototype.getParamsDirectiveObjetPorteGarantie=function(e,t,i,n,r,s,o,a){var c=this,l={identifiantDossier:n,idws:i.idws,objetPorteGarantie:void 0,objetGarantieGlobal:void 0};this.initCreditCouvertParGarantie(e,t,i,l),this.initObjetGarantieGlobal(e,t,l,s,r);var u=this.getCouverture(e,t),d=this.getCreditInterne(u,t),p={codeEtablissement:+r,identifiantDossier:n,identifiantCredit:d?d.idCreditGestion:""};return this.initTypeObjetReglemente(l,a,r,t).then(function(){return c.initObjetPorteGarantie(e,t,i,l,a,r)}).then(function(){return c.mwsfAdresseService.getNewAdresse(i.codePays?i.codePays:o)}).then(function(n){var r=[];return r[i.codePays]=n,c.initTypeObjetPorteGarantie(e,t,i,l,r),{contexte:p,objetPorteGarantieWrapper:l}})},t.prototype.initTypeObjetReglemente=function(e,t,i,n){var r=this;return this.wsCatalogueProjetService.getListeTypeObjetReglemente(t,i).then(function(t){var i,s=r.getProjet(n),o=_.findIndex(t,function(e){return e.typeObjetRegleTor===s.typeObjetRegle});-1!==o&&(i=t[o].libelleTypeObjetRegleTor),e.typeObjetReglemente={typeObjetReglemente:s.typeObjetRegle,libelleCourtTypeObjetReglemente:i,libelleTypeObjetReglemente:i}})},t.prototype.initCreditCouvertParGarantie=function(e,t,i,n){var r=this.getCouverture(e,t),s=this.getCreditInterne(r,t);n.creditCouvertParGarantie={identifiantObjet:i.idObjetGestion,identifiantGarantie:e.idAccessoireGestion,identifiantCredit:s?s.idCreditGestion:"",pourcentageCreditCouvert:r.quotientCouverture,dateAffectationGarantieCredit:this.getDateFormatYYYYMMDD(e.dateEffet),dateFinAffectGarantieCredit:this.getDateFormatYYYYMMDD(e.dateFinEffet)}},t.prototype.initObjetGarantieGlobal=function(t,i,n,r,s){var o,a,c,l=this.getCouverture(t,i);_.forEach(i,function(t){l&&l.idCreditCouverture&&t.idws===l.idCreditCouverture?o=t:t.idws.substr(0,4)===e.Constantes.Idws.Emprunteur.emprunteur?a=t:t.idws.substr(0,4)===e.Constantes.Idws.RedacteurActe.redacteurActe&&(c=t)}),n.objetGarantieGlobal={identifiantCaisse:+s,identifiantCredit:o?o.idCreditGestion:"",codeDevise:o?o.codeDevise:"",compteurMiseAJour:void 0,identifiantEmprunteur:a?a.idEntiteTitulaireClient:"",libelleLongProduit:o?o.libelleLongProduit:"",libelleCourtProduit:void 0,redacteurActe:c?c.nomReductionActe:"",codeAuthenticiteContrat:r?"1":"0",libelleTiers:void 0,codeBlocageActeGestion:void 0,listeObjetsPortesGarantie:void 0,listeCreditsCouvertsParGarantie:[n.creditCouvertParGarantie],listeTypologiesInstruction:void 0,listeMotifsEstimation:void 0,listeParamsModaliteEtMotif:void 0,retourQR:void 0}},t.prototype.initObjetPorteGarantie=function(t,i,n,r,s,o){var a=this;return this.wsCatalogueProjetService.getListeTypeObjetCommercial(s,o).then(function(s){var o=_.find(s,function(e){return n.typeObjetCommercialisation&&e.typeObjetFinancierGarantie===n.typeObjetCommercialisation||!n.typeObjetCommercialisation&&e.typeObjetFinancierGarantie===a.getProjet(i).typeObjetFinancier}),c=0;_.forEach(i,function(i){i.idws.substr(0,4)===e.Constantes.Idws.CouvertureCredit.couvertureCredit&&-1!==_.findIndex(t.listeIdCouverture,function(e){return e===i.idws})&&(c+=i.montantCouverture)});var l,u=a.getCouverture(t,i);u&&(l=a.getCreditInterne(u,i));var d=_.find(e.Constantes.TypologieObjetPorteGarantie.listeTypologieObjet,function(e){return e.idws===n.idws.substr(0,4)});if(d){var p=new GarantieCredit.Modele.ObjetPorteGarantie(d.typologie);p.identifiantObjet=n.idObjetGestion,p.identifiantGarantie=t.idAccessoireGestion,p.codeEtatGarantie=String.fromCharCode(t.codeEtatAccessoire),p.libelleEtatGarantie=void 0,p.codeNatureGarantie=t.natureGarantie,p.libelleNatureGarantie=void 0,p.typeObjet=o.typeObjetFinancierGarantie,p.libelleTypeObjetCommercial=o.libTypeObjetCommToc,p.dateAcceptationDossierGarantie=a.getDateFormatYYYYMMDD(t.dateAccpAccessoire),p.dateFinValiditeGarantie=a.getDateFormatYYYYMMDD(t.dateFinEffet),p.montantGarantie=c,p.codeDeviseGarantie=l?l.codeDevise:"",r.objetPorteGarantie=p}})},t.prototype.initTypeObjetPorteGarantie=function(t,i,n,r,s){switch(n.idws.substr(0,4)){case e.Constantes.Idws.BienGaranti.bienDivers:var o=n;r.objetPorteGarantie.divers=angular.extend({description:o.libelleObjet,reference1:o.reference1,reference2:o.reference2,adresseObjet:this.getLibelleAdresseBienPorteEnGarantie(o)},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.hypothequeImmobiliere:var a=n;r.objetPorteGarantie.hypothequeImmo=angular.extend({description:a.libelleObjet,referenceCadastre:a.referenceCads,referenceLot:a.referenceLot,adresseLocalisation:this.getLibelleAdresseBienPorteEnGarantie(a),typeBien:String.fromCharCode(a.typeBien),typeLogement:a.typeLogement,destinationLogement:void 0,surfaceHabitable:a.surfHabitation,surfaceTerrain:a.surfTerr,zoneImplantation:a.zoneImplBien,qualiteEmplacement:0===a.qualEmpla?"BA":"RE",montantDerniereMutation:a.montantDernierMutt,dateDerniereMutation:a.dateDernierMutt,dateConstruction:a.anneConstruction?a.anneConstruction+"-01-01":"",montantAnnuelLoyer:a.montantAnnuLoye,dateDegrevement:void 0,numeroLotCopropriete:a.numeroLotCopr,numeroSection:a.numeroSctn,rangHypotheque:t.rangHypotheque},this.getDefinitionObjet(t,i,n,s)),r.objetPorteGarantie.hypothequeImmo.codeDestinationAutoriseeObjet=String.fromCharCode(a.destinataireBien);break;case e.Constantes.Idws.BienGaranti.hypothequeAerienne:var c=n;r.objetPorteGarantie.hypothequeAerienne=angular.extend({denominationObjet:c.libelleObjet,numeroSerie:c.numeroSer,numeroImmatriculation:c.numeroImmt,adresseLocalisation:this.getLibelleAdresseBienPorteEnGarantie(c),rangHypotheque:t.rangHypotheque},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.nantissementFondDeCommerce:var l=n;r.objetPorteGarantie.nantissementFondCommerce=angular.extend({denominationFonds:l.titreOccpLocLeqlFondEstExpl,numeroInscription:l.numeroInscRcs,zoneLibre:l.libelleLibr,adresseLocalisation:this.getLibelleAdresseBienPorteEnGarantie(l),rangHypotheque:t.rangHypotheque},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.nantissementValeurMobiliere:var u=n;r.objetPorteGarantie.nantissementValeurMobiliere=angular.extend({description:u.libelleObjet,etablissement:u.referenceCadastrale,numeroCompte:u.numeroCompte},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.nantissementValeurMateriel:var d=n;r.objetPorteGarantie.nantissementValeurMateriel=angular.extend({nomMarqueDenomination:d.libelleObjet,type:d.typeValeurMatrimonial,numeroSerie:d.numeroRefTypeLot,adresseLocalisation:this.getLibelleAdresseBienPorteEnGarantie(d)},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.gageVehicule:var p=n;r.objetPorteGarantie.gageVehicule=angular.extend({marque:p.libelleObjet,numeroImmatriculation:p.numeroImmt,numeroSerie:p.numeroSer,adresseLocalisation:this.getLibelleAdresseBienPorteEnGarantie(p)},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.nantissementPartSociale:var m=n;r.objetPorteGarantie.nantissementPartSocial=angular.extend({denomination:m.libelleObjet,numeroEnregistrement:m.numeroEnregistrement,zoneLibre:m.libelleObjet,adresseSocieteCivile:this.getLibelleAdresseBienPorteEnGarantie(m),numeroCompte:m.numeroCompte},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.cessionDaillyLoyerImmeuble:var f=n;r.objetPorteGarantie.cessionDaillyLoyer=angular.extend({titreNomPrenom:f.libelleObjet,cede:void 0,adresseImmeuble:this.getLibelleAdresseBienPorteEnGarantie(f)},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.antichrese:var h=n;r.objetPorteGarantie.antichrese=angular.extend({description:h.libelleObjet,referenceCadastre:h.referenceCads,numeroLot:h.numeroLot,adresseObjet:this.getLibelleAdresseBienPorteEnGarantie(h),rangHypotheque:t.rangHypotheque},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.gageCompteInstrumentFinancier:var C=n;r.objetPorteGarantie.gageCompte=angular.extend({description:C.libelleObjet,etablissement:C.referenceCadastrale,numeroCompte:C.numeroCompte,versementsAttendus:void 0,typeVersement:void 0,montant:void 0,dateDebut:void 0,periodicite:void 0},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.contratAssurance:var v=n;r.objetPorteGarantie.listeVersementAttendu=_.chain(i).filter(function(e){return v.listeIdVersementAttn&&-1!==v.listeIdVersementAttn.indexOf(e.idws)}).sortBy(function(e){return e.numeroRelationVersementAttn}).map(function(e){var t={typeVersement:e.typeVersement,codePeriodicite:String.fromCharCode(e.periodeVersement),montantVersementattendu:e.montantVersement,dateDebutVersementAttendu:e.dateDebut,dateFinVersementAttendu:"0001-01-01"!==e.dateFin?e.dateFin:null,identifiantDossierInstruction:e.idws,codeDevise:r.objetGarantieGlobal.codeDevise};return t}).value(),r.objetPorteGarantie.contratAssurance=angular.extend({nomPrenomAssure:v.libelleObjet,dateNaissance:this.getDateFormatYYYYMMDD(v.dateNaisAssurance),siren:v.numeroSiren,nomCompagnieAssurance:v.nomCieAssurance,gestionnaireSiegeSocial:void 0,centreGestion:v.cntrGestion,typeTechnique:v.typeTechniqueJuridique,versementAttendus:v.codeIndiceAttnVersement===e.Constantes.CodeAscii.Lettre.Maj.O?"O":"N",montantMinVersement:v.montantMinimumVersementSigne,typeVersement:void 0,montant:void 0,dateDebut:void 0,periodicite:void 0,pourcentageApportPersonnel:v.apportPersonne,montantMinimumSignature:void 0,numeroContrat:v.numeroContratAssurance,nomContrat:v.nomContratAssurance},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.cessionDaillyAutre:var g=n;r.objetPorteGarantie.cessionDaillyAutres=angular.extend({titreNomPrenom:void 0,cede:g.libelleObjet},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.delegationLoyer:var b=n;r.objetPorteGarantie.delegLoyer=angular.extend({description:b.libelleObjet,nomAdresseLocataire:void 0,montantAnnuelLoyer:b.montantAnnuLoye,dateExtinctionBail:b.dateExterneBail,numeroCompte:b.numeroCompte,nomAdresse:b.nomGern},this.getDefinitionObjet(t,i,n,s));break;case e.Constantes.Idws.BienGaranti.bonDeCaisseCapitalisation:var A=n;r.objetPorteGarantie.bonCaisseCapitalisation=angular.extend({description:A.libelleObjet,etablissement:A.referenceCadastrale,numeroCompte:A.numeroCompte,siren:A.numeroSiren,valeurBonOrigine:A.valeurBonOrigine,numeroContrat:A.numeroContratTitre,numeroTitre:A.numeroContratTitre,natureBon:A.natureBon,dateEcheance:A.dateeche,titreNomPrenomTitulaire:A.titreNomPrenDeps,depositaireTitre:A.titreNomPrenDeps},this.getDefinitionObjet(t,i,n,s))}},t.prototype.getDefinitionObjet=function(t,i,n,r){var s,o,a=this.getProjet(i),c=this.getCouverture(t,i);_.forEach(i,function(t){c&&c.idCreditCouverture&&t.idws===c.idCreditCouverture?s=t:t.idws.substr(0,4)===e.Constantes.Idws.Emprunteur.emprunteur&&(o=t)});var l=r[n.codePays];return l.afnor.ligne2=n.adresseLigne1Suite,l.afnor.ligne3=n.adresseLigne4,l.afnor.ligne4=n.adresseLigne3,l.afnor.ligne5=n.adresseLigne5,l.codePostal=n.codePoste,l.libelleInseeLocalite=n.ville,{identifiantObjet:n.idObjetGestion,libellePaysLocalisation:n.codePays,zoneBanaliseeLongueur32:void 0,codeDestinationAutoriseeObjet:void 0,montantValeurObjetVenale:n.montantEstmVenl,montantValeurObjetPrudentielle:n.montantEstmPrdn,montantValeurObjetAmiable:void 0,montantValeurObjetSaisie:void 0,dateEstimationValeurObjetVenale:this.getDateFormatYYYYMMDD(n.dateEstmVenl),dateEstimationValeurObjetSaisie:void 0,codeTypeObjet:a.typeObjetFinancier,codeDevise:s.codeDevise,indicateurBanalise:void 0,codeModaliteEstimationVenale:n.codeModeleEstmVenl,codeModaliteEstimationAmiable:void 0,codeModaliteEstimationSaisie:void 0,codeMotifReestimationVenale:void 0,codeMotifReestimationAmiable:void 0,codeMotifReestimationSaisie:void 0,typeObjetReglemente:a.typeObjetRegle,montantNominalObjet:n.montantEstmVenl,codeUtilisationObjetDansCredit:void 0,dateEstimationValeurObjetPruden:this.getDateFormatYYYYMMDD(n.dateEstmPrdn),dateEstimationValeurObjetAmia:void 0,codeModaliteEstimationPruden:n.codeModeleEstmPrdn,codeMotifReestimationPruden:n.codeMotfReSPrdn,adresseNom:void 0,adresseComplementNom:void 0,adresse:void 0,adresseComplement:void 0,adresseCodePostal:void 0,adresseVille:void 0,codePaysLocalisation:n.codePays,libelleCleMasque:void 0,codeModaliteOccupation:void 0,listeEstimation:void 0,adresseDqe:l,souscriptionContratAssurance:n.souscriptionContratAssurance}},t.prototype.getCouverture=function(e,t){return _.find(t,function(t){return e.listeIdCouverture[0]===t.idws})},t.prototype.getCreditInterne=function(e,t){return _.find(t,function(t){return t.idws===e.idCreditCouverture})},t.prototype.getLibelleAdresseBienPorteEnGarantie=function(e){return e.adresseLigne1+" "+e.adresseLigne1Suite+" "+e.adresseLigne3+" "+e.adresseLigne4+" "+e.codePoste+" "+e.ville},t.prototype.getDateFormatYYYYMMDD=function(e){return e&&"0001-01-01"!==e?moment(e).format("YYYY-MM-DD"):void 0},t.prototype.getProjet=function(t){return _.find(t,function(t){return t.idws.substr(0,4)===e.Constantes.Idws.Projet.projetImmobilier})},t.$inject=["$q","ApiInstuctionCredit.Data.CatalogueProjetService","mwsfAdresseService"],t}();t.ObjetPorteGarantieWrapperService=i,e.app.service("ApiInstuctionCredit.ObjetPorteGarantieWrapperService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i="OrigineApportServicelisterParamOrigineApportCacheKey",n="OrigineApportServicegetOrigineApport",r=function(){function e(e,t,i,n,r){this.$q=e,this.wsCatalogueOrigineApportService=t,this.wsFinancementService=i,this.wsDossierService=n,this.cacheService=r}return e.prototype.getOrigineApport=function(e,t,i,r,s,o){var a=this;void 0===o&&(o=!1);var c=n+e+t+i+(r||[]).toString()+s;return this.cacheService.get(c,function(){return a.$q.all([(r||[]).length>0?a.wsDossierService.lireElements(t,r):a.$q.when([]),a.listerParamOrigineApport(s,e)]).then(function(e){var n=e[0],r=e[1];return{listeOrgineApportDetail:a.getOrigineApportDetail(r,n),idDossier:t,identifiantPlan:i}})},this.cacheService.defaultTimeToLive,o)},e.prototype.origineApportActif=function(e,t){return this.listerParamOrigineApport(e,t).then(function(e){return 0!==(e||[]).length})},e.prototype.saveOrigineApport=function(e){var t=_.map(e.listeOrgineApportDetail,function(e){return{codeOrigine:e.codeOrigine,montantApportOrigine:e.montant||0}});return this.wsFinancementService.definirOrigineApport(e.idDossier,e.identifiantPlan,t)},e.prototype.getOrigineApportDetail=function(e,t){var i=[];return _.each(e,function(e){var n=_.find(t||[],function(t){return t.codeOrigine===e.idOrigineApport}),r=n?n.montantApportOrigine:0;i.push({codeOrigine:e.idOrigineApport,libelle:e.libelleOrigine,montant:r})}),i},e.prototype.listerParamOrigineApport=function(e,t){var n=this,r=i+e;return this.cacheService.get(r,function(){return n.wsCatalogueOrigineApportService.listerParametreOrigineApport(e,t).then(function(e){return _.filter(e||[],function(e){return e.idCaisseEpargne===parseInt(t)})})},this.cacheService.unlimitedTimeTolive,!0)},e.$inject=["$q","ApiInstuctionCredit.Data.CatalogueOrigineApportService","ApiInstuctionCredit.Data.FinancementService","ApiInstuctionCredit.Data.DossierService","ApiInstuctionCredit.Service.CacheService"],e}();t.OrigineApportService=r,e.app.service("ApiInstuctionCredit.Service.OrigineApportService",r)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(e,t){this.$q=e,this.wsCatalogueCommunService=t}return t.prototype.getAfficherFicheSuiveuse=function(t,i,n){var r=[e.Enum.SousEtatDossier.PropositionCommerciale,e.Enum.SousEtatDossier.PropositionCommercialeAutre],s=_.contains(r,t);return s?this.$q.when(!1):this.wsCatalogueCommunService.getListeParametresApplicatifsFiltrees(i,n,[],[e.Constantes.Parametrage.codeFicheSuiveuse]).then(function(e){return e.length>0&&moment(e[0].dateDebutValidite).toDate()<=moment(i).toDate()&&moment(e[0].dateFinValidite).toDate()>=moment(i).toDate()})},t.$inject=["$q","ApiInstuctionCredit.Data.CatalogueCommunService"],t}();t.ParametrageService=i,e.app.service("ApiInstuctionCredit.ParametrageService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(){}return t.getDureePhaseMax=function(t){var i=_.reduce(_.map(t.creditsInternes||[],function(e){return e.phases}),function(e,t){return e.concat(t)},[]),n=_.filter(i,function(t){return!_.startsWith(t.idws,e.Constantes.Idws.CreditPhase.creditPhasePrefinancement)});return(_.max(n,function(e){return e.dureeEnMois})||{}).dureeEnMois},t.getDureeCreditMax=function(t){var i=_.map(t.creditsInternes,function(t){var i=0;return _.each(t.phases,function(t){_.startsWith(t.idws,e.Constantes.Idws.CreditPhase.creditPhasePrefinancement)||(i+=t.dureeEnMois)}),i});return _.max(i)},t.getCoutCreditInterne=function(t){return e.Outils.Objet.getMontant(t.montantTotalCreditHorsAccessoireHorsPeriodePref-t.montantCapitalCredit+t.coutTotalAccessoirePosteSurCredit,t.codeDevise,t.tauxMontage)},t.getIdwsForPropositions=function(e){var t=_.reduce(_.map(e,function(e){return _.map(e.creditsInternes||[],function(e){return e.idws})}),function(e,t){return _.union(e,t)},[]);return _.map(e||[],function(e){return e.idws}).concat(t)},t.prototype.getTegAlertMessage=function(t,i){var n=new e.Modele.CreditSyntheseProposition(t,[]),r=n.valeurTeg||0,s=null===n.valeurTeg?"TEG":n.isRestitionActu?e.Constantes.Donnees.listeModeRestitution[0].libelle:e.Constantes.Donnees.listeModeRestitution[1].libelle,o=!!t.tauxUsure&&r>t.tauxUsure&&i&&"021"!==i&&"022"!==i,a=t.tauxUsure&&o?" - Taux d'usure : "+t.tauxUsure.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+"%":"";return(o?"⚠ ":"")+" "+s+" \n                "+r.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" %"+a},t.prototype.hasErrorTeg=function(t,i){var n=new e.Modele.CreditSyntheseProposition(t,[]);return!!t.tauxUsure&&n.valeurTeg>t.tauxUsure&&i&&"021"!==i&&"022"!==i},t}();t.PlanFinancementService=i,e.app.service("ApiInstuctionCredit.PlanFinancementService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(){}return t.prototype.estPromotionimmobiliereAccordee=function(t){if(t){if(t.indiceAlltDeps===e.Constantes.CodeAscii.Lettre.Maj.N)return!1;if(_.contains([e.Constantes.CodeAscii.Nombre.un,e.Constantes.CodeAscii.Nombre.six],t.stttCapitalisation))return!0}return!1},t}();t.PromotionImmobiliereService=i,e.app.service("ApiInstuctionCredit.Service.PromotionImmobiliereService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(){this.afficherBlocErreur=!1}return e.$inject=[],e}();t.SyntheseService=i,e.app.service("ApiInstuctionCredit.SyntheseService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";t.TRACE_COOKIE="instr-credit-trace-active",t.TRACE_DEBUG_LEVEL=4,function(e){e[e.NONE=-1]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e[e.ALL=10]="ALL"}(t.MYWAY_DEBUG_LOGGER_VALUES||(t.MYWAY_DEBUG_LOGGER_VALUES={}));var i=t.MYWAY_DEBUG_LOGGER_VALUES,n=function(){function e(e,t,i,n,r){this.$q=e,this.traceDataService=t,this.fichierService=i,this.serviceAgentExtended=n,this.modalService=r}return e.prototype.setOnTrace=function(){var e=this,i=this.setOffTrace();return i.then(function(){var i=e.$q.when();return e.canLog(t.TRACE_DEBUG_LEVEL)&&(e.addTraceCookie(),i=e.traceDataService.setOnTrace().then(function(){})["catch"](function(){return e.errorSetOnTrace()})),i})},e.prototype.errorSetOnTrace=function(){var e={headerText:"Activation des traces",bodyText:"L'activation des traces a échouée.",actionButtonText:"Fermer",size:"md"};return this.modalService.showConfirm(e).then(function(){})["catch"](function(){})},e.prototype.setOffTrace=function(e){var i=this;return void 0===e&&(e=!1),this.hasTraceCookieAlreadySet()?this.traceDataService.setOffTrace(e).then(function(n){if(i.removeTraceCookie(),e||!n.contenuTrace||!i.canLog(t.TRACE_DEBUG_LEVEL))return null;var r={headerText:"Récupération des traces",bodyText:"Voulez-vous récupérer les traces générées?",actionButtonText:"Récupérer",closeButtonText:"Annuler",size:"md"};return i.modalService.showConfirm(r).then(function(){i.fichierService.convertirFluxToTxt(n.contenuTrace,"Traces")})})["catch"](function(){}):this.$q.when()},e.prototype.hasTraceCookieAlreadySet=function(){return!!document.cookie.match("INST_CREDT="+t.TRACE_COOKIE)},e.prototype.addTraceCookie=function(){var e=moment().hour(23).minute(30).second(0).toDate().toUTCString();document.cookie="INST_CREDT="+t.TRACE_COOKIE+"=true; expires="+e+";path=/"},e.prototype.removeTraceCookie=function(){document.cookie="INST_CREDT="+t.TRACE_COOKIE+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/"},Object.defineProperty(e.prototype,"loggerLevel",{get:function(){return this.serviceAgentExtended.Context&&this.serviceAgentExtended.Context.StepInfo?this.serviceAgentExtended.Context.StepInfo.NiveauTrace:i.ALL},enumerable:!0,configurable:!0}),e.prototype.canLog=function(e){return!!console&&this.loggerLevel>=e},e.$inject=["$q","ApiInstuctionCredit.Data.TraceDataService","ApiInstuctionCredit.FichierService","serviceAgentExtended","modalService"],e}();t.TraceService=n,e.app.service("ApiInstuctionCredit.TraceService",n)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e){this.wsService=e}return t.prototype.recherche=function(t,i,n){var r=e.Constantes.WebServiceUrls.Agent.urlRecherche,s={typeRecherche:i?"05":"01",codeEtablissement:t,indicateurAgentNominatif:"N",nombreMaximumReponse:"0",codeAction:"1"};return i?s.identifiantAgent=i:s.nomAgentDebutPlage=n,this.wsService.sendGetRequestWithParams(r,s).then(function(e){return e.listeAgents})},t.prototype.caracteristiqueAgent=function(t,i){var n=e.Constantes.WebServiceUrls.Agent.urlCaracteristique,r={codeEtablissement:t,identifiantAgent:i};return this.wsService.sendGetRequestWithParams(n,r)},t.prototype.rechercheAgent=function(t,i){var n=e.Constantes.WebServiceUrls.Agent.urlRecherche,r={typeRecherche:"01",codeEtablissement:i,indicateurAgentNominatif:"N",nombreMaximumReponse:"0",codeAction:"1",nomAgentDebutPlage:t};return this.wsService.sendGetRequestWithParams(n,r);
},t.$inject=["ApiInstuctionCredit.Data.WsService"],t}();t.AgentService=i,e.app.service("ApiInstuctionCredit.Data.AgentService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t}return e.prototype.postAjoutSuiviPlanifie=function(e,t,n){var r=i.Dossier.urlAjouterSuiviPlanifie,s={identifiantCredit:t?t:"",identifiantDossier:e?e:"",typeSuivantPlafond:n?n:""};return this.serviceAgentExtended.sendRequest({url:r,data:s,withHeaders:!0,method:MyWay.Services.MethodEnum.POST,responseType:MyWay.Services.ResponseTypeEnum.JSON})},e.$inject=["$q","serviceAgentExtended"],e}();t.AjoutSuiviPlanifieService=n,e.app.service("ApiInstuctionCredit.Data.AjoutSuiviPlanifieService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function t(e){this.wsService=e}return t.prototype.listerScConvAss=function(e,t,n,r){var s=i.Dossier.urlListerScConvAss,o={identifiantDossier:e,tsListeIdwsCredit:t,ageMaximum:n,assuranceDeft:!1,tsListeIdwsPersonne:r};return this.wsService.sendPostRequest(s,o)},t.prototype.listerConventionsAssuranceCompatible=function(e,t,n){var r=i.Dossier.urlListerConventionsAssuranceCompatible,s={identifiantDossier:e,listeIdwsCredit:t,assuranceDeft:!1,listeIdwsPersonne:n};return this.wsService.sendPostRequest(r,s)},t.prototype.ajouterAssAvcControl=function(e,t,n,r){var s=i.Dossier.urlAjouterAssAvcControl,o={identifiantDossier:e,listeIdwsCreditCouvertureParAss:t,identifiantPersonne:n,identifiantConventionAssurance:r};return this.wsService.sendPostRequest(s,o)},t.prototype.chargerRefusAssExt=function(e){var t=i.Dossier.urlChargerRefusAssExt,n={identifiantDossier:e};return this.wsService.sendGetRequestWithParams(t,n)},t.prototype.ajouterRefusAssExt=function(e,t,n,r){var s=i.Dossier.urlAjouterRefusAssExt,o={identifiantDossier:e,identifiantPersonne:t,identifiantPlanFinancement:n,refusAssurance:r};return this.wsService.sendPostRequest(s,o)},t.prototype.editerDocumentFC050REF=function(t,n,r){var s=i.Edition.urlEditerDocFC050REF,o={identifiantDossier:t,idws:n,parametreEdition:{identifiantWsDocument:n,codeDocument:r,idEntiteFonctionnelle:null,codeTypeEntite:null,modeEdition:e.Constantes.CodeAscii.Lettre.Maj.E,typeEditique:e.Constantes.CodeAscii.Lettre.Maj.N,forceControleEdition:!1,forceControleGestion:!1,formatEditique:e.Constantes.Editique.formatPapier}};return this.wsService.sendPostRequest(s,o)},t.prototype.consulterAssurCnp=function(e){var t=i.Externe.urlConsulterAssurCNP,n={idDossier:e,idPropAssuranceCnp:"",idExterneAccessoire:"",idPersonne:"",forcerControles:!0};return this.wsService.sendPostRequest(t,n)},t.$inject=["ApiInstuctionCredit.Data.WsService"],t}();t.AssuranceService=n,e.app.service("ApiInstuctionCredit.Data.AssuranceService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e){this.wsService=e}return e.prototype.ajouterCreditBonification=function(e,t,n){var r=i.Dossier.urlAjouterCreditBonification,s={identifiantDossier:e,idendifiantCredit:t,idConventionBonification:n};return this.wsService.sendPostRequest(r,s)},e.prototype.calculerBonification=function(e,t){var n=i.Dossier.urlCalculerBonification,r={identifiantDossier:e,identifiantBonification:t};return this.wsService.sendPostRequest(n,r)},e.$inject=["ApiInstuctionCredit.Data.WsService"],e}();t.BonificationService=n,e.app.service("ApiInstuctionCredit.Data.BonificationService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function t(e,t){this.$q=e,this.wsService=t}return t.prototype.getCapaciteRemboursement=function(t,i,n,r){var s=e.Constantes.WebServiceUrls.CreditService.urlCalculerCapaciteRemboursement,o={dateDeTraitement:t,versionWsdl:e.Constantes.Service.versionWsdlN,typeApplication:e.Constantes.Service.codeApplicationN,montantEcheance:n,tauxEndettement:r,listeRessourceCharge:i};return this.wsService.sendPostRequest(s,o)},t.prototype.getFraisNotaires=function(t,i,n,r,s){var o=e.Constantes.WebServiceUrls.CreditService.urlCalculerFraisNotaire,a={dateDeTraitement:t,versionWsdl:e.Constantes.Service.versionWsdlN,typeApplication:e.Constantes.Service.codeApplicationN,typeObjetCommercialise:n,typeObjetReglemente:r,montantAcquisition:i,devise:s};return this.wsService.sendPostRequest(o,a)},t.prototype.calculerModulationCredit=function(e,t,n){var r=i.Dossier.urlCalculerModulCredit,s={identifiantDossier:e,identifiantCredit:t,entrCalculModn:n};return this.wsService.sendPostRequest(r,s)},t.prototype.calculerRevision=function(e){var t=i.Dossier.urlCalculerRevision;return this.wsService.sendPostRequest(t,e)},t.$inject=["$q","ApiInstuctionCredit.Data.WsService"],t}();t.CalculService=n,e.app.service("ApiInstuctionCredit.Data.CalculService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function t(e){this.wsService=e}return t.prototype.rafraichirEmprDoss=function(e,t){var n=i.Externe.urlRafraichirEmprDoss,r={identifiantDossier:e,supprRCEmprunteur:t};return this.wsService.sendPostRequest(n,r)},t.prototype.addChargePersonne=function(e,t,n){var r=i.Dossier.urlAjouterCharge,s={identifiantDossier:e,idPersonneEmprunteur:t,chargeMiseAJour:n};return this.wsService.sendPostRequest(r,s)},t.prototype.getEntitesTitulaires=function(t,i){var n=e.Constantes.WebServiceUrls.EntiteTitulaire.urlRecherche,r={codeEtablissement:t,identifiantTiers:i,typeRechercheEntiteTitulaire:"1"};return this.wsService.sendGetRequestWithParams(n,r)},t.prototype.getInformationsEntiteTitulaire=function(t,i){var n=e.Constantes.WebServiceUrls.EntiteTitulaire.urlInformationEntiteTitulaire,r={codeEtablissement:t,identifiantEntiteTitulaire:i};return this.wsService.sendGetRequestWithParams(n,r)},t.prototype.addRevenuFiscalPersonne=function(e,t){var n=i.Dossier.urlAjouterRevenuFiscalEmprunteur,r={identifiantDossier:e,montantRevenuMenage:t,typeRevenuMenage:49};return this.wsService.sendPostRequest(n,r)},t.prototype.addRevenuPersonne=function(e,t,n){var r=i.Dossier.urlAjouterRessource,s={identifiantDossier:e,idPersonneEmprunteur:t,ressourceMiseAJour:n};return this.wsService.sendPostRequest(r,s)},t.prototype.addComptePersonne=function(e,t,n,r){void 0===r&&(r="");var s=i.Dossier.urlAjouterComptePersonne+"?identifiantClasse=compteDepotMaj",o={identifiantDossier:e,identifiantPersonne:t,numeroCompte:r,compteMiseAJour:n};return this.wsService.sendPostRequest(s,o)},t.prototype.addEpargnePersonne=function(e,t,n){var r=i.Dossier.urlAjouterFamilleEpargnePersonne,s={identifiantDossier:e,idPersonne:t,familleMiseAJour:n};return this.wsService.sendPostRequest(r,s)},t.prototype.definirRessources=function(e,t,n){var r=i.Dossier.urlDefinirRessources,s={identifiantDossier:e,idPersonneEmprunt:t,listeRessourceMAJ:n};return this.wsService.sendPostRequest(r,s)},t.prototype.definirCharges=function(e,t,n){var r=i.Dossier.urlDefinirCharges,s={identifiantDossier:e,idPersonneEmprunt:t,listeChargeMAJ:n};return this.wsService.sendPostRequest(r,s)},t.prototype.lirePersonne=function(t,i,n,r,s,o,a,c,l){var u=e.Constantes.WebServiceUrls.CreditService.urlLirePersonne,d={codeEtablissement:t,identifiantDossierInstruction:i,codeVersion:e.Constantes.Service.versionWsdl.substr(0,2),codeRelease:e.Constantes.Service.versionWsdl.substr(2,2),identifiantPersonne:n,numeroCarteBancaire:r,numeroInsee:s,typeRolePersonne:o,codeTypePersonne:a,idEntiteTitulaireClient:c,codeTypeMarche:l};return this.wsService.sendGetRequestWithParams(u,d)},t.prototype.definirEmprunteurAvecControles=function(e,t,n,r,s,o){var a=i.Externe.urlDefinirEmpAvecCtrl,c={identifiantDossier:e,identifiantClientBancaire:_.padLeft(t,9,"0"),rattachement:n,forcerControle:{forcerControleSuppression:r,forcerControleAjout:s,forcerControleRattachement:o}};return this.wsService.sendPostRequest(a,c)},t.prototype.ajouterPersAvecCtrl=function(e,t,n){var r=i.Externe.urlAjouterPersAvecCtrl+"?identifiantClasse="+t,s={identifiantDossier:e,listePersonne:n};return this.wsService.sendPostRequest(r,s)},t.prototype.listeChargeRelation=function(e,t){var n=i.Dossier.urlListeChargeRelation,r={codeEtablissement:e,identiteRelationEcoMenage:t,indicateurChargesHorsCredit:"N",indicateurChargesCreditInterne:"O",indicateurChargesCreditExterne:"O"};return this.wsService.sendGetRequestWithParams(n,r)},t.$inject=["ApiInstuctionCredit.Data.WsService"],t}();t.ClientService=n,e.app.service("ApiInstuctionCredit.Data.ClientService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e,t){this.$q=e,this.wsService=t}return e.prototype.transmettrePropositionCnp=function(e,t,n){var r={forcerControles:n,idDossier:e,idExterneAccessoire:t.idExterneAccessoire,idPersonne:t.idPersonneAssurance,idPropAssuranceCnp:t.idConfOffreAssurance};return this.wsService.sendPostRequest(i.Externe.urlTransmettrePropCnp,r)},e.prototype.listerCollectiviteCNP=function(e,t,n){var r=i.Externe.urlListerCollectivitCNP,s={identifiantDossier:e,identifiantPersonne:t,identifiantPlanFinancement:n};return this.wsService.sendPostRequest(r,s)},e.prototype.creerDossierCNP=function(e,t,n,r,s){var o=i.Externe.urlCreerDossierCNP,a={identifiantDossier:e,identifiantPersonne:t,identifiantPlanFinancement:n,codeCollectiviteCNP:r,forcerCreation:s};return this.wsService.sendPostRequest(o,a)},e.prototype.lireDecisionCNP=function(e,t,n,r,s){var o=i.Externe.urlLireDecisionCNP,a={identifiantDossier:e,identifiantPersonne:t,identifiantPlanFinancement:n,codeCollectiviteCNP:r,forcerDecision:s};return this.wsService.sendPostRequest(o,a)},e.prototype.recupererContexteCNP=function(e,t,n,r,s){var o=i.Externe.urlRecupererContexteCNP+"?identifiantDossierCNP="+e+"&identifiantPersonne="+t+"&identifiantPlanFinancement="+n+"&codeCollectiviteCNP="+r+"&forcerAction="+s;return this.wsService.sendGetRequest(o)},e.prototype.recupererDocsCNP=function(e,t,n){var r=i.Externe.urlConsulterDocsDossCNP,s={identifiantDossier:e,identifiantPersonne:t,identifiantPlanFinancement:n};return this.wsService.sendPostRequest(r,s)},e.$inject=["$q","ApiInstuctionCredit.Data.WsService"],e}();t.CnpService=n,e.app.service("ApiInstuctionCredit.Data.CnpService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e,t){this.$q=e,this.wsService=t}return e.prototype.ajouterContratEpargneLogement=function(e,t){var n=i.Dossier.urlAjouterContratEpargneLogement,r={identifiantDossier:e,contratEpargneLogementMAJ:t};return this.wsService.sendPostRequest(n,r)},e.prototype.calculerEnCoursEL=function(e,t,n){var r=i.Dossier.urlCalculerEnCoursEL+"?identifiantDossier="+e+"&idwsProjet="+t;return n&&(r=r+"&idProduit="+n),this.wsService.sendGetRequest(r)},e.prototype.rapatrierContratEL=function(e){var t=i.Externe.urlRapatrierContratEL;return t+="?identifiantDossier="+e,this.wsService.sendGetRequest(t)},e.prototype.listerDroitsAcquisEL=function(e,t,n){var r=i.Externe.urlListerDroitsAcquisEL,s={identifiantDossier:e,idwCredit:t,periodicite:n};return this.wsService.sendPostRequest(r,s)},e.prototype.listerDroitsAPretEL=function(e,t,n){var r=i.Externe.urlListerDroitsAPretEL,s={identifiantDossier:e,idwsCredit:t,periodicite:n.toLowerCase()};return this.wsService.sendPostRequest(r,s)},e.prototype.calculerCreditEL=function(e,t,n,r,s,o,a){var c=i.Dossier.urlCalculerCreditEL,l={identifiantDossier:e,idwsCredit:t,periodicite:n.toLowerCase(),duree:r,montant:s,estEcheance:o,estManuel:a};return this.wsService.sendPostRequest(c,l)},e.prototype.retenirPropositionEL=function(e,t,n,r,s,o,a,c,l){var u=i.Dossier.urlRetenirPropositionEL,d={identifiantDossier:e,idwsCredit:t,periodicite:n.toLowerCase(),duree:r,montantPret:s,montantEcheance:o,tauxPret:a,estEcheance:c,estManuel:l};return this.wsService.sendPutRequest(u,d)},e.prototype.editerDocumentEL=function(e,t,n){var r=i.Edition.urlEditerDocumentEL,s={identifiantDossier:e,identifiantWs:t,sdImpressionEL:n};return this.wsService.sendPostRequest(r,s)},e.$inject=["$q","ApiInstuctionCredit.Data.WsService"],e}();t.ContratEpargneLogementService=n,e.app.service("ApiInstuctionCredit.Data.ContratEpargneLogementService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e){this.wsService=e}return e.prototype.miseAJourDossierNumerique=function(e){var t=i.Dossier.urlMiseAJourDossNum+"?identifiantDossier="+e;return this.wsService.sendPutRequest(t)},e.$inject=["ApiInstuctionCredit.Data.WsService"],e}();t.DossierNumeriqueService=n,e.app.service("ApiInstuctionCredit.Service.DossierNumeriqueService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function t(e,t,i){this.$http=e,this.wsService=t,this.anomalieService=i}return t.prototype.creerProjet=function(t,n,r,s,o,a,c){void 0===a&&(a=null),void 0===c&&(c=null);var l=i.Elements.urlCreerProjet;null!==a&&(a=_.padLeft(a,9,"0"));var u={versionWsdl:e.Constantes.Service.versionWsdlN,dateTraitement:t,applicationCharge:e.Constantes.Service.codeApplicationN,idClientBancaire:a,typeObjetCommercialisation:n,typeObjetReglemente:r,coutTotalObjet:0,montantApportPersonne:0,idProduit:null,canalDeCreation:s,codeDevise:o,identifiantPourLeCompteDe:c};return this.wsService.sendPostRequest(l,u)},t.prototype.getDossierComplet=function(e){var t=i.Elements.urlOuvrirDossierComplet+"?identifiantDossier="+e+"&identifiantElement="+e;return this.wsService.sendGetRequest(t)},t.prototype.getAccepterImportWeb=function(e,t){var n=i.OperationSurDossier.urlAccepterImportWeb+"?identifiantDossier="+e+"&dossierOuvert="+t;return this.wsService.sendGetRequest(n)},t.prototype.getRefuserImportWeb=function(e,t){var n=i.OperationSurDossier.urlRefuserImportWeb+"?identifiantDossier="+e+"&dossierOuvert="+t;return this.wsService.sendGetRequest(n)},t.prototype.getDossierSchema=function(e,t){void 0===t&&(t=!1);var n=i.Elements.urlLireSchemaDossier+"?identifiantDossier="+e+"&dossierFerme="+t;return this.wsService.sendGetRequest(n)},t.prototype.majElement=function(e,t,n){var r=i.Elements.urlMiseAJourElement+"?identifiantClasse="+e,s={identifiantDossier:t,elementMiseAJour:n};return this.wsService.sendPutRequest(r,s)},t.prototype.majElements=function(e,t,n){var r=i.Elements.urlMiseAJourElements+"?identifiantClasse="+e,s={identifiantDossier:t,listeElementsMiseAJour:n};return this.wsService.sendPutRequest(r,s)},t.prototype.lireElements=function(e,t){var n=i.Elements.urlLireElements,r={identifiantDossier:e,listeIdentifiantElement:_.uniq(t)};return this.wsService.sendPostRequest(n,r)},t.prototype.fermerDossier=function(e,t){var n=i.OperationSurDossier.urlFermerDossier,r={identifiantDossier:e,sauvegarde:t};return this.wsService.sendPutRequest(n,r)},t.prototype.supprimerElement=function(e,t){var n=i.Elements.urlSupprimerElement+"?identifiantDossier="+e+"&identifiantElement="+t;return this.wsService.sendDeleteRequest(n)},t.prototype.supprimerElementAvecControle=function(e,t,n){var r=i.Elements.urlSupprElementAvecCtrl,s={identifiantDossier:e,entreeTransaction:{idws:t,forceeControle:n}};return this.wsService.sendDeleteRequest(r,s)},t.prototype.supprimerListeElements=function(e,t){var n=i.Elements.urlSupprimerElements,r={identifiantDossier:e,listeIdentifiantsElement:t};return this.wsService.sendDeleteRequest(n,r)},t.prototype.enregistrerDossier=function(e){var t=i.Dossier.urlSauverDossier+"?identifiantDossier="+e;return this.wsService.sendPutRequest(t)},t.prototype.calculerEligibilite=function(e){var t=i.Dossier.urlCalculerEligibilite+"?identifiantDossier="+e;return this.wsService.sendGetRequest(t)},t.prototype.calculerEndettement=function(e,t,n){void 0===n&&(n="1");var r=i.Dossier.urlCalculerEndettement,s={surProposition:t,identifiantDossier:e,numeroRelatifPlan:parseInt(n)};return this.wsService.sendPostRequest(r,s)},t.prototype.transfererDossierDansApp=function(e,t,n){var r=i.OperationSurDossier.urlTransfererDossierDansApp,s={idDossierInstruction:e,codeVisibiliteInstruction:t,typeTransfertApplication:n};return this.wsService.sendPostRequest(r,s)},t.prototype.controlerDossier=function(e){var t=this,n=i.Dossier.urlControlerDossier+"?identifiantDossier="+e;return this.wsService.sendGetRequest(n).then(function(e){return t.anomalieService.formateAnomalies(e)})},t.prototype.controlerCompletude=function(e){var t=this,n=i.Dossier.urlControlerCompletude+"?identifiantDossier="+e;return this.wsService.sendGetRequest(n).then(function(e){return t.anomalieService.formateAnomalies(e)})},t.prototype.controlerCompletudeGarantieAssurance=function(e){var t=this,n=i.Dossier.urlCtrlCompletudeGarAss+"?identifiantDossier="+e;return this.wsService.sendGetRequest(n).then(function(e){return t.anomalieService.formateAnomalies(e)})},t.prototype.controlerDecision=function(e,t,n,r,s){var o=i.OperationSurDossier.urlControlerDecision,a={idDossier:e,dateAccordPreteur:t,forcerControleAvtAccessoirePret:n,forcerControleBale2:r,forcerControleReglementaire:s};return this.wsService.sendPostRequest(o,a)},t.prototype.passerDossierSsSuite=function(e,t,n){var r=i.OperationSurDossier.urlPasserDossierSsSuite;return r=r+"?identifiantDossier="+e+"&codeEvenement="+t+"&dateEvenement="+n,this.wsService.sendPutRequest(r)},t.prototype.listerDossier=function(t,n,r,s){var o=i.Dossier.urlListerDossier,a={versionWsdl:e.Constantes.Service.versionWsdlN,dateTraitement:t,codeApplication:n,critereDeRechercheDossier:r,nombreDossierMaxi:s+1};return this.wsService.sendPostRequest(o,a)},t.prototype.ouvrirDossier=function(t,n,r){var s=i.Elements.urlOuvrirDossier,o={versionWsdl:e.Constantes.Service.versionWsdlN,dateTraitement:n,identifiantDossier:t,codeApplication:e.Constantes.Service.codeApplicationN,actionSurDossier:r,ignorerControlModeOuverture:!1};return this.wsService.sendPostRequest(s,o)},t.prototype.estEligibleSignatureElectronique=function(e){var t=i.Externe.urlEligibleSignaElec,n={identifiantDossier:e};return this.wsService.sendPostRequest(t,n)},t.prototype.estEligibleSignatureElectroniqueGen=function(e,t){var n=i.Externe.urlEligibleSignaElecGen,r={identifiantDossier:e,codeSignature:t};return this.wsService.sendPostRequest(n,r)},t.prototype.lireActeSignatureGenerique=function(e,t){var n=i.Externe.urlLireActeSignElecGene,r={idDossier:e,codeSignature:t};return this.wsService.sendPostRequest(n,r)},t.prototype.validerActeSignatureGenerique=function(e,t){var n=i.Externe.urlValActeSignEleGene,r={idDossier:e,codeSignature:t};return this.wsService.sendPostRequest(n,r)},t.prototype.annulerActeSignatureGenerique=function(e,t,n){var r=i.Externe.urlAnnActeSignElecGen,s={entreeSignatureElectronique:{codeSignature:t,idDossier:e},motifAnnulation:n};return this.wsService.sendPostRequest(r,s)},t.prototype.transfererMyCredimmo=function(e){var t=i.OperationSurDossier.urlTransfererMyCredimmo,n={identifiantDossier:e,visMyCredimmo:!0};return this.wsService.sendPutRequest(t,n)},t.prototype.copierDossier=function(t,n){var r=i.Elements.urlCopierDossier,s={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,identifiantDossierCopr:n,applicationCharge:e.Constantes.Service.codeApplicationN};return this.wsService.sendPostRequest(r,s)},t.prototype.definirDossierMRH=function(e){var t=i.Externe.urlDefinirDossierMRH+"?identifiantDossier="+e;return this.wsService.sendGetRequest(t)},t.prototype.definirBlocNotes=function(e){var t=i.Dossier.urlDefinirBlocNotes;return this.wsService.sendPostRequest(t,e)},t.prototype.ouvrirBlocNotes=function(e){var t=i.Dossier.urlOuvrirBlocNotes+"?identifiantDossier="+e;return this.wsService.sendGetRequest(t)},t.prototype.transfererProprieteDossier=function(e,t){var n=i.OperationSurDossier.urlTransfererProprDos,r={identifiantDossier:e,identifiantAgentTransfert:t};return this.wsService.sendPutRequest(n,r)},t.prototype.prorogationDossier=function(e,t,n){var r=i.OperationSurDossier.urlProrogationDossier,s={dossierResume:e,delaiSaisi:t,forcerProrogation:n};return this.wsService.sendPostRequest(r,s)},t.$inject=["$http","ApiInstuctionCredit.Data.WsService","ApiInstuctionCredit.AnomalieService"],t}();t.DossierService=n,e.app.service("ApiInstuctionCredit.Data.DossierService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function t(e){this.wsService=e}return t.prototype.listerIdsProduitsAutorises=function(e,t,n,r,s){var o=i.Dossier.urlListerProduitsAutorises,a={identifiantDossier:e,identifiantProjet:t,codeFamilleProduit:"",codeDevise:s,produitLissage:n,optimAtrCredit:r};return this.wsService.sendPostRequest(o,a)},t.prototype.listerGammesLissageAutorisees=function(e,t,n){var r=i.Dossier.urlListerGammesLissageAutorisees,s={codeDevise:n,identifiantDossier:e,identifiantProjet:t};return this.wsService.sendPostRequest(r,s)},t.prototype.listerProdEtFamAuto=function(e,t,n,r,s){var o=i.Dossier.urlListerProdEtFamAuto,a={identifiantDossier:e,idwsProjet:t,idwsPlanFinancement:n,codeProduit:"",codeDevise:r,estProduitLissage:!1,estOptimAtrCredit:s};return this.wsService.sendPostRequest(o,a)},t.prototype.addCreditExterne=function(e,t,n){var r=i.Dossier.urlAjouterCreditExterne,s={identifiantDossier:e,identifiantPlanFinancier:t,creditExterneMAJ:n};return this.wsService.sendPostRequest(r,s)},t.prototype.calculOptimisationAvancee=function(e,t,n,r,s){var o=i.Externe.urlCalculerOptimisationAvancee;s.idwsPlanFinancier=t,s.montantEcheanceMaximum=n,s.tauxEndtMaximum=r,s.alerteBlqn=!1;var a={identifiantDossier:e,entreeOptimisationAvancee:s};return this.wsService.sendPostRequest(o,a)},t.prototype.retenirPlanOptimise=function(e,t){var n=i.OperationSurDossier.urlRetenirPlanOptimise,r={identifiantDossier:e,identifiantPlanOptimise:t};return this.wsService.sendPutRequest(n,r)},t.prototype.validerAccordClient=function(e,t){var n=i.OperationSurDossier.urlValiderAccordClient+"?identifiantDossier="+e+"&idwsPlanRet="+t;return this.wsService.sendPutRequest(n)},t.prototype.consulterDossierSmac=function(t,i){var n=e.Constantes.WebServiceUrls.CreditService.urlConsultationDossierSmac,r={numeroDossierNEO:t,numeroPlanFinancement:parseInt(i)};return this.wsService.sendPostRequest(n,r)},t.prototype.synchroniserAvecSmac=function(e,t,n,r,s){var o=i.Externe.urlSynchroniserAvecSmac+"?idDossier="+e+"&idPlnFint="+t+"&miseAJourDossierSMAC="+n+"&miseAJourDossierNEO="+r+"&uIDSmac="+s;return this.wsService.sendGetRequest(o)},t.prototype.lireBaleII=function(t,i){var n=e.Constantes.WebServiceUrls.CreditService.urlLireBaleII,r={codeVersion:e.Constantes.Service.versionWsdl.substr(0,2),codeRelease:e.Constantes.Service.versionWsdl.substr(2,2),identifiantDossierInstruction:t,identifiantPersonne:i,typeAttributaireNote:"1"};return this.wsService.sendPostRequest(n,r)},t.prototype.ajouterPlanFinancement=function(e,t,n){var r=i.Dossier.urlAjouterPlanFinancement,s={identifiantDossier:e,identifiantProjet:t,planFinancementMiseAJour:n};return this.wsService.sendPostRequest(r,s)},t.prototype.calculerCreditInterne=function(e,t,n){var r=i.Dossier.urlCalculerCreditIntern,s={identifiantDossier:e,idwsCredit:t,financeRAF:n};return this.wsService.sendPostRequest(r,s)},t.prototype.calculerCaracteristiqueCredit=function(t,i,n,r,s,o){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null);var a=e.Constantes.WebServiceUrls.CreditService.urlCalculerCaracteristiqueCredit,c={capitalCredit:t,echeanceCredit:i,tauxCredit:n,typeTaux:r,nombrePeriode:s,periodicite:o};return this.wsService.sendPostRequest(a,c)},t.prototype.definirPaliersContraints=function(e,t,n){var r=i.Dossier.urlDefPaliersContraints,s={identifiantDossier:e,idwsPlanFinancier:t,listePalierContrat:n};return this.wsService.sendPostRequest(r,s)},t.prototype.definirPhase=function(e,t,n){var r=i.Dossier.urlDefinirPhase,s={identifiantDossier:e,idwsCredit:t,codeIndiceTypePhase:n};return this.wsService.sendPostRequest(r,s)},t.prototype.calculerHypotheseCap=function(e,t){var n=i.Dossier.urlCalculerHypotheseCap+"?identifiantDossier="+e+"&idwsCredit="+t;return this.wsService.sendGetRequest(n)},t.prototype.ajouterPhaseCreditExistant=function(e){var t=i.Dossier.urlAjouterPhaseCreditExistant;return this.wsService.sendPostRequest(t,e)},t.prototype.ajouterCreditInterne=function(e,t,n,r,s,o,a){var c=i.Dossier.urlAjouterCreditInterne,l={identifiantDossier:e,identifiantPlanFinancier:t,identifiantProduit:n,montantEmprunte:r,initMontant:s,enOptim:o,txMontage:a?a:0};return this.wsService.sendPostRequest(c,l)},t.prototype.definirOrigineApport=function(e,t,n){var r=i.Dossier.urlDefinirOrigineApport,s={identifiantDossier:e,identifiantPlanRet:t,listeOrigineApport:n};return this.wsService.sendPostRequest(r,s)},t.prototype.definirRemiseTaux=function(e,t,n,r,s){var o=i.Dossier.urlDefinirRemiseTaux,a={identifiantDossier:e,identifiantPlanFinancement:t,identifiantCredit:n,typeRemise:r,applicationMarge:s};return this.wsService.sendPostRequest(o,a)},t.prototype.dupliquerPlanFinancement=function(e,t){var n=i.Dossier.urlCopierPlanFinancemnt,r={identifiantDossier:e,idwsPlanFinACopier:t};return this.wsService.sendPostRequest(n,r)},t.prototype.recupererInfoCompPTZ=function(e,t){var n=i.Dossier.urlRecupererInfoCompPTZ,r={idDossier:e,idPlanFin:t};return this.wsService.sendPostRequest(n,r)},t.$inject=["ApiInstuctionCredit.Data.WsService"],t}();t.FinancementService=n,e.app.service("ApiInstuctionCredit.Data.FinancementService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e){this.wsService=e}return e.prototype.miseAJourAccessoireLieProd=function(e,t,n,r,s,o,a){var c=i.Dossier.urlMiseAJourAccLieProd,l={identifiantDossier:e,idwsCredit:t,accessoireLieProduitMaj:n,montant:r,taux:s,nombrePaiement:o,tsIdwsCreditPhase:a};return this.wsService.sendPutRequest(c,l)},e.prototype.miseAJourAccessComp=function(e,t,n,r,s,o,a){var c=i.Dossier.urlMiseAJourAccessComp,l={identifiantDossier:e,idwsCredit:t,accessoireComplementaireMaj:n,montant:r,taux:s,nombrePaiement:o,tsIdwsCreditPhase:a};return this.wsService.sendPutRequest(c,l)},e.prototype.ajouterAccessoireLieProduit=function(e,t,n){var r=i.Dossier.urlAjouterAccessoireLieProduit,s={identifiantDossier:e,identifiantCredit:t,codeTypeAccessoire:n};return this.wsService.sendPostRequest(r,s)},e.prototype.ajouterAccessoireComp=function(e,t,n,r){var s=i.Dossier.urlAjouterAccessoireComp,o={identifiantDossier:e,identifiantCredit:t,codeTypeAccessoire:n,codeSousTypeAccessoire:r};return this.wsService.sendPostRequest(s,o)},e.prototype.ajouterAccCompTier=function(e,t,n,r){var s=i.Dossier.urlAjouterAccCompTier,o={identifiantDossier:e,idwsAccessoireComplementaire:t,identifiantTiers:n,codeRole:r};return this.wsService.sendPostRequest(s,o)},e.prototype.supprimerTiersAccCmp=function(e,t){var n=i.Dossier.urlSupprimerTiersAccCmp+"?identifiantDossier="+e+"&identifiantAccessoireComplement="+t;return this.wsService.sendGetRequest(n)},e.$inject=["ApiInstuctionCredit.Data.WsService"],e}();t.FraisAccessoiresService=n,e.app.service("ApiInstuctionCredit.Data.FraisAccessoiresService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function t(e,t){this.$q=e,this.wsService=t,this._listeConventionGarantie=[]}return t.prototype.ajouterGarantie=function(e,t,n,r){var s=i.Dossier.urlAjouterGarantieV2,o={identifiantDossier:e,listeIdentifiantCredCouv:t,natureGarantie:n,identifiantGarant:r};return this.wsService.sendPostRequest(s,o)},t.prototype.ajouterGarantiePersoConv=function(e,t,n){var r=i.Dossier.urlAjouterGarantiePersoConv,s={identifiantDossier:e,listeIdCreditCouvParGarantie:t,idConventionGarantie:n};return this.wsService.sendPostRequest(r,s)},t.prototype.ajouterGarAvecCtrl=function(e,t,n,r,s){var o=i.Dossier.urlAjouterGarAvecCtrl,a={identifiantDossier:e,listeIdentifiantCreditCouverture:t,natureGarantie:n,identifiantGarantie:r,forcerAjout:s};return this.wsService.sendPostRequest(o,a)},t.prototype.ajouterGarPersConvCt=function(e,t,n,r){var s=i.Dossier.urlAjouterGarPersConvCt,o={identifiantDossier:e,listeIdwsCreditCouvertureParGarantie:t,identifiantConventionGarantie:n,forcerAjout:r};return this.wsService.sendPostRequest(s,o)},t.prototype.listerConventionsGarantieParCredit=function(e,t,n,r,s,o){var a=i.Dossier.urlListerConventionsGarantie,c={identifiantDossier:e,listeIdwsCredit:t,informationGarantie:{cdfcod:n,cdfcng:r,libelleLong:s,topGarantie:o}};return this.wsService.sendPostRequest(a,c)},t.prototype.listerInformationGarantie=function(e,t,n){var r=i.Dossier.urlListerInformationGarantie,s={identifiantDossier:e,listeIdwsCredit:t,conseille:n};return this.wsService.sendPostRequest(r,s)},t.prototype.calculerFraisHypotheque=function(e,t){var n=i.Dossier.urlCalculerFraisHypotheque,r={identifiantDossier:e,idwsGarantieReelle:t};return this.wsService.sendPostRequest(n,r)},t.prototype.definirBienPorteGar=function(e,t,n){var r=i.Dossier.urlDefinirBienPorteGar,s={identifiantDossier:e,idWsGarantie:t,typeObjetCommercialisation:n};return this.wsService.sendPostRequest(r,s)},t.prototype.envoyerSACCEF=function(e,t){var n=i.Externe.urlEnvoyerSACCEF+"?identifiantDossier="+e+"&idwsPlan="+t;return this.wsService.sendGetRequest(n)},t.prototype.ctrlAvantAppelCegc=function(e){var t=i.Dossier.urlCtrlAvantAppelCegc+"?identifiantDossier="+e;return this.wsService.sendGetRequest(t)},t.prototype.traiterReponseCEGC=function(e){var t=i.Externe.urlTraiterReponseCEGC+"?idDossier="+e;return this.wsService.sendGetRequest(t)},t.prototype.testerPresRepCEGC=function(e){var t=i.Externe.urlTesterPresRepCEGC+"?idDossier="+e;return this.wsService.sendGetRequest(t)},t.prototype.chargerConventionGarantie=function(t,i,n){var r=this;if(this._listeConventionGarantie[i])return this.$q.when(this._listeConventionGarantie[i]);var s=e.Constantes.WebServiceUrls.CreditParametre.urlChargerConventionGarantie+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&identifiantConvention="+i+"&codeEtablissement="+n;return this.wsService.sendGetRequest(s).then(function(e){return r._listeConventionGarantie[e.idConvention]=e,e})},t.$inject=["$q","ApiInstuctionCredit.Data.WsService"],t}();t.GarantieService=n,e.app.service("ApiInstuctionCredit.Data.GarantieService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){
function e(e,t){this.wsService=e,this.dossierService=t}return e.prototype.ajouterVersementAttendu=function(e,t,n){var r=i.Dossier.urlAjouterVersementAttendu,s={identifiantDossier:e,identifiantContratAssurance:t,versementAttenduMAJ:{idws:void 0,typeVersement:n.typeVersement,montantVersement:n.montantVersementattendu,periodeVersement:n.codePeriodicite.charCodeAt(0),dateDebut:n.dateDebutVersementAttendu,dateFin:n.dateFinVersementAttendu}};return this.wsService.sendPostRequest(r,s)},e.prototype.modifierVersementAttendu=function(e,t){var i={idws:t.identifiantDossierInstruction,typeVersement:t.typeVersement,periodeVersement:t.codePeriodicite.charCodeAt(0),montantVersement:t.montantVersementattendu,dateDebut:t.dateDebutVersementAttendu,dateFin:t.dateFinVersementAttendu};return this.dossierService.majElement("versementAttenduMaj",e,i)},e.prototype.supprimerVersementAttendu=function(e,t){return this.dossierService.supprimerElement(e,t)},e.$inject=["ApiInstuctionCredit.Data.WsService","ApiInstuctionCredit.Data.DossierService"],e}();t.GarantieVersementAttenduService=n,e.app.service("ApiInstuctionCredit.Data.GarantieVersementAttenduService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e,t){this.$q=e,this.serviceAgentExtended=t}return t.prototype.getListerClausesSuivi=function(t,i,n,r,s){var o=e.Constantes.WebServiceUrls.CreditParametre.urlListerClausesSuivi+"?codeEtablissement="+t;return o+="&versionWsdl=0",o+="&dateDeTraitement="+n,o+="&optim="+i,o+="&initMontant=true",r&&(o+="&identifiantClause="+r),this.serviceAgentExtended.sendRequest({url:o,withHeaders:!0,method:MyWay.Services.MethodEnum.GET,responseType:MyWay.Services.ResponseTypeEnum.JSON})},t.$inject=["$q","serviceAgentExtended"],t}();t.ListerClausesSuiviService=i,e.app.service("ApiInstuctionCredit.Data.ListerClausesSuiviService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e,t){this.$q=e,this.serviceAgentExtended=t}return t.prototype.postListerSuivisPlanifies=function(t,i,n,r){var s=e.Constantes.WebServiceUrls.CreditParametre.urlListerSuivisPlanifies,o={codeFamilleProduit:t?t:null,criteresAccess:r?r:null,dateDeTraitement:i?i:null,numeroRelationProduit:n?n:null,versionWsdl:0};return this.serviceAgentExtended.sendRequest({url:s,data:o,withHeaders:!0,method:MyWay.Services.MethodEnum.POST,responseType:MyWay.Services.ResponseTypeEnum.JSON})},t.$inject=["$q","serviceAgentExtended"],t}();t.ListerSuivisPlanifiesService=i,e.app.service("ApiInstuctionCredit.Data.ListerSuivisPlanifiesService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e){this.wsService=e}return e.prototype.getListeMandats=function(e,t){var n=i.Dossier.urlListerMandats,r={identifiantDossier:e,idwsPlanFinancier:t};return this.wsService.sendPostRequest(n,r)},e.prototype.ajouterMandat=function(e,t,n,r){var s={identifiantDossier:e,identifiantPayeur:t,bicIban:n,modeReglement:r};return this.wsService.sendPostRequest(i.Dossier.urlAjouterMandat,s)},e.prototype.annulerMandatPayeur=function(e,t){var n=i.Dossier.urlAnnulerMandatSurPayeur+"?identifiantDossier="+e+"&identifiantPayeur="+t;return this.wsService.sendPostRequest(n,void 0)},e.prototype.annulerMandatSecours=function(e){var t=i.Dossier.urlAnnulerMandatSecours+"?identifiantDossier="+e;return this.wsService.sendPostRequest(t,void 0)},e.$inject=["ApiInstuctionCredit.Data.WsService"],e}();t.MandatService=n,e.app.service("ApiInstuctionCredit.Data.MandatService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e,t){this.wsService=e,this.anomalieService=t}return e.prototype.ajouterPayeur=function(e,t,n,r){var s=i.Dossier.urlAjouterPayeur,o={identifiantDossier:e,identifiantCredit:t,identifiantPersonne:n,payeurMiseAJour:r};return this.wsService.sendPostRequest(s,o)},e.prototype.definirRedacteurActe=function(e,t){var n=i.Dossier.urlDefinirRedacteurActe,r={identifiantDossier:e,redacteurActeMaj:t};return this.wsService.sendPostRequest(n,r)},e.prototype.ajouterAvis=function(e,t,n){void 0===n&&(n=!1);var r=i.Dossier.urlAjouterAvis,s={identifiantDossier:e,avisMiseAJour:t,dossierFerme:n};return this.wsService.sendPostRequest(r,s)},e.prototype.postAjouterAvis=function(e,t,n){void 0===n&&(n=!1);var r=i.Dossier.urlAjouterAvis,s={identifiantDossier:e,avisMiseAJour:t,dossierFerme:n};return this.wsService.sendPostRequest(r,s)},e.prototype.refuserAccessoire=function(e,t,n){var r=i.Dossier.urlRefuserAccessoire+"?identifiantDossier="+e+"&identifiantAccessoire="+t+"&dateRefusAccessoire="+n;return this.wsService.sendPutRequest(r)},e.prototype.accorderAccessoire=function(e,t,n,r){var s=this,o=i.OperationSurDossier.urlAccorderAccessoire,a={identifiantDossier:e,identifiantAccessoire:t,dateAccord:n,reference:r};return this.wsService.sendPutRequest(o,a).then(function(e){return s.anomalieService.formateAnomalies(e)})},e.prototype.listerPersonnes=function(e,t,n,r,s,o,a,c,l,u){var d=i.Externe.urlListerPersonnes,p={identifiantDossier:e,nom:t?t:"",dateNaissance:n?n:null,prenom:r?r:"",numeroCompte:s?s:"",numeroCarteBancaire:o?o:"",identifiantPersonne:a?a:"",rolePersonne:c,typePersonne:l,numeroSiren:u?u:""};return this.wsService.sendPostRequest(d,p)},e.prototype.executerCalcDelegDec=function(e,t,n,r){var s=i.Externe.urlExecuterCalcDelegDec,o={identifiantDossier:e,identifiantAgentTransfert:t,continu:n,reponse:r};return this.wsService.sendPostRequest(s,o)},e.prototype.executerBale2=function(e,t){var n=i.Externe.urlExecuterBale2,r={identifiantDossier:e,idPlnFint:t};return this.wsService.sendPostRequest(n,r)},e.prototype.executerAnalyseDeRisque=function(e,t,n,r,s){var o=i.Externe.urlExecuterAnalyseRisqu,a={identifiantDossier:e,identifiantPlanFinancement:t,analyseSimplifiee:n,modePrescore:r,sauvegarderResultatADR:s};return this.wsService.sendPostRequest(o,a)},e.$inject=["ApiInstuctionCredit.Data.WsService","ApiInstuctionCredit.AnomalieService"],e}();t.MontageService=n,e.app.service("ApiInstuctionCredit.Data.MontageService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e,t){this.wsService=e,this.anomalieService=t}return e.prototype.lireOffrePretIndustrialisee=function(e){var t=i.Externe.urlLireOffrePretIndustrialisee+"?identifiantDossier="+e;return this.wsService.sendGetRequest(t)},e.prototype.creerDossierEdition=function(e,t){var n=this,r=i.Externe.urlCreerDossEditionGde,s={identifiantDossier:e,listeIdwsDocOffreIndus:t};return this.wsService.sendPostRequest(r,s).then(function(e){return{code:e.code,valeur:e.valeur,libelle:e.libelle,anomaliesLecture:n.anomalieService.formateAnomalies(e.anomaliesLecture),anomaliesPassageEnGestionLecture:n.anomalieService.formateAnomalies(e.anomaliesPassageEnGestionLecture)}})},e.prototype.ajouterDocumentsDansDossierEdition=function(e,t){var n=i.Externe.urlAjouterDocumentsDansDossierEdition,r={identifiantDossier:e,listeDocOffreIndusMaj:t};return this.wsService.sendPostRequest(n,r)},e.prototype.annulerDossierEdition=function(e){var t=i.Externe.urlAnnulerDossierEditio+"?identifiantDossier="+e;return this.wsService.sendPostRequest(t,void 0)},e.$inject=["ApiInstuctionCredit.Data.WsService","ApiInstuctionCredit.AnomalieService"],e}();t.OffreIndustrialiseeService=n,e.app.service("ApiInstuctionCredit.Data.OffreIndustrialiseeService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function t(e,t){this.wsService=e,this.anomalieService=t}return t.prototype.validerAccordPreteur=function(e,t,n){var r=i.OperationSurDossier.urlValiderAccordPreteur,s={identifiantDossier:e,dateAccordPreteur:t,avis:n};return this.wsService.sendPutRequest(r,s)},t.prototype.validationAccordPreteur=function(e,t,n,r,s,o){var a=i.OperationSurDossier.urlValidationAccordPreteur,c={entreeControleDecision:{idDossier:e,dateAccordPreteur:t,forcerControleAvtAccessoirePret:r,forcerControleBale2:s,forcerControleReglementaire:o},avis:n,controleDecisionEffectue:!0,controleReglementaireForcee:r||s||o,controleCtfprmA3Forcee:!1};return this.wsService.sendPostRequest(a,c,6e4)},t.prototype.passerAccordPreteur=function(e,t,n){var r=this,s=i.OperationSurDossier.urlPasserAccordPreteur,o={identifiantDossier:e,dateAccordPreteur:t,avis:n};return this.wsService.sendPutRequest(s,o).then(function(e){return r.anomalieService.formateAnomalies(e.anomalies)})},t.prototype.verifierEdsDecision=function(e,t,n){var r=i.Dossier.urlVerifierEdsDecision+"?identifiantDossier="+e+"&codeTypeEds="+t+"&identifiantEds="+n;return this.wsService.sendGetRequest(r)},t.prototype.tranfererDossierViaIdentifiant=function(e,t,n){var r=i.OperationSurDossier.urlTransfererDossViaId,s={identifiantDossier:e,informationTransfert:t,bLancerControleDossier:n};return this.wsService.sendPutRequest(r,s)},t.prototype.transfererDossViaRes=function(e,t){var n=i.OperationSurDossier.urlTransfererDossViaRes,r={informationTransfert:e,dossierResume:t};return this.wsService.sendPutRequest(n,r)},t.prototype.rendreDossierViaId=function(e){var t=i.OperationSurDossier.urlRendreDossierViaId;return this.wsService.sendPostRequest(t,e)},t.prototype.annulerTransfertViaIdentifiantDossier=function(e,t){var n=i.OperationSurDossier.urlAnnulerTrfViaIdDoss,r={identifiantDossier:e,typeControleTransfert:t};return this.wsService.sendPostRequest(n,r)},t.prototype.annulerTransfertViaDossierRes=function(e){var t=i.OperationSurDossier.urlAnnulerTrfViaDossRes;return this.wsService.sendPostRequest(t,e)},t.prototype.annulerAccordPreteur=function(e){var t=i.OperationSurDossier.urlAnnulerAccordPreteur+"?identifiantDossier="+e;return this.wsService.sendPutRequest(t)},t.prototype.refuserAccordPreteur=function(e,t){var n=i.OperationSurDossier.urlRefuserAccordPreteur+"?identifiantDossier="+e+"&dateRefusPreteur="+t;return this.wsService.sendPutRequest(n)},t.prototype.ajouterClausePersonnalisee=function(e,t){var n=i.Dossier.urlAjouterClausePersonnalisee,r={identifiantDossier:e,clausePersonneMiseAJour:t};return this.wsService.sendPostRequest(n,r)},t.prototype.controlerAvantEditionOffre=function(e){var t=i.Dossier.urlCtrlAvantEditOffre;return this.wsService.sendPostRequest(t,e)},t.prototype.editerOffrePret=function(t,n,r,s,o,a,c){var l=this;void 0===c&&(c=!0);var u=i.Edition.urlEditerOffrePret,d={identifiantDossier:t,parametreEdition:{codeDocument:n.modeleTheorique,idEntiteFonctionnelle:null,codeTypeEntite:null,modeEdition:r,typeEditique:e.Constantes.CodeAscii.Lettre.Maj.N,forceControleEdition:c,forceControleGestion:o,formatEditique:s,identifiantWsDocument:n.idwsElement,params:null,codeSignature:a}};return this.wsService.sendPostRequest(u,d,9e4).then(function(t){return{documentsOffreDescription:_.map(t.listeDocumentsOffre,function(t){return new e.Modele.DocumentDescription(t,n)}),listeAnomalieControleEditionOffre:l.anomalieService.formateAnomalies(t.listeAnomalieControleEditionOffreLecture),listeAnomaliePassageEnGestion:l.anomalieService.formateAnomalies(t.listeAnomaliePassageEnGestionLecture),listeAnomalie:l.anomalieService.formateAnomalies(t.listeAnomalieLecture)}})},t.prototype.passerEnOffreEditee=function(e){var t=i.OperationSurDossier.urlPasserEnOffreEditee+"?identifiantDossier="+e;return this.wsService.sendPutRequest(t)},t.prototype.remettreOffre=function(e,t){var n=this,r=i.OperationSurDossier.urlRemettreOffre,s={identifiantDossier:e,dateRemiseEmprunteur:t,alerteBloquante:!0};return this.wsService.sendPostRequest(r,s).then(function(e){return n.anomalieService.formateAnomalies(e)})},t.prototype.signerOffrePret=function(e,t,n,r,s,o){var a=this,c=i.OperationSurDossier.urlSignerOffrePret,l={idDossier:e,dateSignature:t,numeroOffre:n,listeIdPersonne:r,signe:s,forcerCtrlusureLorsSignature:o};return this.wsService.sendPostRequest(c,l).then(function(e){return{anomalies:a.anomalieService.formateAnomalies(e.anomalies),anomaliesPreRequis:a.anomalieService.formateAnomalies(e.anomaliesPreRequis),anomaliesCtrlusureLorsSignature:a.anomalieService.formateAnomalies(e.anomaliesCtrlusureLorsSignature),anomaliesControleCalculNiveauDelegationDecision:a.anomalieService.formateAnomalies(e.anomaliesControleCalculNiveauDelegationDecision),anomaliesControleAvantEnvoiSaccef:a.anomalieService.formateAnomalies(e.anomaliesControleAvantEnvoiSaccef),anomaliesPassageEnGestionLecture:a.anomalieService.formateAnomalies(e.anomaliesPassageEnGestionLecture),anomaliesControleVerifDates:a.anomalieService.formateAnomalies(e.anomaliesControleVerifDates),anomaliesControleVerifGlobale:a.anomalieService.formateAnomalies(e.anomaliesControleVerifGlobale)}})},t.prototype.modificationAccPretr=function(e,t,n,r,s,o){var a=i.OperationSurDossier.urlModificationAccPretr,c={entreeControleDecision:{idDossier:e,dateAccordPreteur:t,forcerControleAvtAccessoirePret:r,forcerControleBale2:s,forcerControleReglementaire:o},avis:n,controleDecisionEffectue:!0};return this.wsService.sendPostRequest(a,c,6e4)},t.prototype.validerPiecesJustif=function(e,t){var n=i.Dossier.urlValiderPiecesJustif,r={idws:e,forceeControle:!1,idPlanFinancement:t};return this.wsService.sendPostRequest(n,r)},t.prototype.signerMandat=function(e,t,n){var r=i.Dossier.urlSignerMandat,s={identifiantDossier:e,referenceMandat:t,dateSignature:n};return this.wsService.sendPostRequest(r,s)},t.$inject=["ApiInstuctionCredit.Data.WsService","ApiInstuctionCredit.AnomalieService"],t}();t.OffreService=n,e.app.service("ApiInstuctionCredit.Data.OffreService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e){this.wsService=e}return e.prototype.lireActeSignatureElectronique=function(e){var t=i.Externe.urlLireActeSignatureElectronique+"?identifiantDossier="+e;return this.wsService.sendGetRequest(t)},e.prototype.alimenterDossierSignatureElectronique=function(e,t){var n=i.Externe.urlAlimenterDossierSignatureElectronique,r={identifiantDossier:e,listeDocumentIDN:t};return this.wsService.sendPostRequest(n,r)},e.prototype.alimenterDossierSignatureElectroniqueGene=function(e,t,n){var r=i.Externe.urlAlimDossSignElecGene,s={entreeSignatureElectronique:{idDossier:e,codeSignature:n},listeDocumentIDN:t};return this.wsService.sendPostRequest(r,s)},e.prototype.traiterRetourSignSAG=function(e,t){var n=i.Externe.urlTraiterRetourSignSAG,r={codeSignature:t,idDossier:e};return this.wsService.sendPostRequest(n,r)},e.prototype.lireDocActSigElecGen=function(e){var t=i.Externe.urlLireDocActSigElecGen,n={identifiantIDN:e};return this.wsService.sendGetRequestWithParams(t,n)},e.prototype.lireDocumentActeSignatureElectronique=function(e,t,n){var r=i.Externe.urlAlimDossSignElecGene,s={entreeSignatureElectronique:{idDossier:e,codeSignature:n},listeDocumentIDN:t};return this.wsService.sendPostRequest(r,s)},e.prototype.validerActeSignaElectronique=function(e){var t=i.Externe.urlValiderActeSignaElec,n={identifiantDossier:e};return this.wsService.sendPutRequest(t,n)},e.prototype.lancerProcessusSignatureElectronique=function(e){var t=i.Externe.urlLancerProceSignaElec,n={identifiantDossier:e};return this.wsService.sendPutRequest(t,n)},e.prototype.lancerProcessusSignatureElectroniqueGen=function(e,t){var n=i.Externe.urlLancerProSignElecGen,r={idDossier:e,codeSignature:t};return this.wsService.sendPostRequest(n,r)},e.prototype.annulerActeSignatureElectronique=function(e,t){var n=i.Externe.urlAnnulerActeSignatureElectronique,r={identifiantDossier:e,motifAnnulation:t};return this.wsService.sendPostRequest(n,r)},e.prototype.lireActeSignElecGene=function(e){var t=i.Externe.urlLireActeSignElecGene;return this.wsService.sendPostRequest(t,e)},e.$inject=["ApiInstuctionCredit.Data.WsService"],e}();t.OffreSignatureElectroniqueService=n,e.app.service("ApiInstuctionCredit.Data.OffreSignatureElectroniqueService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e,t){this.wsService=e,this.anomalieService=t}return e.prototype.miseAJourPhase=function(e,t,n,r,s){var o=i.Dossier.urlMiseAJourPhase+"?identifiantClasse="+e,a={creditPhaseMAJ:n,complementPhasePretCbinMAJ:r,creditParamRevisionPhaseMAJ:s,identifiantDossier:t};return this.wsService.sendPutRequest(o,a)},e.$inject=["ApiInstuctionCredit.Data.WsService","ApiInstuctionCredit.AnomalieService"],e}();t.PhaseService=n,e.app.service("ApiInstuctionCredit.Data.PhaseService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function t(e,t){this.wsService=e,this.anomalieService=t}return t.prototype.listerDocuments=function(e,t,n){var r=i.Dossier.urlListerDocuments,s={identifiantDossier:e,typeListe:t,identifiantPlanFinancement:n};return this.wsService.sendPostRequest(r,s,6e4).then(function(e){return _.forEach(e.listeInformationDocument,function(e){e.libelleDoc=e.libelleDoc.substr(1)}),e})},t.prototype.editerDocument=function(t,n,r,s){var o=i.Edition.urlEditerDocument,a={identifiantDossier:t,identifiantWs:r,identifiantDocument:n,formatEditique:e.Constantes.Editique.formatPapier,typeEdition:e.Constantes.CodeAscii.Lettre.Maj.N};return null!==s&&(a.parametres=s),this.wsService.sendPostRequest(o,a,9e4)},t.prototype.editionDocuments=function(t,n,r,s,o,a,c){var l=i.Edition.urlEditerDocuments,u={identifiantDossier:t,parametreEdition:{formatEditique:a,identifiantWsDocument:r,typeEditique:e.Constantes.CodeAscii.Lettre.Maj.N,niveauTraitement:o,codeDocument:n,params:s,codeSignature:c,codeTypeEntite:null,forceControleEdition:!1,forceControleGestion:!1,idEntiteFonctionnelle:null,modeEdition:e.Constantes.CodeAscii.Caractere.vide}};return this.wsService.sendPostRequest(l,u,6e4).then(function(e){return e.listeDocument})},t.prototype.editionDocumentsAvecAno=function(t,n,r,s,o,a,c){var l=i.Edition.urlEditerDocuments,u={identifiantDossier:t,parametreEdition:{formatEditique:a,identifiantWsDocument:r,typeEditique:e.Constantes.CodeAscii.Lettre.Maj.N,niveauTraitement:o,codeDocument:n,params:s,codeSignature:c,codeTypeEntite:null,forceControleEdition:!1,forceControleGestion:!1,idEntiteFonctionnelle:null,modeEdition:e.Constantes.CodeAscii.Caractere.vide}};return this.wsService.sendPostRequest(l,u,6e4)},t.prototype.calculerPiecesEtControles=function(e,t,n){void 0===n&&(n=!1);var r=i.Externe.urlCalculerPiecesEtControles,s={identifiantDossier:e,identifiantPlan:t,estConsulterDNCSeulement:n};return this.wsService.sendPostRequest(r,s)},t.prototype.enregistrerCommentairesPieces=function(e,t,n){var r=i.Dossier.urlEnregistrerComPieces,s={identifiantDossier:e,commissionPieceClient:t,commissionPieceAgence:n};return this.wsService.sendPutRequest(r,s)},t.prototype.recupererContexteEdition=function(e){var t=i.Externe.urlRecupererCntxtEditio+"?identifiantDossier="+e;return this.wsService.sendGetRequest(t)},t.prototype.getInitialiserSaisiesComplementaire=function(e,t){var n=i.Dossier.urlInitSaisiesComp;return n=n+"?identifiantDossier="+e+"&identifiantDocument="+t,this.wsService.sendGetRequest(n,6e4)},t.prototype.editerDocFZHCOPT=function(e,t,n){var r=i.Edition.urlEditerDocFZHCOPT,s={identifiantDossier:e,idws:t,sdImpressionFZHCOPT:n};return this.wsService.sendPostRequest(r,s)},t.$inject=["ApiInstuctionCredit.Data.WsService","ApiInstuctionCredit.AnomalieService"],t}();t.PiecoService=n,e.app.service("ApiInstuctionCredit.Data.PiecoService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e,t){this.$q=e,this.wsService=t}return e.prototype.definirBienAVendre=function(e,t,n){var r=i.Dossier.urlDefinirBienAVendre,s={identifiantDossier:e,identifiantProjet:t,bienAVendre:n};return this.wsService.sendPostRequest(r,s)},e.prototype.definirProjet=function(e,t,n,r){var s=i.Dossier.urlDefinirProjet+"?identifiantClasse=projetImmobilierMaj",o={identifiantDossier:e,typeObjetCommercial:t,typeObjetReglemente:n,projetMAJ:r};return this.wsService.sendPostRequest(s,o)},e.prototype.listerPretsReamenagebles=function(e,t){var n=i.Dossier.urlListerPretsRea,r={identifiantDossier:e,idwsReamenagement:t};return this.wsService.sendPostRequest(n,r)},e.prototype.detailsPretsRea=function(e,t,n,r){var s=i.Dossier.urlListerDetailsPretsRea,o={identifiantDossier:e,dateRA:t,idwsReamenagement:n,tsListeIdwsCreditRea:r};return this.wsService.sendPostRequest(s,o)},e.prototype.ajouterPretReamengbl=function(e,t,n,r){var s=i.Dossier.urlAjouterPretReamengbl,o={identifiantDossier:e,idwsReamenagement:t,dateRA:n,listePretReamenageable:r};return this.wsService.sendPostRequest(s,o)},e.prototype.ajouterPretReamenagementExterne=function(e,t,n,r,s,o){var a=i.Dossier.urlAjouterPretReamenage,c={identifiantDossier:e,idReamenagement:t,codeBanque:n,idCreditGestion:r,pretReamenagementMAJ:s,infosRegroupementMAJ:o};return this.wsService.sendPostRequest(a,c)},e.prototype.definirReamenagement=function(e,t,n){var r=i.Dossier.urlDefinirReamenagement,s={identifiantDossier:e,identifiantProjet:t,reamenagementMAJ:n};return this.wsService.sendPostRequest(r,s)},e.prototype.definirComplementDossier=function(e,t){var n=i.Dossier.urlDefinirComplementDossier,r={identifiantDossier:e,complementDossierMAJ:t};return this.wsService.sendPostRequest(n,r)},e.prototype.ajouterEvenementDossier=function(e,t,n){var r=i.Dossier.urlAjouterEvenement,s={identifiantDossier:e,codeTypeEvenement:t,libelleFacultatif:n};return this.wsService.sendPostRequest(r,s)},e.prototype.definirDetailCoutObj=function(e,t,n){var r=i.Dossier.urlDefinirDetailCoutObj,s={identifiantDossier:e,typeTravaux:t,listeDetailCoutObjetMAJ:n};return this.wsService.sendPostRequest(r,s)},e.prototype.impactsEligibilite=function(e,t){var n=i.Dossier.urlImpactsEligibilite,r={identifiantDossier:e,idwsPlanFinancement:t};return this.wsService.sendGetRequestWithParams(n,r)},e.prototype.controlerAppelSGFGAS=function(e,t){var n=i.Externe.urlControlerAppelSGFGAS;return this.wsService.sendGetRequestWithParams(n,this.getAppelSGFGASParamGetRequest(e,t))},e.prototype.lancerAppelSGFGAS=function(e,t,n,r){var s=i.Externe.urlLancerAppelSGFGAS;return this.wsService.sendGetRequestWithParams(s,this.getAppelSGFGASParamGetRequest(e,t,n,r))},e.prototype.getAppelSGFGASParamGetRequest=function(e,t,i,n){return{identifiantDossier:e,identifiantPlanFinancement:t,urlRetour:i,estDevis:n}},e.$inject=["$q","ApiInstuctionCredit.Data.WsService"],e}();t.ProjetService=n,e.app.service("ApiInstuctionCredit.Data.ProjetService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e){this.wsService=e}return t.prototype.recherche=function(t,i,n){var r=e.Constantes.WebServiceUrls.Structure.urlRecherche;return r=r+"?codeEtablissement="+t+"&typeRechercheEDS=2&typeEDS="+i+"&identifiantEDS=0",n&&""!==n&&(r=r+"&referenceExterneEDS="+n),this.wsService.sendGetRequest(r)},t.$inject=["ApiInstuctionCredit.Data.WsService"],t}();t.StructureService=i,e.app.service("ApiInstuctionCredit.Data.StructureService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e){this.wsService=e}return t.prototype.getPersonneTiers=function(t,i,n){var r=e.Constantes.WebServiceUrls.TiersV3.urlRecherche+"?codeEtablissement="+t+"&codeTypeRecherche="+i+"&identifiantRecherche="+n;return this.wsService.sendGetRequest(r)},t.prototype.getTiersClient=function(t,i,n){var r=e.Constantes.WebServiceUrls.TiersV1.urlClient+"?codeEtablissement="+t+"&idPersonne="+i+"&typeCompositionRelation="+n;return this.wsService.sendGetRequest(r)},t.$inject=["ApiInstuctionCredit.Data.WsService"],t}();t.TiersService=i,e.app.service("ApiInstuctionCredit.Data.TiersService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function e(e,t){this.$q=e,this.wsService=t}return e.prototype.setOnTrace=function(){var e={activer:!0,activerTracesSelectionnees:!0,indice:0,historiser:!1,tracesActives:"Ws1,FiEdt1,FiEdt2,Opt2"};return this.wsService.sendPostRequest(i.Dossier.urlSetDebug,e).then(function(e){return e})},e.prototype.setOffTrace=function(e){void 0===e&&(e=!1);var t={activer:!1,activerTracesSelectionnees:!1,indice:e?1e9:0,historiser:!1};return this.wsService.sendPostRequest(i.Dossier.urlSetDebug,t).then(function(e){return e})},e.$inject=["$q","ApiInstuctionCredit.Data.WsService"],e}();t.TraceDataService=n,e.app.service("ApiInstuctionCredit.Data.TraceDataService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t}return e.prototype.sendGetRequest=function(e,t){return this.sendRequest(MyWay.Services.MethodEnum.GET,e,void 0,t)},e.prototype.sendGetRequestWithParams=function(e,t,i){return this.sendRequest(MyWay.Services.MethodEnum.GET,e,t,i)},e.prototype.sendPostRequest=function(e,t,i){return this.sendRequest(MyWay.Services.MethodEnum.POST,e,t,i)},e.prototype.sendPutRequest=function(e,t){return this.sendRequest(MyWay.Services.MethodEnum.PUT,e,t)},e.prototype.sendDeleteRequest=function(e,t){return this.sendRequest(MyWay.Services.MethodEnum.DELETE,e,t)},e.prototype.sendRequest=function(e,t,i,n){return void 0===i&&(i=void 0),void 0===n&&(n=void 0),this.serviceAgentExtended.sendRequest({url:t,data:e!==MyWay.Services.MethodEnum.GET?i:void 0,withHeaders:!0,responseType:MyWay.Services.ResponseTypeEnum.JSON,method:e,timeout:n,params:e===MyWay.Services.MethodEnum.GET?i:void 0})},e.$inject=["$q","serviceAgentExtended"],e}();t.WsService=i,e.app.service("ApiInstuctionCredit.Data.WsService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){}return Object.defineProperty(e.prototype,"libelleLabel",{get:function(){return this.modeConsultation?"Notes associées au dossier":"Saisissez les notes que vous souhaitez associer au dossier"},enumerable:!0,configurable:!0}),e}();e.NotesAssocieesControleur=t,e.app.controller("ApiInstuctionCredit.NotesAssocieesControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/bloc-notes/notes.html",scope:{notes:"=",modeConsultation:"="},controller:"ApiInstuctionCredit.NotesAssocieesControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icNotesAssociees",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.ContexteEdition||(e.ContexteEdition={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(e,t,i){this.$q=e,this.contexteEditionService=t,this.elementService=i}return t.prototype.getContexteEdition=function(e){var t=this;return this.$q.all([this.contexteEditionService.recupererContexteEdition(e),this.elementService.lireElements(e,[e])]).then(function(e){return t.mapContexteEdition(e[0],e[1][0])})},t.prototype.mapContexteEdition=function(t,i){var n={demandeCredit:{editionAgencePapier:{nonConcerne:!1,actif:i.codeTypeEditionAutorisee===e.Enum.Edition.TypeOffre.EditionAgence.toString(),eligible:i.codeTypeEditionAutorisee===e.Enum.Edition.TypeOffre.EditionAgence.toString()},editionBackOffice:{nonConcerne:!0,actif:!1,eligible:!1},electronique:{nonConcerne:!1,actif:t.contexteSignatureElectronique.estSignatureDemandeCreditSEDActivee,eligible:t.contexteSignatureElectronique.resultatSignatureDemandeCreditSEDEligible.estEligible,listeAnomalies:this.aggregeAnomalies(t.contexteSignatureElectronique.resultatSignatureDemandeCreditSEDEligible,"SED")},electroniqueAgence:{nonConcerne:!1,actif:t.contexteSignatureElectronique.estSignatureDemandeCreditSAGActivee,eligible:t.contexteSignatureElectronique.resultatSignatureDemandeCreditSAGEligible.estEligible,listeAnomalies:this.aggregeAnomalies(t.contexteSignatureElectronique.resultatSignatureDemandeCreditSAGEligible,"SAG")}},offre:{editionAgencePapier:{nonConcerne:!1,actif:i.codeTypeEditionAutorisee===e.Enum.Edition.TypeOffre.EditionAgence.toString()&&this.editionOffrePapierAutorisee(i),eligible:i.codeTypeEditionAutorisee===e.Enum.Edition.TypeOffre.EditionAgence.toString(),listeAnomalies:i.codeTypeEditionAutorisee===e.Enum.Edition.TypeOffre.EditionAgence.toString()&&this.editionOffrePapierAutorisee(i)?["Le contexte actuel du dossier autorise une édition en Agence"]:[]},editionBackOffice:{nonConcerne:!1,actif:i.codeTypeEditionAutorisee===e.Enum.Edition.TypeOffre.EditionBackOffice.toString()&&this.editionOffrePapierAutorisee(i),eligible:i.codeTypeEditionAutorisee===e.Enum.Edition.TypeOffre.EditionBackOffice.toString(),listeAnomalies:i.codeTypeEditionAutorisee===e.Enum.Edition.TypeOffre.EditionBackOffice.toString()&&this.editionOffrePapierAutorisee(i)?["Le contexte actuel du dossier autorise une édition en Back Office"]:[]},electronique:{nonConcerne:!1,actif:t.contexteSignatureElectronique.estSignatureElectroniqueActivee,eligible:t.contexteSignatureElectronique.resultatSignaElecEligible.estEligible,listeAnomalies:this.aggregeAnomalies(t.contexteSignatureElectronique.resultatSignaElecEligible,"Offre")},electroniqueAgence:{nonConcerne:!0,actif:!1,eligible:!1}}};return n.listeAnomalies=this.getAllAnomalies(n),n},t.prototype.editionOffrePapierAutorisee=function(t){return!Tools.OutilDate.dateValorisee(t.dateEditionOffre)&&_.contains([e.Enum.SousEtatDossier.Montage,e.Enum.SousEtatDossier.Decision,e.Enum.SousEtatDossier.Edition],t.sousEtatDossier)},t.prototype.getAllAnomalies=function(e){return _.union(e.offre.editionAgencePapier.listeAnomalies,e.offre.editionBackOffice.listeAnomalies,e.offre.electronique.listeAnomalies,e.offre.electroniqueAgence.listeAnomalies,e.demandeCredit.electronique.listeAnomalies,e.demandeCredit.electroniqueAgence.listeAnomalies)},t.prototype.aggregeAnomalies=function(e,t){return _.map(_.union(e.messagesErreur,e.messagesErreurPieco,e.messageErreurContelec),function(e){return t+": "+e})},t.$inject=["$q","ApiInstuctionCredit.Data.PiecoService","ApiInstuctionCredit.Data.DossierService"],t}();t.ContexteEditionBusinessService=i,e.app.service("ApiInstuctionCredit.ContexteEdition.contexteEditionBusinessService",i)}(t=e.ContexteEdition||(e.ContexteEdition={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));
var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(e,t,i){this.$q=e,this.contexteEditionService=t,this.modalService=i,this.gettingContext=!1,this.contextEditionUpdatedHanlders=[]}return e.prototype.getContextEdition=function(e){var t=this;return this.gettingContext=!0,this.contexteEditionService.getContexteEdition(e).then(function(e){return t.contexteEdition=e,t.contexteEditionUpdatedRaiseEvent(),e})["finally"](function(){return t.gettingContext=!1})},e.prototype.onContextEditionUpdated=function(e){this.contextEditionUpdatedHanlders.push(e)},e.prototype.contexteEditionUpdatedRaiseEvent=function(){for(var e=0,t=this.contextEditionUpdatedHanlders;e<t.length;e++){var i=t[e];i&&i()}},e.prototype.openPopinContexteEdition=function(e){var t={idDossier:e},i={templateUrl:"typescript/fonctionnalites/context-edition/modale/modale-contexte-edition.html",controller:"ApiInstuctionCredit.ContexteEdition.ModaleContexteEditionControleur",controllerAs:"ctrl",windowClass:"app-modal-window-MEG",backdrop:"static",keyboard:!1,size:"lg",resolve:{callback:function(){},data:function(){return t}}};return this.modalService.showModal(i)},e.$inject=["$q","ApiInstuctionCredit.ContexteEdition.contexteEditionBusinessService","modalService"],e}();t.ContexteEditionService=i,e.app.service("ApiInstuctionCredit.ContexteEdition.contextEditionService",i)}(t=e.ContexteEdition||(e.ContexteEdition={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(t,i,n,r,s,o,a,c,l,u,d){this.$q=t,this.erreurService=i,this.parametrageService=n,this.emissionDocumentsService=r,this.editerDocumentService=s,this.impressionService=o,this.modalService=a,this.navigationService=c,this.wsDossierService=l,this.fichierService=u,this.assuranceService=d,this.listeErreursImpression=[],this.listeAnomalies=[],this.listePropositions=[],this.listePropositionsSelected=[],this._propositionSelected=null,this.listeDocuments=[],this.listeDocumentsSelected=[],this.listeDocumentsDisabled=[],this.listeDocumentsFicheSuiveuse=[],this.listeDocumentsFicheSuiveuseSelected=[],this.listeDocumentsRefusAssuranceExterneSelected=[],this.listeFluxImprimerRefusAssuranceExterneSelected=[],this.listeDocRefusAssuranceExterneParPersonne=[],this.documentRefusAssuranceExterneSelected=!1,this.codeSignature=e.Constantes.Dossier.CodeSignatureElectronique.nonInitialise,this.tableauPropositions=this.creationTableauPropositions(),this.initialisation()}return Object.defineProperty(t.prototype,"libellePhraseTableauPropositions",{get:function(){return this.afficherFicheSuiveuse?"Proposition retenue":"Veuillez sélectionner une proposition afin d'éditer ses documents"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"impressionAutorisee",{get:function(){if(this.documentRefusAssuranceExterneSelected=!1,this.listeDocumentsRefusAssuranceExterneSelected&&this.listeDocumentsRefusAssuranceExterneSelected.length>0)for(var e=0,t=this.listeDocumentsRefusAssuranceExterneSelected;e<t.length;e++){var i=t[e];i&&i.length>0&&(this.documentRefusAssuranceExterneSelected=!0)}return this.listeDocumentsSelected.length>0||this.listeDocumentsFicheSuiveuseSelected.length>0||this.documentRefusAssuranceExterneSelected},enumerable:!0,configurable:!0}),t.prototype.afficheInformationPourDocumentRegroupementCredit=function(t){if(t&&t.codeDoc===e.Constantes.Parametrage.regroupementCredit.numDoc&&this.listeDocumentsSelected&&this.listeDocumentsSelected.length>0&&this.listeDocumentsSelected[this.listeDocumentsSelected.length-1].codeDoc===e.Constantes.Parametrage.regroupementCredit.numDoc){var i={headerText:"Attention",iconName:"itce-warning",bodyText:e.Constantes.Parametrage.regroupementCredit.informationPopup,closeButtonText:"Fermer",size:"md"};this.modalService.showPopup(i)}},t.prototype.onSelectionChange=function(e){var t=this;void 0!==e.idws&&(e.idws===this._propositionSelected.idws?(e.expanded=!0,e.checked=!0,this.listePropositionsSelected.push(e)):(this._propositionSelected=e,this.chargementLongVisible=!0,this.chargerDocumentsByProposition(e.idws)["catch"](function(e){t.erreurService.popinErreur(e)})["finally"](function(){t.chargementLongVisible=!1})))},t.prototype.initialisation=function(){var e=this,t=[];this.chargementLongVisible=!0,t=this.emissionDocumentsService.getListePropositions(this.dossierSchema.projet.plansFinancement),this.listePropositions.push.apply(this.listePropositions,t),this.initStructurePage().then(function(){if(t.length>0){var i=t[0];return i.expanded=!0,i.checked=!0,e._propositionSelected=i,e.listePropositionsSelected.push(i),e.chargerDocumentsByProposition(i.idws)}})["catch"](function(t){e.erreurService.popinErreur(t)})["finally"](function(){e.chargementLongVisible=!1,e.navigationService.scrollToSection(e.navigationService.getActiveSection())})},t.prototype.initStructurePage=function(){var e=this,t=[],i=this.parametrageService.getAfficherFicheSuiveuse(this.dossierSchema.sousEtatDossier,this.dateTraitementYYYYMMDD,this.codeEtablissement).then(function(t){e.afficherFicheSuiveuse=t});return t.push(i),this.$q.all(t).then(function(){return e.$q.when()})},t.prototype.chargerDocumentsByProposition=function(t){var i=this,n=[],r=this.emissionDocumentsService.getListerDocuments(this.dossierSchema.idws,t,e.Enum.Edition.TypeDocument.Dossier).then(function(e){return i.setDocumentsClient(angular.copy(e))});if(n.push(r),this.afficherFicheSuiveuse){var s=this.emissionDocumentsService.getListerDocuments(this.dossierSchema.idws,t,e.Enum.Edition.TypeDocument.FicheSuiveuse).then(function(e){return i.setDocumentsFicheSuiveuse(angular.copy(e))});n.push(s)}var o=this.emissionDocumentsService.getListerDocuments(this.dossierSchema.idws,t,e.Enum.Edition.TypeDocument.RefusAssuranceExterne).then(function(e){return i.setDocumentsRefusAssuranceExterne(angular.copy(e))});return n.push(o),this.$q.all(n).then(function(e){var t=[];i.listeAnomalies=[];for(var n=0;n<e.length;n++)t=t.concat(e[n]);i.listeAnomalies=_.uniq(t,function(e){return e.libelleAno})})},t.prototype.setDocumentsClient=function(e){return e.listeAno&&0!==e.listeAno.length&&this.emissionDocumentsService.getIsAnomalieBloquantePresente(e.listeAno)||(this.listeDocumentsSelected.splice(0,this.listeDocumentsSelected.length),this.listeDocumentsDisabled.splice(0,this.listeDocumentsDisabled.length),this.listeDocuments.splice(0,this.listeDocuments.length),this.listeDocuments.push.apply(this.listeDocuments,e.listeInformationDocument),this.listeDocumentsDisabled.push.apply(this.listeDocumentsDisabled,_.filter(e.listeInformationDocument,function(e){return!e.estEditable}))),null!==e.listeAno?e.listeAno:[]},t.prototype.setDocumentsFicheSuiveuse=function(e){return e.listeAno&&0!==e.listeAno.length&&this.emissionDocumentsService.getIsAnomalieBloquantePresente(e.listeAno)||(this.listeDocumentsFicheSuiveuseSelected.splice(0,this.listeDocumentsFicheSuiveuseSelected.length),this.listeDocumentsFicheSuiveuse.splice(0,this.listeDocumentsFicheSuiveuse.length),this.listeDocumentsFicheSuiveuse.push.apply(this.listeDocumentsFicheSuiveuse,e.listeInformationDocument)),null!==e.listeAno?e.listeAno:[]},t.prototype.setDocumentsRefusAssuranceExterne=function(e){if(!e.listeAno||0===e.listeAno.length||!this.emissionDocumentsService.getIsAnomalieBloquantePresente(e.listeAno)){var t=_.groupBy(e.listeInformationDocument,"informationPersonne"),i=0;for(var n in t){this.listeDocumentsRefusAssuranceExterneSelected[i]=[];var r={};r.personne=n,r.listeDocument=t[n],this.listeDocRefusAssuranceExterneParPersonne.push(r),i++}}return null!==e.listeAno?e.listeAno:[]},t.prototype.imprimerDocuments=function(){var e=this;this.listeErreursImpression.splice(0,this.listeErreursImpression.length),this.chargementLongVisible=!0;var t=this.$q.when(null);this.listeDocumentsSelected.concat(this.listeDocumentsFicheSuiveuseSelected)&&this.listeDocumentsSelected.concat(this.listeDocumentsFicheSuiveuseSelected).length>0&&(this.chargementLongVisible=!0,t=this.wsDossierService.enregistrerDossier(this.dossierSchema.idws).then(function(){return e.editerDocumentService.getResultatEditionDocuments(e.listeDocumentsSelected.concat(e.listeDocumentsFicheSuiveuseSelected),e.dossierSchema.idws,e._propositionSelected.idws,_.pluck(e._propositionSelected.creditsInternes,"idws"),function(t){return e.chargementLongVisible=t},e.codeSignature)}).then(function(t){e.lancerImpression(t.listeDocumentDescription),t.listeErreurs.length>0&&(e.listeErreursImpression.push.apply(e.listeErreursImpression,t.listeErreurs),e.scrollTop())})),t["finally"](function(){e.chargementLongVisible=!1,e.impressionAssuranceExterne()})},t.prototype.lancerImpression=function(e){var t=this;e.length>0&&this.impressionService.lancerImpression(e)["catch"](function(e){t.erreurService.popinErreurMyWay(e)})},t.prototype.impressionAssuranceExterne=function(){var e=this;this.documentRefusAssuranceExterneSelected&&(this.chargementLongVisible=!0,this.getFluxImpressionRefusAssurance(this.listeDocumentsRefusAssuranceExterneSelected).then(function(){if(e.chargementLongVisible=!1,e.listeFluxImprimerRefusAssuranceExterneSelected&&e.listeFluxImprimerRefusAssuranceExterneSelected.length>0)for(var t=0,i=e.listeFluxImprimerRefusAssuranceExterneSelected;t<i.length;t++){var n=i[t];e.fichierService.convertirBase64Pdf(n,"LettreRefus",e.dossierSchema.idws)}})["catch"](function(t){e.listeErreursImpression=t,e.scrollTop()})["finally"](function(){e.chargementLongVisible=!1}))},t.prototype.getFluxImpressionRefusAssurance=function(e){var t=this;this.listeFluxImprimerRefusAssuranceExterneSelected=[];var i=[];if(this.listeDocRefusAssuranceExterneParPersonne&&this.listeDocRefusAssuranceExterneParPersonne.length>0)for(var n=0;n<this.listeDocRefusAssuranceExterneParPersonne.length;n++)if(this.listeDocumentsRefusAssuranceExterneSelected[n]&&this.listeDocumentsRefusAssuranceExterneSelected[n].length>0)for(var r=0,s=this.listeDocumentsRefusAssuranceExterneSelected[n];r<s.length;r++){var o=s[r],a=this.assuranceService.editerLettreRefus(this.dossierSchema.idws,o.idwsElement,"FC050REF").then(function(e){return t.setFluxImprimerRefusAssuranceExterne(angular.copy(e))});i.push(a)}return this.$q.all(i).then(function(e){t.listeAnomalies=[];for(var i=0;i<e.length;i++)t.listeAnomalies=t.listeAnomalies.concat(e[i])})["catch"](function(e){t.erreurService.popinErreurMyWay(e)})},t.prototype.setFluxImprimerRefusAssuranceExterne=function(e){return e.listeAnomalieLecture&&0!==e.listeAnomalieLecture.length||this.listeFluxImprimerRefusAssuranceExterneSelected.push(e.fluxImpression),null!==e.listeAnomalieLecture?e.listeAnomalieLecture:[]},t.prototype.creationTableauPropositions=function(){return{width:"col-md-12",orderBy:"libelle",reserve:!1,perPage:5,multiSelect:!1,filterEnable:!1,sortEnable:!1,moreEnable:!0,columns:[{title:"Libéllé",bind:"libelle",cssClass:"col-md-5 col-lg-4"},{title:"Montant",bind:"montantTotalEmpruntPlan",cssClass:"col-md-3 col-lg-4",filter:"| devise:2:''"},{title:"Écheance",bind:"montantPreEchPhase",cssClass:"col-md-2 col-lg-3",filter:"| devise:2:''"},{title:"Durée",bind:"dureeMax",cssClass:"col-md-2 col-lg-3",filter:"+ ' mois' "}],data:this.listePropositions,selectedItems:this.listePropositionsSelected,templateUrl:"",selectionChangeHandler:this,caption:"Liste des propositions"}},t.prototype.scrollTop=function(){document.querySelector("body").scrollTop=0,document.querySelector("html").scrollTop=0},t.prototype.sendDocuments=function(){console.log("Action TO DO")},t.$inject=["$q","ApiInstuctionCredit.ErreurService","ApiInstuctionCredit.ParametrageService","ApiInstuctionCredit.EmissionDocumentsService","ApiInstuctionCredit.EditerDocumentService","ApiInstuctionCredit.ImpressionService","modalService","NavigationService","ApiInstuctionCredit.Data.DossierService","ApiInstuctionCredit.FichierService","ApiInstuctionCredit.AssuranceService"],t}();e.EmissionDocumentsControleur=t,e.app.controller("ApiInstuctionCredit.EmissionDocumentsControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/emission-documents/emission-documents.html",scope:{chargementLongVisible:"=",dossierSchema:"=",dateTraitementYYYYMMDD:"=",codeEtablissement:"=",consultation:"=",fonctionCalculEligibilite:"=?",codeSignature:"=",printSendDocumentsByMailButton:"=",signatureElectroniqueEligible:"=?"},controller:"ApiInstuctionCredit.EmissionDocumentsControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("emissionDocuments",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(e){this.wsPiecoService=e}return t.prototype.getListePropositions=function(t){var i=[],n=0;return angular.forEach(t,function(r){n===t.length-1?r.libelle="Dernière proposition calculée":r.libelle="Autre proposition du dossier",n+=1,r.dureeMax=0,angular.forEach(r.creditsInternes,function(t){angular.forEach(t.phases,function(t){t.idws.substr(0,4)!==e.Constantes.Idws.CreditPhase.creditPhasePrefinancement&&t.dureeEnMois>r.dureeMax&&(r.dureeMax=t.dureeEnMois)})}),i.unshift(r)}),i},t.prototype.getIsAnomalieBloquantePresente=function(e){var t=_.findIndex(e,function(e){return 0===e.typeAno});return t>-1},t.prototype.getListerDocuments=function(e,t,i){return this.wsPiecoService.listerDocuments(e,i,t)},t.$inject=["ApiInstuctionCredit.Data.PiecoService"],t}();t.EmissionDocumentsService=i,e.app.service("ApiInstuctionCredit.EmissionDocumentsService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=e.Modele,i=function(){function i(i,n){this.$q=i,this.syntheseService=n,this.accordACompleter=e.Enum.FeuTricolore.Orange,this.accordAApprondir=e.Enum.FeuTricolore.Rouge,this.donneesSyntheseFrais=new t.SyntheseFrais,this.coutTotalCreditsExternes=0,this.creditsSyntheseFinancement=[],this.montantTotalPremiereEchance=0,this.montantTotalPremiereEchanceAssurance=0,this.syntheseService.afficherBlocErreur=!1,this.initSyntheseFrais(),this.initFinancement(),this.initSyntheseCreditsInternes(),this.creditInterneSelect=this.listeCreditsInterne[0],this.initAccordPrincipe(),this.modeRestitution===e.Enum.ModeRestitution.GRAPHIQUE?(this.tabTableauDefaut=!1,this.tabGraphiqueDefaut=!0):(this.tabGraphiqueDefaut=!1,this.tabTableauDefaut=!0),this.infobulleMensuallites={type:"infobulle-Aide",picto:"itce-question-circle",ouvertureBlock:!0,message1:"Les mensualités cumulent les mensualités des crédits établissement et les mensualités des crédits externes."}}return i.prototype.consulterDetailAccordPrincipe=function(){this.syntheseService.afficherBlocErreur===!1&&(this.syntheseService.afficherBlocErreur=!0)},i.prototype.initFinancement=function(){var e=this;_.forEach(this.planFinancementSchema.creditsExternes,function(t){e.coutTotalCreditsExternes=e.coutTotalCreditsExternes+t.montantCapital}),this.coutTotalProjet=this.donneesProjet.projet.coutTotalObjet+this.donneesSyntheseFrais.dossier+this.donneesSyntheseFrais.garanties+this.donneesSyntheseFrais.courtage,this.coutTotalFinancement=this.planFinancementSchema.montantApportPersonne+this.planFinancementSchema.montantTotalEmpruntPlan+this.coutTotalCreditsExternes,this.coutGlobalCreditEtablissements=this.donneesSyntheseFrais.interets+this.donneesSyntheseFrais.garanties+this.donneesSyntheseFrais.assurances+this.donneesSyntheseFrais.courtage+this.donneesSyntheseFrais.dossier},i.prototype.initSyntheseFrais=function(){var e=this;this.donneesSyntheseFrais.liesAuprojet=this.donneesProjet.projet.coutFrsNotaire+this.donneesProjet.projet.montantFrsDivr,this.donneesProjet.batimentHabitableFinance&&null!==this.donneesProjet.batimentHabitableFinance.montantFrsNegocie&&(this.donneesSyntheseFrais.liesAuprojet=this.donneesSyntheseFrais.liesAuprojet+this.donneesProjet.batimentHabitableFinance.montantFrsNegocie),this.donneesProjet.terrainFinance&&null!==this.donneesProjet.terrainFinance.montantFrsNegocie&&(this.donneesSyntheseFrais.liesAuprojet=this.donneesSyntheseFrais.liesAuprojet+this.donneesProjet.terrainFinance.montantFrsNegocie),_.forEach(this.listeCreditsInterne,function(t){e.donneesSyntheseFrais.dossier+=e.getMontantDevise(t.coutTotalFrsDossierAssuranceCredit,t.codeDevise,t.tauxMontage),e.donneesSyntheseFrais.assurances+=e.getMontantDevise(t.montantTotalAssurancePeriode,t.codeDevise,t.tauxMontage),e.donneesSyntheseFrais.courtage+=e.getMontantDevise(t.coutTotalFrsCrtgeAssuranceCredit,t.codeDevise,t.tauxMontage),e.donneesSyntheseFrais.garanties+=e.getMontantDevise(t.coutTotalFrsGarantieAssuranceCredit,t.codeDevise,t.tauxMontage);var i=e.getMontantDevise(t.montantTotalCreditHorsAccessoireHorsPeriodePref,t.codeDevise,t.tauxMontage)-e.getMontantCapitalCreditEuro(t);e.donneesSyntheseFrais.interets=e.donneesSyntheseFrais.interets+i})},i.prototype.initSyntheseCreditsInternes=function(){var i,n=this;_.forEach(this.planFinancementSchema.creditsInternes,function(r){var s=_.find(n.listeCreditsInterne,function(e){return e.idws===r.idws});if(i=new t.CreditSyntheseFinancement,i.idws=s.idws,i.description=r.description,i.montant=n.getMontantCapitalCreditEuro(s),i.cout=n.getMontantDevise(s.montantTotalCreditHorsAccessoireHorsPeriodePref,s.codeDevise,s.tauxMontage)-n.getMontantCapitalCreditEuro(s)+n.getMontantDevise(s.coutTotalAccessoirePosteSurCredit,s.codeDevise,s.tauxMontage),i.phases=[],s.codeFamilleContratRegle===e.Constantes.EpargneLogement.codeFamilleCEL||s.codeFamilleContratRegle===e.Constantes.EpargneLogement.codeFamillePEL)i.modeRestitution=e.Constantes.Donnees.listeModeRestitution[0];else{var o=_.findIndex(e.Constantes.Donnees.listeModeRestitution,function(e){return e.code.charCodeAt(0)===s.tegModeRestitution});-1!==o&&(i.modeRestitution=e.Constantes.Donnees.listeModeRestitution[o])}i&&i.modeRestitution&&"A"===i.modeRestitution.code?i.teg=s.tegActu:i.teg=s.tegProp,_.forEach(r.phases,function(r){if(r.idws.substr(0,4)!==e.Constantes.Idws.CreditPhase.creditPhasePrefinancement){var o=_.find(n.listePhases,function(e){return e.idws===r.idws}),a=new t.PhaseSyntheseFinancement;a.idws=r.idws,a.description=r.description,a.duree=o.nombrePeriodePhase,a.mensualite=n.getMensualitePhaseSynthese(o,s.codeDevise,s.tauxMontage);var c=_.find(e.Constantes.Donnees.listeTypesMensualiteCredit,function(e){return e.code.charCodeAt(0)===o.tauxPhase.modeCalculTaux});"E"===c.code?a.taux=o.tauxPhase.tauxActu:a.taux=o.tauxPhase.tauxProp,a.assurance=n.getMontantDevise(o.montantPrmeecheAccessoirePeriode,s.codeDevise,s.tauxMontage),i.phases.push(a)}}),n.creditsSyntheseFinancement.push(i)}),this.calculMontantAssurance()},i.prototype.calculMontantAssurance=function(){var e=this;_.each(this.creditsSyntheseFinancement,function(t){t.phases&&t.phases[0]&&(e.montantTotalPremiereEchance+=t.phases[0].mensualite,e.montantTotalPremiereEchanceAssurance+=t.phases[0].assurance)})},i.prototype.initAccordPrincipe=function(){var t=this;this.syntheseService.etatAccordPrincipe=this.accordDePrincipe,this.syntheseService.etatAccordPrincipe!==e.Enum.FeuTricolore.Vert&&(this.syntheseService.listeErreurs=[],_.forEach(this.listeResultatControle,function(e){_.forEach(e.messages,function(i){t.syntheseService.listeErreurs.push({ancre:"",libelle:e.libelle,description:i})})}))},i.prototype.getMontantCapitalCreditEuro=function(e){return this.getMontantDevise(e.montantCapitalCredit,e.codeDevise,e.tauxMontage)},i.prototype.getMensualitePhaseSynthese=function(e,t,i){return this.getMontantDevise(e.montantPrmeecheAccessoirePeriode+e.montantPrmeecheHorsAccessoire+e.montantPrmeecheAccessoireComp+e.montantPrmeecheService,t,i)},i.prototype.getMontantDevise=function(t,i,n){return i===this.codeDevise?t:e.Outils.Objet.getMontant(t,i,n)},i.prototype.getLibelleFirstMonth=function(e){var t=_.find(this.listeCreditsInterne,function(t){return t.idws===e.idws});return t.existeAssuranceSurCRD?"(1er mois)":""},i.$inject=["$q","ApiInstuctionCredit.SyntheseService"],i}();e.SyntheseControleur=i,e.app.controller("ApiInstuctionCredit.SyntheseControleur",i)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/financement-synthese/formulaire-synthese.html",scope:{donneesProjet:"=",planFinancementSchema:"=",listeCreditsInterne:"=",listeCreditsExterne:"=",listePhases:"=",endettement:"=",codeDevise:"=",symboleDevise:"=",accordDePrincipe:"=",listeResultatControle:"=",modeRestitution:"=",chargementEnCours:"="},controller:"ApiInstuctionCredit.SyntheseControleur",controllerAs:"frmSyntheseCtrl",bindToController:!0}}e.app.directive("formulaireSynthese",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){this.tableau=this.getTableau()}return e.prototype.getTableau=function(){return{width:"col-md-12",orderBy:"dateEffetEven",reserve:!0,perPage:20,multiSelect:!1,filterEnable:!1,sortEnable:!1,moreEnable:!1,columns:[{title:"Date d'effet",bind:"dateEffetEven",cssClass:"col-md-2",filter:"|date: 'dd/MM/yyyy' "},{title:"Enregistré par",bind:"libelleEntiteSaisieEven",cssClass:"col-lg-4 col-md-3"},{title:"Evènement",bind:"libelleEven",cssClass:"col-lg-6 col-md-7"}],data:this.listeEvents,selectedItems:[],templateUrl:"",openSelected:!1}},e}();e.HistoriqueEvenementsControleur=t,e.app.controller("ApiInstuctionCredit.HistoriqueEvenementsControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/historique/evenements.html",scope:{dossierSchema:"=",listeEvents:"="},controller:"ApiInstuctionCredit.HistoriqueEvenementsControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icHistoriqueEvenements",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(){}return e.prototype.getListeIdPersonne=function(e){var t=_.filter(e.listePieceControleManlParTheme,function(e){return e.listePieceClient&&"PE"===e.codeTheme});return _.map(t,function(e){return e.idPersonne})},e}();t.PiecoService=i,e.app.service("ApiInstuctionCredit.PiecoService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){}return Object.defineProperty(e.prototype,"isDevisExistant",{get:function(){return angular.isDefined(this.dateDevis)&&null!==this.dateDevis},enumerable:!0,configurable:!0}),e}();e.MrhControleur=t,e.app.controller("ApiInstuctionCredit.MrhControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/mrh/mrh.html",scope:{dateDevis:"=date"},controller:"ApiInstuctionCredit.MrhControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icMrh",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(){}return e.prototype.getIdwsEvents=function(e){return _.chain(e.evenements).filter(function(e){return"RF"===e.codeTypeEven}).map(function(e){return e.idws}).value()},e}();t.MrhService=i,e.app.service("ApiInstuctionCredit.MrhService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){}return e}();e.RemiseOffreControleur=t,e.app.controller("ApiInstuctionCredit.RemiseOffreControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/remise/remise.html",scope:{dossierComplet:"=dossier",listeCreditsInternes:"=",showInfosRemise:"="},controller:"ApiInstuctionCredit.RemiseOffreControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icRemiseOffre",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(){}return Object.defineProperty(t.prototype,"showDateMinimumAccpOffre",{get:function(){return this.dossierComplet&&this.dossierComplet.typeLoiScrivener===e.Constantes.CodeAscii.Nombre.deux},enumerable:!0,configurable:!0}),t}();e.SignatureOffreControleur=t,e.app.controller("ApiInstuctionCredit.SignatureOffreControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/signature/signature.html",scope:{dossierComplet:"=dossier",numeroOffreEditable:"=",numeroOffre:"=",donnesInit:"=",isOffreConclue:"=",listeIntervenants:"=",listeMandats:"=",listeCreditsInternes:"=",consultation:"=",dateTraitement:"=?"},controller:"ApiInstuctionCredit.SignatureOffreControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icSignatureOffre",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r,s){this.identifiantDossier=e,this.idwsCredit=t,this.revisionTaux=i,this.revisionTauxDate=n,this.ajustDuree=r,this.valAjustDuree=s}return e}();e.CalculerRevisionRequest=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n){this.annee=e,this.duree=t,this.modulationEcheance=i,this.valeurModulation=n}return e}();e.EntreeCalculModulation=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.EntreeRessourceCharge=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.CategorieEmprunteur=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.typeDech=null,this.tauxPondereCharge=100,this.nombrePeriodeParAn=12,this.codeDevise=e,this.numeroContratEpargne=null,this.codeExisteRessourceApreOper=70}return e}();e.ChargePersonne=t;var i=function(){function e(e){this.typeDech=e.typeDech,this.montantCharge=e.montantCharge,this.tauxPondereCharge=e.tauxPondereCharge,this.nombrePeriodeParAn=e.nombrePeriodeParAn,this.codeDevise=e.codeDevise,this.codeExisteRessourceApreOper=e.codeExisteRessourceApreOper,e.idws&&(this.idws=e.idws)}return e}();e.ChargePersonneMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.dateOuverture=null,this.codeComnRelvCompteHorsCE=0,this.codeDepsJustificatif=0,this.codeDeviseCompte=e,this.codeEtatProduit=0,this.codeExisteCartographieBancaireHorsCE=0,this.codeExisteCheq=0,this.codePresDecvIrreSurCompteDepo=0,this.codeProduitCE=72,this.codeTypeCartographie=0,this.codeTypeDecvCompteDepo=32,this.codeTypeFctCompteDepoCEHorsCE=57,this.dateDelvCartographie="1970-01-01",this.dateOuerCompteDepoHorsCE=null,this.dateOuverture="1970-01-01",this.libelleEntiteTitulaire="",this.montantDecvAutreSurCompteDepo=0,this.montantPrelExteReleaseSurCompteDepo=0,this.montantTotalVersementCreditReleaseSurCompteDepo=0,this.mvtCreditMensSurCompteDepo=0,this.nombreJourDepsAutreDecv=0,this.numeroEntiteTitulaire=0,this.soldMinimumCompteDepoCE=0,this.soldMoyenLongTermeCompteDepoCE=0,this.soldMoyenMensCreationCompteDepoCE=0,this.soldRelCompteDepoCE=0,this.montantTotalAgiosM1HorsCE=0,this.montantTotalAgiosM2HorsCE=0,this.montantTotalAgiosM3HorsCE=0,this.nombreJoursDebiteurM1CDDHorsCE=0,this.nombreJoursDebiteurM2CDDHorsCE=0,this.nombreJoursDebiteurM3CDDHorsCE=0,this.montantSoldeArreteM1CDDHorsCE=0,this.montantSoldeArreteM2CDDHorsCE=0,this.montantSoldeArreteM3CDDHorsCE=0}return e}();e.ComptePersonne=t;var i=function(){function e(e){this.dateOuverture=e.dateOuverture,this.codeDeviseCompte=e.codeDeviseCompte,this.idws=e.idws,this.codeProduitCE=e.codeProduitCE,this.numeroEntiteTitulaire=e.numeroEntiteTitulaire,this.libelleEntiteTitulaire=e.libelleEntiteTitulaire,this.codeEtatProduit=e.codeEtatProduit,this.soldMoyenLongTermeCompteDepoCE=e.soldMoyenLongTermeCompteDepoCE,this.soldMinimumCompteDepoCE=e.soldMinimumCompteDepoCE,this.soldRelCompteDepoCE=e.soldRelCompteDepoCE,this.codeTypeCartographie=e.codeTypeCartographie,this.dateDelvCartographie=e.dateDelvCartographie,this.codeTypeDecvCompteDepo=e.codeTypeDecvCompteDepo,this.montantDecvAutreSurCompteDepo=e.montantDecvAutreSurCompteDepo,this.montantTotalVersementCreditReleaseSurCompteDepo=e.montantTotalVersementCreditReleaseSurCompteDepo,this.nombreJourDepsAutreDecv=e.nombreJourDepsAutreDecv,this.montantPrelExteReleaseSurCompteDepo=e.montantPrelExteReleaseSurCompteDepo,this.codeDepsJustificatif=e.codeDepsJustificatif,this.codePresDecvIrreSurCompteDepo=e.codePresDecvIrreSurCompteDepo,this.codeExisteCartographieBancaireHorsCE=e.codeExisteCartographieBancaireHorsCE,this.codeComnRelvCompteHorsCE=e.codeComnRelvCompteHorsCE,this.codeExisteCheq=e.codeExisteCheq,this.soldMoyenMensCreationCompteDepoCE=e.soldMoyenMensCreationCompteDepoCE,this.mvtCreditMensSurCompteDepo=e.mvtCreditMensSurCompteDepo,this.codeTypeFctCompteDepoCEHorsCE=e.codeTypeFctCompteDepoCEHorsCE,this.dateOuerCompteDepoHorsCE=e.dateOuerCompteDepoHorsCE,this.codeCompositionEntiteTitulaire=e.codeCompositionEntiteTitulaire,this.libelleEtablissementHorsCE=e.libelleEtablissementHorsCE,this.montantTotalAgiosM1HorsCE=e.montantTotalAgiosM1HorsCE,this.montantTotalAgiosM2HorsCE=e.montantTotalAgiosM2HorsCE,this.montantTotalAgiosM3HorsCE=e.montantTotalAgiosM3HorsCE,this.indicateurCommIntervCDDHorsCE=e.indicateurCommIntervCDDHorsCE,this.indicateurImpayeCDDHorsCE=e.indicateurImpayeCDDHorsCE,this.indicateurRejetChequeCDDHorsCE=e.indicateurRejetChequeCDDHorsCE,this.indicateurRejetPrelevCDDHorsCE=e.indicateurRejetPrelevCDDHorsCE,this.indicateurFraisDossBDFCDDHorsCE=e.indicateurFraisDossBDFCDDHorsCE,this.indicateurPrelevPartCDDHorsCE=e.indicateurPrelevPartCDDHorsCE,this.nombreJoursDebiteurM1CDDHorsCE=e.nombreJoursDebiteurM1CDDHorsCE,this.nombreJoursDebiteurM2CDDHorsCE=e.nombreJoursDebiteurM2CDDHorsCE,this.nombreJoursDebiteurM3CDDHorsCE=e.nombreJoursDebiteurM3CDDHorsCE,this.montantSoldeArreteM1CDDHorsCE=e.montantSoldeArreteM1CDDHorsCE,this.montantSoldeArreteM2CDDHorsCE=e.montantSoldeArreteM2CDDHorsCE,this.montantSoldeArreteM3CDDHorsCE=e.montantSoldeArreteM3CDDHorsCE}return e}();e.ComptePersonneMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t){this.typeDech=t,this.tauxPondereCharge=100,this.nombrePeriodeParAn=12,this.codeDevise=e,this.numeroContratEpargne=null,this.codeExisteRessourceApreOper=70,this.montantOrigineCredit=0}return e}();e.CreditExistant=t;var i=function(){function e(e){this.codeTypeCreditCE=e.codeTypeCreditCE,this.codePresenceCompCredit=e.codePresenceCompCredit,this.invsUsageLocf=e.invsUsageLocf,this.lienPersonneCredit=e.lienPersonneCredit,this.libletblPret=e.libletblPret,this.codeTypeCredit=e.codeTypeCredit,this.montantOrigineCredit=e.montantOrigineCredit,this.montantRestantDu=e.montantRestantDu,this.dateDebutAmortissement=e.dateDebutAmortissement,this.codeProduitCE=e.codeProduitCE,this.referenceProduitCE=e.referenceProduitCE,this.compReferenceProduitCE=e.compReferenceProduitCE,this.numeroEntiteTitulaireCE=e.numeroEntiteTitulaireCE,this.libelleEntiteTitulaireCE=e.libelleEntiteTitulaireCE,this.montantCapitalDejaRemboursement=e.montantCapitalDejaRemboursement,this.nombreImpayes=e.nombreImpayes,this.nombreImpeRegleSurLesMoisGlss=e.nombreImpeRegleSurLesMoisGlss,this.dureAmortissement=e.dureAmortissement,
this.codeIndiceAInclettHypotheque=e.codeIndiceAInclettHypotheque,this.montantGarantie=e.montantGarantie,this.motfRemboursementAnticipe=e.motfRemboursementAnticipe,this.remboursementAvecAnticipe=e.remboursementAvecAnticipe,this.libelleMotfRemboursementAnticipe=e.libelleMotfRemboursementAnticipe,this.idws=e.idws}return e}();e.CreditExistantMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){e&&(this.montantPatrimoineMobl=e.montantPatrimoineMobl,this.nombrePersonneCmpstMeng=e.nombrePersonneCmpstMeng,this.nombreEnfantCharge=e.nombreEnfantCharge,this.ageEnfant=e.ageEnfant,this.nombrePersonneSuppCharge=e.nombrePersonneSuppCharge,this.nombrePersonneGrpe=e.nombrePersonneGrpe,this.typeLienEntreLesPersonne=e.typeLienEntreLesPersonne,this.nomGrpe=e.nomGrpe,this.dateDernierRapp=e.dateDernierRapp,this.anneNaisEnfant=e.anneNaisEnfant,this.codeEmplrComun=e.codeEmplrComun,this.codeEmplrComun=e.codeEmplrComun,this.capceprgAvenantOper=e.capceprgAvenantOper,this.ancnChargeLiesAOperImmobilier=e.ancnChargeLiesAOperImmobilier,this.valeurPatrimoineImmobilier=e.valeurPatrimoineImmobilier,this.codeDevise=e.codeDevise,this.nombreVoiture=e.nombreVoiture,this.denmEmprunt=e.denmEmprunt,this.libelleLongEmprunt=e.libelleLongEmprunt,this.intlcEmprunt=e.intlcEmprunt,this.idEntiteTitulaireClient=e.idEntiteTitulaireClient,this.idElementStructureGestion=e.idElementStructureGestion,this.codeCateEmprunt=e.codeCateEmprunt,this.codeTypeMarchePersonne=e.codeTypeMarchePersonne,this.cateAgentEcnmBafi=null,this.cateClientBafi=e.cateClientBafi,this.typeAdmnBafi=e.typeAdmnBafi,this.classeAgentBafi=e.classeAgentBafi,this.codeSituationFamille=e.codeSituationFamille,this.codeSituationFamilleRegle=e.codeSituationFamilleRegle,this.nombreActfMeng=e.nombreActfMeng,this.dateEncoursEpargneLogement=e.dateEncoursEpargneLogement,this.encoursEncoursIsssPretPEL=e.montantEncoursIsssPretPEL,this.montantEncoursIsssPretLEL=e.montantEncoursIsssPretLEL,this.montantEncoursLivrAutreEtbl=e.montantEncoursLivrAutretbl,this.montantEncoursPlnsAutreEtbl=e.montantEncoursPlnsAutretbl,this.totalRevnAnnulationNets=e.totalRevnAnnulationNets,this.montantRevnMeng=e.montantRevnMeng,this.stttOccpLogementActuariel=e.stttOccpLogementActuariel,this.codeTitreCivilite=e.codeTitreCivilite,this.nomRaisonSocialeEmprunt=e.nomRaisonSocialeEmprunt,this.intituleLigne1=e.intituleLigne1,this.adresseLigne3=e.adresseLigne3&&e.adresseLigne3.length>32?e.adresseLigne3.substr(0,32):e.adresseLigne3,this.adresseLigne4=e.adresseLigne4&&e.adresseLigne4.length>32?e.adresseLigne4.substr(0,32):e.adresseLigne4,this.codePoste=e.codePoste,this.ville=e.ville&&e.ville.length>25?e.ville.substr(0,25):e.ville,this.compIntituleLigne2=e.compIntituleLigne2,this.adresseLigne5=e.adresseLigne5,this.codeDestinataireAutreParObjet=e.codeDestinataireAutreParObjet,this.codeSecteurRattachement=e.codeSecteurRattachement,this.codeJeunMeng=e.codeJeunMeng,this.esperVie=e.esperVie,this.esperVieDecision=e.esperVieDecision,this.esperVieStress=e.esperVieStress,this.listeIdPersonne=e.listeIdPersonne,this.codeDeviseEmprunteur=e.codeDeviseEmprunteur,this.idws=e.idws)}return e}();e.EmprunteurMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.codeFamilleProduitAdresse=null,this.libelleCaisseEpargne=null,this.dateValeurEpargne=null,this.codeDevise=e}return e}();e.EpargnePersonne=t;var i=function(){function e(e){this.codeFamilleProduitAdresse=e.codeFamilleProduitAdresse,this.nombreProduitDetnPourUneFamilleProduitAdresse=e.nombreProduitDetnPourUneFamilleProduitAdresse,this.montantValeurEpargneAvenantOper=e.montantValeurEpargneAvenantOper,this.libelleCaisseEpargne=e.libelleCaisseEpargne,this.dateValeurEpargne=e.dateValeurEpargne,this.montantEpargneApreOper=e.montantEpargneApreOper,this.idws=e.idws}return e}();e.EpargnePersonneMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.codeRepnBDF=e.codeRepnBDF,this.codeRepnFicp=e.codeRepnFicp,this.codeTypeRepnBDF=e.codeTypeRepnBDF,this.codeTypeRepnFicp=e.codeTypeRepnFicp,this.dateApplicationBDF=e.dateApplicationBDF,this.dateApplicationFicp=e.dateApplicationFicp,this.libelleRepnBDF=e.libelleRepnBDF,this.libelleRepnFicp=e.libelleRepnFicp,this.codeArreSurSalr=e.codeArreSurSalr,this.dateApplicationFbe=e.dateApplicationFbe,this.codeRepnFbe=e.codeRepnFbe,this.codePresListnSurCntrTechniqueRegn=e.codePresListnSurCntrTechniqueRegn,this.libelleListnSurCntrTechniqueRegn=e.libelleListnSurCntrTechniqueRegn,this.codeCotisationFibenDirg=e.codeCotisationFibenDirg,this.idws=e.idws}return e}();e.InterditBancaireMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.NotationTiers=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(t,i){null!==t?(this.idws=t.idws,this.description="",this.description+=t.libelleTitreCivilite?t.libelleTitreCivilite+" ":"",this.description+=t.nomJeunFill?t.nomJeunFill+" ":t.nomRaisonSociale?t.nomRaisonSociale+" ":"",this.description+=t.prenom?t.prenom:"",this.rolsPersonnePourDossier=t.rolsPersonnePourDossier,this.estEmprunteur=!1,this.estPersonneMorale="M"===String.fromCharCode(t.codeTypePersonne),this.estGarant=t.rolsPersonnePourDossier&&-1!==_.findIndex(t.rolsPersonnePourDossier,function(t){return t===e.Constantes.Emprunteur.typeRolePersonneCaution.code}),this.idPersonneSI=t.idPersonneSI):(this.idws=i.idws,this.description=i.denmEmprunt,this.rolsPersonnePourDossier=[e.Constantes.Emprunteur.typeRolePersonneEmprunteur.code],this.estEmprunteur=!0,this.estPersonneMorale=!1,this.estGarant=!1,this.idPersonneSI=null)}return t.prototype.estCaution=function(){var t=_.findIndex(this.rolsPersonnePourDossier,function(t){return t===e.Constantes.Emprunteur.typeRolePersonneCaution.code});return-1!==t},t}();t.PersonneAffectation=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t){this.idPersonneSI=e,this.rolePersonne=t,this.rattachement=!0,this.forcerRattachement=!0,this.forcerAjout=!1}return e}();e.PersonneMaj=t;var i=function(){function e(e){e&&(this.codeTitreCivilite=e.codeTitreCivilite,this.prenom=e.prenom,this.codeSexePersonne=e.codeSexePersonne,this.nomJeunFill=e.nomJeunFill,this.dateNais=e.dateNais,this.lieuNais=e.lieuNais,this.codePersonneCE=e.codePersonneCE,this.codeRegimeMatrimonial=e.codeRegimeMatrimonial,this.codeSituationFamille=e.codeSituationFamille,this.nombrePersonneACharge=e.nombrePersonneACharge,this.cateInteret=e.cateInteret,this.dateEffetSituationFamille=e.dateEffetSituationFamille,this.codeSalrDomiciliationCE=e.codeSalrDomiciliationCE,this.codeModeLogement=e.codeModeLogement,this.dateEntrLogement=e.dateEntrLogement,this.codeCapcJuridique=e.codeCapcJuridique,this.codeTypeCapJuridique=e.codeTypeCapJuridique,this.codeNational=e.codeNational,this.codeSaisieAvisTiersDtnr=e.codeSaisieAvisTiersDtnr,this.codeContentieuxHorsComptCE=e.codeContentieuxHorsComptCE,this.montantEncoursSaccefHorsOprt=e.montantEncoursSaccefHorsOprt,this.typeTrspUtilisation=e.typeTrspUtilisation,this.codeGeotAdresseDomiciliation=e.codeGeotAdresseDomiciliation,this.codePaysResdEmprunt=e.codePaysResdEmprunt,this.codePaysLocalisationEmprunt=e.codePaysLocalisationEmprunt,this.codeProfilEmprunt=e.codeProfilEmprunt,this.codePstlLieuNais=e.codePstlLieuNais,this.idPersonneSI=e.idPersonneSI)}return e}();e.PersonnePhysiqueMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.marquage=!1,void 0===e?(this.codeTypePhase=null,this.dateDebutPhase=null,this.dateFinPhase=null,this.dureePhase=null,this.idCreditExistant=null,this.idws=null,this.montantEcheancePhase=null,this.periodeAmortissement=null,this.statut=""):(this.codeTypePhase=e.codeTypePhase,this.dateDebutPhase=e.dateDebutPhase,this.dateFinPhase=e.dateFinPhase,this.dureePhase=e.dureePhase,this.idCreditExistant=e.idCreditExistant,this.idws=e.idws,this.montantEcheancePhase=e.montantEcheancePhase,this.periodeAmortissement=e.periodeAmortissement,this.statut="En modification")}return e}();e.PhaseCreditExistant=t;var i=function(){function e(e){this.codeTypePhase=e.codeTypePhase,this.dateDebutPhase=e.dateDebutPhase,this.dateFinPhase=e.dateFinPhase,this.idws=e.idws,this.montantEcheancePhase=e.montantEcheancePhase,this.periodeAmortissement=e.periodeAmortissement}return e}();e.PhaseCreditExistantMaj=i;var n=function(){function e(e,t,i){this.codeTypePhase=e.codeTypePhase,this.dateDebutPhase=e.dateDebutPhase,this.dureePhase=e.dureePhase,this.montantEcheancePhase=e.montantEcheancePhase,this.periodeAmortissement=e.periodeAmortissement,this.idCreditExistant=t,this.identifiantDossier=i}return e}();e.AjouterPhaseCreditExistant=n}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.typeRevnMeng=null,this.codeDevise=e,this.idEmprunt=null}return e}();e.RevenuFiscalPersonne=t;var i=function(){function e(e){this.montantRevnMeng=e.montantRevnMeng,this.typeRevnMeng=e.typeRevnMeng,this.codeDevise=e.codeDevise,this.idws=e.idws}return e}();e.RevenuFiscalMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.typeRessource=null,this.tauxPondereRessource=100,this.nombrePeriodeParAn=12,this.codeDevise=e,this.codeExisteRessourceApreOper=70}return e}();e.RevenuPersonne=t;var i=function(){function e(e){this.typeRessource=e.typeRessource,this.montantRessource=e.montantRessource,this.nombrePeriodeParAn=e.nombrePeriodeParAn,this.codeDevise=e.codeDevise,this.codeExisteRessourceApreOper=e.codeExisteRessourceApreOper,e.idws&&(this.idws=e.idws)}return e}();e.RevenuPersonneMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.SituationFamilialeEmprunteur=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.libelleDelReleaseProjet=e,this.codePrrtTraitement=null,this.dateSaisieSurInternet="0001-01-01",this.heureSaisieSurInternet=0}return e}();e.ComplementDossier=t;var i=function(){function e(e){e&&(this.libelleDelReleaseProjet=e.libelleDelReleaseProjet,this.codePrrtTraitement=e.codePrrtTraitement,this.dateSaisieSurInternet=e.dateSaisieSurInternet,this.heureSaisieSurInternet=e.heureSaisieSurInternet,this.idws=e.idws)}return e}();e.ComplementDossierMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r,s,o,a,c,l,u,d){this.SIGLE=e,this.CDORGNFINNACTRETAB=t,this.CDPRFLASSR=i,this.IDTIER=n,this.IDEDSACTRETAB=r,this.NOMUSGACTRETAB=s,this.IDACTRETAB=o,this.CDAPPLIAPL=a,this.CDTYPECANLDISTN=c,this.CDTYPEPERIMENT=l,this.CDETABFINNTIER=u,this.IdDossierBienImmo=d,this.IDIDN="",this.REFEXTERNE="",this.CODEPRODUIT="",this.CDINFOTARIF="",this.CDPILOTAGEEDITION="",this.CDTYPESIGN="",this.THEME="GCE",this.CODECANAL="",this.CCODESENSCOMMUNICATION=""}return e}();e.ParametreUrlApplicationImpulse=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t){this.dateHorizonProjet=e.dateHorizonProjet,this.codeImprParExpressionVersement=e.codeImprParExpressionVersement,this.codeApplicationChargeDossier=e.codeApplicationChargeDossier,this.codeVisbInstruction=e.codeVisbInstruction,this.techniqueVent=e.techniqueVent,this.codeLivrnImme=e.codeLivrnImme,this.numeroAccrCmps=e.numeroAccrCmps,this.engagementRevc=e.engagementRevc,this.dateSignePret=e.dateSignePret,this.dateTraitement=e.dateTraitement,this.idConventionPres=e.idConventionPres,this.idPres=e.idPres,this.ensgnPres=e.ensgnPres,this.origineCommissionProjet=e.origineCommissionProjet,this.codeEtatPlns=e.codeEtatPlns,this.codeApplicationAnlsRisque=e.codeApplicationAnlsRisque,this.codeTypologieCadreFiscal=e.codeTypologieCadreFiscal,this.codeLevrSecrBancaire=e.codeLevrSecrBancaire,this.dateRecuperationOffreParClient=e.dateRecuperationOffreParClient,this.modeRegle=e.modeRegle,this.numeroCompteSecoPrel=e.numeroCompteSecoPrel,this.domiciliationTresCompteSeco=e.domiciliationTresCompteSeco,this.dateLimiteRetardEmpruntLoiConsommation=e.dateLimiteRetardEmpruntLoiConsommation,this.idExterneDossier=e.idExterneDossier,this.typeLoiScrivener=e.typeLoiScrivener,this.codeAuthentiqueContrat=e.codeAuthentiqueContrat,this.montantVersementCnvn=e.montantVersementCnvn,this.pourcentageFinancier=e.pourcentageFinancier,this.idReductionActe=t,this.idOrigineDemande=e.idOrigineDemande,this.libelleOrigineDemande=e.libelleOrigineDemande,this.datePrevSigneNotaire=e.datePrevSigneNotaire,this.referenceExterneDossier=e.referenceExterneDossier,this.elementStructure5=e.elementStructure5,this.elementStructure6=e.elementStructure6,this.critereRechercheApplication1=e.critereRechercheApplication1,this.critereRechercheApplication2=e.critereRechercheApplication2,this.critereRechercheApplication3=e.critereRechercheApplication3,this.critereRechercheApplication4=e.critereRechercheApplication4,this.critereRechercheApplication5=e.critereRechercheApplication5,this.codeTypeEngagement=e.codeTypeEngagement,this.idAgentInstructionDossier=e.idAgentInstructionDossier,this.idAgentPourDecisionConf=e.idAgentPourDecisionConf,this.idEntitePourTransfertBo=e.idEntitePourTransfertBo,this.codeEtapeSimulation=e.codeEtapeSimulation,this.numeroFichPres=e.numeroFichPres,this.codePrscDossierPres=e.codePrscDossierPres,this.codeDevCreditDev=e.codeDevCreditDev,this.numeroCompteDev=e.numeroCompteDev,this.modeRegleDev=e.modeRegleDev,this.modRegleVersementDev=e.modRegleVersementDev,this.canalDeDistribution=e.canalDeDistribution,this.idws=e.idDossier,this.ouvertureCompteSupEchCredit=e.ouvertureCompteSupEchCredit}return e}();e.DossierMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.coutTravaux=e.coutTravaux,this.dateFinTravaux=e.dateFinTravaux,this.surfHabitationCree=e.surfHabitationCree,this.typeTravauxCadreEcpt=e.typeTravauxCadreEcpt,this.dateConstructionBatimentSousJacent=e.dateConstructionBatimentSousJacent,this.surfHabitationBatimentSousJacent=e.surfHabitationBatimentSousJacent,this.dateAcqsBatimentSousJacent="0001-01-01",this.typeLogementBatimentSous=e.typeLogementBatimentSous,this.nbreLogementBatimentSous=e.nbreLogementBatimentSous,this.dateCreationEcoPtzInitial=e.dateCreationEcoPtzInitial,this.typeEcoPtz=e.typeEcoPtz,this.montantEcoPtzInitial=e.montantEcoPtzInitial,this.idws=e.idws}return e}();e.TravauxFinancesMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t){this.listePropositions=e,this.listeErreursImpression=[],this.listeAnomalies=[],this.dataClients={listeDocuments:[],listeDocumentsSelected:[],listeDocumentsDisabled:[]},this.dataFicheSuiveuse={listeDocuments:[],listeDocumentsSelected:[],listeDocumentsDisabled:[],afficherFicheSuiveuse:t},this.listeAssuranceExterneByPersonne=[]}return e}();e.EmissionDocuments=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.codeTypeEL=String.fromCharCode(e.codeTypeEL),this.codeDeviseCompte=e.codeDeviseCompte,this.lienParentAvecCedn=e.lienParentAvecCedn,this.libelleTitulaireContrat=e.libelleTitulaireContrat,this.codeIndiceBenePrimeEpargneLogement=e.codeIndiceBenePrimeEpargneLogement,this.dateOuvertureContrat=e.dateOuvertureContrat,this.dateClotureContrat=e.dateClotureContrat,this.codeForc=e.codeForc,this.codeRaptContratEpargneLogement=e.codeRaptContratEpargneLogement,this.idPersonneApportDroitContrat=e.idPersonneApportDroitContrat,this.codeDroitJustificatif=e.codeDroitJustificatif,this.codeResrDroitAcqs=e.codeResrDroitAcqs,this.rapatrierTranche=!0,this.droitEstCede=e.typeDroit?!0:!1,this.idContratEpargneLogement=e.idContratEpargneLogement,this.idws=e.idws,this.attributionPrime=49===e.codeIndiceBenePrimeEpargneLogement}return e}();e.ContratEpargneLogementMaj=t;var i=function(){function e(e,t,i){this.tauxEpargne=e.tauxEpargne,this.montantDroitAcqs=e.montantDroitAcqs,this.dateArreEpargne=e.dateArreEpargne,this.libletblOrigineDroitPret=e.libletblOrigineDroitPret,this.codeDroitJustificatif=e.codeDroitJustificatif,this.codeRaptContratEpargneLogement=e.codeRaptContratEpargneLogement,this.montantDroitAcqsDepsOrigineContratEpargneLogement=e.montantDroitAcqsDepsOrigineContratEpargneLogement,this.codeDevise=e.codeDevise,this.codeResrDroitAcqs=e.codeResrDroitAcqs,this.idDroitUtilisation=e.idDroitUtilisation,this.idContratEpargneLogement=e.idContratEpargneLogement,this.idws=e.idws,this.libelleResrDroitAcqs=t,this.montantDroitAcqsInitial=e.montantDroitAcqs,this.montantDroitUtilises=i}return e}();e.TrancheEL=i;var n=function(){function e(e){this.tauxEpargne=e.tauxEpargne,this.montantDroitAcqs=e.montantDroitAcqs,this.dateArreEpargne=e.dateArreEpargne,this.libletblOrigineDroitPret=e.libletblOrigineDroitPret,this.codeDroitJustificatif=e.codeDroitJustificatif,this.codeRaptContratEpargneLogement=e.codeRaptContratEpargneLogement,this.montantDroitAcqsDepsOrigineContratEpargneLogement=e.montantDroitAcqsDepsOrigineContratEpargneLogement,this.codeDevise=e.codeDevise,this.codeResrDroitAcqs=e.codeResrDroitAcqs,this.idws=e.idws}return e}();e.TrancheMaj=n;var r=function(){function e(e,t){null!==e?(this.duree=e.duree,this.tauxMoyen=e.tauxMoyen,this.pretMaximum=e.pretMaximum,this.echHorsAccessoire=e.echHorsAccessoire,this.echAvecAccessoire=e.echAvecAccessoire,this.coutHorsAccessoire=e.coutHorsAccessoire,this.coutAvecAccessoire=e.coutAvecAccessoire,this.indexTmp=t):(this.duree=null,this.tauxMoyen=null,this.pretMaximum=null,this.echHorsAccessoire=null,this.echAvecAccessoire=null,this.coutHorsAccessoire=null,this.coutAvecAccessoire=null,this.indexTmp=null)}return e}();e.DroitAPretEL=r}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n){this.idwsTrancheEL=t.idwsTrancheEL,this.idDossier=t.idDossier,this.idContrat=t.idContrat,this.numeroRelatifDossier=t.numeroRelatifDossier,this.dateOuvertureContrat=t.dateOuvertureContrat,this.tauxEpargne=t.tauxEpargne,this.montantDroitsAcquis=t.montantDroitsAcquis,this.dateArrete=t.dateArrete,this.lienParenteAvecCedant=t.lienParenteAvecCedant,this.cdfadv=t.cdfadv,this.montantDroitsAcquisUtilises=t.montantDroitsAcquisUtilises,this.tauxPretCatalogue=t.tauxPretCatalogue,this.capMaximumOct=t.capMaximumOct,this.montantPretOctroye=t.montantPretOctroye,this.echMaximumOct=t.echMaximumOct,this.montantEchUtilise=t.montantEchUtilise,this.montantLimite=t.montantLimite,this.droitUtilisable=t.droitUtilisable,this.priseEnCompte=t.priseEnCompte,this.contratPosteReforme=t.contratPosteReforme,this.priseEnCompteInitial=t.priseEnCompte,this.montantLimiteInitial=t.montantLimite,this.libelleLienParent=i,this.libellePriseEnCompte="O"===t.priseEnCompte?"Oui":"Non",this.libelleTaux=t.tauxEpargne+" % / "+t.tauxPretCatalogue+" %",this.libelleMontantsDroits=t.montantDroitsAcquis.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" "+e+" / "+t.montantDroitsAcquisUtilises.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" "+e,this.libelleMontantsLimite=-1!==t.montantLimite?t.montantLimite.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" "+e:"",this.droitUtilise=n}return e}();e.DroitAcquisEL=t;var i=function(){function e(e,t){this.idws=e.idws,this.montantDroitAcqsUtilisation=e.montantDroitAcqsUtilisation,this.montantDroitLimite=t}return e}();e.DroitUtiliseMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.idExterneAccessoire=e.idExterneAccessoire,this.partFinancierAccessoire=e.partFinancierAccessoire,this.codeEtatAccessoire=e.codeEtatAccessoire,this.dateEnvoi=e.dateEnvoi,this.dateEffet=e.dateEffet,this.dateFinEffet=e.dateFinEffet,this.idws=e.idws}return e}();e.AccessoireLieMaj=t;var i=function(){function e(e){this.idExterneAccessoire=e.idExterneAccessoire,this.partFinancierAccessoire=e.partFinancierAccessoire,this.codeEtatAccessoire=e.codeEtatAccessoire,this.dateEnvoi=e.dateEnvoi,this.dateEffet=e.dateEffet,this.dateFinEffet=e.dateFinEffet,this.idws=e.idws,this.codeNatureOrigineAccessoire=e.codeNatureOrigineAccessoire}return e}();e.AccessoireComplementaireMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){this.inclAssurance=!0,this.inclAPL=!0,this.alerteBlqn=!1,this.lissageTotal=!0,this.inclPEL=!1,this.inclCEL=!1,this.epargneLogementObligatoire=!1,this.epargneLogementExterne=!1,this.dureeEpargneLogement=0,this.dureeEpargneLogementFixe=!1,this.inclPATZ=!1,this.inclEcoPTZ=!1,this.dureeEcoPTZ=0,this.montantCreditInterieur=0,this.creditInterieurPrio=!1,this.idProduitInterieur=null,this.dureeCreditInterieur=0,this.dureeCreditInterieurFixe=!1,this.tauxCreditInterieur=0,this.idProduitLissage=null,this.dureeCreditLissage=0,this.dureeCreditLissageFixe=!0,this.tauxCreditLissage=0}return e}();e.EntreeOptimisationAvancee=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){this.champsDateFinConstruction=!1,this.champsSurfaceHabitable=!1,this.champsDateAchevementTravaux=!1,this.champsPerformanceEnergetique=!1}return e}();e.ChampInformationsComplementaires=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){this.champsAcquisition=!1,this.champsMobilier=!1,this.champsTravaux=!1,this.champsEcoPTZ=!1,this.champsTerrain=!1,this.champsPrixConvenu=!1,this.champsTravauxReserves=!1,this.champsCoutConstruction=!1,this.champsRachatCreance=!1,this.champsBesoin=!1,this.afficheFraisNotaire=!1,this.afficheBoutonNegociation=!1,this.fraisDivers=!1,this.champsNegociation=!1,this.rachatRegroupement=!1}return e}();e.ChampMontant=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.ChampAssoc=t;var i=function(e){function t(){e.call(this),this.typeObjetToc=null,this.typeObjetTor=null,this.cas=null,this.eligibilite=!1,this.casInfosCompl=null}return __extends(t,e),t}(t);e.ChampAssociation=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.montantHypothequeCapital=e.montantHypothequeCapital,this.codeIndiceBlcgSaisieMontantHypothequeCapital=e.codeIndiceBlcgSaisieMontantHypothequeCapital,this.idws=e.idws}return e}();e.CompteCourantMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.tauxCotisation=e.tauxCotisation,this.montantCotisation=e.montantCotisation,this.codeIndiceBlcgSaisieMontant=e.codeIndiceBlcgSaisieMontant,this.codePeriodeCalcul=e.codePeriodeCalcul,this.dateApplicationCotisation=e.dateApplicationCotisation,this.dateDebutApplicationCotisation=e.dateDebutApplicationCotisation,this.montantAssiette=e.montantAssiette,this.nombrePeriodeApplicationCotisation=e.nombrePeriodeApplicationCotisation,this.periodeApplicationCotisation=e.periodeApplicationCotisation,this.montantFrsGarantie=e.montantFrsGarantie,this.partFinancier=e.partFinancier,this.idws=e.idws}return e}();e.CotisationMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.montantCouverture=e.montantCouverture,this.quotientCouverture=e.quotientCouverture,this.montantEcheanceCouverture=e.montantEcheanceCouverture,this.dateFinAffectationCouverture=e.dateFinAffectationCouverture,this.idws=e.idws}return e}();e.CouvertureCreditMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.codeDevise=e}return e}();e.CreditExterne=t;var i=function(){function e(e){this.libletblPret=e.libletblPret,this.dureAmortissementMois=e.dureAmortissementMois,this.tauxAmortissement=e.tauxAmortissement,this.montantCapital=e.montantCapital,this.mtecheAmortissement=e.montantEcheanceAmortissement,this.codePeriodeAmortissement=e.codePeriodeAmortissement,this.codeIndiceInterieurTantPPersonne=e.codeIndiceInterieurTantPPersonne,this.libelleLibrSurConcr=e.libelleLibrSurConcr,this.codeDevise=e.codeDevise,this.codeIndiceNaturePret=e.codeIndiceNaturePret,this.codeIndiceTauxRevision=e.codeIndiceTauxRevision,this.dureDiffereMois=e.dureDiffereMois,this.typeSurtaxe=e.typeSurtaxe,this.codeIndicePresAssurancePertEmpl=e.codeIndicePresAssurancePertEmpl,this.codeIndiceTypeRemboursement=e.codeIndiceTypeRemboursement,this.tegActu=e.tegActu,this.mtecheDiffere=e.mtecheDiffere,this.codePeriodeDiffere=e.codePeriodeDiffere,this.idws=e.idws}return e}();e.CreditExterneMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(t){this.codeDevise=t,this.etatDuree=e.Enum.CreditDuree.Fixe,this.etatModeOptimisation=e.Enum.CreditModeOptimisation.Total,this.etatEpargneLogementConcours=e.Enum.CreditEpargneLogementConcours.Interne,this.etatEpargneLogementObligatoire=e.Enum.CreditEpargneLogementObligatoire.Oui}return t}();t.CreditInterne=i;var n=function(){function e(e){this.idConventionPres=e.idConventionPres,this.codeIndiceEnvoiAvisEcheance=e.codeIndiceEnvoiAvisEcheance,this.codeIndiceOptimisationImps=e.codeIndiceOptimisationImps,this.referenceExterneCredit=e.referenceExterneCredit,this.codeIndiceTraitementInterieurIntr=e.codeIndiceTraitementInterieurIntr,this.codeTypeActuarielInterieurIntr=e.codeTypeActuarielInterieurIntr,this.codeDeviseVersement=e.codeDeviseVersement,this.codeIndiceExistePieceJustificatifPourDeclechlVersement=e.codeIndiceExistePieceJustificatifPourDeclechlVersement,this.codeTypeRattachementJustificatifDeclaration=e.codeTypeRattachementJustificatifDeclaration,this.modeRegleVersement=e.modeRegleVersement,this.numeroEchelleVersement=e.numeroEchelleVersement,this.jourDateEcheance=e.jourDateEcheance,this.codeIndicelgbAuprInstemss=e.codeIndicelgbAuprInstemss,this.codeIndiceCalculAFaire=e.codeIndiceCalculAFaire,this.montantPrimeEpargneLogement=e.montantPrimeEpargneLogement,this.tauxNegocieSurcRemboursementAnticipe=e.tauxNegocieSurcRemboursementAnticipe,this.tauxPondereCntExtr=e.tauxPondereCntExtr,this.intituleLigneUn=e.intituleLigneUn,this.domiciliationTres=e.domiciliationTres,this.numeroDomiciliationDispFond=e.numeroDomiciliationPourMiseADispFond,this.montantMinimumVersement=e.montantMinimumVersement,this.codeIndicePresUneBonificationUneMajreTaux=e.codeIndicePresUneBonificationUneMajreTaux,this.montantCreditEuro=e.montantCreditEuro,this.montantMaximumPretPVH=e.montantMaximumPretPVH,this.codeDeviseSaccef=e.codeDeviseSaccef,this.nombrePeriodeCredit=e.nombrePeriodeCredit,this.codePeriodeCredit=e.codePeriodeCredit,this.montantCapitalCredit=e.montantCapitalCredit,0===e.montantCapitalCredit?this.coutTotalFrsDossierAssuranceCredit=null:this.coutTotalFrsDossierAssuranceCredit=e.coutTotalFrsDossierAssuranceCredit,e.tauxFutr&&0!==e.tauxFutr.marge?this.margeTauxFutr=e.tauxFutr.marge:this.margeTauxFutr=e.margeTauxFutr,e.tauxInitial&&(e.tauxInitial.tauxProp||0===e.tauxInitial.tauxProp)?this.valeurTauxInitial=e.tauxInitial.tauxProp:this.valeurTauxInitial=this.valeurTauxInitial,this.tauxMontage=e.tauxMontage,e.produitFinancier&&e.produitFinancier.estPATZ?(this.montantPTZVerrouille=e.montantPTZVerrouille,this.dureePTZVerrouillee=e.dureePTZVerrouillee):(this.montantPTZVerrouille=null,this.dureePTZVerrouillee=null),this.etatForcageFraisDossier=e.etatForcageFraisDossier,this.idws=e.idws}return e}();t.CreditInterneMaj=n}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){this.phases=[],this.intersections=[]}return e}();e.CreditGraphique=t;var i=function(){function e(){}return e}();e.PhaseGraphique=i;var n=function(){function e(){}return e}();e.Point=n}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.marquage=!1,void 0===e?(this.dateDebutPeriode=null,this.dateFinPeriode=null,this.montantEcheance=null,this.durePalier=null,this.idPlanFinancier=null,this.idws=null,this.statut=""):(this.dateDebutPeriode=e.dateDebutPeriode,this.dateFinPeriode=e.dateFinPeriode,this.montantEcheance=e.montantEcheance,this.durePalier=e.durePalier,this.idPlanFinancier=e.idPlanFinancier,this.idws=e.idws,this.statut="En modification")}return e}();e.PalierContraint=t;var i=function(){function e(e){this.dateFinPeriode=e.dateFinPeriode,this.montantEcheance=e.montantEcheance,this.durePalier=e.durePalier,this.idws=e.idws}return e}();e.PalierContraintMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.modeCapitalRecouvrementInterieur=e.modeCapitalRecouvrementInterieur,this.codeCapitalRecouvrementInterieur=e.codeCapitalRecouvrementInterieur,this.codePeriodeAssuranceCalculInterieur=e.codePeriodeAssuranceCalculInterieur,this.codePeriodeCalculMER=e.codePeriodeCalculMER,this.nombrePeriodePhase=e.nombrePeriodePhase,this.codePeriodeDurePhase=e.codePeriodeDurePhase,this.valeurTauxPhase=0,this.idws=e.idws}return e}();e.CreditPhaseMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){e?(this.indiceAllt=e.indiceAllt,this.montantApportPersonne=e.montantApportPersonne,this.montantPretEpargneLogementTher=e.montantPretEpargneLogementTher,this.dateEditPropCredit=e.dateEditPropCredit,this.dureeSouh=0,this.idws=e.idws):(this.indiceAllt=null,this.montantApportPersonne=null,this.montantPretEpargneLogementTher=null,this.dateEditPropCredit=null,this.dureeSouh=0,this.idws=null)}return e}();e.PlanFinancementMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){
function e(){this.chargesBrutes=0,this.chargesNettes=0,this.totalPretsInternes=0,this.coutOperation=0}return e}();e.SynteseFinancement=t;var i=function(){function e(){}return e}();e.CreditSyntheseFinancement=i;var n=function(){function e(){}return e}();e.PhaseSyntheseFinancement=n}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){this.dossier=0,this.assurances=0,this.garanties=0,this.interets=0,this.liesAuprojet=0,this.courtage=0}return e}();e.SyntheseFrais=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.TauxInteretAnnuel=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){this.ancre="",this.libelle="",this.description=""}return e}();e.ErreurFormulaire=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.libelle=e}return e}();e.Exception=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.codeTypePhase=e.code,this.libelleTypePhase=e.libelle,this.value=!0,this.listeIdPhase=[]}return e}();e.FraisPhaseChoix=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t){this.titre=e,this.listeTypeControle=t,this.listeAnomalies=[]}return e}();e.SyntheseErreurDossier=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(e,i,n,r){this.personne=e,this.listeAssurances=n,this.libelleAssure=t.getLibelleAssure(e),this.libelleAssurance=t.getLibelleAssurance(e,i,n.length,r),this.libelleStatut=this.getStatutDecisionCreerDossCNP(e,n)}return t.getLibelleAssure=function(e){var t=moment().diff(moment(e.dateNais),"years").toString()+" ans",i=this.getTypeRolePersonne(e.rolsPersonnePourDossier[0]),n=e.libelleTitreCivilite;return e.prenom&&(n+=" "+e.prenom),e.nomRaisonSociale&&(n+=" "+e.nomRaisonSociale),n+" - "+t+" - "+i},t.getLibelleAssurance=function(e,t,i,n){var r=moment().diff(moment(e.dateNais),"years").toString()+" ans",s=t+" "+i.toString()+" assurance";return i>1&&(s+="s"),r+" - "+this.getTypeRolePersonne(e.rolsPersonnePourDossier[0],n)+" - "+s},t.getTypeRolePersonne=function(e,t){var i="",n=_.find(t,function(t){return t.typeRolePersonne===e});return n&&(i=n.roleLint),i},t.getStatutDecision=function(t,i){switch(Math.min.apply(null,t)){case e.Constantes.CodeAscii.Nombre.zero:case e.Constantes.CodeAscii.Nombre.un:case e.Constantes.CodeAscii.Nombre.deux:return i?"Dossier en attente de création":"Décision En attente";case e.Constantes.CodeAscii.Nombre.cinq:case e.Constantes.CodeAscii.Nombre.neuf:return"Décision Accordée";case e.Constantes.CodeAscii.Nombre.six:return"Décision Refusée";default:return""}},t.prototype.getStatutDecisionCreerDossCNP=function(i,n){var r=_.filter(n,function(e){return e.idPersonneAssurance===i.idws}),s=_.pluck(r,"codeEtatAccessoire");if(i.dossierAssurance&&i.dossierAssurance.etatDossierAssurance&&i.dossierAssurance.etatDossierAssurance.libelleEtat)return Math.min.apply(null,s)!==e.Constantes.CodeAscii.Nombre.cinq&&Math.min.apply(null,s)!==e.Constantes.CodeAscii.Nombre.neuf||!i.dossierAssurance||i.dossierAssurance.decisionDossierAssurance.codeDecision===e.Constantes.CodeAscii.Lettre.Maj.A?i.dossierAssurance&&i.dossierAssurance.etatDossierAssurance&&i.dossierAssurance.etatDossierAssurance.libelleEtat:"Décision Accordée";var o=_.find(r,function(e){return e.estAssuranceCNP}),a=o&&o.estAssuranceCNP;return t.getStatutDecision(s,a)},t}();t.DetailAssure=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function e(e){this.idws=null,this.dateSaisieAvis=moment(new Date).format("YYYY-MM-DD HH:mm"),this.libelleAvis=null,this.idEntiteSaisieAvis=null,this.libelleEntiteSaisieAvis=e,this.codeTypologieAvis=null,this.numeroAvis=null}return e}();t.Avis=i;var n=function(){function e(e){this.idws=e.idws,this.dateSaisieAvis=e.dateSaisieAvis,this.libelleAvis=e.libelleAvis,this.codeTypologieAvis=e.codeTypologieAvis}return e}();t.AvisMaj=n;var r=function(){function t(t){this.dateSaisieAvis=t,this.idws="",this.codeTypologieAvis=e.Constantes.CodeTypologieAvis.AVIS_CONFORMITE,this.motif=""}return t}();t.AvisConformite=r}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.idws=null,this.destinataireClausePersonne=e,this.libelleClausePersonne=null,this.numeroRelationClausePersonne=null}return e}();e.ClausePersonnalisee=t;var i=function(){function e(e){this.idws=e.idws,this.destinataireClausePersonne=e.destinataireClausePersonne,this.libelleClausePersonne=e.libelleClausePersonne}return e}();e.ClausePersonnaliseeMaj=i;var n=function(){function e(e){this.idws=e.idws,this.destinataireClassePersonne=e.destinataireClausePersonne,this.libelleClassePersonne=e.libelleClausePersonne}return e}();e.OldClausePersonnaliseeMaj=n}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.idDossier=e,this.forcerControleAccessoireOffre=!1,this.forcerControleCmpltModRecouvrement=!1,this.forcerControleMandat=!1,this.forcerControleEdition=!1}return e}();e.EntreeControleEdition=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t){this.document=e,this.infoDocument=t}return Object.defineProperty(e.prototype,"nom",{get:function(){return this.document.nom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fluxImpression",{get:function(){return this.document.fluxImpression},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libelleDoc",{get:function(){return this.document.libelle||this.infoDocument.libelleDoc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nombreTotal",{get:function(){return this.infoDocument.nombreTotal},enumerable:!0,configurable:!0}),e}();e.DocumentDescription=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n){this.typeTraitementTransfertDossier=e,this.typeTransfertDossier=t,this.sIdAgentTranf=i,this.premierElementStructure=n,this.deuxiemeElementStructure=null,this.troisiemeElementStructure=null,this.quatriemeElementStructure=null,this.cinquiemeElementStructure=null,this.sixiemeElementStructure=null}return e}();e.InformationTransfert=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(t,i,n,r,s,o){this.libelleTypeObjetCommercial=this.getLibelleTypeObjetCommercial(t,n.typeObjetFinancier),this.libelleTypeObjetReglemente=this.getLibelleTypeObjetReglemente(i,n.typeObjetRegle),this.idDossier=r.idDossier,this.listeCreditInterne=s,this.eligibiliteModifiable=!o&&r.dateEditionOffre!==e.Constantes.Donnees.date0}return t.prototype.getLibelleTypeObjetCommercial=function(e,t){var i=_.find(e,function(e){return e.typeObjetFinancierGarantie===t});return i?i.libTypeObjetCommToc:""},t.prototype.getLibelleTypeObjetReglemente=function(e,t){var i=_.find(e,function(e){return e.typeObjetRegleTor===t});return i?i.libelleTypeObjetRegleTor:""},t}();t.InstitutsEmission=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(e,t,i,n){this.emprunteur=e,this.dossier=t,this.garant=i,this.garantiePersonnelle=n,this.selected=!1,this.estEmprunteur=null!==this.emprunteur,this._dateSignature=this.getDateSignatureInitiale(),this._reponse=this.getReponseInitiale(),this.lectureSeule=null!==this.dateSignature}return Object.defineProperty(t.prototype,"listeIdws",{get:function(){return this.estEmprunteur?this.emprunteur.listeIdPersonne:[this.garant.idws]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){if(this.estEmprunteur)return this.emprunteur.denmEmprunt;var e=angular.isDefined(this.garant.nomJeunFill)?"Mme ":"Mr ",t=this.garant.nomRaisonSociale+(angular.isDefined(this.garant.prenom)?" "+this.garant.prenom:"");return e+t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateSignature",{get:function(){return this._dateSignature},set:function(e){this._dateSignature=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reponse",{get:function(){return this._reponse},set:function(e){this._reponse=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"role",{get:function(){return this.estEmprunteur?"Emprunteur":"Garant"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleReponse",{get:function(){return this.reponse===!0?"Acceptée":this.reponse===!1?"Refusée":""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"champsObligatoireSaisis",{get:function(){return(this.reponse===!0||this.reponse===!1)&&angular.isDefined(this.dateSignature)},enumerable:!0,configurable:!0}),t.prototype.erreurDateSuperieurDateMinAcceptation=function(e){return this.reponse===!0&&moment(e).toDate()>moment(this.dateSignature).toDate()},t.prototype.getDateSignatureInitiale=function(){var e=null;return this.estEmprunteur?this.dateNonVide(this.dossier.dateSigneEmprunt)?e=this.dossier.dateSigneEmprunt:this.dateNonVide(this.dossier.dateRefuOffreParEmprunt)&&(e=this.dossier.dateRefuOffreParEmprunt):this.dateNonVide(this.garantiePersonnelle.dateAccpAccessoire)?e=this.garantiePersonnelle.dateAccpAccessoire:this.dateNonVide(this.garantiePersonnelle.dateCloture)&&(e=this.garantiePersonnelle.dateCloture),e},t.prototype.getReponseInitiale=function(){var e=this.estEmprunteur&&this.dateNonVide(this.dossier.dateSigneEmprunt)||!this.estEmprunteur&&this.dateNonVide(this.garantiePersonnelle.dateAccpAccessoire)?!0:null;return null===e&&(e=this.estEmprunteur&&this.dateNonVide(this.dossier.dateRefuOffreParEmprunt)||!this.estEmprunteur&&this.dateNonVide(this.garantiePersonnelle.dateCloture)?!1:null),e},t.prototype.dateNonVide=function(t){return t!==e.Constantes.Donnees.date0&&t!==e.Constantes.Donnees.dateTime0},t}();t.IntervenantSignature=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(){this.listeDocumentDescription=[],this.listeErreurs=[]}return e}();e.ResultatEditionDocuments=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(){}return t.prototype.getResultInterdit=function(){var e={};e.isAutoriserPieco=!1;var t={};return t.comportement=e,t},t.prototype.getResult=function(t,i,n,r,s,o){var a={typeInstruction:this.getTypeTraitement(t.codeTraitementComp,t.codeProcessusInstruction),isAutoriserPieco:!0,isActionGlobaleAutorisee:this.afficherBoutonToutCocher(s,t.codeProcessusInstruction),isAccesLectureSeule:this.getLectureSeule(i),afficherSections:this.getAfficherSections(i),contexteDossierNumerique:o},c={listePieceClient:this.getListePieceClient(n.listePieceControleManlParTheme,n.listeProcessusMetierReference,o.estDossierNumeriqueActive,r),listePieceAgence:this.getListePieceAgence(n.listePieceControleManlParTheme,n.listeProcessusMetierReference,o.estDossierNumeriqueActive),listeControle:this.getListeControleManuel(n.listePieceControleManlParTheme,n.listeProcessusMetierReference),commentairePieceClient:n.commentairePieceClient,commentairePieceAgence:n.commentairePieceAgence,listeStatutsPiece:o.estDossierNumeriqueActive?e.Constantes.Pieco.listeStatutsPieceNumerique:e.Constantes.Pieco.listeStatutsPiece,comportement:a,contexteDossierNumerique:n.contexteDossierNumerique};return c.dataReference=angular.copy(c),c},t.prototype.getTypeTraitement=function(e,t){var i=null;switch(e){case"TC":i="Transféré pour conformité";break;case"TD":i="Transféré pour accord prêteur";break;case"MA":i="Mis en attente";break;case"IN":switch(t){case"IA":i="Instruction Agence";break;case"IB":i="Instruction BO";break;case"PB":i="Prise en charge BO"}}return i},t.prototype.getListePieceClient=function(e,t,i,n){var r=this,s=[];return _.forEach(e,function(e){if(e.listePieceClient){var o="PE"===e.codeTheme?e.idPersonne:null,a=_.find(n||[],function(e){return e.idws===o});s.push(r.getSousTitre(e.libelleLongTheme,a)),Array.prototype.push.apply(s,r.getListePieceDescriptionByTheme(e.listePieceClient,!0,t,i))}}),s},t.prototype.getListePieceAgence=function(e,t,i){var n=this,r=[];return _.forEach(e,function(e){e.listePieceAgence&&(r.push(n.getSousTitre(e.libelleLongTheme,null)),Array.prototype.push.apply(r,n.getListePieceDescriptionByTheme(e.listePieceAgence,!1,t,i)))}),r},t.prototype.getListeControleManuel=function(e,t){var i=this,n=[];return _.forEach(e,function(e){e.listeControleManl&&(n.push(i.getSousTitre(e.libelleLongTheme,null)),Array.prototype.push.apply(n,i.getListeControleDescriptionByTheme(e.listeControleManl,t)))}),n},t.prototype.getSousTitre=function(e,t){var i={};return i.estLigneSousTitre=!0,null!=t?i.libelle=e+" "+t.intituleAdresse:i.libelle=e,i},t.prototype.getListePieceDescriptionByTheme=function(e,t,i,n){var r=this;return _.map(e,function(e){var s=_.find(i,function(t){return t.codeProcessus===e.identifiantProcessusAuPlusTard});return{estLigneSousTitre:!1,idws:e.idws,libelle:r.getLibellePiece(e,t),stttPieceControle:e.stttPieceControle,libelleStatut:r.getLibelleStatutPiece(e.stttPieceControle,n),libelleFinalite:s?s.libelleProcessus:"",libelleAide:e.libelleAide,codeEtatAcquistion:e.codeEtatAcquistion,identifiantProcessusAuPlusTard:e.identifiantProcessusAuPlusTard}})},t.prototype.getLibellePiece=function(t,i){return i&&t.indiceCasEcheance===e.Constantes.CodeAscii.Lettre.Maj.O?t.libellePieceControle+", le cas échéant":t.libellePieceControle},t.prototype.getLibelleStatutPiece=function(t,i){switch(t){case e.Constantes.CodeAscii.Lettre.Maj.R:return i?"Oui":"Présente";case e.Constantes.CodeAscii.Lettre.Maj.A:return i?"Non":"Absente";case e.Constantes.CodeAscii.Lettre.Maj.N:return i?"Sans objet":"N.C.";default:return null}},t.prototype.getListeControleDescriptionByTheme=function(t,i){return _.map(t,function(t){var n=_.find(i,function(e){return e.codeProcessus===t.identifiantProcessusAuPlusTard});return e.ModelsTransformers.ControleManuelDescription.mapControleManuelDescription(t,n)})},t.prototype.getAfficherSections=function(t){var i=[e.Enum.SousEtatDossier.PropositionCommerciale,e.Enum.SousEtatDossier.PropositionCommercialeAutre];return!_.contains(i,t)},t.prototype.getLectureSeule=function(t){var i=[e.Enum.SousEtatDossier.OffreConclue,e.Enum.SousEtatDossier.OffreSigneeDelaiRetractation];return _.contains(i,t)},t.prototype.afficherBoutonToutCocher=function(t,i){if(t)switch(t.valeurParametre){case"N":return!0;case"A":return i!==e.Enum.ProcessusInstruction.InstructionAgence.toString();case"B":return i===e.Enum.ProcessusInstruction.InstructionAgence.toString();default:return!1}return!1},t.prototype.rafraichirDonneesPiecesEtControles=function(e,t){var i=this,n=t.resultatPiecesEtControles,r=n.listePieceControleManlParTheme,s=n.listeProcessusMetierReference,o=n.contexteDossierNumerique.estDossierNumeriqueActive,a=t.listeIdPersonne,c=this.getListePieceClient(r,s,o,a),l=this.getListePieceAgence(r,s,o);return e.listePieceClient=e.listePieceClient.map(function(e){return i.updateAcquisitionValue(e,c)}),e.listePieceAgence=e.listePieceClient.map(function(e){return i.updateAcquisitionValue(e,l)}),e},t.prototype.updateAcquisitionValue=function(e,t){if(e.estLigneSousTitre)return e;var i=_.find(t,function(t){return t.idws===e.idws});return i?(e.codeEtatAcquistion=i.codeEtatAcquistion,e):e},t}();t.PiecoBuilder=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.surfHabitationCreeParConstruction=e.surfHabitationCreeParConstruction,this.surfAnnx=e.surfAnnx,this.coutAcqsBatimentHabitation=e.coutAcqsBatimentHabitation,this.codePrixMarcheBale2=e.codePrixMarcheBale2,this.montantMoblFinancier=e.montantMoblFinancier,this.montantFrsNegocie=e.montantFrsNegocie,this.dateAcqsBatimentHabitation="0001-01-01",this.dateConstructionBatimentHabitation=e.dateConstructionBatimentHabitation,this.montantTVAFinancierARemboursement=e.montantTVAFinancierARemboursement,this.typeLogement=e.typeLogement,this.nombreLogementConstruction=e.nombreLogementConstruction,this.nombrePiecePrincipalConstruction=e.nombrePiecePrincipalConstruction,this.typeLogement1=e.typeLogement1,this.idws=e.idws}return e}();e.BatimentHabitableFinanceMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.codeTypeObjetCommercialisation="",this.codeTypeObjetRegle="",this.typeVent=48,this.prixNetVendeur=0,this.montantCRDSurBienVend=0,this.montantCRDRachSurBienVend=0,this.montantComsAgence=0,this.montantAcqs=0,this.dateAcqs="",this.modeAcqs=49,this.montantEstmVenl=0,this.dateEstmVenl="",this.codeModeleEstmVenl="",this.adresseLigne1="",this.adresseLigne3="",this.adresseLigne4="",this.codePoste="",this.ville="",this.adresseLigne1Suite="",this.codePays="",this.adresseLigne5="",this.idProjet=e,this.idws=null}return e}();e.BienAVendre=t;var i=function(){function e(e){this.codeTypeObjetCommercialisation=e.codeTypeObjetCommercialisation,this.codeTypeObjetRegle=e.codeTypeObjetRegle,this.typeVent=e.typeVent,this.prixNetVendeur=e.prixNetVendeur,this.montantCRDSurBienVend=e.montantCRDSurBienVend,this.montantCRDRachSurBienVend=e.montantCRDRachSurBienVend,this.montantComsAgence=e.montantComsAgence,this.montantAcqs=e.montantAcqs,moment(e.dateAcqs).isValid()&&(this.dateAcqs=e.dateAcqs),e.modeAcqs&&(this.modeAcqs=e.modeAcqs),this.montantEstmVenl=e.montantEstmVenl,moment(e.dateEstmVenl).isValid()&&(this.dateEstmVenl=e.dateEstmVenl),this.codeModeleEstmVenl=e.codeModeleEstmVenl,this.adresseLigne1=e.adresseLigne1,this.adresseLigne3=e.adresseLigne3&&e.adresseLigne3.length>32?e.adresseLigne3.substr(0,32):e.adresseLigne3,this.adresseLigne4=e.adresseLigne4&&e.adresseLigne4.length>32?e.adresseLigne4.substr(0,32):e.adresseLigne4,this.codePoste=e.codePoste,this.ville=e.ville&&e.ville.length>25?e.ville.substr(0,25):e.ville,this.adresseLigne1Suite=e.adresseLigne1Suite,this.codePays=e.codePays,this.adresseLigne5=e.adresseLigne5,this.idws=e.idws}return e}();e.BienAVendreMaj=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.coutTerr=e.coutTerr,this.coutAcqsCommercialisationInds=e.coutAcqsCommercialisationInds,this.coutAcqsHabitation=e.coutAcqsHabitation,this.coutConstruction=e.coutConstruction,this.coutTravauxAmen=e.coutTravauxAmen,this.coutPasPort=e.coutPasPort,this.coutFondComc=e.coutFondComc,this.coutEqpmMte=e.coutEqpmMte,this.coutVehcPrfs=e.coutVehcPrfs,this.coutPartSociale=e.coutPartSociale,this.montantFrsNegocie=e.montantFrsNegocie,this.montantFrsNotaire=e.montantFrsNotaire,this.coutStck=e.coutStck,this.coutStckHorsInstruction=e.coutStckHorsInstruction,this.coutBfr=e.coutBfr,this.coutBfrHorsInstruction=e.coutBfrHorsInstruction,this.coutAutreFrsPrfs=e.coutAutreFrsPrfs,this.coutAutreFrsPrfsHorsInstruction=e.coutAutreFrsPrfsHorsInstruction,this.montantTVAFinancier=e.montantTVAFinancier,this.montantRachCren=e.montantRachCren,this.coutPartSoce=e.coutPartSoce,this.idws=e.idws}return e}();e.BienDetailleMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.coutConstructionFinancier=e.coutConstructionFinancier,this.dateDebutConstruction=e.dateDebutConstruction,this.dateFinConstruction=e.dateFinConstruction,this.coutTravauxAChargeMoa=51===e.typeContratConstruction?e.coutTravauxAChargeMoa:0,this.montantTVAFinancierARemboursement=e.montantTVAFinancierARemboursement,this.typeContratConstruction=e.typeContratConstruction,this.typeImeu=e.typeImeu,this.presUneGarantieAcheTravaux=e.presUneGarantieAcheTravaux,this.surfHabitationCreeParConstruction=e.surfHabitationCreeParConstruction,this.surfAnnx=e.surfAnnx,this.typeLogement=e.typeLogement,this.nombreLogementConstruction=e.nombreLogementConstruction,this.nombrePiecePrincipalConstruction=e.nombrePiecePrincipalConstruction,this.typeLogement1=e.typeLogement1,this.idws=e.idws}return e}();e.ConstructionFinanceeMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.codeNatureTravaux=e.codeNatureTravaux,this.codeTypologieCoutTravaux=e.codeTypologieCoutTravaux,this.coutTravaux=e.coutTravaux}return e}();e.DetailCoutObjetMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t){this.identifiant=e,this.listeConstantes=t}return e}();e.DictionnaryConstantes=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.libelle=e.libelle}return e}();e.FormulaireProjetUsage=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.libelle=e.libelle,this.niveaux=e.niveaux}return e}();e.FormulaireProjetNature=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.libelle=e.libelle}return e}();e.FormulaireProjetNiveau=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.libelle=e.libelle,this.natures=e.natures}return e}();e.FormulaireProjetType=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,i){void 0===i&&(i=!0),this.idws=e.idws,this.indiceAchtRvnt=e.presBienAVend,this.codeBatimentBassConsommation=32,this.codeZoneFrncSinistre=null,e.defnSiEmpruntEstPrm&&null!==e.defnSiEmpruntEstPrm||(e.defnSiEmpruntEstPrm=!1),i===!0&&(this.defnSiEmpruntEstPrm=e.defnSiEmpruntEstPrm,this.codeConditionDerogationPourPtz=e.codeConditionDerogationPourPtz,this.adresseLigne1=e.adresseLigne1,this.adresseLigne1Suite=e.adresseLigne1Suite,this.adresseLigne3=e.adresseLigne3,this.adresseLigne4=e.adresseLigne4,this.codePoste=e.codePoste,this.ville=e.ville,this.adresseLigne5=e.adresseLigne5,this.codePaysLocs=e.codePays,this.codeDestinataireAutreParObjet=e.codeDestinataireAutreParObjet,this.codeModeleOccpLogement=e.codeModeleOccpLogement),t===!1?(this.codeBatimentBassConsommation=e.codeBatimentBassConsommation,this.codePrixMarche=e.codePrixMarche,this.codeTypeMarche=e.codeTypeMarche,this.typeProprietaire=e.typeProprietaire,this.pourcentageProprietaireApreOper=e.pourcentageProprietaireApreOper,this.montantInscHypotheque=e.montantInscHypotheque,this.qualEmplaProjet=e.qualEmplaProjet,this.zoneRegleRobnBien=e.zoneRegleRobnBien,this.zonePlusLogement=e.zonePlusLogement,this.typeImeu=e.typeImeu,this.idProgrammeImmobilier=e.idProgrammeImmobilier,this.idAccrPourInstruction=e.idAccrPourInstruction,this.indicemssNouvPartScpi=e.indicemssNouvPartScpi,this.codeTypeMarchePourVent=e.codeTypeMarchePourVent,this.nomSoceGestion=e.nomSoceGestion,this.centreBourgadeRural=e.centreBourgadeRural,this.descriptionObjet=e.descriptionObjet,this.coutTotalObjet=e.coutTotalObjet,this.coutTotalObjetHt=e.coutTotalObjetHt,this.coutTotalObjetTTC=e.coutTotalObjetTTC,this.montantFrsDivr=e.montantFrsDivr,this.montantRachCren=e.montantRachCren,this.codeMiseOeuvrProjetPro=e.codeMiseOeuvrProjetPro,this.coutObjetSaisieCalculEnvl=e.coutObjetSaisieCalculEnvl,this.negocieEffcParNotaire=e.negocieEffcParNotaire,this.typeAcqs=e.typeAcqs,this.nombreUnteContratProgrammeImmobilier=e.nombreUnteContratProgrammeImmobilier,this.coutFrsNotaire=e.coutFrsNotaire,this.coutRelOper=e.coutRelOper,this.montantEstmVenl=e.montantEstmVenl,this.dateEstmVenl=e.dateEstmVenl,this.codeModeleEstmVenl=e.codeModeleEstmVenl,this.majSelonTocTor(e.typeObjetFinancier,e.typeObjetRegle)):(this.codePrixMarche=null,this.codeTypeMarche=null,this.typeProprietaire=null,this.pourcentageProprietaireApreOper=null,this.montantInscHypotheque=null,this.qualEmplaProjet=null,this.zoneRegleRobnBien=null,this.zonePlusLogement=null,this.typeImeu=null,this.idProgrammeImmobilier=null,this.idAccrPourInstruction=null,this.indicemssNouvPartScpi=null,this.codeTypeMarchePourVent=null,this.nomSoceGestion=null,this.centreBourgadeRural=null,this.descriptionObjet=null,this.coutTotalObjet=null,this.coutTotalObjetHt=null,this.coutTotalObjetTTC=null,this.montantFrsDivr=null,this.montantRachCren=null,this.codeMiseOeuvrProjetPro=null,this.coutObjetSaisieCalculEnvl=null,this.negocieEffcParNotaire=null,this.typeAcqs=null,this.nombreUnteContratProgrammeImmobilier=null,this.coutFrsNotaire=null,this.coutRelOper=null,this.montantEstmVenl=null,this.dateEstmVenl=null,this.codeModeleEstmVenl=null)}return e.prototype.majSelonTocTor=function(e,t){("005"===e&&"C1"===t||"005"===e&&"C2"===t||"003"===e&&"03"===t||"003"===e&&"R4"===t||"003"===e&&"07"===t||"003"===e&&"98"===t||"003"===e&&"R5"===t||"005"===e&&"07"===t||"005"===e&&"10"===t||"005"===e&&"12"===t||"005"===e&&"11"===t||"005"===e&&"13"===t||"007"===e&&"22"===t)&&(this.coutFrsNotaire=null,this.negocieEffcParNotaire=null,this.typeAcqs=null,this.nombreUnteContratProgrammeImmobilier=null)},e}();e.ProjetImmobilierMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function e(){}return e.getInstance=function(e){return new n(e)},e}();t.PromotionImmobilier=i;var n=function(){function t(e){this.promotionImmobiliereLecture=e}return Object.defineProperty(t.prototype,"listeAnomalieLecture",{get:function(){return this.promotionImmobiliereLecture.listeAnomalieLecture},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"idws",{get:function(){return this.promotionImmobiliereLecture.idws},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"situationProgramme",{get:function(){return this.promotionImmobiliereLecture.situationProgramme},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleSyntDossier",{get:function(){return this.promotionImmobiliereLecture.libelleSyntDossier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intituleProgramme",{get:function(){return this.promotionImmobiliereLecture.intituleProgramme},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nomScpi",{get:function(){return this.promotionImmobiliereLecture.nomScpi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateDiss",{get:function(){return this.promotionImmobiliereLecture.dateDiss},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adresseProgrammeImmobilier",{get:function(){return this.promotionImmobiliereLecture.adresseProgrammeImmobilier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loclProgrammeImmobilier",{get:function(){return this.promotionImmobiliereLecture.loclProgrammeImmobilier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"codePosteProgrammeImmobilier",{get:function(){return this.promotionImmobiliereLecture.codePosteProgrammeImmobilier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"codePays",{get:function(){return this.promotionImmobiliereLecture.codePays},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stttCapitalisation",{get:function(){return this.promotionImmobiliereLecture.stttCapitalisation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFinCommercialisation",{get:function(){return this.promotionImmobiliereLecture.dateFinCommercialisation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indiceAlltDeps",{get:function(){return this.promotionImmobiliereLecture.indiceAlltDeps},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"idProjet",{get:function(){return this.promotionImmobiliereLecture.idProjet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditionAllotementLibelle",{get:function(){switch(this.indiceAlltDeps){case e.Constantes.CodeAscii.Lettre.Maj.N:return"Allotement maxi non dépassé";case e.Constantes.CodeAscii.Lettre.Maj.O:return"Allotement maxi dépassé";default:return"Aucune information"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decisionLibelle",{get:function(){switch(this.promotionImmobiliereLecture.stttCapitalisation){case e.Constantes.CodeAscii.Nombre.un:return"Accord";case e.Constantes.CodeAscii.Nombre.deux:return"Rejet";case e.Constantes.CodeAscii.Nombre.trois:return"Ajournement";case e.Constantes.CodeAscii.Nombre.quatre:return"Suspension";case e.Constantes.CodeAscii.Nombre.cinq:return"Non statué";case e.Constantes.CodeAscii.Nombre.six:return"Sans objet";default:return"Aucune information"}},enumerable:!0,configurable:!0}),t}()}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.idws=e.idws,this.idPersonneSI=e.idPersonneSI,this.nomReductionActe=e.nomReductionActe,this.prenReductionActe=e.prenReductionActe,this.intituleAdresse=e.intituleAdresse,this.adresseLigne3=e.adresseLigne3&&e.adresseLigne3.length>32?e.adresseLigne3.substr(0,32):e.adresseLigne3,this.adresseLigne4=e.adresseLigne4&&e.adresseLigne4.length>32?e.adresseLigne4.substr(0,32):e.adresseLigne4,this.codePoste=e.codePoste,this.ville=e.ville&&e.ville.length>25?e.ville.substr(0,25):e.ville,this.complementIntitule=e.complementIntitule,this.adresseLigne5=e.adresseLigne5,this.emailPerso=e.emailPerso,this.numeroTeleProf=e.numeroTeleProf,this.numeroTelePersonne=e.numeroTelePersonne,this.numeroTcpyProf=e.numeroTcpyProf,this.numeroPortPersonne=e.numeroPortPersonne}return e}();e.RedacteurActeMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.montantSoul=e.montantSoul,this.permDetrSiSoulFaitSuiteDivo=e.permDetrSiSoulFaitSuiteDivo,this.pourcentageProprietaireOrigine=e.pourcentageProprietaireOrigine,this.valeurActiviteCorrValeurBienOrigine=e.valeurActiviteCorrValeurBienOrigine,
this.surfHabitationBienSous=e.surfHabitationBienSous,this.dateAcqsBienSous="0001-01-01",this.idws=e.idws}return e}();e.SoulteFinanceeMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.coutTerr=e.coutTerr,e&&e.dateAcqsTerr?this.dateAcqsTerr=e.dateAcqsTerr:this.dateAcqsTerr="0001-01-01",this.surfTerr=e.surfTerr,this.codeFinancierTerr=e.codeFinancierTerr,this.montantFrsNegocie=e.montantFrsNegocie,this.idws=e.idws}return e}();e.TerrainFinanceMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e,t){this.$q=e,this.wsService=t}return t.prototype.getListeTypeRevenu=function(t,i){var n=this;if(void 0!==this._listeTypeRevenu)return this.$q.when(this._listeTypeRevenu);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeRessource;return r=r+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i,this.wsService.sendGetRequest(r).then(function(e){return n._listeTypeRevenu=e,n._listeTypeRevenu})},t.prototype.getListeCategoriesEmprunteur=function(t,i){var n=this;if(void 0!==this._listeCategorieEmprunteur)return this.$q.when(this._listeCategorieEmprunteur);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerCategorieEmprunteur;return r=r+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i,this.wsService.sendGetRequest(r).then(function(e){return n._listeCategorieEmprunteur=e,n._listeCategorieEmprunteur})},t.prototype.getListeSituationsFamilialesEmprunteur=function(t,i){var n=this;if(void 0!==this._listeSituationFamilialeEmprunteur)return this.$q.when(this._listeSituationFamilialeEmprunteur);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeSituationFamiliale;return r=r+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i,this.wsService.sendGetRequest(r).then(function(e){return n._listeSituationFamilialeEmprunteur=e,n._listeSituationFamilialeEmprunteur})},t.prototype.getListeTypeCharge=function(t,i){var n=this;if(void 0!==this._listeTypeCharge)return this.$q.when(this._listeTypeCharge);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeCharge;return r=r+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i,this.wsService.sendGetRequest(r).then(function(e){return n._listeTypeCharge=e,n._listeTypeCharge})},t.prototype.getAdrRisqueEpargne=function(t,i){var n=this;if(void 0!==this._listeAdrRisqueEpargne)return this.$q.when(this._listeAdrRisqueEpargne);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerAdrRisqueEpargne;return r=r+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i,this.wsService.sendGetRequest(r).then(function(e){return n._listeAdrRisqueEpargne=e,n._listeAdrRisqueEpargne})},t.prototype.getListeOpposition=function(t,i){var n=this;if(void 0!==this._listeAdrOpposition)return this.$q.when(this._listeAdrOpposition);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerAdrOpposition,s={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,codeEtablissement:i,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(r,s).then(function(e){return n._listeAdrOpposition=e,e})},t.prototype.getListeCategoriesSocioPro=function(t,i){var n=this;if(void 0!==this._listeCatSocioProfessionnelle)return this.$q.when(this._listeCatSocioProfessionnelle);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerAdrClasseRisqueCSP;return r=r+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i,this.wsService.sendGetRequest(r).then(function(e){return n._listeCatSocioProfessionnelle=e,n._listeCatSocioProfessionnelle})},t.$inject=["$q","ApiInstuctionCredit.Data.WsService"],t}();t.CatalogueClientService=i,e.app.service("ApiInstuctionCredit.Data.CatalogueClientService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e,t){this.$q=e,this.wsService=t,this._listeOfListeConstantes=[]}return t.prototype.getListeDevises=function(e,t,i,n,r,s,o){var a=this;void 0===s&&(s=!0);var c=this.$q.when(null);return void 0===this._listeDevises&&(c=o?this.appelleListerDeviseGet(e,o).then(function(e){a._listeDevises=_.sortBy(e,"numeroDordreDevise")}):this.appelleListerDevisePost(e,t,i,n,r).then(function(e){a._listeDevises=_.sortBy(e,"numeroDordreDevise")})),c.then(function(){return a.getListeDevisesFiltrees(s)})},t.prototype.appelleListerDevisePost=function(t,i,n,r,s){var o=e.Constantes.WebServiceUrls.CreditParametre.urlListerDevise,a={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,criteresAccess:{rubriquesFiltre:[i],valeursFiltre:[n],rubriquesTri:[r],valeurTri:s}};return this.wsService.sendPostRequest(o,a,6e4).then(function(e){return e})},t.prototype.appelleListerDeviseGet=function(t,i){var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerDevise,r={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,codeEtablissement:i};return this.wsService.sendGetRequestWithParams(n,r,6e4).then(function(e){return e})},t.prototype.getListeDevisesFiltrees=function(e){if(null!==e){var t=e?79:78;return _.filter(this._listeDevises,function(e){return e.codeIndiceDeviseInstruction===t})}return this._listeDevises},t.prototype.getListeConstantes=function(t,i,n){var r=this,s=_.find(this._listeOfListeConstantes,function(e){return e.identifiant===n});if(void 0!==s)return this.$q.when(s.listeConstantes);var o=e.Constantes.WebServiceUrls.CreditParametre.urlListerConstantes+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i+"&identifiantChamp="+n;return this.wsService.sendGetRequest(o).then(function(t){return r._listeOfListeConstantes.push(new e.Modele.DictionnaryConstantes(n,t)),t})},t.prototype.getListeParametresApplicatifs=function(t,i){var n=this;if(void 0!==this._listeParametresApplicatif)return this.$q.when(this._listeParametresApplicatif);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerParamApplicatif+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r,6e4).then(function(e){return n._listeParametresApplicatif=e,e})},t.prototype.getListeParametresApplicatifsFiltrees=function(e,t,i,n){return this.getListeParametresApplicatifs(e,t).then(function(e){var t=[];return _.forEach(n,function(i){var n=_.find(e,function(e){return e.codeParametreApplicatif===i});void 0!==n&&t.push(n)}),t})},t.prototype.getParametreApplicatif=function(e,t,i){return this.getListeParametresApplicatifs(e,t).then(function(e){var t=_.find(e,function(e){return e.codeParametreApplicatif===i});return t})},t.prototype.getParametreApplicatifActif=function(e,t,i,n){var r=this;return this.getListeParametresApplicatifsFiltrees(e,t,[],[i]).then(function(t){var i=t[0];return i&&r.getActivationParametresApplicatifs(i,n)&&i.dateDebutValidite<=e&&i.dateFinValidite>=e?i:null})},t.prototype.getActivationParametresApplicatifs=function(e,t){var i=!1;switch(e.codeTypeParametre){case"LB":e.valeurParametre===t&&(i=!0);break;case"DU":break;case"DT":break;case"MT":break;case"TX":}return i},t.prototype.getAdressesParametreRubrique=function(t){var i=this;if(void 0!==this._listeAdressesParametreRubrique)return this.$q.when(this._listeAdressesParametreRubrique);var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerAdrParamRubrique,r={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(n,r).then(function(e){return i._listeAdressesParametreRubrique=e,e})},t.prototype.getAdresseParametreRubriqueActive=function(e,t,i){return this.getAdressesParametreRubriqueFiltrees(e,[],[t]).then(function(e){var t=e[0];return t&&t.caracteristiqueAffcRubriqueHabitation===i?t:null})},t.prototype.getAdressesParametreRubriqueFiltrees=function(e,t,i){return this.getAdressesParametreRubrique(e).then(function(e){var t=[];return _.forEach(i,function(i){var n=_.find(e,function(e){return e.nomDonneurMCD===i});void 0!==n&&t.push(n)}),t})},t.prototype.listerCodePays=function(t){var i=this;if(void 0!==this._listeCodePays)return this.$q.when(this._listeCodePays);var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerCodePays,r={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(n,r).then(function(e){return i._listeCodePays=_.sortBy(e,"numeroOrdreClasse"),i._listeCodePays})},t.prototype.chargerTypeEds=function(t,i){var n=this;if(void 0!==this._listeTypeEds)return this.$q.when(this._listeTypeEds);var r=e.Constantes.WebServiceUrls.CreditParametre.urlChargerTypeEds+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r,6e4).then(function(e){return n._listeTypeEds=e,e})},t.prototype.chargerTypeEdsDecision=function(t,i){var n=this;if(void 0!==this._listeTypeEdsDesicion)return this.$q.when(this._listeTypeEdsDesicion);var r=e.Constantes.WebServiceUrls.CreditParametre.urlChargerTypeEdsDecision+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n._listeTypeEdsDesicion=e,e})},t.prototype.chargerTypeEdsBackOffice=function(t,i){var n=this;if(void 0!==this._listeTypeEdsBackOffice)return this.$q.when(this._listeTypeEdsBackOffice);var r=e.Constantes.WebServiceUrls.CreditParametre.urlChargerTypeEdsBackOffice+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n._listeTypeEdsBackOffice=e,e})},t.prototype.listerParamEtablissement=function(t,i){var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerParamEtab+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(n,6e4)},t.prototype.getEtablissementParFiltre=function(t,i){if(!i)return this.$q.when([]);var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerEtablissements,r={dateTraitement:t,filtreLibelle:i,versionWsdl:e.Constantes.Service.versionWsdlN};return this.wsService.sendPostRequest(n,r)},t.prototype.listerEtablissements=function(t,i){var n=this;if(void 0!==this._listeEtablissements)return this.$q.when(this._listeEtablissements);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerEtablissements,s={dateTraitement:t,filtreLibelle:i,versionWsdl:e.Constantes.Service.versionWsdlN};return this.wsService.sendPostRequest(r,s).then(function(e){return n._listeEtablissements=e,e})},t.prototype.listerTypeRole=function(t,i){var n=this;if(void 0!==this._listeTypeRole)return this.$q.when(this._listeTypeRole);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeRole+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n._listeTypeRole=e,e})},t.$inject=["$q","ApiInstuctionCredit.Data.WsService"],t}();t.CatalogueCommunService=i,e.app.service("ApiInstuctionCredit.Data.CatalogueCommunService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e,t){this.$q=e,this.wsService=t}return t.prototype.getListeLienParente=function(t){var i=this;if(void 0!==this._listeLiensParente)return this.$q.when(this._listeLiensParente);var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerLienParente,r={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(n,r).then(function(e){return i._listeLiensParente=e,i._listeLiensParente})},t.prototype.getMontantEncoursEl=function(t){var i=this;if(void 0!==this._montantEncoursEL)return this.$q.when(this._montantEncoursEL);var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerMontantEncoursEpLogement,r={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(n,r).then(function(e){return i._montantEncoursEL=e[0],i._montantEncoursEL})},t.$inject=["$q","ApiInstuctionCredit.Data.WsService"],t}();t.CatalogueEpargneLogementService=i,e.app.service("ApiInstuctionCredit.Data.CatalogueEpargneLogementService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e,t,i){this.$q=e,this.wsService=t,this.cacheService=i,this._listeProduitFinancier=[],this._listeTypeDeSinistre={},this._listeScConventionBonification={}}return t.prototype.getListeFamillesDeProduits=function(t,i,n,r,s,o){var a=this;if(null!==this.listeFamillesProduits)return this.$q.when(this.listeFamillesProduits);var c=e.Constantes.WebServiceUrls.CreditParametre.urlListerFamillesDeProduits+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i+"&codeCategorieEmprunt="+n+"&typeObjet="+r+"&codeDevise="+o+"&codeStructureInstruction="+s;return this.wsService.sendGetRequest(c).then(function(e){return a.listeFamillesProduits=e,a.listeFamillesProduits})},t.prototype.getListeProduitsAutorises=function(t,i,n,r,s,o,a){var c=this;if(null!==this.listeProduitsAutorises)return this.$q.when(this.listeProduitsAutorises);var l=e.Constantes.WebServiceUrls.CreditParametre.urlListerProduitsAutorises+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateTraitement="+t+"&codeEtablissement="+i+"&codeDevise="+n+"&codeFamilleProduit=NaN"+r+"&typeObjet="+s+"&codeStructureInstruction="+o+"&codeDestinationAuto="+a+"&codeProduitNational=";return this.wsService.sendGetRequest(l).then(function(e){return c.listeProduitsAutorises=e,c.listeProduitsAutorises})},t.prototype.getProduitFinancier=function(t,i,n){var r=this,s=_.find(this._listeProduitFinancier,function(e){var t=e.codeFamilleProduit+e.numeroRelationProduit;return t===n});if(void 0!==s)return this.$q.when(s);var o=e.Constantes.WebServiceUrls.CreditParametre.urlChargerProduitFinancier+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i+"&identifiantProduitFinancier="+n;return this.wsService.sendGetRequest(o).then(function(e){return r._listeProduitFinancier.push(e),e})},t.prototype.getListeTypeAccessoire=function(t,i){var n=this;if(void 0!==this.listeAccessoireType)return this.$q.when(this.listeAccessoireType);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeAccessoire+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n.listeAccessoireType=e,e})},t.prototype.getListeModCalculHorsConvParProd=function(t,i,n){var r=this,s="getListeModCalculHorsConvParProd"+t+i+n,o=e.Constantes.WebServiceUrls.CreditParametre.urlListerModCalculHorsConvParProd+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i+"&codeFamilleProduit="+n.substr(0,5)+"&numeroRelationProduit="+n.substr(5,3);return this.cacheService.get(s,function(){return r.wsService.sendGetRequest(o)},-1)},t.prototype.getListeModCalculAccesComp=function(t,i){var n=this;if(void 0!==this._listeModalitesCalculAccessoireComplementaire)return this.$q.when(this._listeModalitesCalculAccessoireComplementaire);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerModCalculAccesComp+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n._listeModalitesCalculAccessoireComplementaire=e,e})},t.prototype.getListeBeneficiaire=function(t,i){var n=this;if(void 0!==this._listeBeneficiaire)return this.$q.when(this._listeBeneficiaire);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerBeneficiaire+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n._listeBeneficiaire=e,e})},t.prototype.getListeModTypeDeRoleTiersParAcces=function(t,i){var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerModTypeDeRoleTiersParAcces,r={versionWsdl:e.Constantes.Service.versionWsdl,dateDeTraitement:t,codeSousTypeAccessoire:i,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(n,r)},t.prototype.getListeModTiersTypRol=function(t,i,n,r,s){var o=e.Constantes.WebServiceUrls.CreditParametre.urlListerModTiersTypRol+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeRole="+n+"&intitule="+r+"&codePostal="+s+"&codeEtablissement="+i;return this.wsService.sendGetRequest(o)},t.prototype.getListeTypeAssurance=function(t,i){var n=this;if(void 0!==this._listeTypeAssurance)return this.$q.when(this._listeTypeAssurance);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeAssurance+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n._listeTypeAssurance=e,n._listeTypeAssurance})},t.prototype.getListeClauseDeReserveAssurance=function(t,i){var n=this;if(void 0!==this._listeClauseDeReserveAssurance)return this.$q.when(this._listeClauseDeReserveAssurance);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerClausesDeReservesAss,s={versionWsdl:e.Constantes.Service.versionWsdl,dateDeTraitement:t,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(r,s).then(function(e){return n._listeClauseDeReserveAssurance=_.sortBy(e,"numeroOrdreClasse"),n._listeClauseDeReserveAssurance})},t.prototype.getListeTypeDeSinistreParConvention=function(t,i,n){var r=this,s=this._listeTypeDeSinistre[n];if(void 0!==s&&s.length>0)return this.$q.when(s);var o=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeDeSinistreParConv,a={versionWsdl:e.Constantes.Service.versionWsdl,dateDeTraitement:t,identifiantConvention:n,codeEtablissement:i,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(o,a).then(function(e){return r._listeTypeDeSinistre[n]=e,e})},t.prototype.getDetailConventionAssurance=function(t,i,n){var r=e.Constantes.WebServiceUrls.CreditParametre.urlChargerConventionAssurances+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateTraitement="+t+"&codeEtablissement="+i+"&identifiantConvention="+n;return this.wsService.sendGetRequest(r)},t.prototype.getListeNatureGarantie=function(t,i){var n=this;if(void 0!==this._listeNatureGarantie)return this.$q.when(this._listeNatureGarantie);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerNatureGarantie+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n._listeNatureGarantie=e,n._listeNatureGarantie})},t.prototype.getListeTypesDeFraisGarantie=function(t,i,n){var r=this;if(void 0!==this._listeTypesDeFraisGarantie&&_.any(this._listeTypesDeFraisGarantie,function(e){return e.codeNatureGarantie===n}))return this.$q.when(this._listeTypesDeFraisGarantie);var s=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypesDeFraisGarantie+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i+"&codeNatureGarantie="+n;return this.wsService.sendGetRequest(s).then(function(e){return r._listeTypesDeFraisGarantie=e,r._listeTypesDeFraisGarantie})},t.prototype.getListeConventionsGarantie=function(t,i,n,r,s,o,a){var c=this;if(void 0!==this._listeConventionGarantie)return this.$q.when(this._listeConventionGarantie);var l=e.Constantes.WebServiceUrls.CreditParametre.urlListerConventionsGarantie+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateTraitement="+t+"&codeEtablissement="+i+"&codeTypeConvention=CA&typeObjetFinancierGarantie="+n+"&codeCategorieEmprunt="+r+"&codeCommissionIntervenantExterne=32&codeNatureGarantie="+s+"&codeProduit="+o+"&numeroRelationProduit="+a;return this.wsService.sendGetRequest(l).then(function(e){return c._listeConventionGarantie=e,c._listeConventionGarantie})},t.prototype.getListeNatureGarantieRelatifTypeObjet=function(t,i){var n=this;if(void 0!==this._listeNatureGarantieRelatifTypeObjet)return this.$q.when(this._listeNatureGarantieRelatifTypeObjet);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerNatureGarRelatifATypeObjet+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n._listeNatureGarantieRelatifTypeObjet=e,n._listeNatureGarantieRelatifTypeObjet})},t.prototype.getListeParamGarantie=function(t,i){var n=this;if(void 0!==this._listeParamGarantie)return this.$q.when(this._listeParamGarantie);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerParamGarantie,s={versionWsdl:e.Constantes.Service.versionWsdl,dateDeTraitement:t,codeEtablissement:i};return this.wsService.sendPostRequest(r,s).then(function(e){return n._listeParamGarantie=e,n._listeParamGarantie})},t.prototype.getListeConventionsBonification=function(t,i){var n=this,r=this._listeScConventionBonification[i];if(angular.isDefined(r)&&r.length>0)return this.$q.when(angular.copy(r));var s=e.Constantes.WebServiceUrls.CreditParametre.urlListerConventionsBonification,o={versionWsdl:e.Constantes.Service.versionWsdl,dateDeTraitement:t,identifiantProduit:i};return this.wsService.sendPostRequest(s,o).then(function(e){return n._listeScConventionBonification[i]=e,angular.copy(e)})},t.prototype.getListeEligibilitesBonification=function(t,i,n){var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerEligibilites,s={versionWsdl:e.Constantes.Service.versionWsdl,dateDeTraitement:t,identifiantProduit:i,identifiantConvention:n,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(r,s)},t.prototype.listerPaliersDeProgressionParPhase=function(t,i,n,r,s){var o=e.Constantes.WebServiceUrls.CreditParametre.urlListerPaliersDeProgressionParPhase;return this.listerPalierParPhase(t,i,n,r,s,o)},t.prototype.listerPaliersDeTauxParPhase=function(t,i,n,r,s){var o=e.Constantes.WebServiceUrls.CreditParametre.urlListerPaliersDeTauxParPhase;return this.listerPalierParPhase(t,i,n,r,s,o)},t.prototype.listerPalierParPhase=function(t,i,n,r,s,o){var a=this,c={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,codeFamilleProduit:i,numeroRelationProduit:n,codeTypePhase:r,numeroRelatifPhase:s,criteresAccess:null},l=t+i+s+n+r+o;return this.cacheService.get(l,function(){return a.wsService.sendPostRequest(o,c)},-1,!0)},t.$inject=["$q","ApiInstuctionCredit.Data.WsService","ApiInstuctionCredit.Service.CacheService"],t}();t.CatalogueFinancementService=i,e.app.service("ApiInstuctionCredit.Data.CatalogueFinancementService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=e.Constantes.WebServiceUrls,n=function(){function t(e,t){this.$q=e,this.wsService=t,this._listesRemboursementAnticipe={},this._listesModalitesImpayes={}}return t.prototype.getListeTypeReglement=function(t,i){var n=this;if(void 0!==this._listeTypeReglement)return this.$q.when(this._listeTypeReglement);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeReglement+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n._listeTypeReglement=e,n._listeTypeReglement})},t.prototype.getListeRemboursementAnticipe=function(t,i,n,r){var s=this,o=i+n.toString()+r.toString(),a=this._listesRemboursementAnticipe[o];if(void 0!==a)return this.$q.when(a);var c=e.Constantes.WebServiceUrls.CreditParametre.urlListerRmbAnticipe,l={versionWsdl:e.Constantes.Service.versionWsdlN,dateTraitement:t,codeProduit:i.substr(0,5),numeroProduit:i.substr(5,3),codeInteretCompensateurRA:n,typeLoi:r,controle:!1};return this.wsService.sendPostRequest(c,l).then(function(e){return s._listesRemboursementAnticipe[o]=e,e})},t.prototype.getListeModalitesImpayes=function(t,i,n,r){var s=this,o=i+n.toString()+r.toString(),a=this._listesModalitesImpayes[o];if(void 0!==a)return this.$q.when(a);var c=e.Constantes.WebServiceUrls.CreditParametre.urlListerModalitImpayes,l={versionWsdl:e.Constantes.Service.versionWsdlN,dateTraitement:t,identifiantCaisse:parseInt(i),identifiantModaliteImpaye:"",dateFinApplication:"9999-12-31",codeSecteurRattachement:"SR001",typeMarche:r,typeLoi:n,controle:!1};return this.wsService.sendPostRequest(c,l).then(function(e){return s._listesModalitesImpayes[o]=e,e})},t.prototype.getListeParamTypeDuree=function(t,i){var n=this;if(void 0!==this._listeParamTypeDuree)return this.$q.when(this._listeParamTypeDuree);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerParamTypeDuree+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(r).then(function(e){return n._listeParamTypeDuree=e,e})},t.prototype.getListeDescriptionEchelle=function(t){var i=this;if(void 0!==this._listeDescriptionEchelle)return this.$q.when(this._listeDescriptionEchelle);var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerDescriptionEchelle,r={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(n,r).then(function(e){return i._listeDescriptionEchelle=e,e})},t.prototype.getListeEchelleVersement=function(t){var i=this;if(void 0!==this._listeEchelleVersement)return this.$q.when(this._listeEchelleVersement);var n=e.Constantes.WebServiceUrls.CreditParametre.urlChargerEchellesVersement,r={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t};return this.wsService.sendPostRequest(n,r).then(function(e){return i._listeEchelleVersement=e,e})},t.prototype.definirVersement=function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=0);var s=i.Dossier.urlDefinirVersement,o={identifiantDossier:e,numeroEchelle:t,montantMinimum:n,idwsCredit:r};return this.wsService.sendPostRequest(s,o)},t.$inject=["$q","ApiInstuctionCredit.Data.WsService"],t}();t.CatalogueModalitesService=n,e.app.service("ApiInstuctionCredit.Data.CatalogueModalitesService",n)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e,t){this.$q=e,this.wsService=t}return t.prototype.listerParametreOrigineApport=function(t,i){var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerParamOriginApp+"?versionWsdl="+e.Constantes.Service.versionWsdl+"&dateDeTraitement="+t+"&codeEtablissement="+i;return this.wsService.sendGetRequest(n)},t.$inject=["$q","ApiInstuctionCredit.Data.WsService"],t}();t.CatalogueOrigineApportService=i,e.app.service("ApiInstuctionCredit.Data.CatalogueOrigineApportService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i;!function(t){"use strict";var i=function(){function t(e,t,i){this.$q=e,this.wsService=t,this.cacheService=i,this._listeTypologiesInstructionByType={}}return t.prototype.getListeProjetCadreFiscal=function(t,i){var n=this;if(void 0!==this._listeCadreFiscal)return this.$q.when(this._listeCadreFiscal);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerParamCadreFiscal;return this.wsService.sendGetRequestWithParams(r,this.getCreditParametreGetRequest(t,i)).then(function(e){return n._listeCadreFiscal=e,n._listeCadreFiscal})},t.prototype.getListeTypeObjetCommercial=function(t,i){var n=this;if(void 0!==this._listeTypeObjetCommercial)return this.$q.when(this._listeTypeObjetCommercial);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeObjetCommercial;return this.wsService.sendGetRequestWithParams(r,this.getCreditParametreGetRequest(t,i),6e4).then(function(e){return n._listeTypeObjetCommercial=e,n._listeTypeObjetCommercial})},t.prototype.getListeTypeObjetReglemente=function(t,i){var n=this;if(void 0!==this._listeTypeObjetReglemente)return this.$q.when(this._listeTypeObjetReglemente);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeObjetReglemente;return this.wsService.sendGetRequestWithParams(r,this.getCreditParametreGetRequest(t,i)).then(function(e){return n._listeTypeObjetReglemente=e,n._listeTypeObjetReglemente})},t.prototype.getListeFormulaireProjetTypeLogement=function(t,i){var n=this;if(void 0!==this._listeFormulaireProjetTypeLogement)return this.$q.when(this._listeFormulaireProjetTypeLogement);var r=e.Constantes.WebServiceUrls.CreditParametre.urlListerParamTypeDeLogement;return this.wsService.sendGetRequestWithParams(r,this.getCreditParametreGetRequest(t,i)).then(function(e){return n._listeFormulaireProjetTypeLogement=e,n._listeFormulaireProjetTypeLogement})},t.prototype.getLocalite=function(t,i,n,r){var s=this,o=e.Constantes.WebServiceUrls.CreditParametre.urlListerLocalites,a={versionWsdl:e.Constantes.Service.versionWsdl,dateDeTraitement:t,codeEtablissement:i,codesPostaux:n,localites:r?r:""};return this.wsService.sendGetRequestWithParams(o,a).then(function(e){return s._localites=e})},t.prototype.getListeParamCoutTravauxEcoPtz=function(t,i,n,r){var s=e.Constantes.WebServiceUrls.CreditParametre.urlListerParamCoutTravauxEcoPtz;return this.wsService.sendGetRequestWithParams(s,this.getCreditParametreFiltreGetRequest(t,i,n,r))},t.prototype.listerInfoAgent=function(t,i,n,r,s){var o=this,a=s?s:"",c="CatalogueProjetService_listerInfoAgent"+t+i+n+r+a;return this.cacheService.get(c,function(){var a=e.Constantes.WebServiceUrls.CreditParametre.urlListerInfoAgent,c={identifiantEntiteConnecte:t,codeTypeElementStructure:i,identifiantElementStructure:n,codeCategorieEmprunteur:r,parametreHabilitationTransfert:s?s:""};return o.wsService.sendGetRequestWithParams(a,c,6e4)},-1)},t.prototype.getListeTypologiesInstruction=function(t,i){var n=this,r=this._listeTypologiesInstructionByType[i];if(void 0!==r)return this.$q.when(r);var s=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypologiesInstruction,o={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,typeDeTypologie:i,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(s,o).then(function(e){var t=_.sortBy(e,"initial");return n._listeTypologiesInstructionByType[i]=t,t})},t.prototype.getListeTypeLogement=function(t){var i=this;if(void 0!==this._listeTypeLogement)return this.$q.when(this._listeTypeLogement);var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerTypeLogement,r={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(n,r).then(function(e){return i._listeTypeLogement=_.sortBy(e,"nombrePiecePrincipal"),
i._listeTypeLogement})},t.prototype.getListeNatureFiscal=function(t){var i=this;if(void 0!==this._listeAdrNatureAvantageFiscal)return this.$q.when(this._listeAdrNatureAvantageFiscal);var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerAdrNatureAvantageFiscal,r={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(n,r).then(function(e){return i._listeAdrNatureAvantageFiscal=e,i._listeAdrNatureAvantageFiscal})},t.prototype.getListeLienObjFinanceObjSousJacent=function(t){var i=this;if(void 0!==this._listeLienObjetFinanceObjetSousJacent)return this.$q.when(this._listeLienObjetFinanceObjetSousJacent);var n=e.Constantes.WebServiceUrls.CreditParametre.urlListerLienObjFinanceObjSousJacent,r={versionWsdl:e.Constantes.Service.versionWsdlN,dateDeTraitement:t,criteresAccess:{rubriquesFiltre:[],valeursFiltre:[],rubriquesTri:[],valeurTri:""}};return this.wsService.sendPostRequest(n,r).then(function(e){return i._listeLienObjetFinanceObjetSousJacent=e,i._listeLienObjetFinanceObjetSousJacent})},t.prototype.getCreditParametreGetRequest=function(t,i){return{versionWsdl:e.Constantes.Service.versionWsdl,dateDeTraitement:t,codeEtablissement:i}},t.prototype.getCreditParametreFiltreGetRequest=function(t,i,n,r){return{versionWsdl:e.Constantes.Service.versionWsdl,dateDeTraitement:t,codeEtablissement:i,rubriquesFiltre:n,valeursFiltre:r}},t.$inject=["$q","ApiInstuctionCredit.Data.WsService","ApiInstuctionCredit.Service.CacheService"],t}();t.CatalogueProjetService=i,e.app.service("ApiInstuctionCredit.Data.CatalogueProjetService",i)}(i=t.Data||(t.Data={}))}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(){}return t.mapControleManuelDescription=function(e,t){var i=this.getHistActr(e.histControle,this._codeActeurAgent),n=this.getHistActr(e.histControle,this._codeActeurBoOuConformite);return{estLigneSousTitre:!1,idws:e.idws,libelle:e.libellePieceControle,stttPieceControle:e.stttPieceControle,libelleStatut:this.getLibelleStatutControle(e.stttPieceControle),libelleFinalite:t?t.libelleProcessus:"",commentaire:e.commentaireControle,identifiantProcessusAuPlusTard:e.identifiantProcessusAuPlusTard,histControle:this.getHistControle(e.histControle,t),typeActrOrigineControle:e.typeActrOrigineControle,ancienStatutAgence:i?this.getLibelleStatutControle(i.stttPieceControle):"",ancienStatutBoOuConformite:n?this.getLibelleStatutControle(n.stttPieceControle):"",ancienAvisAgence:i&&""!==i.commentaireControle?i.commentaireControle:null,ancienAvisBoOuConformite:n&&""!==n.commentaireControle?n.commentaireControle:null}},t.getLibelleStatutControle=function(t){switch(t){case e.Constantes.CodeAscii.Lettre.Maj.R:return"OK";case e.Constantes.CodeAscii.Lettre.Maj.A:return"KO";case e.Constantes.CodeAscii.Lettre.Maj.N:return"N.C.";default:return null}},t.getHistControle=function(t,i){var n=this;return e.Outils.Liste.isNullOrEmpty(t)?[]:t.map(function(e){return n.mapControleManuelDescription(e,i)})},t.getHistActr=function(e,t){return _.find(e,function(e){return _.contains(t,e.typeActrOrigineControle)})},t._codeActeurAgent=[e.Constantes.CodeAscii.Lettre.Maj.I],t._codeActeurBoOuConformite=[e.Constantes.CodeAscii.Lettre.Maj.B,e.Constantes.CodeAscii.Lettre.Maj.C],t}();t.ControleManuelDescription=i}(t=e.ModelsTransformers||(e.ModelsTransformers={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){this.tableauEligibilite=this.initTableau()}return e.prototype.initTableau=function(){return{width:"col-md-12",reserve:!0,perPage:15,multiSelect:!1,filterEnable:!1,sortEnable:!1,moreEnable:!1,columns:[{title:"Durée crédit",bind:"dureeCredit",cssClass:"col-md-3",filter:"+ ' mois' "},{title:"Montant minimum",bind:"montantMinimumCredit",cssClass:"col-md-3",filter:"| devise:2:''"},{title:"Montant maximum",bind:"montantMaximumCredit",cssClass:"col-md-3",filter:"| devise:2:''"},{title:"Taux",bind:"tauxCredit",cssClass:"col-md-3",filter:"+ ' %' "}],data:this.listeScBonifEligibilite,selectedItems:[],templateUrl:"",caption:"Liste des règles d'éligibilité"}},e}();e.BonificationDetailConventionControleur=t,e.app.controller("ApiInstuctionCredit.BonificationDetailConventionControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/bonification/detail-convention/detail-convention.html",scope:{listeScBonifEligibilite:"=listeEligibilite",creditInterne:"=",tauxCreditInterne:"=",conventionBonification:"=",nomTiers:"="},controller:"ApiInstuctionCredit.BonificationDetailConventionControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icBonificationDetailConvention",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=e.Outils.OutilDate,i=function(){function e(){this.date=this.setFormatDate(this.date),this._dateManipulee=this.date}return Object.defineProperty(e.prototype,"libelleDate",{get:function(){return this.date!==this._dateManipulee&&t.dateValorisee(this.date)&&(this._dateManipulee=this.date),t.dateValorisee(this._dateManipulee)?this._dateManipulee:void 0},set:function(e){this._dateManipulee=e,t.dateValorisee(e)?this.date=e:t.dateValorisee(e)||(this.date=t.EMPTY_DATE)},enumerable:!0,configurable:!0}),e.prototype.setFormatDate=function(e){return this.date&&e.length>10?this.date.substring(0,10):this.date},e}();e.InputDateControleur=i,e.app.controller("ApiInstuctionCredit.InputDateControleur",i)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/commun/input-date/input-date.html",scope:{baseId:"@ngBaseId",date:"=",dateClass:"=",modeConsultation:"=",required:"="},controller:"ApiInstuctionCredit.InputDateControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icInputDate",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(e,t){this.$modalInstance=e,this.modalDatas=t}return Object.defineProperty(e.prototype,"creditBonification",{get:function(){return this.modalDatas.creditBonification},enumerable:!0,configurable:!0}),e.prototype.close=function(){this.$modalInstance.close()},e.$inject=["$modalInstance","data"],e}();e.ModaleFinancementBonificationCalculControleur=t,e.app.controller("ApiInstuctionCredit.ModaleFinancementBonificationCalculControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.DonneesModale||(e.DonneesModale={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/commun/progress-bar/progress-bar.html",scope:{etat:"="},compile:function(e,t){return function(e,t,i){e.getPourcentage=function(){return Math.round(100*Math.min(1,Math.max(0,e.etat)))}}}}}e.app.directive("icProgressBar",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/commun/row-anomalie-popin/row-anomalie-popin.html",scope:{anomalie:"="}}}e.app.directive("icRowAnomaliePopin",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(){}return Object.defineProperty(t.prototype,"cacherDate",{get:function(){return this.modeConsultation&&moment(this.date).format("DD/MM/YYYY")===moment(e.Constantes.Donnees.date0).format("DD/MM/YYYY")},enumerable:!0,configurable:!0}),t}();e.RowDateControleur=t,e.app.controller("ApiInstuctionCredit.RowDateControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/commun/row-date/row-date.html",scope:{baseId:"@ngBaseId",label:"@",labelClass:"@",date:"=",dateClass:"@",modeConsultation:"=",required:"=?"},controller:"ApiInstuctionCredit.RowDateControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icRowDate",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){this._hauteurCss=48}return Object.defineProperty(e.prototype,"hauteur",{get:function(){return angular.isDefined(this.elementHtml)?this.elementHtml.clientHeight:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texteTropLong",{get:function(){return this.hauteur>this._hauteurCss},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texteAction",{get:function(){return this.afficherTexteComplet?"Voir moins":"Voir tout"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texteFormate",{get:function(){return angular.isDefined(this.texte)?this.texte.replace(/\n/g,"<br/>"):void 0},enumerable:!0,configurable:!0}),e.prototype.gererAffichageTexteComplet=function(){this.afficherTexteComplet=!this.afficherTexteComplet},e}();e.TexteLongControleur=t,e.app.controller("ApiInstuctionCredit.TexteLongControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(e){return{templateUrl:"typescript/fonctionnalites/commun/texte-long/texte-long.html",restrict:"E",scope:{texte:"="},controller:"ApiInstuctionCredit.TexteLongControleur",controllerAs:"ctrl",bindToController:!0,link:function(t,i,n,r){r.elementHtml=i[0].querySelector(".bloc-texte"),angular.element(e).bind("resize",function(){t.$apply()})}}}e.app.directive("icTexteLong",["$window",t])}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){}return Object.defineProperty(e.prototype,"presenceAvis",{get:function(){return(this.listeAvis||[]).length>0},enumerable:!0,configurable:!0}),e}();e.ConformiteListeAvisControleur=t,e.app.controller("ApiInstuctionCredit.ConformiteListeAvisControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/conformite-dossier/liste-avis/liste-avis.html",scope:{listeAvis:"="},controller:"ApiInstuctionCredit.ConformiteListeAvisControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icConformiteListeAvis",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(e,t,i,n){var r=this;this.$modalInstance=e,this.contextEditiqueService=t,this.erreurService=i,this.tableauParams={columns:[{title:"Document",bind:"label",cssClass:"col-md-4"},{title:"Edition Agence",template:"context-edition-template-agence-papier",cssClass:"col-md-2",bind:""},{title:"Edition Back Office",template:"context-edition-template-back-office",cssClass:"col-md-2",bind:""},{title:"Signature Agence",template:"context-edition-template-signature-agence",cssClass:"col-md-2",bind:""},{title:"Signature électronique",template:"context-edition-template-signature-electronique",cssClass:"col-md-2",bind:""}],data:[],disabledItems:[],filterEnable:!1,moreEnable:!0,multiSelect:!1,openSelected:!0,perPage:10,reserve:!1,selectionChangeHandler:{onHideDetail:function(){},onSelectionChange:function(){},onShowDetail:function(){}},sortEnable:!1,selectedItems:[],templateUrl:"typescript/fonctionnalites/context-edition/modale/contexte-edition-detail.html",width:"col-md-12 "},this.updateTaleau(),this.contextEditiqueService.onContextEditionUpdated(function(){return r.updateTaleau()}),this.contextEditiqueService.getContextEdition(n.idDossier)["catch"](function(e){r.erreurService.popinErreurMyWay(e)})}return Object.defineProperty(e.prototype,"loading",{get:function(){return this.contextEditiqueService.gettingContext},enumerable:!0,configurable:!0}),e.prototype.updateTaleau=function(){this.contextEditiqueService.contexteEdition?this.tableauParams.data=[{label:"Demande de crédit",contexteEdition:this.contextEditiqueService.contexteEdition.demandeCredit,listeAnomalies:this.getDocumentAnomalies(this.contextEditiqueService.contexteEdition.demandeCredit)},{label:"Offre",contexteEdition:this.contextEditiqueService.contexteEdition.offre,listeAnomalies:this.getDocumentAnomalies(this.contextEditiqueService.contexteEdition.offre)}]:this.tableauParams.data=[]},e.prototype.getDocumentAnomalies=function(e){return _.union(e.editionAgencePapier.listeAnomalies,e.editionBackOffice.listeAnomalies,e.electroniqueAgence.listeAnomalies,e.electronique.listeAnomalies)},e.prototype.fermer=function(){this.$modalInstance.close()},e.$inject=["$modalInstance","ApiInstuctionCredit.ContexteEdition.contextEditionService","ApiInstuctionCredit.ErreurService","data"],e}();t.ModaleContexteEditionControleur=i,e.app.controller("ApiInstuctionCredit.ContexteEdition.ModaleContexteEditionControleur",i)}(t=e.ContexteEdition||(e.ContexteEdition={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(e,t){this.data=e,this.$modalInstance=t}return Object.defineProperty(e.prototype,"titre",{get:function(){return this.data.titre},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"erreurAgent",{get:function(){return angular.isDefined(this.agentSelectionne)?"object"!=typeof this.agentSelectionne:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAgentValide",{get:function(){return angular.isDefined(this.agentSelectionne)&&"object"==typeof this.agentSelectionne},enumerable:!0,configurable:!0}),e.prototype.transferer=function(){var e={agent:this.agentSelectionne};this.$modalInstance.close(e)},e.prototype.close=function(){this.$modalInstance.dismiss()},e.$inject=["data","$modalInstance"],e}();e.ModaleTransfererDossierControleur=t,e.app.controller("ApiInstuctionCredit.ModaleTransfererDossierControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.DonneesModale||(e.DonneesModale={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(e){this.modalService=e}return e.prototype.popinTransfert=function(e){var t={titre:e},i={templateUrl:"typescript/fonctionnalites/edition/modale-transfert/modale-transfert.html",controller:"ApiInstuctionCredit.ModaleTransfererDossierControleur",controllerAs:"ctrl",windowClass:"app-modal-window-MEG",backdrop:"static",keyboard:!1,size:"md",resolve:{callback:function(){},data:function(){return t}}};return this.modalService.showModal(i).then(function(e){return e.agent})},e.$inject=["modalService"],e}();t.ModaleTransfererDossierService=i,e.app.service("ApiInstuctionCredit.ModaleTransfererDossierService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){}return Object.defineProperty(e.prototype,"isPresenceDocument",{get:function(){return(this.listeAssuranceExterneByPersonne||[]).length>0},enumerable:!0,configurable:!0}),e}();e.EmissionDocumentsAssuranceExterne=t,e.app.controller("ApiInstuctionCredit.EmissionDocumentsAssuranceExterne",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/emission-docs/assurance-externe/assurance-externe.html",restrict:"E",scope:{listeAssuranceExterneByPersonne:"=liste"},controller:"ApiInstuctionCredit.EmissionDocumentsAssuranceExterne",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icEmissionDocumentsAssuranceExterne",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(e,t,i,n){this.$q=e,this.erreurService=t,this.anomalieService=i,this.wsPiecoService=n,this.listePropositionsSelected=[],this.tableauPropositions=this.getTableauPropositions(),this.listePropositions.length>0&&(this.listePropositionsSelected.push(_.first(this.listePropositions)),this.loadDocumentByProposition(_.first(this.listePropositionsSelected)))}return Object.defineProperty(t.prototype,"libellePhraseTableauPropositions",{get:function(){return this.listePropositions.length>1?"Veuillez sélectionner une proposition afin d'éditer ses documents":"Proposition retenue"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afficherTableauDocuments",{get:function(){return this.dataClients.listeDocuments.length>0},enumerable:!0,configurable:!0}),t.prototype.getTableauPropositions=function(){var e=this;return{width:"col-md-12",orderBy:"libelle",reserve:!1,perPage:5,multiSelect:!1,filterEnable:!1,sortEnable:!1,moreEnable:!0,columns:[{title:"Libéllé",bind:"titre",cssClass:"col-md-5 col-lg-4"},{title:"Montant",bind:"montant",cssClass:"col-md-3 col-lg-4",filter:"| devise:2:''"},{title:"Écheance",bind:"echeance",cssClass:"col-md-2 col-lg-3",filter:"| devise:2:''"},{title:"Durée",bind:"duree",cssClass:"col-md-2 col-lg-3",filter:"+ ' mois' "}],data:this.listePropositions,selectedItems:this.listePropositionsSelected,templateUrl:"",selectionChangeHandler:{onSelectionChange:function(t){return e.loadDocumentByProposition(t)}},caption:"Liste des propositions"}},t.prototype.loadDocumentByProposition=function(e){var t=this;null!=e&&(e.idws===(this.propositionSelected||{}).idws?(e.expanded=!0,e.checked=!0,this.listePropositionsSelected.push(e)):(this.propositionSelected=e,this.activerLoader({activation:!0}),this.chargerDocumentsByProposition(e.idws)["catch"](function(e){t.erreurService.popinErreur(e)})["finally"](function(){t.activerLoader({activation:!1})})))},t.prototype.chargerDocumentsByProposition=function(t){var i=this,n=[];return n.push(this.listerDocuments(e.Enum.Edition.TypeDocument.Dossier,t).then(function(e){return i.setDocumentsClient(angular.copy(e))})),this.dataFicheSuiveuse.afficherFicheSuiveuse&&n.push(this.listerDocuments(e.Enum.Edition.TypeDocument.FicheSuiveuse,t).then(function(e){return i.setDocumentsFicheSuiveuse(angular.copy(e))})),n.push(this.listerDocuments(e.Enum.Edition.TypeDocument.RefusAssuranceExterne,t).then(function(e){return i.setDocumentsRefusAssuranceExterne(angular.copy(e))})),this.$q.all(n).then(function(e){i.listeAnomalies=_.uniq(_.reduce(e,function(e,t){return e.concat(t||[])}),function(e){return e.libelleAno})})},t.prototype.listerDocuments=function(e,t){return this.wsPiecoService.listerDocuments(this.idDossier,e,t)},t.prototype.setDocumentsClient=function(e){return this.affichageDocsAutorise(e.listeAno)&&(this.dataClients.listeDocumentsSelected.splice(0,this.dataClients.listeDocumentsSelected.length),this.dataClients.listeDocumentsDisabled.splice(0,this.dataClients.listeDocumentsDisabled.length),this.dataClients.listeDocuments.splice(0,this.dataClients.listeDocuments.length),this.dataClients.listeDocuments.push.apply(this.dataClients.listeDocuments,e.listeInformationDocument),this.dataClients.listeDocumentsDisabled.push.apply(this.dataClients.listeDocumentsDisabled,_.filter(e.listeInformationDocument,function(e){return!e.estEditable}))),null!==e.listeAno?e.listeAno:[]},t.prototype.setDocumentsFicheSuiveuse=function(e){return this.affichageDocsAutorise(e.listeAno)&&(this.dataFicheSuiveuse.listeDocumentsSelected.splice(0,this.dataFicheSuiveuse.listeDocumentsSelected.length),this.dataFicheSuiveuse.listeDocuments.splice(0,this.dataFicheSuiveuse.listeDocuments.length),this.dataFicheSuiveuse.listeDocuments.push.apply(this.dataFicheSuiveuse.listeDocuments,e.listeInformationDocument)),null!==e.listeAno?e.listeAno:[]},t.prototype.setDocumentsRefusAssuranceExterne=function(e){if(this.listeAssuranceExterneByPersonne=[],this.affichageDocsAutorise(e.listeAno)){var t=_.groupBy(e.listeInformationDocument,function(e){return e.informationPersonne});for(var i in t)this.listeAssuranceExterneByPersonne.push({personne:i,listeDocuments:t[i],listeDocumentsSelected:[],listeDocumentsDisabled:[]})}return null!==e.listeAno?e.listeAno:[]},t.prototype.affichageDocsAutorise=function(e){return!e||0===e.length||!this.anomalieService.presenceAnoBloquante(e)},t.$inject=["$q","ApiInstuctionCredit.ErreurService","ApiInstuctionCredit.AnomalieService","ApiInstuctionCredit.Data.PiecoService"],t}();e.EmissionDocumentsClientsControleur=t,e.app.controller("ApiInstuctionCredit.EmissionDocumentsClientsControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/emission-docs/documents-clients/docs-clients.html",scope:{idDossier:"=",listeAnomalies:"=",listePropositions:"=",propositionSelected:"=",dataClients:"=datasClients",dataFicheSuiveuse:"=datasFicheSuiveuse",activerLoader:"&loader"},controller:"ApiInstuctionCredit.EmissionDocumentsClientsControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icEmissionDocumentsClients",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(t,i,n,r,s,o){this.$q=t,this.erreurService=i,this.impressionService=n,this.editerDocumentService=r,this.wsDossierService=s,this.wsAssuranceService=o,this.codeSignature=e.Constantes.Dossier.CodeSignatureElectronique.nonInitialise}return Object.defineProperty(t.prototype,"impressionAutorisee",{get:function(){return null!=this.dataFicheSuiveuse&&null!=this.dataFicheSuiveuse?this.dataClients.listeDocumentsSelected.concat(this.dataFicheSuiveuse.listeDocumentsSelected).length>0:!1},enumerable:!0,configurable:!0}),t.prototype.imprimerDocuments=function(){var e=this;this.listeErreursImpression.splice(0,this.listeErreursImpression.length),this.activerLoader({activation:!0});var t=this.$q.when(),i=this.dataClients.listeDocumentsSelected.concat(this.dataFicheSuiveuse.listeDocumentsSelected);i.length>0&&(t=this.wsDossierService.enregistrerDossier(this.idDossier).then(function(){return e.editerDocumentService.getResultatEditionDocuments(i,e.idDossier,e.propositionSelected.idws,e.propositionSelected.listeIdCreditInterne,function(t){return e.activerLoader({activation:t})},e.codeSignature)}).then(function(t){return e.activerLoader({activation:!1}),t.listeErreurs.length>0&&e.listeErreursImpression.push.apply(e.listeErreursImpression,t.listeErreurs),e.lancerImpression(t.listeDocumentDescription)}).then(function(){return e.imprimerAssuranceExterne()})),t["finally"](function(){e.activerLoader({activation:!1})})},t.prototype.lancerImpression=function(e){var t=this;return e.length>0?this.impressionService.lancerImpression(e)["catch"](function(e){t.erreurService.popinErreurMyWay(e)}):this.$q.when()},t.prototype.imprimerAssuranceExterne=function(){var t=this;this.activerLoader({activation:!0});var i=[],n=[];return this.getDocumentDescriptionAssurance(this.listeAssuranceExterneByPersonne).then(function(t){_.forEach(t,function(t){if(0===(t.listeAnomalieLecture||[]).length){var r={nom:e.Constantes.Edition.NomDocument.assrExterne,libelleDoc:"LettreRefus",fluxImpression:t.fluxImpression,nombreTotal:1};i.push(r)}else n.push.apply(n,t.listeAnomalieLecture)})}).then(function(){t.lancerImpression(i),n.length>0&&t.listeErreursImpression.push.apply(t.listeErreursImpression,n)})},t.prototype.getDocumentDescriptionAssurance=function(t){var i=this,n=this.getListeDocsAssuranceAssuranceExterneSelected(t);return this.$q.all(_.map(n,function(t){return i.wsAssuranceService.editerDocumentFC050REF(i.idDossier,t.idwsElement,e.Constantes.Edition.NomDocument.assrExterne)}))},t.prototype.getListeDocsAssuranceAssuranceExterneSelected=function(e){return _.reduce(e,function(e,t){return e.concat(t.listeDocumentsSelected)})},t.$inject=["$q","ApiInstuctionCredit.ErreurService","ApiInstuctionCredit.ImpressionService","ApiInstuctionCredit.EditerDocumentService","ApiInstuctionCredit.Data.DossierService","ApiInstuctionCredit.Data.AssuranceService"],t}();e.EmissionDocumentsImprimerControleur=t,e.app.controller("ApiInstuctionCredit.EmissionDocumentsImprimerControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/emission-docs/btn-imprimer/btn-imprimer.html",scope:{idDossier:"=",listeErreursImpression:"=",propositionSelected:"=",dataClients:"=datasClients",dataFicheSuiveuse:"=datasFicheSuiveuse",listeAssuranceExterneByPersonne:"=datasAssuranceExterne",activerLoader:"&loader",codeSignature:"=codeSignature"},controller:"ApiInstuctionCredit.EmissionDocumentsImprimerControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icEmissionDocumentsImprimer",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(){this.tableauDocuments=this.getTableau()}return t.prototype.getTableau=function(){return{width:"col-md-12",orderBy:"libelleDoc",reserve:!1,perPage:5,multiSelect:!0,filterEnable:!1,sortEnable:!1,moreEnable:!0,columns:e.Constantes.Donnees.colonnesTableauEditionDocuments,data:this.dataFicheSuiveuse.listeDocuments,selectedItems:this.dataFicheSuiveuse.listeDocumentsSelected,templateUrl:"",caption:"Liste des documents fiche suiveuse imprimables"}},t}();e.IcFicheSuiveuseControleur=t,e.app.controller("ApiInstuctionCredit.IcFicheSuiveuseControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/emission-docs/fiche-suiveuse/fiche-suiveuse.html",restrict:"E",scope:{dataFicheSuiveuse:"=datasFicheSuiveuse"},controller:"ApiInstuctionCredit.IcFicheSuiveuseControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icFicheSuiveuse",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(){this.tableauDocuments=this.creerTableau()}return t.prototype.creerTableau=function(){return{width:"col-md-12",orderBy:"libelleDoc",reserve:!1,perPage:5,multiSelect:!0,filterEnable:!1,sortEnable:!1,moreEnable:!0,columns:e.Constantes.Donnees.colonnesTableauEditionDocuments,data:this.listeDocsRefusAssuranceExterne,selectedItems:this.listeDocsRefusAssuranceExterneSelected,templateUrl:"",caption:"Liste des documents Refus Assurance Externe imprimables"}},t.$inject=[],t}();e.FicheRefusAssuranceExtreneControleur=t,e.app.controller("ApiInstuctionCredit.FicheRefusAssuranceExtreneControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/emission-documents/fiche-refus-assurance-externe/fiche-refus-assurance-externe.html",restrict:"E",scope:{listeDocsRefusAssuranceExterne:"=",listeDocsRefusAssuranceExterneSelected:"=",courrierLies:"@",index:"@"},controller:"FicheRefusAssuranceExtreneControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("ficheRefusAssuranceExterne",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(){this.tableauDocuments=this.creerTableau()}return t.prototype.creerTableau=function(){return{width:"col-md-12",orderBy:"libelleDoc",reserve:!1,perPage:5,multiSelect:!0,filterEnable:!1,sortEnable:!1,moreEnable:!0,columns:e.Constantes.Donnees.colonnesTableauEditionDocuments,data:this.listeDocsFicheSuiveuse,selectedItems:this.listeDocsFicheSuiveuseSelected,templateUrl:"",caption:"Liste des documents fiche suiveuse imprimables"}},t.$inject=[],t}();e.FicheSuiveuseControleur=t,e.app.controller("ApiInstuctionCredit.FicheSuiveuseControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/emission-documents/fiche-suiveuse/fiche-suiveuse.html",restrict:"E",scope:{listeDocsFicheSuiveuse:"=",listeDocsFicheSuiveuseSelected:"="},controller:"ApiInstuctionCredit.FicheSuiveuseControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("ficheSuiveuse",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=e.Modele,i=function(){function i(t){var i=this;this.$timeout=t,this.intersectionsMax=[],this.padding=20,this.listeCredits=[],this.dureesPhases=[],this.echeanceMax=0,this.colors=e.Constantes.Parametrage.couleursGraphiques,this.graphs=[],this.margin={top:20,right:20,bottom:30,left:50},this.legendRectSize=16,this.width=850-this.margin.left-this.margin.right,this.height=420-this.margin.top-this.margin.bottom,t(function(){i.loadGraphique()},700)}return i.prototype.loadGraphique=function(){var t="#"+this.nameId,i=d3.scale.ordinal().range(e.Constantes.Parametrage.couleursGraphiques);d3.select(t+" > svg").remove(),this.listeCredits=[];var n=this.height+this.margin.top+this.margin.bottom,r=d3.select(t).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",n).append("g").attr("transform","translate("+this.margin.left+","+this.margin.bottom+")");this.creationPhases(),this.creationPoints(),this.parametresAxes(),this.dessinerGraphique(r);var s=3;this.legende(r,i,s);var o=Math.floor((this.listeCredits.length-1)/s),a=this.margin.bottom*o;d3.select(t+" > svg").attr("height",n+a),d3.select(t+" > svg > g ").attr("transform","translate("+this.margin.left+","+(this.margin.bottom+a)+")")},i.prototype.creationPhases=function(){var e=this;this.dureesPhases.push({duree:0,echeance:0}),this.traitementCreditsInternes(),this.traitementCreditsExternes(),this.dureesPhases=_.sortBy(this.dureesPhases,"duree"),this.dureesPhases=_.uniq(this.dureesPhases,"duree");var t;this.listeCredits=_.sortBy(this.listeCredits,"dureeTotale"),this.listeCredits=this.listeCredits.reverse(),angular.forEach(this.listeCredits,function(i,n){if(i.lissage){if(e.creditLissage=i,e.listeCredits.splice(n,1),0===e.listeCredits.length){var r=0,s=null;angular.forEach(e.creditLissage.phases,function(n){r+=n.duree,angular.forEach(e.dureesPhases,function(o,a){var c;o.duree<=r&&(null===s||o.duree>=s.duree)&&(c=t&&t.intersections.length>a?n.montant+t.intersections[a].echeance:n.montant,i.intersections.length>1&&i.intersections[i.intersections.length-1].duree===o.duree?i.intersections[i.intersections.length-1].echeance=c:i.intersections.push({duree:o.duree,echeance:c})),(!e.intersectionsMax[o.duree]||c>e.intersectionsMax[o.duree])&&(e.intersectionsMax[o.duree]=c)}),s=angular.copy(n)})}}else if(n>0&&e.listeCredits[n-1].dureeTotale===i.dureeTotale&&i.phases.length<e.listeCredits[n-1].phases.length){var o=i;e.listeCredits[n]=e.listeCredits[n-1],e.listeCredits[n-1]=o}}),angular.forEach(this.listeCredits,function(i){var n=null,r=0;angular.forEach(i.phases,function(s){r+=s.duree,angular.forEach(e.dureesPhases,function(o,a){var c;o.duree<=r&&(null===n||o.duree>=n.duree)&&(c=t&&t.intersections.length>a?s.montant+t.intersections[a].echeance:s.montant,i.intersections.length>1&&i.intersections[i.intersections.length-1].duree===o.duree?i.intersections[i.intersections.length-1].echeance=c:i.intersections.push({duree:o.duree,echeance:c})),(!e.intersectionsMax[o.duree]||c>e.intersectionsMax[o.duree])&&(e.intersectionsMax[o.duree]=c)}),n=angular.copy(s)}),t=angular.copy(i)})},i.prototype.creationPoints=function(){var e=this;this.graphs=[],angular.forEach(this.listeCredits,function(t){var i=[],n=null;angular.forEach(t.intersections,function(r,s){s>0&&(n=t.intersections[s-1]),null!==n&&r.echeance!==n.echeance&&i.push({duree:r.duree,echeance:n.echeance}),i.push({duree:r.duree,echeance:r.echeance}),r.echeance>e.echeanceMax&&(e.echeanceMax=r.echeance)}),e.graphs.unshift(i);
});var t;if(this.creditLissage){var i=this.creationPointsLissage();angular.forEach(i,function(t,n){0!==n&&n+1!==i.length&&(i[n-1].echeance===i[n+1].echeance&&i.splice(n,1),e.echeanceMax<i[n-1].echeance&&(e.echeanceMax=i[n-1].echeance))}),this.graphs.unshift(i)}this.creditLissage&&t>this.dureesPhases[this.dureesPhases.length-1].duree?this.grapheReference=[{duree:0,echeance:0},{duree:t,echeance:this.echeanceMax}]:this.grapheReference=[{duree:0,echeance:0},{duree:this.dureesPhases[this.dureesPhases.length-1].duree,echeance:this.echeanceMax}]},i.prototype.creationPointsLissage=function(){var e=this,t=[];return angular.forEach(this.intersectionsMax,function(i,n){var r,s,o,a=0,c=0;_.forEach(e.listeCredits.concat([e.creditLissage]),function(e){r=0,s=-1,o=-1,_.forEach(e.phases,function(t,i){-1===s&&(r+=t.duree,r>=n&&(s=i,o=n===r?void 0!==e.phases[i+1]?i+1:-1:i))}),-1!==s&&(a+=e.phases[s].montant,-1!==o&&(c+=e.phases[o].montant))}),t.push({duree:n,echeance:a}),t.push({duree:n,echeance:c})}),t},i.prototype.dessinerGraphique=function(e){var t=this;this.graphiqueDessine=d3.svg.area().x(function(e){return this.xScale(e.duree)}).y0(this.height-20).y1(function(e){return this.yScale(e.echeance)}),angular.forEach(this.graphs,function(i,n){e.append("path").data(i).attr("fill",t.colors[n]).attr("d",t.graphiqueDessine(i))}),this.dessinerAxes(e)},i.prototype.parametresAxes=function(){this.xScale=d3.scale.linear().domain([0,d3.max(this.grapheReference,function(e){return e.duree})+10]).range([0,this.width-this.padding]),this.yScale=d3.scale.linear().domain([0,d3.max(this.grapheReference,function(e){return e.echeance})+5]).range([this.height-this.padding,0]),this.xAxisGen=d3.svg.axis().scale(this.xScale).orient("bottom").tickValues(d3.range(0,this.dureesPhases[this.dureesPhases.length-1].duree,24)),this.yAxisGen=d3.svg.axis().scale(this.yScale).orient("left").ticks(this.echeanceMax/100)},i.prototype.dessinerAxes=function(e){e.append("g").attr("class","x axis").attr("transform","translate(0,"+(this.height-20)+")").call(this.xAxisGen).append("text").attr("y",6).attr("x",this.width-10).attr("dy",".75em").style("text-anchor","start").style("font-size","0.75rem").text("Mois"),e.append("g").attr("class","y axis").call(this.yAxisGen).append("text").attr("transform","rotate(-90)").attr("y",-45).attr("dy",".75em").style("text-anchor","end").style("font-size","0.75rem").text("Echéance ("+this.symboleDevise+")"),d3.selectAll(".tick > text").style("font-size","0.5rem")},i.prototype.legende=function(e,t,i){var n=this.listeCredits.reverse();this.creditLissage&&n.unshift(this.creditLissage);var r=this,s=1,o=e.selectAll(".legend").data(n).enter().append("g").attr("class","legend").attr("transform",function(e,t){var n=t%i;0!==t&&0===n&&s++;var r=260*n,o=30*s;return"translate("+r+","+-o+")"});o.append("rect").attr("width",this.legendRectSize).attr("height",this.legendRectSize).style("fill",function(e,t){return r.colors[t]}).style("stroke",function(e,t){return r.colors[t]}),o.append("text").attr("x",20).attr("y",15).text(function(e){return e.libelle}).style("font-size","0.80rem")},i.prototype.traitementCreditsInternes=function(){var i,n=this;angular.forEach(this.creditsInternes,function(r){n.creditGraphique=new t.CreditGraphique;var s=0;n.creditGraphique.idws=r.idws,n.creditGraphique.dureeTotale=r.nombrePeriodeCredit,n.creditGraphique.libelle=r.libelleLongProduit,n.creditGraphique.montant=r.montantCapitalCredit,n.creditGraphique.lissage=r.produitFinancier.estLissage,angular.forEach(r.listeIdPhase,function(r){if(i=_.find(n.listePhases,function(e){return e.idws===r}),i.codeTypePhase!==e.Constantes.Donnees.codeTypePhasePrefinancement){var o=new t.PhaseGraphique;o.idws=i.idws,o.duree=i.nombrePeriodePhase,o.montant=i.montantPrmeecheHorsAccessoire+i.montantPrmeecheAccessoireComp+i.montantPrmeecheAccessoirePeriode+i.montantPrmeecheService,n.creditGraphique.phases.push(o),s+=i.nombrePeriodePhase,n.creditGraphique.montantPremierePhase=o.montant,n.dureesPhases.push({duree:s,echeance:0})}}),n.listeCredits.push(n.creditGraphique)})},i.prototype.traitementCreditsExternes=function(){var e=this;angular.forEach(this.creditsExternes,function(i){e.creditGraphique=new t.CreditGraphique,e.creditGraphique.idws=i.idws,e.creditGraphique.dureeTotale=i.dureAmortissementMois+i.dureDiffereMois,e.creditGraphique.libelle=i.libelleLibrSurConcr,e.creditGraphique.montant=i.montantCapital,e.creditGraphique.montantPremierePhase=i.mtecheDiffere,e.creditGraphique.lissage=!1;var n=new t.PhaseGraphique;n.duree=i.dureDiffereMois,n.montant=i.mtecheDiffere,e.creditGraphique.phases.push(n),e.dureesPhases.push({duree:i.dureDiffereMois,echeance:0});var r=new t.PhaseGraphique;r.duree=i.dureAmortissementMois,r.montant=i.montantEcheanceAmortissement,e.creditGraphique.phases.push(r),e.dureesPhases.push({duree:i.dureAmortissementMois+i.dureDiffereMois,echeance:0}),e.listeCredits.push(e.creditGraphique)})},i.$inject=["$timeout"],i}();e.GraphiqueCreditsControleur=i,e.app.controller("GraphiqueCreditsControleur",i)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/financement-synthese/graphique-credits/graphique-credits.html",scope:{nameId:"=",creditsInternes:"=",creditsExternes:"=",listePhases:"=",symboleDevise:"="},controller:"GraphiqueCreditsControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("graphiqueCredits",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(t){this.modalService=t,this.codeA=e.Constantes.CodeAscii.Lettre.Maj.A,this.codeE=e.Constantes.CodeAscii.Lettre.Maj.E,this.codeN=e.Constantes.CodeAscii.Lettre.Maj.N,this.codeP=e.Constantes.CodeAscii.Lettre.Maj.P,this.codeR=e.Constantes.CodeAscii.Lettre.Maj.R,this.filtreTraiterAvantActif=!1,this.listeControleTraiterAvant=e.Constantes.Pieco.listeControleTraiterAvant,this.filtreStatutControleActif=!1,this.listeStatutsControle=e.Constantes.Pieco.listeStatutsControle,this.controleTraiterAvantSelect=_.first(this.listeControleTraiterAvant),this.statutControleSelect=_.first(this.listeStatutsControle)}return Object.defineProperty(t.prototype,"isAutoriserMajTout",{get:function(){return this.comportementPieco.isActionGlobaleAutorisee&&!this.comportementPieco.isAccesLectureSeule&&!this.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledIsAutoriserMajTout",{get:function(){return 0===this.listeControle.length},enumerable:!0,configurable:!0}),t.prototype.majTousControles=function(){var t=this;_.forEach(this.listeControle,function(i){i.estLigneSousTitre||i.stttPieceControle===e.Constantes.CodeAscii.Lettre.Maj.N||(t.tousControlesConformes?i.stttPieceControle=e.Constantes.CodeAscii.Lettre.Maj.R:i.stttPieceControle=e.Constantes.CodeAscii.Lettre.Maj.A)})},t.prototype.activerFiltreTraiterAvant=function(){this.filtreTraiterAvantActif=!this.filtreTraiterAvantActif,this.filtreTraiterAvantActif?this.controleTraiterAvantSelect=_.first(this.listeControleTraiterAvant):this.resetContenuTableau()},t.prototype.activerFiltreEtat=function(){this.filtreStatutControleActif=!this.filtreStatutControleActif,this.filtreStatutControleActif?this.statutControleSelect=_.first(this.listeStatutsControle):this.resetContenuTableau()},t.prototype.resetContenuTableau=function(){this.filtreTraiterAvantActif||this.filtreStatutControleActif||(this.initListeInitiale(),this.listeControle=this._listeControlesInitiale)},t.prototype.initListeInitiale=function(){var e=this;angular.isUndefined(this._listeControlesInitiale)?this._listeControlesInitiale=this.listeControle:_.forEach(this._listeControlesInitiale,function(t){if(!t.estLigneSousTitre){var i=_.find(e.listeControle,function(e){return e.idws===t.idws});i&&i.stttPieceControle!==i.stttPieceControle&&(i.stttPieceControle=i.stttPieceControle)}})},t.prototype.filter=function(){this.initListeInitiale(),this.listeControle=[];var e=this.filtrerByEtat(this._listeControlesInitiale);this.listeControle=this.filtrerByTraitement(e)},t.prototype.filtrerByEtat=function(e){var t,i=this;if(null===this.statutControleSelect.code)t=angular.copy(e);else{t=[];var n;_.forEach(e,function(e){e.estLigneSousTitre?n=e:e.stttPieceControle===i.statutControleSelect.code&&(n&&(t.push(n),n=null),t.push(e))})}return t},t.prototype.filtrerByTraitement=function(e){var t,i=this;if("ALL"===this.controleTraiterAvantSelect.code)t=angular.copy(e);else{t=[];var n;_.forEach(e,function(e){e.estLigneSousTitre?n=e:e.identifiantProcessusAuPlusTard===i.controleTraiterAvantSelect.code&&(n&&(t.push(n),n=null),t.push(e))})}return t},t.prototype.getAncienEtat=function(e){return e.histControle&&e.histControle.length>0?_.first(e.histControle).libelleStatut:""},t.prototype.isCommentaireAncienEtatExiste=function(e){return e.histControle&&e.histControle.length>0&&""!==_.first(e.histControle).commentaire},t.prototype.afficherAncienControle=function(e){if(this.isCommentaireAncienEtatExiste(e)){var t={headerText:"Avis contrôleur précédent:",bodyText:_.first(e.histControle).commentaire,size:"md"};this.modalService.showPopup(t)}},t.prototype.getClassAncienEtat=function(e){switch(e){case"OK":return"fontOK";case"KO":return"fontKO";case"N.C.":return"fontNC";default:return""}},t.$inject=["modalService"],t}();e.PiecoControlesControleur=t,e.app.controller("ApiInstuctionCredit.PiecoControlesControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/pieco/controles/controles.html",restrict:"E",scope:{listeControle:"=",comportementPieco:"=data",readonly:"=?"},controller:"ApiInstuctionCredit.PiecoControlesControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icPiecoControles",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(){}return Object.defineProperty(t.prototype,"isAutoriserMajTout",{get:function(){return this.comportementPieco.isActionGlobaleAutorisee&&!this.comportementPieco.isAccesLectureSeule&&!this.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledIsAutoriserMajTout",{get:function(){return 0===this.listePieces.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"estNumerique",{get:function(){return this.comportementPieco.contexteDossierNumerique.estDossierNumeriqueActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libellePhrase",{get:function(){return this.estNumerique?"Mettre la conformité de toutes les pièces à":"Mettre la présence de toutes les pièces à"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleAcceptation",{get:function(){return this.estNumerique?"Oui":"Présente"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleRefus",{get:function(){return this.estNumerique?"Non":"Absente"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disbaledCommentaire",{get:function(){return this.comportementPieco.isAccesLectureSeule||this.readonly},enumerable:!0,configurable:!0}),t.prototype.majToutesPieces=function(){var t=this;_.forEach(this.listePieces,function(i){i.estLigneSousTitre||i.stttPieceControle===e.Constantes.CodeAscii.Lettre.Maj.N||(i.stttPieceControle=t.toutesPiecesConformes?e.Constantes.CodeAscii.Lettre.Maj.R:e.Constantes.CodeAscii.Lettre.Maj.A)})},t}();e.PiecesControleur=t,e.app.controller("ApiInstuctionCredit.PiecesControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/pieco/pieces/pieces.html",restrict:"E",scope:{listePieces:"=",listeStatutsPiece:"=",commentaire:"=",comportementPieco:"=data",libelleTypePiece:"@",readonly:"=?"},controller:"ApiInstuctionCredit.PiecesControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icPieces",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(){this.codeA=e.Constantes.CodeAscii.Lettre.Maj.A,this.codeE=e.Constantes.CodeAscii.Lettre.Maj.E,this.codeN=e.Constantes.CodeAscii.Lettre.Maj.N,this.codeP=e.Constantes.CodeAscii.Lettre.Maj.P,this.codeR=e.Constantes.CodeAscii.Lettre.Maj.R,this.filtreFinaliteActif=!1,this.listeFinalites=e.Constantes.Pieco.listeFinalites,this.filtreStatutPieceActif=!1,this.finaliteSelect=_.first(this.listeFinalites),this.statutPieceSelect=_.first(this.listeStatutsPiece)}return Object.defineProperty(t.prototype,"nbColonnesTotal",{get:function(){return this.estNumerique?5:4},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleStatutConformite",{get:function(){return this.estNumerique?"Conformité":"Présence"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleAcceptation",{get:function(){return this.estNumerique?"Oui":"Présente"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleRefus",{get:function(){return this.estNumerique?"Non":"Absente"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleAutre",{get:function(){return this.estNumerique?"Sans objet":"N.C."},enumerable:!0,configurable:!0}),t.prototype.getAcquisitionClass=function(e){switch(e){case"P":return"label-success";case"N":return"label-primary";case"E":return"label-warning";default:return null}},t.prototype.getAcquisitionLabel=function(e){switch(e){case"P":return"Collecté";case"N":return"Non collecté";case"E":return"En cours";default:return null}},t.prototype.activerFiltreFinalite=function(){this.filtreFinaliteActif=!this.filtreFinaliteActif,this.filtreFinaliteActif?this.finaliteSelect=_.first(this.listeFinalites):this.resetContenuTableau()},t.prototype.activerFiltreConformite=function(){this.filtreStatutPieceActif=!this.filtreStatutPieceActif,this.filtreStatutPieceActif?this.statutPieceSelect=_.first(this.listeStatutsPiece):this.resetContenuTableau()},t.prototype.initListeInitiale=function(){var e=this;angular.isUndefined(this._listePiecesInitiale)?this._listePiecesInitiale=this.listePieces:_.forEach(this._listePiecesInitiale,function(t){if(!t.estLigneSousTitre){var i=_.find(e.listePieces,function(e){return e.idws===t.idws});i&&i.stttPieceControle!==t.stttPieceControle&&(t.stttPieceControle=i.stttPieceControle)}})},t.prototype.resetContenuTableau=function(){this.filtreFinaliteActif||this.filtreStatutPieceActif||(this.initListeInitiale(),this.listePieces=this._listePiecesInitiale)},t.prototype.filter=function(){this.initListeInitiale(),this.listePieces=[];var e=this.filtrerByFinalite(this._listePiecesInitiale);this.listePieces=this.filtrerByStatut(e)},t.prototype.filtrerByFinalite=function(e){var t,i=this;if(null===this.finaliteSelect.code)t=angular.copy(e);else{t=[];var n;_.forEach(e,function(e){e.estLigneSousTitre?n=e:e.identifiantProcessusAuPlusTard===i.finaliteSelect.code&&(n&&(t.push(n),n=null),t.push(e))})}return t},t.prototype.filtrerByStatut=function(e){var t,i=this;if(null===this.statutPieceSelect.code)t=angular.copy(e);else{t=[];var n;_.forEach(e,function(e){e.estLigneSousTitre?n=e:e.stttPieceControle===i.statutPieceSelect.code&&(n&&(t.push(n),n=null),t.push(e))})}return t},t.prototype.controlePieceSansObjet=function(t){return t===e.Constantes.CodeAscii.Lettre.Maj.N},t}();e.TableauPiecesControleur=t,e.app.controller("ApiInstuctionCredit.TableauPiecesControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/pieco/tableau-pieces/tableau-pieces.html",restrict:"E",scope:{listePieces:"=",estNumerique:"=",libelleTypePiece:"@",accesLectureSeule:"=",listeStatutsPiece:"=",readonly:"="},controller:"ApiInstuctionCredit.TableauPiecesControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icTableauPieces",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){}return e.prototype.defineDateRefus=function(e){e.reponse===!1&&(e.dateSignature=this.dateTraitement)},e.$inject=[],e}();e.SignatureTableauIntervenantsControleur=t,e.app.controller("ApiInstuctionCredit.SignatureTableauIntervenantsControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/signature/tableau-intervenants/tableau-intervenants-signature.html",restrict:"E",scope:{dossierComplet:"=",listeIntervenants:"=",consultation:"=",dateTraitement:"=?"},controller:"ApiInstuctionCredit.SignatureTableauIntervenantsControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("signatureTableauIntervenants",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){}return Object.defineProperty(e.prototype,"afficherValidationMandats",{get:function(){return this.dossierComplet&&this.dossierComplet.existeMandatSEPA},enumerable:!0,configurable:!0}),e.prototype.getRefus=function(){return this.dossierComplet&&this.dossierComplet.existeMandatSEPA&&_.findIndex(this.listeIntervenants,function(e){return!e.reponse})>-1},e}();e.SignatureValidationMandatsControleur=t,e.app.controller("ApiInstuctionCredit.SignatureValidationMandatsControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/signature/validation-mandats/validation-mandats-signature.html",restrict:"E",scope:{listeMandats:"=",consultation:"=",listeIntervenants:"=?",dossierComplet:"="},controller:"ApiInstuctionCredit.SignatureValidationMandatsControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("signatureValidationMandats",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.ajustementTaux=e,this._remiseMajorationIsMajore=e.remiseMajoration<0,this._tauxBonificationMajorationIsBonifie=e.tauxBonificationMajoration<0,this._nouvelleRemiseMajorationIsMajore=e.nouvelleRemiseMajoration<0}return Object.defineProperty(e.prototype,"idws",{get:function(){return this.ajustementTaux.idws},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listeAnomalieLecture",{get:function(){return this.ajustementTaux.listeAnomalieLecture},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libelleTauxBonificationMajoration",{get:function(){return this._tauxBonificationMajorationIsBonifie?"Bonifié de":"Majorée de"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valeurTauxBonificationMajoration",{get:function(){return this._tauxBonificationMajorationIsBonifie?-1*this.ajustementTaux.tauxBonificationMajoration:this.ajustementTaux.tauxBonificationMajoration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changementTauxConseille",{get:function(){return this.ajustementTaux.changementTauxConseille},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tauxActuel",{get:function(){return this.ajustementTaux.tauxActuel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libelleRemiseMajoration",{get:function(){return this._remiseMajorationIsMajore?"Majoration déjà appliqueé":"Remise déjà accordée"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valeurRemiseMajoration",{get:function(){return this._remiseMajorationIsMajore?-1*this.ajustementTaux.remiseMajoration:this.ajustementTaux.remiseMajoration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tauxConseillePondere",{get:function(){return this.ajustementTaux.tauxConseillePondere},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libelleNouvelleRemiseMajoration",{get:function(){return this._nouvelleRemiseMajorationIsMajore?"Nouvelle majoration applicable":"Nouvelle remise accordable"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valeurNouvelleRemiseMajoration",{get:function(){return this._nouvelleRemiseMajorationIsMajore?-1*this.ajustementTaux.nouvelleRemiseMajoration:this.ajustementTaux.nouvelleRemiseMajoration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tauxLibelleChoixUn",{get:function(){var e="Appliquer au crédit le taux conseillé de "+this.tauxConseillePondere.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" % ";return 0!==this.valeurTauxBonificationMajoration&&(e+=this.libelleTauxBonificationMajoration.toLowerCase()+" "+this.valeurTauxBonificationMajoration.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" %"),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afficherTauxChoixDeux",{get:function(){return 0!==this.ajustementTaux.nouvelleRemiseMajoration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tauxLibelleChoixDeux",{get:function(){if(this.afficherTauxChoixDeux){var e="Appliquer au crédit le taux de "+this.tauxActuel.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" % avec la génération de la nouvelle "+(this._nouvelleRemiseMajorationIsMajore?"majoration de ":"remise de ")+this.valeurNouvelleRemiseMajoration.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" %";return e}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afficherTauxChoixTrois",{get:function(){return this.ajustementTaux.remiseTaux},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tauxLibelleChoixTrois",{get:function(){if(this.afficherTauxChoixTrois){var e=this.tauxLibelleChoixUn+(this._remiseMajorationIsMajore?" avec la majoration déjà accordée de ":" avec la remise déjà accordée de ")+this.valeurRemiseMajoration.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" %";return e}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margeRevision",{get:function(){return this.ajustementTaux.margeRevision},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margeLibelleChoix",{get:function(){var e="Appliquer la nouvelle marge conseillée de "+this.margeRevision.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" % avec la génération de la nouvelle "+(this._nouvelleRemiseMajorationIsMajore?"majoration de ":"remise de ")+this.valeurNouvelleRemiseMajoration.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" %";return e},enumerable:!0,configurable:!0}),e}();e.AjustementTauxDescription=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.codeDeleAssurance=e.codeDeleAssurance,this.beneficiaireAssuranceAvenantVersement=e.beneficiaireAssuranceAvenantVersement,this.codeCouvertureExts=e.codeCouvertureExts,this.typeRisque=e.typeRisque,this.codeAssuranceObligatoire=e.codeAssuranceObligatoire,this.codeAssurancePart=e.codeAssurancePart,this.codeResr=e.codeResr,this.libelleAssuranceExterne=e.libelleAssuranceExterne,this.numeroSirenCieAssurance=e.numeroSirenCieAssurance,this.numeroRegleCalculDateEffet=e.numeroRegleCalculDateEffet,this.codeAgreAssuranceExtr=e.codeAgreAssuranceExtr,this.idws=e.idws,this.idConfOffreAssurance=e.idConfOffreAssurance}return e}();e.AssuranceMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(e,t){this.creditBonification=e,this.scConvention=t}return Object.defineProperty(t.prototype,"idws",{get:function(){return this.creditBonification.idws},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listeAnomalieLecture",{get:function(){return this.creditBonification.listeAnomalieLecture},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nomPartenaire",{get:function(){return this.creditBonification.nomPartenaire},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"idConvention",{get:function(){return this.creditBonification.idConvention},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conventionBonification",{get:function(){return this.scConvention},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleConventionDetaille",{get:function(){var e=this.idConvention+", "+this.conventionBonification.libelleLongConvention;return this.erreurCalculBonification?e+", Indice inconnu calcul impossible":e+", bonification "+this.montantTotal.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bonificationCalculee",{get:function(){return this.creditBonification.codeEtat!==e.Constantes.CodeAscii.Caractere.vide},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"erreurCalculBonification",{get:function(){return this.creditBonification.codeEtat===e.Constantes.CodeAscii.Lettre.Maj.N},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"montantEtablissement",{get:function(){return this.creditBonification.montantPartenaire},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"montantPartenaire",{get:function(){return this.creditBonification.montantPartenaire},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"montantTotal",{get:function(){return this.montantEtablissement+this.montantPartenaire},enumerable:!0,configurable:!0}),t}();t.CreditBonificationDescription=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=e.Constantes,n=function(){function n(i,n){this.creditInterne=i,this.listePhases=n,this.idws=i.idws,this.description=i.libelleLongProduit,this.codeDevise=i.codeDevise,this.montant=e.Outils.Objet.getMontant(i.montantCapitalCredit,i.codeDevise,i.tauxMontage),this.cout=e.Service.PlanFinancementService.getCoutCreditInterne(i),this.listePhaseSynthese=_.map(n||[],function(e){return new t.PhaseSyntheseProposition(e,i)})}return Object.defineProperty(n.prototype,"libelleModeRestitutionTeg",{get:function(){return(this._modeRestitutionTeg||{}).libelle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRestitionActu",{get:function(){return"A"===(this._modeRestitutionTeg||{}).code?!0:!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valeurTeg",{get:function(){return this._modeRestitutionTeg?"A"===this._modeRestitutionTeg.code?this.creditInterne.tegActu:this.creditInterne.tegProp:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_modeRestitutionTeg",{get:function(){var e=this;return _.contains([i.EpargneLogement.codeFamilleCEL,i.EpargneLogement.codeFamillePEL],this.creditInterne.codeFamilleContratRegle)?i.Donnees.listeModeRestitution[0]:_.find(i.Donnees.listeModeRestitution,function(t){return t.code.charCodeAt(0)===e.creditInterne.tegModeRestitution})},enumerable:!0,configurable:!0}),n}();t.CreditSyntheseProposition=n}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=e.Constantes,n=function(){function t(t,n){this.idws=t.idws,this.description=this.getLibellePhase(t.codeTypePhase),this.taux=t.tauxPhase.modeCalculTaux===i.CodeAscii.Lettre.Maj.E?t.tauxPhase.tauxActu:t.tauxPhase.tauxProp,this.duree=t.nombrePeriodePhase,this.mensualite=this.getMensualite(t,n),this.coutAssurance=e.Outils.Objet.getMontant(t.montantPrmeecheAccessoirePeriode,n.codeDevise,n.tauxMontage)}return t.prototype.getMensualite=function(t,i){return e.Outils.Objet.getMontant(t.montantPrmeecheAccessoirePeriode+t.montantPrmeecheHorsAccessoire+t.montantPrmeecheAccessoireComp+t.montantPrmeecheService,i.codeDevise,i.tauxMontage)},t.prototype.getLibellePhase=function(e){switch(e){case i.Donnees.codeTypePhasePrefinancement:return"Préfinancement";case i.Donnees.codeTypePhaseDiffereTotal:return"Différé Total";case i.Donnees.codeTypePhaseDiffereAmortissement:return"Différé d'amortissement";case i.Donnees.codeTypePhaseAmortissement:return"Amortissement";case i.Donnees.codeTypePhaseMobilite:return"Amortissement spécifique";default:return""}},t}();t.PhaseSyntheseProposition=n}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=e.Constantes,n=function(){function n(n,r,s,o,a,c,l){var u=r.synthesePlanFinancement;this.titre="Proposition n°"+n.toString(),this.fraisDossier=u.coutTotalFraisDossier,this.fraisAutres=u.coutTotalFraisCourtage,this.fraisGaranties=u.coutTotalFraisGarantie,this.montantTotalOperation=this.fraisDossier+this.fraisAutres+this.fraisGaranties+s,this.apport=u.montantApportPersonnel,this.sommeCreditInterne=u.mtfaso_MontantConcoursInternes,this.sommeCreditExterne=u.mkface_MontantConcoursExternes,this.dureeFinancement=e.Service.PlanFinancementService.getDureeCreditMax(r),this.firstMensualite=u.montantMensualiteAvecAssurance,this.coutCreditInterne=_.reduce(a||[],function(t,i){return t+e.Service.PlanFinancementService.getCoutCreditInterne(i)},0),this.tauxEndettement=(o||{}).tauxEndettementAvecAPL,this.resteAVivre=(o||{}).mntResteAVivreAvecAPL,this.listeCreditSynthese=_.map(a||[],function(e){return new t.CreditSyntheseProposition(e,_.filter(c,function(t){return!_.startsWith(t.idws,i.Idws.CreditPhase.creditPhasePrefinancement)&&e.idws===t.idCreditIntr}))}),this.listeCreditInterne=a,this.listeCreditExterne=l,this.listePhase=c}return n}();t.PropositionDescription=n}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(t,i,n,r){this.idws=t.idws,this.titre="Proposition "+(r+1).toString(),this.montant=t.montantTotalEmpruntPlan,this.echeance=t.synthesePlanFinancement.montantMensualiteAvecAssurance,this.duree=e.Service.PlanFinancementService.getDureeCreditMax(t),this.checked=!1,this.resteAFinancer=i,this.isPropositionValide=0===i&&_.every(n||[],function(t){return t.codeIndiceCalculAFaire===e.Constantes.CodeAscii.Lettre.Maj.N}),this.listeIdCreditInterne=_.map(n,function(e){return e.idws})}return t}();t.Proposition=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(t,i){this.documentSignatureElectronique=t,this.listeCreditInterneSchema=i,this.generation=e.Enum.Edition.DocumentOffreIndustrialiseeStatutAction.EnAttente,this.ajoutLiasse=e.Enum.Edition.DocumentOffreIndustrialiseeStatutAction.EnAttente,this._checked=this.documentSignatureElectronique.obligatoire&&!this.documentSignatureElectronique.estPresent&&!this.telechargementAutorise,this._fluxBinaire=this.documentSignatureElectronique.fluxBinaire,this.listeFichier=[]}return Object.defineProperty(t.prototype,"idws",{get:function(){return this.documentSignatureElectronique.idws},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifiantComplet",{get:function(){return this.documentSignatureElectronique.identifiantComplet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifiantIDN",{get:function(){return this.documentSignatureElectronique.identifiantIDN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nomDocument",{get:function(){return this.documentSignatureElectronique.nomDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listeAnomalieLecture",{get:function(){return this.documentSignatureElectronique.listeAnomalieLecture},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleDocument",{get:function(){
return-1!==this.documentSignatureElectronique.indiceCredit&&angular.isDefined(this.listeCreditInterneSchema)&&angular.isDefined(this.listeCreditInterneSchema[this.documentSignatureElectronique.indiceCredit-1])?this.documentSignatureElectronique.libelle+" ("+this.listeCreditInterneSchema[this.documentSignatureElectronique.indiceCredit-1].description+")":this.documentSignatureElectronique.libelle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statutPresence",{get:function(){return this.documentSignatureElectronique.obligatoire?"Obligatoire":"Facultatif"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"estPresent",{get:function(){return this.documentSignatureElectronique.estPresent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"estDocOffre",{get:function(){return this.documentSignatureElectronique.estDocOffre},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numeroOrdre",{get:function(){return this.documentSignatureElectronique.numeroOrdre},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"telechargementAutorise",{get:function(){return"CCSE"!==this.documentSignatureElectronique.nomDocument&&!this.documentSignatureElectronique.estDocNEO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flux",{get:function(){return angular.isDefined(this._fluxBinaire)&&null!==this._fluxBinaire?this._fluxBinaire:void 0},set:function(e){this._fluxBinaire=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFichierCharge",{get:function(){return this.listeFichier.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nomFichier",{get:function(){return this.isFichierCharge?this.listeFichier[0].name:void 0},enumerable:!0,configurable:!0}),t.prototype.supprimerFichier=function(){this.listeFichier=[],this._checked=!1},Object.defineProperty(t.prototype,"checkboxVisible",{get:function(){return this.documentSignatureElectronique.estDocNEO&&!this.documentSignatureElectronique.estPresent||this.telechargementAutorise||"CCSE"===this.documentSignatureElectronique.nomDocument&&!this.documentSignatureElectronique.estPresent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkable",{get:function(){return this.documentSignatureElectronique.estDocNEO&&!this.documentSignatureElectronique.estPresent||!this.documentSignatureElectronique.estDocNEO&&this.isFichierCharge},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e},enumerable:!0,configurable:!0}),t}();t.DocumentSignatureElectroniqueDescription=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t){this.documentSignatureElectroniqueDescription=e,this.document=t}return Object.defineProperty(e.prototype,"idws",{get:function(){return this.documentSignatureElectroniqueDescription.idws},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifiantComplet",{get:function(){return this.documentSignatureElectroniqueDescription.identifiantComplet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fluxBinaire",{get:function(){return this.document.fluxImpression},enumerable:!0,configurable:!0}),e}();e.DocumentSignatureElectroniqueMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(e,t,i,n,r){this.listeDocs=e,this.libelelEtatDossier=t,this.roleDestinataire=i,this.libelleEmprunteur=n,this.libelleRedacteur=r}return Object.defineProperty(t.prototype,"listeDocumentOffreIndustrialiseeDescription",{get:function(){return this.listeDocs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"etatDossier",{get:function(){return this.libelelEtatDossier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleRole",{get:function(){return this.roleDestinataire===e.Constantes.Edition.RoleDestinataireOffre.emprunteur.code?e.Constantes.Edition.RoleDestinataireOffre.emprunteur.libelle:this.roleDestinataire===e.Constantes.Edition.RoleDestinataireOffre.notaire.code?e.Constantes.Edition.RoleDestinataireOffre.notaire.libelle:_.startsWith(this.roleDestinataire,e.Constantes.Edition.RoleDestinataireOffre.caution.code)?this.roleDestinataire.split("-")[1]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libellePersonne",{get:function(){return this.roleDestinataire===e.Constantes.Edition.RoleDestinataireOffre.emprunteur.code?this.libelleEmprunteur:this.roleDestinataire===e.Constantes.Edition.RoleDestinataireOffre.notaire.code?this.libelleRedacteur:_.startsWith(this.roleDestinataire,e.Constantes.Edition.RoleDestinataireOffre.caution.code)?this.roleDestinataire.split("-")[2]:void 0},enumerable:!0,configurable:!0}),t}();t.DestinataireOffreIndustrialiseeDescription=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){var i=function(){function t(t,i){this.etatDossierEdition=t,this.documentOffreIndustrialisee=i,this._checkable=!_.contains(["3","4","5","6","9"],t),this.statutConcerne=e.Constantes.Edition.statutConcerne,this._checked=this.estAbsent&&this.checkable,this.generation=e.Enum.Edition.DocumentOffreIndustrialiseeStatutAction.EnAttente,this.ajoutLiasse=e.Enum.Edition.DocumentOffreIndustrialiseeStatutAction.EnAttente}return Object.defineProperty(t.prototype,"idws",{get:function(){return this.documentOffreIndustrialisee.idws},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listeAnomalieLecture",{get:function(){return this.documentOffreIndustrialisee.listeAnomalieLecture},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"libelleDocument",{get:function(){return this.documentOffreIndustrialisee.libelleDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"codeDocument",{get:function(){return this.documentOffreIndustrialisee.codeDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"estAbsent",{get:function(){return"Absent"===this.documentOffreIndustrialisee.etatDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateModification",{get:function(){return moment(this.documentOffreIndustrialisee.dateModification).format("DD/MM/YYYY")!==moment(e.Constantes.Donnees.date0).format("DD/MM/YYYY")?this.documentOffreIndustrialisee.dateModification:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlPDF",{get:function(){return this.documentOffreIndustrialisee.urlPDF},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"estDocNEO",{get:function(){return this.documentOffreIndustrialisee.estDocNEO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numeroOrdre",{get:function(){return this.documentOffreIndustrialisee.numeroOrdre},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkable",{get:function(){return this._checkable&&this.concerne},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked&&this.concerne},set:function(e){this._checked=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"estConcerneCasEcheant",{get:function(){return"O"===this.documentOffreIndustrialisee.indicateurCasEcheant},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"concerne",{get:function(){return this.statutConcerne===e.Constantes.Edition.statutConcerne},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"estDocOffre",{get:function(){return this.documentOffreIndustrialisee.estDocOffre},enumerable:!0,configurable:!0}),t}();t.DocumentOffreIndustrialiseeDescription=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e,t){this.documentOffreIndustrialiseeDescription=e,this.document=t}return Object.defineProperty(e.prototype,"idws",{get:function(){return this.documentOffreIndustrialiseeDescription.idws},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fluxDocument",{get:function(){return this.document.fluxImpression},enumerable:!0,configurable:!0}),e}();e.DocumentOffreIndustrialiseeMaj=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var Tools=ApiInstuctionCredit.Outils,ApiInstuctionCredit;!function(e){var t;!function(e){var t=function(){function e(e){this.mandatPayeurSignature=e,this.selected=!1,this._dateSignature=this.getDateSignatureInitiale()}return Object.defineProperty(e.prototype,"descriptionPayeur",{get:function(){return this.mandatPayeurSignature.libellePayeur},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numeroCredit",{get:function(){return this.mandatPayeurSignature.mandatCredit.numeroCredit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libelleProduit",{get:function(){return this.mandatPayeurSignature.mandatCredit.libelleCredit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"referenceUniqueMand",{get:function(){return this.mandatPayeurSignature.mandatCredit.payeur.referenceUniqueMand},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateSignature",{get:function(){return this._dateSignature},set:function(e){this._dateSignature=e},enumerable:!0,configurable:!0}),e.prototype.getDateSignatureInitiale=function(){return Tools.OutilDate.dateValorisee(this.mandatPayeurSignature.mandatCredit.payeur.dateSigneMand)?this.mandatPayeurSignature.mandatCredit.payeur.dateSigneMand:null},Object.defineProperty(e.prototype,"estSigne",{get:function(){return Tools.OutilDate.dateValorisee(this.mandatPayeurSignature.mandatCredit.payeur.dateSigneMand)},enumerable:!0,configurable:!0}),e}();e.MandatSignature=t}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(){}return t.prototype.getResult=function(t,i,n,r,s){var o=this;return{existeMandats:!0,listeMandat:_.map(i||[],function(e){return o.getMandatPersonne(t,e,r,s,n)}),mandatPayeurSecours:this.getMandatPayeurSecours(t,e.Service.ModalitesService.getListeModeReglementFiltree(n,!0,!1,t.codeDevise))}},t.prototype.getMandatPersonne=function(t,i,n,r,s){var o=this,a=_.filter(n,function(e){return e.idPersonneIdCommissionPayr===i.idws}),c=_.map(a,function(e){return e.idCreditIntr}),l=_.filter(r,function(e){return _.contains(c,e.idws)});return{libellePayeur:this.getLibelleDesignation(i),listeMandatCredit:_.map(l||[],function(i){return o.getMandatCredit(i,_.find(a,function(e){return e.idCreditIntr===i.idws}),t,e.Service.ModalitesService.getListeModeReglementFiltree(s,i.codeDevise===t.codeDevise,!1,t.codeDevise))})}},t.prototype.getMandatCredit=function(t,i,n,r){var s=_.find(r,function(e){return e.codeModeRegle===i.modeRegleUtilisationParPayr});return{payeur:i,libelleCredit:t.libelleLongProduit,modeReglement:s,bic:i.numeroComptePayr.substring(0,11),iban:i.numeroComptePayr.substring(11,i.numeroComptePayr.length-1),isMandatEditable:this.getIsMandatEditable(s,n),isMandatIban:s&&s.codeTypeDomiciliation===e.Enum.Modalites.TypeDomiciliation.Iban.toString(),numeroCredit:t.idCreditGestion}},t.prototype.getLibelleDesignation=function(e){return e.nomJeunFill?"Mme "+e.nomRaisonSociale+" "+e.prenom+" née "+e.nomJeunFill:"Mr "+e.nomRaisonSociale+" "+e.prenom},t.prototype.getMandatPayeurSecours=function(e,t){var i=_.find(t,function(t){return t.codeModeRegle===e.modeRegle});return{libellePayeur:"Paiement de secours",mandatCredit:this.getMandatCreditPayeurSecours(e,i)}},t.prototype.getMandatCreditPayeurSecours=function(t,i){var n=this.getPayeurSecours(t,i);return{payeur:n,libelleCredit:"Tous les crédits",modeReglement:i,bic:n.numeroComptePayr.substring(0,11),iban:n.numeroComptePayr.substring(11,n.numeroComptePayr.length-1),isMandatEditable:this.getIsMandatEditable(i,t),isMandatIban:i&&i.codeTypeDomiciliation===e.Enum.Modalites.TypeDomiciliation.Iban.toString()}},t.prototype.getPayeurSecours=function(e,t){var i={};return i.numeroComptePayr=e.numeroCompteSecoPrel,i.referenceUniqueMand=e.referenceMandat,i.modeRegleUtilisationParPayr=angular.isDefined(t)?t.codeModeRegle:"",i.pourcentagePaiementCredit=100,i.idws=null,i.idPersonneIdCommissionPayr=null,i.idCreditIntr=null,i.dateSigneMand=e.dateSigneMand,i},t.prototype.getIsMandatEditable=function(t,i){return t&&t.codeTypeDomiciliation===e.Enum.Modalites.TypeDomiciliation.Iban.toString()&&"09"===t.codeDomaineExactRegle&&i.codeDevise===e.Constantes.Parametrage.codeDeviseEuro&&i.dateEditionOffre===e.Constantes.Donnees.date0},t}();t.MandatsDescriptionBuilder=i}(t=e.Modele||(e.Modele={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(t,i,n,r){var s=this;this.data=t,this.$modalInstance=i,this.modaleEditionSaisieComplementaireService=n,this.erreurService=r,this.listeInputSaisiesComplementaire=[],this.listePropriete=[],_.forEach(this.data.proprieteSaisieComplementaire,function(t){_.forEach(t,function(t,i){s.isListeDonneesCreditAModifierACA(i)?s.addToListes(t,e.Constantes.Edition.NomSaisieCompl.listeDonneesCreditAModifierACA):s.isListeDonneesCreditAModifier(i)?s.addToListes(t,e.Constantes.Edition.NomSaisieCompl.listeDonneesCreditAModifier):s.recupereChamps(t,i)})})}return t.prototype.isListeDonneesCreditAModifierACA=function(e){return this.modaleEditionSaisieComplementaireService.isListeDonneesCreditAModifierACA(e)},t.prototype.isListeDonneesCreditAModifier=function(e){return this.modaleEditionSaisieComplementaireService.isListeDonneesCreditAModifier(e)},t.prototype.recupereChamps=function(e,t){e&&e.visible===!0&&(("CheckBoxList"===e.type||"ListBox"===e.type)&&(e.customCheckbox={id:this.getNewGuid(),label:e.libelle,listCheckbox:_.map(e.listeValue||[],function(e){return{id:e,label:e,checked:!1}})}),"TextBox Date"===e.type&&"0001-01-01T00:00:00.000+0100"===e.text&&(e.text=null),this.addToListes(e,t))},t.prototype.addToListes=function(e,t){this.listePropriete.push(t),this.listeInputSaisiesComplementaire.push(e)},t.prototype.close=function(){this.$modalInstance.dismiss()},t.prototype.valider=function(){var e=this;this.loader=!0,this.modaleEditionSaisieComplementaireService.enregistrerModification(this.data.idDossier,this.listePropriete,this.listeInputSaisiesComplementaire).then(function(){e.$modalInstance.close()})["catch"](function(t){e.erreurService.popinErreur(t)})["finally"](function(){e.loader=!1})},t.prototype.getNewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)})},t.$inject=["data","$modalInstance","ApiInstuctionCredit.ModaleEditionSaisieComplementaireService","ApiInstuctionCredit.ErreurService"],t}();e.ModaleEditionSaisieComplementaireControleur=t,e.app.controller("ApiInstuctionCredit.ModaleEditionSaisieComplementaireControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.DonneesModale||(e.DonneesModale={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(e,t){this.$q=e,this.wsDossierService=t}return t.prototype.enregistrerModification=function(t,i,n){var r=this.getSaisiesComplementaireMaj(i,n),s=this.$q.when();return Object.keys(r).length>0&&(r.idws=e.Constantes.Idws.Accessoire.saisiesComplementaire+"-"+t,s=this.wsDossierService.majElements("saisiesComplementaireMaj",t,[r])),s},t.prototype.getSaisiesComplementaireMaj=function(e,t){for(var i={},n=function(){var n=e[s],o=t[s]||{};switch(o.type){case"TextBox":case"TextBox Date":i[n]="0001-01-01"!==o.text?o.text:null;break;case"ComboBox":i[n]=o.selectedValue;break;case"CheckBox":i[n]=o.checked;break;case"RadioButton":i[n]=o.checked1===!0?o.checked1:o.checked2;break;case"CheckBoxList":var a=[];_.forEach(o.customCheckbox.listCheckbox,function(e){e.checked&&a.push(e.label)}),0===a.length&&(a=[""]),i[n]=a;break;case"ListBox":var c=[];_.forEach(o.customCheckbox.listCheckbox,function(e){e.checked&&c.push(e.label)}),i[n]=c;break;case"CreditTauxFixe":var l=[];_.forEach(o.listeCreditTauxFixe,function(e){var t={referenceIndiceCredit:e.referenceIndiceCredit.text,tauxFixeCredit:e.tauxFixeCredit.text};l.push(t)}),i[n]=l;break;default:(r.isListeDonneesCreditAModifierACA(n)||r.isListeDonneesCreditAModifier(n))&&(i[n]=[],_.forEach(o,function(e){i[n].push({idCreditModifie:e.idCreditModifie,montantCreditModifie:e.montantCreditModifie.text})}))}},r=this,s=0;s<e.length;s++)n();return i},t.prototype.isListeDonneesCreditAModifierACA=function(t){return t===e.Constantes.Edition.NomSaisieCompl.listeDonneesCreditAModifierACA},t.prototype.isListeDonneesCreditAModifier=function(t){return t===e.Constantes.Edition.NomSaisieCompl.listeDonneesCreditAModifier},t.$inject=["$q","ApiInstuctionCredit.Data.DossierService"],t}();t.ModaleEditionSaisieComplementaireService=i,e.app.service("ApiInstuctionCredit.ModaleEditionSaisieComplementaireService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(e){this.modalService=e,angular.isUndefined(this.listeDocsDisabled)&&(this.listeDocsDisabled=[]),this.tableauDocuments=this.initialisationTableau(this.nbElements)}return t.prototype.initialisationTableau=function(t){var i=this;return{width:"col-md-12",orderBy:"libelleDoc",reserve:!0,perPage:t,multiSelect:!0,filterEnable:!1,sortEnable:!1,moreEnable:!0,columns:e.Constantes.Donnees.colonnesTableauEditionDocuments,data:this.listeDocs,selectedItems:this.listeDocsSelected,disabledItems:this.listeDocsDisabled,templateUrl:"",caption:"Liste des documents imprimables",selectionChangeHandler:{onSelectionChange:function(e){return i.onSelectionChange(e)}}}},t.prototype.onSelectionChange=function(t){if(t&&t.codeDoc===e.Constantes.Edition.regroupementCredit.numDoc){var i={headerText:"Attention",iconName:"itce-warning",bodyText:e.Constantes.Edition.regroupementCredit.informationPopup,closeButtonText:"Fermer",size:"md"};this.modalService.showPopup(i)}else if(t&&t.codeDoc===e.Constantes.Edition.demandeCreditDoc.numDoc&&this.signatureElectroniqueEligible&&!this.listeDocsSelected.some(function(t){return t.codeDoc===e.Constantes.Edition.condServSignElecDoc.numDoc})&&this.listeDocsSelected.some(function(t){return t.codeDoc===e.Constantes.Edition.demandeCreditDoc.numDoc})){var n=_.find(this.listeDocs,function(t){return t.codeDoc===e.Constantes.Edition.condServSignElecDoc.numDoc});this.listeDocsSelected.push(n)}},t.$inject=["modalService"],t}();e.EditionTableauDocumentsControleur=t,e.app.controller("ApiInstuctionCredit.EditionTableauDocumentsControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/edition/documents/tableau/tableau-documents.html",scope:{nbElements:"=",listeDocs:"=",listeDocsSelected:"=",listeDocsDisabled:"=?",signatureElectroniqueEligible:"=?"},controller:"ApiInstuctionCredit.EditionTableauDocumentsControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icEditionTableauDocuments",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=e.Enum,i=function(){function e(){}return Object.defineProperty(e.prototype,"_listeAnomalies",{get:function(){return angular.isUndefined(this.listeAnomalies)||null===this.listeAnomalies?[]:this.listeAnomalies},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listeAnomaliesBloquantes",{get:function(){return this.filtrer?this.getAnomaliesFiltrees(!0):this._listeAnomalies},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listeAnomaliesNonBloquantes",{get:function(){return this.filtrer?this.getAnomaliesFiltrees(!1):[]},enumerable:!0,configurable:!0}),e.prototype.getAnomaliesFiltrees=function(e){return _.filter(this._listeAnomalies,function(i){return e?i.typeAno===t.TypeAno.Bloquant:i.typeAno!==t.TypeAno.Bloquant})},e}();e.EditionAnomaliesControleur=i,e.app.controller("ApiInstuctionCredit.EditionAnomaliesControleur",i)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/edition/documents/anomalies/anomalies.html",scope:{listeAnomalies:"=",filtrer:"=",listeErreursImpression:"="},controller:"ApiInstuctionCredit.EditionAnomaliesControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icEditionAnomalies",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(e,t,i,n){this.erreurService=e,this.modalClauseService=t,this.clausesPersonnaliseesService=i,this.caracteristiquesService=n,this.etatDossElecACreer="0"}return t.prototype.ajouterClause=function(t){var i=this,n={enCreation:!0,clause:new e.Modele.ClausePersonnalisee(t)};this.modalClauseService.popinClause(n).then(function(e){i.loaderPageParent=!0,i.clausesPersonnaliseesService.ajouterClausePersonnalisee(i.idDossier,e).then(function(e){i.listeClauses.push(e)})["catch"](function(e){i.erreurService.popinErreur(e)})["finally"](function(){i.loaderPageParent=!1})})},Object.defineProperty(t.prototype,"desactivationAjoutClause",{get:function(){return this.dossierComplet&&this.offreSignatureElectronique&&this.dossierComplet.typeSignature===e.Constantes.Dossier.TypeSignature.ELECTRONIQUE.code&&(this.dossierComplet.sousEtatDossier>e.Enum.SousEtatDossier.Edition||this.offreSignatureElectronique.informationDossierSignature.identifiantEtatDossier>this.etatDossElecACreer)||this.isLoiConso},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoiConso",{get:function(){return angular.isDefined(this.dossierComplet)&&_.isEqual(this.caracteristiquesService.getTypeOffre(this.dossierComplet),e.Constantes.Edition.libelleLoiConso)},enumerable:!0,configurable:!0}),t.$inject=["ApiInstuctionCredit.ErreurService","ApiInstuctionCredit.ModaleClauseService","ApiInstuctionCredit.EditionOffreClausesPersonnaliseesService","ApiInstuctionCredit.EditionOffreCaracteristiquesService"],t}();e.EditionOffreClausesPersonnaliseesControleur=t,e.app.controller("ApiInstuctionCredit.EditionOffreClausesPersonnaliseesControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/edition/offre/clauses/clauses.html",scope:{modeConsultation:"=",dossierComplet:"=dossier",offreSignatureElectronique:"=",loaderPageParent:"=?",listeClauses:"=",idDossier:"=",redecateurActePresent:"="},controller:"ApiInstuctionCredit.EditionOffreClausesPersonnaliseesControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icEditionOffreClausesPersonnalisees",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(e,t,i){this.$q=e,this.wsDossierService=t,this.wsOffreService=i}return t.prototype.ajouterClausePersonnalisee=function(t,i){var n=new e.Modele.ClausePersonnaliseeMaj(i);return this.wsOffreService.ajouterClausePersonnalisee(t,n)},t.prototype.majClausePersonnalisee=function(t,i){var n=new e.Modele.ClausePersonnaliseeMaj(i);return this.wsDossierService.majElement("clausePersonnaliseeMaj",t,n)},t.prototype.supprimerClausePersonnalisee=function(e,t){var i=this;return this.wsDossierService.supprimerElement(e,t.idws).then(function(){return i.getClauses(e)})},t.prototype.getClauses=function(t){var i=this;return this.wsDossierService.getDossierSchema(t).then(function(n){var r=[];return null!==n.clausesPersonnalisees&&(r=e.Outils.Objet.pickDeep(n.clausesPersonnalisees,"idws")),r.length>0?i.wsDossierService.lireElements(t,r):i.$q.when([])})},t.$inject=["$q","ApiInstuctionCredit.Data.DossierService","ApiInstuctionCredit.Data.OffreService"],t}();t.EditionOffreClausesPersonnaliseesService=i,e.app.service("ApiInstuctionCredit.EditionOffreClausesPersonnaliseesService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){}return e}();e.EditionOffreInstitutsEmissionControleur=t,e.app.controller("ApiInstuctionCredit.EditionOffreInstitutsEmissionControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/edition/offre/instituts-emission/instituts-emission.html",scope:{institutsEmission:"=instituts"},controller:"ApiInstuctionCredit.EditionOffreInstitutsEmissionControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icEditionOffreInstitutsEmission",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(){}return e}();e.EditionOffreMandatsControleur=t,e.app.controller("ApiInstuctionCredit.EditionOffreMandatsControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/edition/offre/mandats/mandats.html",scope:{modeConsultation:"=",mandatsDescription:"=",idDossier:"=?",loader:"=?",recharchementContexteEditique:"&?reloadContexte"},controller:"ApiInstuctionCredit.EditionOffreMandatsControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icEditionOffreMandats",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(e){this.wsMandatService=e}return e.prototype.ajouterMandat=function(e,t,i){return this.wsMandatService.ajouterMandat(e,i?null:t.idws,t.numeroComptePayr,t.modeRegleUtilisationParPayr).then(function(e){return t.referenceUniqueMand=e.referenceMandat,t})},e.prototype.supprimerMandat=function(e,t,i){var n=i?this.wsMandatService.annulerMandatSecours(e):this.wsMandatService.annulerMandatPayeur(e,t.idws);return n.then(function(){return t.referenceUniqueMand="",t})},e.$inject=["ApiInstuctionCredit.Data.MandatService"],e}();t.EditionOffreMandatsService=i,e.app.service("ApiInstuctionCredit.EditionOffreMandatsService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(e){this.caracteristiquesService=e}return Object.defineProperty(e.prototype,"typeOffre",{get:function(){return angular.isDefined(this.dossierComplet)?this.caracteristiquesService.getTypeOffre(this.dossierComplet):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numeroOffre",{get:function(){return angular.isDefined(this.dossierComplet)?this.dossierComplet.nombrePassOffre:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afficherTexteInfos",{get:function(){return angular.isDefined(this.texteInfos)&&null!==this.texteInfos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texteInfos",{get:function(){return angular.isDefined(this.dossierComplet)?this.caracteristiquesService.getTexteInfos(this.dossierComplet):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateEdition",{get:function(){return angular.isDefined(this.dossierComplet)&&this.offreComplete?this.dossierComplet.dateEditionOffre:void 0},enumerable:!0,configurable:!0}),e.$inject=["ApiInstuctionCredit.EditionOffreCaracteristiquesService"],e}();e.EditionOffreCaracteristiquesControleur=t,e.app.controller("ApiInstuctionCredit.EditionOffreCaracteristiquesControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/edition/offre/caracteristiques/caracteristiques.html",scope:{dossierComplet:"=dossier",offreComplete:"=",visualiserOffre:"=?"},controller:"ApiInstuctionCredit.EditionOffreCaracteristiquesControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icEditionOffreCaracteristiques",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function t(){}return t.prototype.getTypeOffre=function(t){var i;return"CO"!==t.codeTypeEngagement&&(t.typeLoiScrivener===e.Constantes.CodeAscii.Caractere.vide?i=e.Constantes.Edition.libelleAutreLoi:t.typeLoiScrivener===e.Constantes.CodeAscii.Nombre.un?i=e.Constantes.Edition.libelleLoiConso:t.typeLoiScrivener===e.Constantes.CodeAscii.Nombre.deux&&(i=e.Constantes.Edition.libelleLoiImmo)),i},t.prototype.getTexteInfos=function(t){if(t.autoriserCalculIndicateurEditionAgence){if(t.codeTypeEditionAutorisee===e.Enum.Edition.TypeOffre.EditionAgence.toString())return t.codeProcessusInstruction===e.Enum.ProcessusInstruction.InstructionAgence.toString()?"Le contexte actuel du dossier autorise une édition en Agence. Cliquer sur l'icône pour prendre en compte vos dernières mises à jour ou modifications.":"Le contexte actuel du dossier autorise une édition en Back Office. Cliquer sur l'icône pour prendre en compte vos dernières mises à jour ou modifications.";if(t.codeTypeEditionAutorisee===e.Enum.Edition.TypeOffre.EditionBackOffice.toString())return t.codeProcessusInstruction===e.Enum.ProcessusInstruction.InstructionAgence.toString()?"Le contexte actuel du dossier n'autorise pas une édition en Agence. Cliquer sur l'icône pour prendre en compte vos dernières mises à jour ou modifications.":"Le contexte actuel du dossier autorise une édition en Back Office. Cliquer sur l'icône pour prendre en compte vos dernières mises à jour ou modifications."}return null},t}();t.EditionOffreCaracteristiquesService=i,e.app.service("ApiInstuctionCredit.EditionOffreCaracteristiquesService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(e,t){this.$modalInstance=e,this.data=t}return Object.defineProperty(t.prototype,"listeControles",{get:function(){return this.data.anomalies},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listeAnomaliesBloquantes",{get:function(){return this.getListeControlesFiltres(this.listeControles,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listeAlertes",{get:function(){return this.getListeControlesFiltres(this.listeControles,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"texteAnomaliesBloquantes",{get:function(){var e=1===this.listeAlertes.length?" anomalie bloquante":" anomalies bloquantes",t="Il existe "+this.listeAnomaliesBloquantes.length.toString()+e+" sur le dossier";return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"texteAlertes",{get:function(){var e=1===this.listeAlertes.length?" alerte":" alertes",t="Il existe "+this.listeAlertes.length.toString()+e+" sur le dossier";return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parametrageBoutonContinuer",{get:function(){return this.data.parametrageBoutonContinuer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titre",{get:function(){return this.parametrageBoutonContinuer.affichage?"Poursuivre malgré les alertes":"Visualiser les anomalies et/ou les alertes"},enumerable:!0,configurable:!0}),t.prototype.getListeControlesFiltres=function(t,i){return _.filter(t,function(t){return i?t.typeAno===e.Enum.TypeAno.Bloquant:t.typeAno!==e.Enum.TypeAno.Bloquant})},t.prototype.poursuivre=function(){this.$modalInstance.close()},t.prototype.close=function(){
this.$modalInstance.dismiss()},t.$inject=["$modalInstance","data"],t}();e.ModaleAnomalieGestionControleur=t,e.app.controller("ApiInstuctionCredit.ModaleAnomalieGestionControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.DonneesModale||(e.DonneesModale={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(){this.tableauDocuments=this.getTableau()}return t.prototype.getTableau=function(){return{width:"col-md-12",orderBy:"libelleDoc",reserve:!1,perPage:5,multiSelect:!0,filterEnable:!1,sortEnable:!1,moreEnable:!0,columns:e.Constantes.Donnees.colonnesTableauEditionDocuments,data:this.dataAssuranceExterne.listeDocuments,selectedItems:this.dataAssuranceExterne.listeDocumentsSelected,templateUrl:"",caption:"Liste des documents Refus Assurance Externe imprimables"}},t}();e.EmissionDocsAssrExtTableauControleur=t,e.app.controller("ApiInstuctionCredit.EmissionDocsAssrExtTableauControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/emission-docs/assurance-externe/tableau/tableau.html",restrict:"E",scope:{dataAssuranceExterne:"=datasPersonne",index:"@"},controller:"ApiInstuctionCredit.EmissionDocsAssrExtTableauControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icEmissionDocsAssrExtTableau",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(){this.libelleEditionAgenceOuBo=e.Constantes.Edition.libelleEditionAgenceOuBo,this.messageEditionAgenceOuBoObligatoire=e.Constantes.Edition.messageEditionAgenceOuBoObligatoire}return t}();e.ChampSaisieComplementaireControleur=t,e.app.controller("ApiInstuctionCredit.ChampSaisieComplementaireControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{templateUrl:"typescript/fonctionnalites/edition/documents/modale-saisie-complementaire/champ-saisie-complementaire/champ-saisie-complementaire.html",restrict:"E",scope:{elt:"=",indexElement:"=?"},controller:"ApiInstuctionCredit.ChampSaisieComplementaireControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("champSaisieComplementaire",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(e,t,i,n){this.modalService=e,this.erreurService=t,this.modalClauseService=i,this.clausesPersonnaliseesService=n}return Object.defineProperty(e.prototype,"afficherBloc",{get:function(){return this.listeClausesFiltrees.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titrePanel",{get:function(){return this.clausesEmprunteur?"Clause(s) Emprunteurs":"Clause(s) Rédacteur d'acte"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listeClausesFiltrees",{get:function(){var e=this;return _.filter(this.listeClauses,function(t){return t.destinataireClausePersonne===(e.clausesEmprunteur?0:1)})},enumerable:!0,configurable:!0}),e.prototype.getIdLi=function(e){var t=this.clausesEmprunteur?"emprunteur-":"redacteur-";return"li-clause-"+t+e.toString()},e.prototype.majClause=function(e){var t=this,i={enCreation:!1,clause:angular.copy(e)};this.modalClauseService.popinClause(i).then(function(e){t.loaderPageParent=!0,t.clausesPersonnaliseesService.majClausePersonnalisee(t.idDossier,e).then(function(){var i=_.findIndex(t.listeClauses,function(t){return t.idws===e.idws});t.listeClauses[i]=e})["catch"](function(e){t.erreurService.popinErreur(e)})["finally"](function(){t.loaderPageParent=!1})})},e.prototype.supprimerClause=function(e){var t=this,i={actionButtonText:"Supprimer",closeButtonText:"Annuler",headerText:"Supprimer la clause personnalisée ?",bodyText:"Cette clause va être définitivement supprimée, veuillez confirmer.",iconName:"itce-question",size:"md"};this.modalService.showConfirm(i).then(function(){t.loaderPageParent=!0,t.clausesPersonnaliseesService.supprimerClausePersonnalisee(t.idDossier,e).then(function(e){t.listeClauses=e})["catch"](function(e){t.erreurService.popinErreur(e)})["finally"](function(){t.loaderPageParent=!1})})},e.$inject=["modalService","ApiInstuctionCredit.ErreurService","ApiInstuctionCredit.ModaleClauseService","ApiInstuctionCredit.EditionOffreClausesPersonnaliseesService"],e}();e.DetailEditionClausesListeClausesControleur=t,e.app.controller("ApiInstuctionCredit.DetailEditionClausesListeClausesControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/edition/offre/clauses/liste-clauses/liste-clauses.html",scope:{modeConsultation:"=",loaderPageParent:"=",clausesEmprunteur:"=",idDossier:"=",listeClauses:"="},controller:"ApiInstuctionCredit.DetailEditionClausesListeClausesControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icDetailEditionClausesListeClauses",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(e,t){this.dataClause=e,this.$modalInstance=t,this.clause=this.dataClause.clause,this.clause.libelleClausePersonne=this.clause.libelleClausePersonne||""}return Object.defineProperty(t.prototype,"titre",{get:function(){var t=this.dataClause.enCreation?"Ajouter une clause ":"Modifier une clause ";return t+=this.clause.destinataireClausePersonne===e.Enum.DestinataireClausePersonne.Emprunteur?"emprunteur":"rédacteur d'acte"},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.$modalInstance.dismiss()},t.prototype.valider=function(){var e={enCreation:this.dataClause.enCreation,clause:this.clause};this.$modalInstance.close(e)},t.$inject=["data","$modalInstance"],t}();e.ModaleClauseControleur=t,e.app.controller("ApiInstuctionCredit.ModaleClauseControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.DonneesModale||(e.DonneesModale={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(t){"use strict";var i=function(){function e(e){this.modalService=e}return e.prototype.popinClause=function(e){var t={templateUrl:"typescript/fonctionnalites/edition/offre/clauses/modale-clause/modale-clause.html",controller:"ApiInstuctionCredit.ModaleClauseControleur",controllerAs:"ctrl",windowClass:"app-modal-window-MEG",backdrop:"static",keyboard:!1,size:"md",resolve:{callback:function(){},data:function(){return e}}};return this.modalService.showModal(t).then(function(e){return e.clause})},e.$inject=["modalService"],e}();t.ModaleClauseService=i,e.app.service("ApiInstuctionCredit.ModaleClauseService",i)}(t=e.Service||(e.Service={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(e){this.modalService=e}return Object.defineProperty(t.prototype,"libelleDetailCredit",{get:function(){var t=this.creditInterne.codeIndiceModeCalculTaux===e.Constantes.CodeAscii.Lettre.Maj.P?this.creditInterne.tauxInitial.tauxProp:this.creditInterne.tauxInitial.tauxActu,i=this.creditInterne.montantCapitalCredit.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" "+e.Filtres.getSymboleDevise(this.creditInterne.codeDevise)+" sur "+this.creditInterne.nombrePeriodeCredit+" mois à "+t.toLocaleString("fr-FR",{maximumFractionDigits:2,minimumFractionDigits:2})+" %";return i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statutEligibilite",{get:function(){var t=this;return(_.find(e.Constantes.Edition.listeTypeEligibilite,function(e){return e.code===t.creditInterne.codeIndicelgbAuprInstemss})||{}).libelle},enumerable:!0,configurable:!0}),t.prototype.modifierEligibilite=function(){var e=this,t={creditInterne:this.creditInterne,idDossier:this.idDossier},i={templateUrl:"typescript/fonctionnalites/edition/offre/instituts-emission/credit/modale-eligibilite/modale-eligibilite.html",controller:"ApiInstuctionCredit.ModaleEditionEligibiliteControleur",controllerAs:"ctrl",windowClass:"app-modal-window-MEG",backdrop:"static",keyboard:!1,size:"md",resolve:{callback:function(){},data:function(){return t}}};this.modalService.showModal(i).then(function(t){e.creditInterne=t.creditInterne})},t.$inject=["modalService"],t}();e.DetailEditionInstitutsEmissionCreditControleur=t,e.app.controller("ApiInstuctionCredit.DetailEditionInstitutsEmissionCreditControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/edition/offre/instituts-emission/credit/credit.html",scope:{idDossier:"=",eligibiliteModifiable:"=",creditInterne:"="},controller:"ApiInstuctionCredit.DetailEditionInstitutsEmissionCreditControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icDetailEditionInstitutsEmissionCredit",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(e,t,i){this.modalService=e,this.erreurService=t,this.mandatsService=i}return Object.defineProperty(e.prototype,"isMandatEditable",{get:function(){return!this.modeConsultation&&this.mandatCredit.isMandatEditable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afficherBtnSupprimer",{get:function(){return this.isMandatEditable&&null!==this.mandatCredit.payeur.referenceUniqueMand&&""!==this.mandatCredit.payeur.referenceUniqueMand},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afficherBtnAttribuer",{get:function(){return this.isMandatEditable&&(null===this.mandatCredit.payeur.referenceUniqueMand||""===this.mandatCredit.payeur.referenceUniqueMand)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"payeur",{get:function(){return angular.isDefined(this._payeurEdite)?this._payeurEdite:this.mandatCredit.payeur},enumerable:!0,configurable:!0}),e.prototype.supprimer=function(){this.editRum(this.mandatsService.supprimerMandat(this.idDossier,this.payeur,this.casPayeurSecours))},e.prototype.attribuer=function(){this.editRum(this.mandatsService.ajouterMandat(this.idDossier,this.payeur,this.casPayeurSecours))},e.prototype.consulter=function(){var e={mandatCredit:this.mandatCredit,libellePayeur:this.libellePayeur,payeur:this.payeur},t={templateUrl:"typescript/fonctionnalites/edition/offre/mandats/modale-consulter/modale-consulter.html",controller:"ApiInstuctionCredit.ModaleEditionMandatControleur",controllerAs:"ctrl",windowClass:"app-modal-window-MEG",backdrop:"static",keyboard:!1,size:"md",resolve:{callback:function(){},data:function(){return e}}};this.modalService.showModal(t)},e.prototype.editRum=function(e){var t=this;this.loader=!0,e.then(function(e){return t._payeurEdite=e,"function"==typeof t.recharchementContexteEditique?t.recharchementContexteEditique():void 0})["catch"](function(e){t.erreurService.popinErreur(e)})["finally"](function(){t.loader=!1})},e.$inject=["modalService","ApiInstuctionCredit.ErreurService","ApiInstuctionCredit.EditionOffreMandatsService"],e}();e.DetailEditionMandatsCreditControleur=t,e.app.controller("ApiInstuctionCredit.DetailEditionMandatsCreditControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";function t(){return{restrict:"E",templateUrl:"typescript/fonctionnalites/edition/offre/mandats/credit/credit.html",scope:{libellePayeur:"=",mandatCredit:"=",modeConsultation:"=",recharchementContexteEditique:"&?reloadContexte",idDossier:"=?",casPayeurSecours:"=?",loader:"=?"},controller:"ApiInstuctionCredit.DetailEditionMandatsCreditControleur",controllerAs:"ctrl",bindToController:!0}}e.app.directive("icDetailEditionMandatsCredit",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function e(e,t){this.data=e,this.$modalInstance=t}return Object.defineProperty(e.prototype,"libellePayeur",{get:function(){return this.data.libellePayeur},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mandatCredit",{get:function(){return this.data.mandatCredit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"payeur",{get:function(){return this.data.payeur},enumerable:!0,configurable:!0}),e.prototype.close=function(){this.$modalInstance.dismiss()},e.$inject=["data","$modalInstance"],e}();e.ModaleEditionMandatControleur=t,e.app.controller("ApiInstuctionCredit.ModaleEditionMandatControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.DonneesModale||(e.DonneesModale={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){"use strict";var t=function(){function t(t,i,n,r){var s=this;this.data=t,this.$modalInstance=i,this.erreurService=n,this.wsDossierService=r,this.listeTypeEligibilite=e.Constantes.Edition.listeTypeEligibilite,this.creditInterne=angular.copy(this.data.creditInterne),this.typeEligibiliteSelect=_.find(e.Constantes.Edition.listeTypeEligibilite,function(e){return e.code===s.creditInterne.codeIndicelgbAuprInstemss})}return t.prototype.close=function(){this.$modalInstance.dismiss()},t.prototype.valider=function(){var e=this;this.creditInterne.codeIndicelgbAuprInstemss=this.typeEligibiliteSelect.code;var t={};t.idws=this.creditInterne.idws,t.codeIndicelgbAuprInstemss=this.creditInterne.codeIndicelgbAuprInstemss,this.loader=!0,this.wsDossierService.majElements("creditInterneMaj",this.data.idDossier,[t]).then(function(){var t={creditInterne:e.creditInterne};e.$modalInstance.close(t)})["catch"](function(t){e.erreurService.popinErreur(t)})["finally"](function(){e.loader=!1})},t.$inject=["data","$modalInstance","ApiInstuctionCredit.ErreurService","ApiInstuctionCredit.Data.DossierService"],t}();e.ModaleEditionEligibiliteControleur=t,e.app.controller("ApiInstuctionCredit.ModaleEditionEligibiliteControleur",t)}(ApiInstuctionCredit||(ApiInstuctionCredit={}));var ApiInstuctionCredit;!function(e){var t;!function(e){"use strict"}(t=e.DonneesModale||(e.DonneesModale={}))}(ApiInstuctionCredit||(ApiInstuctionCredit={})),angular.module("apiInstructionCredit").run(["$templateCache",function(e){e.put("typescript/fonctionnalites/bloc-notes/notes.html",'<div class="form-horizontal">\r\n    <div class="form-group">\r\n        <label for="notes" class="control-label col-lg-6 col-md-11 col-sm-12" ng-bind="::ctrl.libelleLabel"></label>\r\n    </div>\r\n    <div class="form-group">\r\n        <div class="col-sm-12">\r\n            <textarea id="notes" name="notes" rows="20" class="form-control" mw-reset-field mw-textarea-autoheight ng-model="ctrl.notes" ng-disabled="ctrl.modeConsultation"></textarea>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/emission-documents/emission-documents-footer.html",'<footer class="row mw-footer-fixed-bottom" role="navigation">\r\n    <div class="col-lg-offset-6 col-lg-2 col-md-offset-3 col-md-3 col-sm-4">\r\n        <mw-button ng-if="ctrl.printSendDocumentsByMailButton" id="btn-envoyer-par-mail-documents" modele="principale" texte="Envoyer par mail" ng-click="ctrl.sendDocuments()" ng-disabled="!ctrl.impressionAutorisee">\r\n        </mw-button>\r\n    </div>\r\n    <div class="col-lg-2 col-md-3 col-sm-4">\r\n        <button id="btn-verifier-eligibilite-emission-documents" ng-click="ctrl.fonctionCalculEligibilite()" class="btn btn-block btn-default">Vérifier éligibilité</button>\r\n    </div>\r\n    <div class="col-lg-2 col-md-3 col-sm-4">\r\n        <mw-button id="imprimer" modele="principale" texte="Imprimer" ng-click="ctrl.imprimerDocuments()" ng-disabled="!ctrl.impressionAutorisee">\r\n        </mw-button>\r\n    </div>    \r\n</footer>'),e.put("typescript/fonctionnalites/emission-documents/emission-documents.html",'<form class="form-horizontal">\r\n    <mw-panel niveau="1" titre="Émission de documents" id="emission-documents">\r\n\r\n        <div class="col-sm-12">\r\n            <ic-edition-anomalies id="emission-docs-edition-anomalies" liste-anomalies="ctrl.listeAnomalies" liste-erreurs-impression="ctrl.listeErreursImpression" filtrer="true">\r\n            </ic-edition-anomalies>\r\n        </div>\r\n\r\n        <mw-panel niveau="2" titre="Documents Clients" id="documents-client">\r\n            <div class="form-group">\r\n                <label class="col-md-12" ng-bind="ctrl.libellePhraseTableauPropositions"></label>\r\n            </div>\r\n            <div class="form-group">\r\n                <mw-table caption="Votre dernière proposition modifiée" options="ctrl.tableauPropositions" id="tableau-derniere-proposition"></mw-table>\r\n            </div>\r\n            <div ng-if="ctrl.listeDocuments.length > 0">\r\n                <div class="form-group">\r\n                    <label class="col-md-12">Documents à éditer </label>\r\n                </div>\r\n                <ic-edition-tableau-documents id="emission-docs-edition-tableau-documents" nb-elements="10" liste-docs="ctrl.listeDocuments" liste-docs-selected="ctrl.listeDocumentsSelected" liste-docs-disabled="ctrl.listeDocumentsDisabled" on-checked="ctrl.afficheInformationPourDocumentRegroupementCredit(selectedItem)" signature-electronique-eligible="ctrl.signatureElectroniqueEligible">\r\n                </ic-edition-tableau-documents>\r\n            </div>\r\n\r\n            <div class="col-lg-offset-10 col-lg-2 col-md-offset-9 col-md-3 col-sm-offset-8 col-sm-4" ng-if="ctrl.consultation">\r\n                <mw-button id="imprimer" modele="principale" texte="Imprimer" ng-click="ctrl.imprimerDocuments()" ng-disabled="!ctrl.impressionAutorisee">\r\n                </mw-button>\r\n            </div>\r\n        </mw-panel>\r\n\r\n        <div ng-if="::ctrl.afficherFicheSuiveuse">\r\n            <fiche-suiveuse liste-docs-fiche-suiveuse="ctrl.listeDocumentsFicheSuiveuse" liste-docs-fiche-suiveuse-selected="ctrl.listeDocumentsFicheSuiveuseSelected">\r\n            </fiche-suiveuse>\r\n        </div>\r\n\r\n        <mw-panel niveau="2" titre="Refus assurance externe" id="refus-assurance-externe" ng-if="ctrl.listeDocRefusAssuranceExterneParPersonne.length > 0">\r\n            <div class="form-group">\r\n                <label class="col-md-12">Documents à éditer </label>\r\n            </div>\r\n            <div ng-repeat="docRefus in ctrl.listeDocRefusAssuranceExterneParPersonne track by $index">\r\n                <div>\r\n                    <fiche-refus-assurance-externe liste-docs-refus-assurance-externe="docRefus.listeDocument" liste-docs-refus-assurance-externe-selected="ctrl.listeDocumentsRefusAssuranceExterneSelected[$index]" courrier-lies="{{docRefus.personne}}" index="{{$index}}">\r\n                    </fiche-refus-assurance-externe>\r\n                </div>\r\n            </div>\r\n        </mw-panel>\r\n            <!--<mw-panel niveau="2" titre="Refus assurance externe" id="refus-assurance-externe">\r\n            <div ng-if="ctrl.listeDocumentsRefusAssuranceExterne.length > 0">\r\n                <div class="form-group">\r\n                    <label class="col-md-12">Documents à éditer </label>\r\n                </div>\r\n                <mwic-edition-tableau-documents id="emission-docs-edition-tableau-documents-refus-assurance-externe"\r\n                                                nb-elements="10"\r\n                                                liste-docs="ctrl.listeDocumentsRefusAssuranceExterne"\r\n                                                liste-docs-selected="ctrl.listeDocumentsRefusAssuranceExterneSelected">\r\n                </mwic-edition-tableau-documents>\r\n            </div>\r\n        </mw-panel>-->\r\n\r\n\r\n        </mw-panel>\r\n\r\n</form>\r\n\r\n<ng-include ng-if="!ctrl.consultation" src="\'typescript/fonctionnalites/emission-documents/emission-documents-footer.html\'"></ng-include>'),e.put("typescript/fonctionnalites/financement-synthese/formulaire-synthese.html",'\r\n<div class="col-md-12" ng-show="frmSyntheseCtrl.syntheseService.afficherBlocErreur === true">\r\n    <mw-synthese-erreurs id="mw-synthese-erreurs" ng-if="frmSyntheseCtrl.syntheseService.listeErreurs.length > 0">\r\n        <ul>\r\n            <li ng-repeat="erreur in frmSyntheseCtrl.syntheseService.listeErreurs track by $index" ng-attr-id="li-erreur-{{$index}}">\r\n                <strong ng-bind="erreur.libelle"></strong>\r\n                <span> : </span>\r\n                <span ng-bind="erreur.description"></span>\r\n            </li>\r\n        </ul>\r\n    </mw-synthese-erreurs>\r\n</div>\r\n\r\n<!--Plan de financement-->\r\n<mw-panel niveau="2" titre="Plan de financement" id="synthese-plan">\r\n    <div class="mw-form-static">\r\n        <div class="form-group">\r\n            <!--Coût du projet-->\r\n            <div class="col-lg-5 col-md-6">\r\n                <div class="form-group">\r\n                    <h3 class="col-sm-12">Coût du projet</h3>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-6 col-md-7 control-label">Coût de l\'objet</label>\r\n                    <div class="col-lg-6 col-md-5">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.donneesProjet.projet.coutTotalObjet | montant:2" aria-describedby="aide-cout-projet-total-op"></span>\r\n                            <span id="aide-cout-projet-total-op" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-6 col-md-7 control-label">Total des frais de dossier</label>\r\n                    <div class="col-lg-6 col-md-5">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.donneesSyntheseFrais.dossier | montant:2" aria-describedby="aide-cout-projet-frais-dossier"></span>\r\n                            <span id="aide-cout-projet-frais-dossier" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-6 col-md-7 control-label">Total des frais de garantie</label>\r\n                    <div class="col-lg-6 col-md-5">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.donneesSyntheseFrais.garanties | montant:2" aria-describedby="aide-cout-projet-frais-garantie"></span>\r\n                            <span id="aide-cout-projet-frais-garantie" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-6 col-md-7 control-label">Frais de courtage</label>\r\n                    <div class="col-lg-6 col-md-5">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.donneesSyntheseFrais.courtage | montant:2" aria-describedby="aide-cout-projet-frais-courtage"></span>\r\n                            <span id="aide-cout-projet-frais-courtage" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <br>\r\n                <div class="form-group">\r\n                    <label class="col-lg-6 col-md-7 control-label">Coût total de l\'opération</label>\r\n                    <div class="col-lg-6 col-md-5">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.coutTotalProjet | montant:2" aria-describedby="aide-cout-projet-total"></span>\r\n                            <span id="aide-cout-projet-total" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Fiancement -->\r\n            <div class="col-lg-6 col-md-6">\r\n                <div class="form-group">\r\n                    <h3>Financement</h3>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-7 col-md-8 control-label">Apport</label>\r\n                    <div class="col-lg-5 col-md-4">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.planFinancementSchema.montantApportPersonne | montant:2" aria-describedby="aide-plan-financement-apport"></span>\r\n                            <span id="aide-plan-financement-apport" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-7 col-md-8 control-label">Crédits hors établissement</label>\r\n                    <div class="col-lg-5 col-md-4">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.coutTotalCreditsExternes | montant:2" aria-describedby="aide-plan-financement-credits-hors"></span>\r\n                            <span id="aide-plan-financement-credits-hors" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-7 col-md-8 control-label">Crédits proposés par l\'établissement</label>\r\n                    <div class="col-lg-5 col-md-4">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.planFinancementSchema.montantTotalEmpruntPlan | montant:2" aria-describedby="aide-plan-financement-credits-etbl"></span>\r\n                            <span id="aide-plan-financement-credits-etbl" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <div class="col-sm-12 form-control-static">&nbsp;</div>\r\n                </div>\r\n                <br>\r\n                <div class="form-group">\r\n                    <label class="col-lg-7 col-md-8 control-label">Total</label>\r\n                    <div class="col-lg-5 col-md-4">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.coutTotalFinancement | montant:2" aria-describedby="aide-plan-financement-total"></span>\r\n                            <span id="aide-plan-financement-total" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="form-group" ng-show="frmSyntheseCtrl.syntheseService.etatAccordPrincipe === frmSyntheseCtrl.accordAApprondir\r\n            || frmSyntheseCtrl.syntheseService.etatAccordPrincipe === frmSyntheseCtrl.accordACompleter">\r\n            <div class="col-md-12">\r\n                <p>\r\n                    Un accord de principe ne peut être émis, consulter le détail de l’analyse\r\n                    pour obtenir la liste des corrections à effectuer :\r\n                    <a id="a-consulter-detail-analyse" href="javascript:void(0)" title="Consulter le détail de l’analyse" ng-click="frmSyntheseCtrl.consulterDetailAccordPrincipe()">\r\n                        consulter le détail de l’analyse\r\n                    </a>.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</mw-panel>\r\n\r\n<!--Détails des crédits de l\'établissement-->\r\n<mw-panel niveau="2" titre="Détails des crédits de l\'établissement" id="synthese-details-credits">\r\n    <tabset id="tabset-details-credits">\r\n        <tab heading="Graphique" id="details-credits-graphique" active="frmSyntheseCtrl.tabGraphiqueDefaut">\r\n            <div class="row">\r\n                <br>\r\n                <div class="col-md-12" ng-if="frmSyntheseCtrl.listePhases.length > 0">\r\n                    <graphique-credits aria-hidden="true" name-id="\'graphique-detail-credit\'" credits-internes="frmSyntheseCtrl.listeCreditsInterne" credits-externes="frmSyntheseCtrl.listeCreditsExterne" liste-phases="frmSyntheseCtrl.listePhases" symbole-devise="frmSyntheseCtrl.symboleDevise"></graphique-credits>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab heading="Tableau" id="details-credits-tableau" active="frmSyntheseCtrl.tabTableauDefaut">\r\n            <div class="form-group">\r\n                <h3 class="col-sm-12">Liste des crédits proposés par l\'établissement</h3>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-12">\r\n                    <table class="table">\r\n                        <caption class="hide-a11y">Liste des crédits dans l\'établissement</caption>\r\n                        <tbody class="selected">\r\n                            <tr>\r\n                                <td>Produit</td>\r\n                                <td class="text-right">Montant</td>\r\n                                <td class="text-right">Coût</td>\r\n                                <td class="text-right">TEG / TAEG</td>\r\n                                <td class="text-right">Taux</td>\r\n                                <td>Palier</td>\r\n                                <td class="">Mensualité</td>\r\n                                <td class="text-right">Durée</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <!-- ng-repeat -->\r\n                        <tbody ng-repeat="credit in frmSyntheseCtrl.creditsSyntheseFinancement track by $index">\r\n                            <tr class="active">\r\n                                <td><span ng-bind="credit.description"></span></td>\r\n                                <td class="text-right">\r\n                                    <span ng-bind="credit.montant | montant:2" aria-describedby="aide-detail-credit-montant"></span>\r\n                                    <span id="aide-detail-credit-montant" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                                </td>\r\n                                <td class="text-right">\r\n                                    <span ng-bind="credit.cout | montant:2" aria-describedby="aide-detail-credit-cout"></span>\r\n                                    <span id="aide-detail-credit-cout" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                                </td>\r\n                                <td class="text-right">\r\n                                    <span class="control-label" ng-bind="credit.modeRestitution.libelle"></span>\r\n                                    <span ng-bind="credit.teg | montant:2" aria-describedby="aide-detail-credit-teg"></span>\r\n                                    <span id="aide-detail-credit-teg">%</span>\r\n                                </td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                            </tr>\r\n                            <tr ng-repeat="phase in credit.phases track by $index">\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td class="text-right">\r\n                                    <span ng-bind="phase.taux | montant:2" aria-describedby="aide-detail-phase-taux"></span>\r\n                                    <span id="aide-detail-phase-taux">%</span>\r\n                                </td>\r\n                                <td><span ng-bind="phase.description" aria-describedby=""></span></td>\r\n                                <td class="text-right">\r\n                                    <span ng-bind="phase.mensualite | montant:2" aria-describedby="aide-detail-phase-mensualite"></span>\r\n                                    <span id="aide-modale-detail-financement-phase-mensualite" ng-bind="\'%%DEVISE%% dont\'| devise:2:\'\':credit.codeDevise"></span>\r\n                                    <span ng-bind="phase.assurance | montant:2" aria-describedby="aide-detail-phase-assurance"></span>\r\n                                    <span id="aide-detail-phase-assurance" ng-bind="\'%%DEVISE%% d\\\'assurance\'| devise:2:\'\':credit.codeDevise"></span>\r\n                                    <span ng-bind="frmSyntheseCtrl.getLibelleFirstMonth(credit)" aria-describedby="aide-detail-phase-1ere-mensualite"></span>\r\n                                </td>\r\n                                <td class="text-right">\r\n                                    <span ng-bind="phase.duree" aria-describedby="aide-detail-phase-duree"></span>\r\n                                    <span id="aide-detail-phase-duree">mois</span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n    </tabset>\r\n</mw-panel>\r\n\r\n<!--Coût du financement-->\r\n<mw-panel niveau="2" titre="Coût du financement" id="synthese-cout">\r\n    <div class="mw-form-static">\r\n        <div class="form-group">\r\n            <label class="col-lg-4 col-md-5 control-label">Total des intérets</label>\r\n            <div class="col-md-4">\r\n                <p class="form-control-static">\r\n                    <span ng-bind="frmSyntheseCtrl.donneesSyntheseFrais.interets | montant:2" aria-describedby="aide-cout-financement-total-interets"></span>\r\n                    <span id="aide-cout-financement-total-interets" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-4 col-md-5 control-label">Total des frais de garanties</label>\r\n            <div class="col-md-4">\r\n                <p class="form-control-static">\r\n                    <span ng-bind="frmSyntheseCtrl.donneesSyntheseFrais.garanties | montant:2" aria-describedby="aide-cout-financement-total-garanties"></span>\r\n                    <span id="aide-cout-financement-total-garanties" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-4 col-md-5 control-label">Total des frais d\'assurances</label>\r\n            <div class="col-md-4">\r\n                <p class="form-control-static">\r\n                    <span ng-bind="frmSyntheseCtrl.donneesSyntheseFrais.assurances | montant:2" aria-describedby="aide-cout-financement-total-assurances"></span>\r\n                    <span id="aide-cout-financement-total-assurances" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-4 col-md-5 control-label">Total des frais divers</label>\r\n            <div class="col-md-4">\r\n                <p class="form-control-static">\r\n                    <span ng-bind="frmSyntheseCtrl.donneesSyntheseFrais.dossier + frmSyntheseCtrl.donneesSyntheseFrais.courtage | montant:2" aria-describedby="aide-cout-financement-total-divers"></span>\r\n                    <span id="aide-cout-financement-total-divers" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <div class="form-group">\r\n            <label class="col-lg-4 col-md-5 control-label">Coût global des crédits établissements</label>\r\n            <div class="col-md-4">\r\n                <p class="form-control-static">\r\n                    <span ng-bind="frmSyntheseCtrl.coutGlobalCreditEtablissements | montant:2" aria-describedby="aide-cout-financement-cout-global"></span>\r\n                    <span id="aide-cout-financement-cout-global" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</mw-panel>\r\n\r\n<!--Synthèse financière-->\r\n<mw-panel niveau="2" titre="Synthèse financière après projet" id="synthese-financiere">\r\n    <tabset id="tabset-synthese-financiere">\r\n        <tab heading="Graphique" id="synthese-financiere-graphique" active="frmSyntheseCtrl.tabGraphiqueDefaut">\r\n            <synthese-financiere endettement="frmSyntheseCtrl.endettement"></synthese-financiere>\r\n        </tab>\r\n        <tab heading="Tableau" id="synthese-financiere-tableau" active="frmSyntheseCtrl.tabTableauDefaut">\r\n            <div class="mw-form-static">\r\n\r\n                <div class="form-group">\r\n                    <label class="col-md-4 control-label">Total mensualités dossier avec assurances</label>\r\n                    <div class="col-md-2">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.montantTotalPremiereEchance | montant:2" aria-describedby="aide-synthese-mensualites-dossier-assurances"></span>\r\n                            <span id="aide-synthese-mensualites-dossier-assurances" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                    <label class="col-md-3 control-label">Mensualité sans assurance</label>\r\n                    <div class="col-md-2">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="(frmSyntheseCtrl.montantTotalPremiereEchance) - (frmSyntheseCtrl.montantTotalPremiereEchanceAssurance) | montant:2" id="mensualite-sans-assurance" aria-describedby="aide-mensualite-sans-assurance"></span>\r\n                            <span id="aide-mensualite-sans-assurance" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                    <div class="form-group infobulle-picto-titre">\r\n                        <mw-infobulle-picto class="infobulle-synthese-financiere" data="frmSyntheseCtrl.infobulleMensuallites" id="info-mensu"></mw-infobulle-picto>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <mw-infobulle-message class="col-md-11" data="frmSyntheseCtrl.infobulleMensuallites" id="info-mensu-mess"></mw-infobulle-message>\r\n                </div>\r\n\r\n                <div class="form-group" ng-if="frmSyntheseCtrl.planFinancementSchema.aPL.montantAPL > 0">\r\n                    <label class="col-md-4 control-label">Total mensualités net si APL</label>\r\n                    <div class="col-md-2">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="(frmSyntheseCtrl.synthesePlanFinancement.montantMensualiteNet) - (frmSyntheseCtrl.planFinancementSchema.aPL.montantAPL)| montant:2" aria-describedby="aide-synthese-mensualites-net-apl"></span>\r\n                            <span id="aide-synthese-mensualites-net-apl" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                    <label class="col-md-3 control-label">APL future</label>\r\n                    <div class="col-md-3">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.planFinancementSchema.aPL.montantAPL| montant:2" id="synthese-apl" aria-describedby="aide-synthese-apl"></span>\r\n                            <span id="aide-synthese-apl" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-4 col-md-5 control-label">Charges conservées annuelles</label>\r\n                    <div class="col-md-7">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.endettement.montantChargesAvecAPL * 12 | montant:2" aria-describedby="aide-synthese-charges-annuelles"></span>\r\n                            <span id="aide-synthese-charges-annuelles" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                            <span>soit</span>\r\n                            <span ng-bind="frmSyntheseCtrl.endettement.montantChargesAvecAPL | montant:2" aria-describedby="aide-synthese-charges-mensuelles"></span>\r\n                            <span id="aide-synthese-charges-mensuelles" ng-bind="\'%%DEVISE%% mensuel\'| devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-4 col-md-5 control-label">Revenus annuels</label>\r\n                    <div class="col-md-7">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.endettement.montantRessourcesAvecAPL * 12 | montant:2" aria-describedby="aide-synthese-revenus-annuels"></span>\r\n                            <span id="aide-synthese-revenus-annuels" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                            <span>soit</span>\r\n                            <span ng-bind="frmSyntheseCtrl.endettement.montantRessourcesAvecAPL | montant:2" aria-describedby="aide-synthese-revenus-mensuel"></span>\r\n                            <span id="aide-synthese-revenus-mensuel" ng-bind="\'%%DEVISE%% mensuel\'| devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-4 col-md-5 control-label">Taux d’endettement (avec assurance)</label>\r\n                    <div class="col-md-4">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.endettement.tauxEndettementAvecAPL | montant:2" aria-describedby="aide-synthese-endettement-assurance"></span>\r\n                            <span id="aide-synthese-endettement-assurance">% des revenus</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-4 col-md-5 control-label">Reste à vivre</label>\r\n                    <div class="col-md-4">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.endettement.mntResteAVivreAvecAPL | montant:2" aria-describedby="aide-synthese-reste-a-vivre"></span>\r\n                            <span id="aide-synthese-reste-a-vivre" ng-bind="\'%%DEVISE%%\' | devise:2:\'\'"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-4 col-md-5 control-label">Taux LTV</label>\r\n                    <div class="col-md-4">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.planFinancementSchema.loanToValue | montant:2" aria-describedby="aide-synthese-taux-ltv"></span>\r\n                            <span id="aide-synthese-taux-ltv">%</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-4 col-md-5 control-label">Taux apport personnel</label>\r\n                    <div class="col-md-4">\r\n                        <p class="form-control-static">\r\n                            <span ng-bind="frmSyntheseCtrl.planFinancementSchema.tauxApportPersonnel | montant:2" aria-describedby="aide-synthese-taux-apport-personnel"></span>\r\n                            <span id="aide-synthese-taux-apport-personnel">%</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n    </tabset>\r\n</mw-panel>\r\n\r\n<!--Justification TEG-TAEG-->\r\n<mw-panel niveau="2" titre="Justification TEG-TAEG" id="synthese-justification">\r\n    <div class="form-group">\r\n        <label class="col-lg-3 col-md-4 control-label asterisque" for="select-credit-justification-teg">Choix du crédit</label>\r\n        <div class="col-lg-6 col-md-8">\r\n            <ui-select id="select-credit-justification-teg" required="true" name="select-credit-justification-teg" ng-model="frmSyntheseCtrl.creditInterneSelect">\r\n                <ui-select-match placeholder="Selectionner ou chercher ...">\r\n                    <span ng-bind="$select.selected.echeancesJustifieesAssociees.titreCredit"></span>\r\n                </ui-select-match>\r\n                <ui-select-choices repeat="credit in frmSyntheseCtrl.listeCreditsInterne | filter: $select.search">\r\n                    <span ng-bind="credit.echeancesJustifieesAssociees.titreCredit"></span>\r\n                </ui-select-choices>\r\n            </ui-select>\r\n        </div>\r\n    </div>\r\n    <div class="mw-form-static">\r\n        <div class="form-group">\r\n            <h3 class="col-sm-12">Intérêts</h3>\r\n            <div class="col-sm-12">\r\n                <ul>\r\n                    <li ng-repeat="messageInterets in frmSyntheseCtrl.creditInterneSelect.echeancesJustifieesAssociees.messagesInterets track by $index" ng-attr-id="li-message-interet-{{$index}}">\r\n                        <span ng-bind="messageInterets"></span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class="form-group">\r\n            <h3 class="col-sm-12">Frais</h3>\r\n            <div class="col-sm-12">\r\n                <ul>\r\n                    <li ng-repeat="typeFrais in frmSyntheseCtrl.creditInterneSelect.echeancesJustifieesAssociees.typesFrais track by $index" ng-attr-id="li-type-frais-{{$index}}">\r\n                        <h4><strong><span ng-bind="typeFrais.libelleFrais"></span></strong></h4>\r\n                        <ul>\r\n                            <li ng-repeat="messageFrais in typeFrais.messagesFrais track by $index" ng-attr-id="li-message-frais-{{$index}}">\r\n                                <span ng-bind="messageFrais"></span>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</mw-panel>'),
e.put("typescript/fonctionnalites/historique/evenements.html",'<mw-panel niveau="2" titre="Liste des événements" id="liste-evenements">\r\n    <div class="mw-form-static form-horizontal">\r\n        <div class="form-group">\r\n            <label class="col-md-5 col-sm-6 control-label">Intitulé de l\'emprunteur</label>\r\n            <p class="col-sm-6 form-control-static" ng-bind="::ctrl.dossierSchema.emprunteur.description"></p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-md-5 col-sm-6 control-label">Objet financé</label>\r\n            <p class="col-sm-6 form-control-static" ng-bind="::ctrl.dossierSchema.projet.description"></p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-md-5 col-sm-6 control-label">Coût du projet</label>\r\n            <p class="col-sm-6 form-control-static" ng-bind="::ctrl.dossierSchema.projet.coutTotalObjet | devise:2:\'\':ctrl.dossierSchema.codeDevise"></p>\r\n        </div>\r\n    </div>\r\n    <br>\r\n    <div class="form-group">\r\n        <mw-table options="ctrl.tableau" id="tableau-historique"></mw-table>\r\n    </div>\r\n</mw-panel>'),e.put("typescript/fonctionnalites/mrh/mrh.html",'<mw-panel niveau="2" titre="Devis" id="devis">\r\n    <!--Pas de devis existant-->\r\n    <div data-ng-show="!ctrl.isDevisExistant">\r\n        <div class="form-group">\r\n            <p class="col-sm-12">Aucun devis MRH n\'a été généré pour ce dossier.</p>\r\n        </div>\r\n        <div class="form-group">\r\n            <p class="col-sm-12">La génération d\'un devis MRH est obligatoire pour poursuivre le traitement de ce dossier.</p>\r\n        </div>\r\n    </div>\r\n    <!--Devis existant-->\r\n    <div data-ng-show="ctrl.isDevisExistant">\r\n        <div class="form-group">\r\n            <p class="col-sm-12">Connexion pour la constitution d\'un devis Multirisque Habitation effectuée le : <span class="bold" ng-bind="ctrl.dateDevis |date:\'dd/MM/yyyy\'"></span></p>\r\n        </div>\r\n    </div>\r\n</mw-panel>'),e.put("typescript/fonctionnalites/remise/remise.html",'\r\n <!-- Evolution affichage infos crédits-->\r\n<h4 class="panel-title">Les crédits concernés dans cette offre sont:</h4>\r\n<div class="modal-body">\r\n    <div class="form-group">\r\n        <div class="col-md-12">\r\n            <ul>\r\n                <li ng-repeat="creditConcerne in ctrl.listeCreditsInternes track by $index" ng-attr-id="li-credit-concerne-{{$index}}">\r\n                    <span ng-bind="creditConcerne.libelleLongProduit"></span>\r\n                    <span>,  montant </span><span ng-bind="creditConcerne.montantCapitalCredit" aria-describedby="montant-credit-interne"></span>\r\n                    <span id="montant-credit-interne" ng-bind="\'%%DEVISE%%\'| devise:2:\'\'"></span>\r\n                    <span>, numéro du crédit en gestion </span><span ng-bind="creditConcerne.idCreditGestion"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div></div>\r\n<!--Fin-->\r\n<div class="form-group mw-form-static">\r\n    <label class="col-lg-3 col-md-4 col-sm-6 control-label">Date d\'édition de l\'offre</label>\r\n    <p class="col-md-6 form-control-static" ng-bind="::ctrl.dossierComplet.dateEditionOffre | date:\'dd/MM/yyyy\'"></p>\r\n</div>\r\n\r\n<!-- Consultation des infos -->\r\n<div ng-show="ctrl.showInfosRemise">\r\n    <div class="form-group mw-form-static">\r\n        <label class="col-lg-3 col-md-4 col-sm-6 control-label">Date de réception par l’emprunteur</label>\r\n        <p class="col-md-6 form-control-static" ng-bind="::ctrl.dossierComplet.dateRecuperationOffreParClient | dateNotZero:\'Non remis\' | date:\'dd/MM/yyyy\'"></p>\r\n    </div>\r\n    <div class="form-group mw-form-static">\r\n        <label class="col-lg-3 col-md-4 col-sm-6 control-label">Date de fin de validité de l\'offre</label>\r\n        <p class="col-md-6 form-control-static" ng-bind="::ctrl.dossierComplet.dateFinValiditeOffre | dateNotZero:\'Non remis\' | date:\'dd/MM/yyyy\'"></p>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/signature/signature.html",'\r\n<!-- Evolution affichage infos crédits-->\r\n<h4 class="panel-title">Les crédits concernés dans cette offre sont:</h4>\r\n<div class="modal-body">\r\n    <div class="form-group">\r\n        <div class="col-md-12">\r\n            <ul>\r\n                <li ng-repeat="creditConcerne in ctrl.listeCreditsInternes track by $index" ng-attr-id="li-credit-concerne-{{$index}}">\r\n                    <span ng-bind="creditConcerne.libelleLongProduit"></span>\r\n                    <span>,  montant </span><span ng-bind="creditConcerne.montantCapitalCredit" aria-describedby="montant-credit-interne"></span>\r\n                    <span id="montant-credit-interne" ng-bind="\'%%DEVISE%%\'| devise:2:\'\'"></span>\r\n                    <span>, numéro du crédit en gestion </span><span ng-bind="creditConcerne.idCreditGestion"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div></div>\r\n<!--Fin-->\r\n\r\n<div class="form-group mw-form-static" ng-show="ctrl.showDateMinimumAccpOffre">\r\n    <label class="col-lg-3 col-md-4 col-sm-4 control-label">Date minimum d\'acceptation</label>\r\n    <p class="col-sm-3 form-control-static" ng-bind="ctrl.dossierComplet.dateMinimumAccpOffreLoiImmobilier | dateNotZero | date:\'dd/MM/yyyy\'"></p>\r\n</div>\r\n<div class="form-group mw-form-static">\r\n    <div ng-hide="ctrl.numeroOffreEditable">\r\n        <label class="col-lg-3 col-md-4 col-sm-4 control-label">Numéro de l\'offre</label>\r\n        <p class="col-sm-3 form-control-static" ng-bind="ctrl.numeroOffre"></p>\r\n    </div>\r\n    <div ng-if="ctrl.numeroOffreEditable">\r\n        <label class="col-lg-3 col-md-4 col-sm-4 control-label" for="numero-offre">Numéro de l\'offre</label>\r\n        <div class="col-lg-1 col-md-2 col-sm-3" ng-class="{\'has-error\':formSignatureOffre[\'numero-offre\'].$invalid}">\r\n            <input type="text" class="form-control" id="numero-offre" name="numero-offre" mw-montant="0" required maxlength="2" ng-model="ctrl.numeroOffre">\r\n        </div>\r\n    </div>\r\n</div>\r\n<br>\r\n\r\n<div class="form-group" ng-if="ctrl.donnesInit">\r\n    <div class="col-md-12">\r\n        <signature-tableau-intervenants dossier-complet="ctrl.dossierComplet" liste-intervenants="ctrl.listeIntervenants" consultation="ctrl.consultation" date-traitement="ctrl.dateTraitement">\r\n        </signature-tableau-intervenants>\r\n    </div>\r\n</div>\r\n\r\n<div class="form-group mw-form-static" ng-show="ctrl.isOffreConclue">\r\n    <label class="col-lg-3 col-md-4 col-sm-4 control-label">Dossier entré en gestion le</label>\r\n    <p class="col-sm-3 form-control-static" ng-bind="ctrl.dossierComplet.dateSigneEmprunt | date:\'dd/MM/yyyy\'"></p>\r\n</div>\r\n\r\n<signature-validation-mandats liste-mandats="ctrl.listeMandats" consultation="ctrl.consultation" liste-intervenants="ctrl.listeIntervenants" dossier-complet="ctrl.dossierComplet"></signature-validation-mandats>'),e.put("typescript/fonctionnalites/bonification/detail-convention/detail-convention.html",'<mw-panel niveau="2" titre="Informations générales" id="infos-generales">\r\n    <div class="mw-form-static">\r\n        <div class="form-group">\r\n            <label class="col-lg-3 col-md-5 col-sm-6 control-label">Crédit</label>\r\n            <p class="col-sm-6 form-control-static" ng-bind="::ctrl.creditInterne.libelleLongProduit"></p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-3 col-md-5 col-sm-6 control-label">Taux</label>\r\n            <p class="col-sm-6 form-control-static">\r\n                <span ng-bind="::ctrl.tauxCreditInterne | montant:2"></span>\r\n                <span>%</span>\r\n            </p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-3 col-md-5 col-sm-6 control-label">Durée</label>\r\n            <p class="col-sm-6 form-control-static">\r\n                <span ng-bind="::ctrl.creditInterne.nombrePeriodeCredit"></span>\r\n                <span>mois</span>\r\n            </p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-3 col-md-5 col-sm-6 control-label">Montant</label>\r\n            <p class="col-sm-6 form-control-static">\r\n                <span ng-bind="::ctrl.creditInterne.montantCapitalCredit | montant:2"></span>\r\n                <span ng-bind="::\'%%DEVISE%%\' | devise:2:\'\':ctrl.creditInterne.codeDevise"></span>\r\n            </p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-3 col-md-5 col-sm-6 control-label">N° de la convention</label>\r\n            <p class="col-sm-6 form-control-static" ng-bind="::ctrl.conventionBonification.idConvention"></p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-3 col-md-5 col-sm-6 control-label">Nom de la convention</label>\r\n            <p class="col-sm-6 form-control-static" ng-bind="::ctrl.conventionBonification.libelleLongConvention"></p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-3 col-md-5 col-sm-6 control-label">Identifiant Tiers</label>\r\n            <p class="col-sm-6 form-control-static" ng-bind="::ctrl.conventionBonification.idIntervenant"></p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-3 col-md-5 col-sm-6 control-label">Nom</label>\r\n            <p class="col-sm-6 form-control-static" ng-bind="::ctrl.nomTiers"></p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-3 col-md-5 col-sm-6 control-label">Type</label>\r\n            <p class="col-sm-6 form-control-static" ng-bind="::ctrl.conventionBonification.libelleTypePartenaire"></p>\r\n        </div>\r\n    </div>\r\n</mw-panel>\r\n\r\n<mw-panel niveau="2" titre="Règles d’éligibilité de la convention" id="regles-eligibilite">\r\n    <div class="form-group">\r\n        <mw-table options="ctrl.tableauEligibilite" id="tableau-regles-eligibilite"></mw-table>\r\n    </div>\r\n</mw-panel>      '),e.put("typescript/fonctionnalites/bonification/modale-detail-calcul/modale-detail-calcul.html",'<form class="form-horizontal" name="form-financement-mod-bonification">\r\n    <div class="modal-header">\r\n        <button id="btn-mod-bonification-close" type="button" ng-click="ctrl.close()" class="close" aria-hidden="true">\r\n            <span class="icon itce-times" aria-hidden="true"></span>\r\n        </button>\r\n        <h1 class="modal-title">Consulter le détail du calcul de la bonification</h1>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div ng-show="::ctrl.creditBonification.creditBonification">\r\n            <div class="form-group">\r\n                <div class="col-md-2">\r\n                    <span aria-hidden="true" class="icon itce-times-circle fontsize25"></span>\r\n                </div>\r\n                <p class="col-md-9">\r\n                    Les différents montants de la bonification n\'ont pas pu être calculés suite à un soucis de paramètrage de la convention.\r\n                </p>           \r\n            </div>\r\n        </div>\r\n        <div ng-if="::!ctrl.creditBonification.erreurCalculBonification">\r\n            <row label-class="col-sm-8" ng-label="Montant bonification totale" ng-content="::ctrl.creditBonification.montantTotal | devise:2:\'\'" content-class="col-sm-4">\r\n            </row>\r\n            <row label-class="col-sm-8" ng-label="Montant bonification pris en charge par le partenaire" ng-content="::ctrl.creditBonification.montantPartenaire | devise:2:\'\'" content-class="col-sm-4">\r\n            </row>\r\n            <row label-class="col-sm-8" ng-label="Montant bonification pris en charge par l\'établissement" ng-content="::ctrl.creditBonification.montantEtablissement | devise:2:\'\'" content-class="col-sm-4">\r\n            </row>\r\n        </div>        \r\n    </div>\r\n    <div class="modal-footer">\r\n        <div class="col-lg-offset-9 col-lg-3 col-md-offset-8 col-md-4 col-sm-offset-6 col-sm-6">\r\n            <button id="btn-mod-bonification-fermer" type="button" class="btn btn-primary" ng-click="ctrl.close()" aria-label="Fermer">Fermer</button>\r\n        </div>\r\n    </div>\r\n</form>'),e.put("typescript/fonctionnalites/commun/input-date/input-date.html",'<div ng-if="ctrl.modeConsultation">\r\n    <p class="form-control-static" ng-class="::ctrl.dateClass" ng-bind="ctrl.libelleDate | date:\'dd/MM/yyyy\'"></p>\r\n</div>\r\n<div ng-if="!ctrl.modeConsultation">\r\n    <ng-form role="form" name="formDate">\r\n        <div ng-class="{\'has-error\':formDate[ctrl.baseId].$invalid}">\r\n            <div class="has-feedback" ng-class="::ctrl.dateClass">\r\n                <input type="text" class="form-control" ng-attr-id="{{::ctrl.baseId}}" ng-attr-name="{{::ctrl.baseId}}" placeholder="jj/mm/aaaa" ng-model="ctrl.libelleDate" mw-date-legere has-string-model uib-datepicker-popup="dd/MM/yyyy" datepicker-options="{ showWeeks: false, startingDay:1 }" is-open="ctrl.openDate" ng-required="::ctrl.required">\r\n                <span class="btn btn-success form-control-feedback" ng-click="ctrl.openDate = true">\r\n                    <mw-button-icone texte="Calendrier" taille="sm" icone="icone itce-calendar icodate" ng-attr-id="{{::\'btn-\' + ctrl.baseId}}"></mw-button-icone>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </ng-form>\r\n</div>'),e.put("typescript/fonctionnalites/commun/progress-bar/progress-bar.html",'<div class="traitement-long-progressbar">\r\n	<div class="progress" id="progress-bar" ng-class="{animate: etat == -1}">\r\n		<div ng-if="etat > -1" class="progress-bar" role="progressbar" aria-valuetext="Chargement en cours" aria-valuenow="{{getPourcentage()}}" aria-valuemin="0" aria-valuemax="100" ng-style="{width: getPourcentage() + \'%\'}">\r\n			<span class="hide-a11y">Chargement en cours</span>\r\n		</div>\r\n	</div>\r\n	<div ng-switch="etat" class="etat-chargement">\r\n		<div ng-switch-when="-1">Chargement en cours</div>\r\n		<div ng-switch-default>{{getPourcentage() | number:0}}%</div>\r\n	</div>\r\n</div>'),e.put("typescript/fonctionnalites/commun/row-anomalie-popin/row-anomalie-popin.html",'<div class="row">\r\n    <div class="col-md-2">\r\n        <span ng-bind="::anomalie.idAno"></span>\r\n    </div>\r\n    <div class="col-md-10">\r\n        <span ng-bind="::anomalie.libelleAno"></span>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/commun/row-date/row-date.html",'<div ng-if="::!ctrl.cacherDate">\r\n    <div ng-class="{\'mw-form-static\':ctrl.modeConsultation}">\r\n        <label class="control-label" ng-class="::ctrl.labelClass" ng-attr-for="{{::ctrl.baseId}}" ng-bind="::ctrl.label"></label>\r\n        <ic-input-date ng-base-id="{{::ctrl.baseId}}" date="ctrl.date" mode-consultation="ctrl.modeConsultation" date-class="::ctrl.dateClass">\r\n        </ic-input-date>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/commun/texte-long/texte-long.html",'<div class="form-group">\r\n    <div class="col-sm-12" ng-class="{\'texte-long-tronque\' : !ctrl.afficherTexteComplet}">\r\n        <p class="bloc-texte" ng-bind-html="ctrl.texteFormate"></p>\r\n    </div>\r\n</div>\r\n<div class="form-group" ng-show="ctrl.texteTropLong">    \r\n    <div class="col-sm-6">\r\n        <p class="form-control-static">\r\n            <a id="id-a-voir" href="javascript:void(0)" ng-click="ctrl.gererAffichageTexteComplet()">\r\n                <span ng-bind="ctrl.texteAction"></span>\r\n            </a>\r\n        </p>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/conformite-dossier/liste-avis/liste-avis.html",'<div ng-hide="ctrl.presenceAvis">\r\n    <span>Aucun avis sur conformité pour ce dossier.</span>\r\n</div>\r\n<div ng-show="ctrl.presenceAvis">\r\n    <ul class="list-unstyled">\r\n        <li ng-repeat="avis in ctrl.listeAvis track by $index" ng-attr-id="\'li-avis-conformite-\' + $index">\r\n            <div class="form-group">\r\n                <div class="col-md-12">\r\n                    <div class="mw-bloc-contenu mw-form-static">\r\n                        <div class="form-group">\r\n                            <div class="col-sm-12">\r\n                                <p class="form-control-static">\r\n                                    <span ng-show="$first">Dernier avis de</span>\r\n                                    <span data-ng-bind="avis.libelleEntiteSaisieAvis"></span>, le\r\n                                    <span data-ng-bind="avis.dateSaisieAvis | date:\'dd/MM/yyyy\'"></span> à\r\n                                    <span data-ng-bind="avis.dateSaisieAvis | date:\'HH:mm\'"></span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <ic-texte-long texte="avis.libelleAvis"></ic-texte-long>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</div>'),e.put("typescript/fonctionnalites/context-edition/modale/contexte-edition-detail.html",'<div class="detail-tr col-md-12">\r\n    <ul>\r\n        <li ng-repeat="ano in mwTableRow.listeAnomalies track by $index">\r\n            <span ng-bind="ano"></span>\r\n        </li>\r\n    </ul>\r\n</div>'),e.put("typescript/fonctionnalites/context-edition/modale/modale-contexte-edition.html",'<div class="modal-header">\r\n    <button type="button" ng-click="ctrl.fermer()" id="close" class="close">\r\n        <span class="icon itce-times" aria-hidden="true"></span>\r\n        <span class="adobe-blank">Fermer la modale</span>\r\n    </button>\r\n    <h1 class="modal-title">Contexte d\'édition et de signature des documents</h1>\r\n</div>\r\n<div class="modal-body texte-gros row" mw-chargement="ctrl.loading">\r\n    <form class="form-horizontal" name="form" role="form" novalidate>\r\n        <mw-table options="ctrl.tableauParams" id="tableau-complexe"></mw-table>\r\n        <script type="text/ng-template" id="context-edition-template-agence-papier">\r\n            <span aria-hidden="true" class="icon itce-ban ctx-edition-ban"\r\n                  ng-hide="mwTableRow.contexteEdition.editionAgencePapier.actif && mwTableRow.contexteEdition.editionAgencePapier.eligible || mwTableRow.contexteEdition.editionAgencePapier.nonConcerne"></span>\r\n            <span aria-hidden="true" class="icon itce-check-circle ctx-edition-ok"\r\n                  ng-show="mwTableRow.contexteEdition.editionAgencePapier.actif && mwTableRow.contexteEdition.editionAgencePapier.eligible && !mwTableRow.contexteEdition.editionAgencePapier.nonConcerne"></span>\r\n            <span aria-hidden="true"\r\n                  ng-show="mwTableRow.contexteEdition.editionAgencePapier.nonConcerne">NC</span>\r\n        </script>\r\n        <script type="text/ng-template" id="context-edition-template-back-office">\r\n            <span aria-hidden="true" class="icon itce-ban ctx-edition-ban"\r\n                  ng-hide="mwTableRow.contexteEdition.editionBackOffice.actif && mwTableRow.contexteEdition.editionBackOffice.eligible || mwTableRow.contexteEdition.editionBackOffice.nonConcerne"></span>\r\n            <span aria-hidden="true" class="icon itce-check-circle ctx-edition-ok"\r\n                  ng-show="mwTableRow.contexteEdition.editionBackOffice.actif && mwTableRow.contexteEdition.editionBackOffice.eligible && !mwTableRow.contexteEdition.editionBackOffice.nonConcerne"></span>\r\n            <span aria-hidden="true"\r\n                  ng-show="mwTableRow.contexteEdition.editionBackOffice.nonConcerne">NC</span>\r\n        </script>\r\n        <script type="text/ng-template" id="context-edition-template-signature-agence">\r\n            <span aria-hidden="true" class="icon itce-ban ctx-edition-ban"\r\n                  ng-hide="mwTableRow.contexteEdition.electroniqueAgence.actif && mwTableRow.contexteEdition.electroniqueAgence.eligible ||mwTableRow.contexteEdition.electroniqueAgence.nonConcerne"></span>\r\n            <span aria-hidden="true" class="icon itce-check-circle ctx-edition-ok"\r\n                  ng-show="mwTableRow.contexteEdition.electroniqueAgence.actif && mwTableRow.contexteEdition.electroniqueAgence.eligible && !mwTableRow.contexteEdition.electroniqueAgence.nonConcerne"></span>\r\n            <span aria-hidden="true"\r\n                  ng-show="mwTableRow.contexteEdition.electroniqueAgence.nonConcerne">NC</span>\r\n        </script>\r\n        <script type="text/ng-template" id="context-edition-template-signature-electronique">\r\n            <span aria-hidden="true" class="icon itce-ban ctx-edition-ban"\r\n                  ng-hide="mwTableRow.contexteEdition.electronique.actif && mwTableRow.contexteEdition.electronique.eligible || mwTableRow.contexteEdition.electronique.nonConcerne"></span>\r\n            <span aria-hidden="true" class="icon itce-check-circle ctx-edition-ok"\r\n                  ng-show="mwTableRow.contexteEdition.electronique.actif && mwTableRow.contexteEdition.electronique.eligible && !mwTableRow.contexteEdition.electronique.nonConcerne"></span>\r\n            <span aria-hidden="true"\r\n                  ng-show="mwTableRow.contexteEdition.electronique.nonConcerne">NC</span>\r\n        </script>\r\n    </form>\r\n</div>\r\n<div class="modal-footer">\r\n    <div class="col-md-offset-9 col-md-3">\r\n        <button type="button" class="btn btn-primary" id="valider" ng-click="ctrl.fermer()">Fermer</button>\r\n    </div>\r\n</div>\r\n'),e.put("typescript/fonctionnalites/edition/modale-transfert/modale-transfert.html",'<form class="form-horizontal" role="form" name="formPopinSignatureTransfert">\r\n    <div class="modal-header">\r\n        <button type="button" id="btn-close" class="close" aria-hidden="true" ng-click="ctrl.close()">\r\n            <span class="icon itce-times"></span>\r\n        </button>\r\n        <h1 class="modal-title" ng-bind="::ctrl.titre"></h1>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div class="form-group mw-form-static">\r\n            <label class="col-lg-3 col-md-5 col-sm-7 control-label">Type de délégataire</label>\r\n            <p class="col-sm-5 form-control-static">Agent</p>\r\n        </div>\r\n        <div class="form-group">\r\n            <label class="col-lg-3 col-md-5 col-sm-7 control-label asterisque" for="recherche-agent-transfert">Agent</label>\r\n            <div class="col-lg-9 col-md-7" ng-class="{\'has-error\':ctrl.erreurAgent}">\r\n                <mwsf-saisie-agent id="recherche-agent-transfert" ng-model="ctrl.agentSelectionne" disable="false" placeholder="Saisir un nom" recherche-matricule="true" required="false" max-reponses="100" agent-non-nominatif="N" code-action="1">\r\n                </mwsf-saisie-agent>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <div class="col-md-offset-6 col-md-3">\r\n            <button type="button" class="btn btn-block btn-default" id="btn-annuler" ng-click="ctrl.close()">\r\n                Annuler\r\n            </button>\r\n        </div>\r\n        <div class="col-md-3">\r\n            <button type="button" class="btn btn-block btn-primary" id="btn-action-principale" ng-click="ctrl.transferer()" ng-disabled="!ctrl.isAgentValide">\r\n                Transférer\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>'),e.put("typescript/fonctionnalites/emission-documents/fiche-refus-assurance-externe/fiche-refus-assurance-externe.html",'<div class="form-group">\r\n    <h5 class="col-md-12" ng-bind="\'Courriers liés à \' + ctrl.courrierLies"></h5> \r\n</div>\r\n<div class="form-group">\r\n    <mw-table options="ctrl.tableauDocuments" ng-attr-id="tableau-documents-refus-assurance-{{ctrl.index}}"></mw-table>\r\n</div>\r\n'),e.put("typescript/fonctionnalites/emission-documents/fiche-suiveuse/fiche-suiveuse.html",'<mw-panel niveau="2" titre="Fiche suiveuse" id="documents-fiche-suiveuse">\r\n    <div class="form-group">\r\n        <label class="col-md-12">Documents à éditer</label>\r\n    </div>\r\n    <div class="form-group">\r\n        <mw-table options="ctrl.tableauDocuments" id="tableau-documents-fiche-suiveuse"></mw-table>\r\n    </div>\r\n</mw-panel>'),e.put("typescript/fonctionnalites/emission-docs/assurance-externe/assurance-externe.html",'<mw-panel niveau="2" titre="Refus assurance externe" id="refus-assurance-externe">\r\n    <div ng-hide="ctrl.isPresenceDocument" class="form-group">\r\n        <p class="">Pas de documents à éditer</p>\r\n    </div>\r\n    <div ng-if="ctrl.isPresenceDocument">\r\n        <div class="form-group">\r\n            <label class="col-md-12">Documents à éditer</label>\r\n        </div>\r\n        <div ng-repeat="dataPersonne in ctrl.listeAssuranceExterneByPersonne track by $index">\r\n            <ic-emission-docs-assr-ext-tableau datas-personne="dataPersonne" index="{{$index}}">\r\n            </ic-emission-docs-assr-ext-tableau>\r\n        </div>\r\n    </div>\r\n</mw-panel>'),e.put("typescript/fonctionnalites/emission-docs/btn-imprimer/btn-imprimer.html",'<mw-button id="imprimer" modele="principale" texte="Imprimer" ng-click="ctrl.imprimerDocuments()" ng-disabled="!ctrl.impressionAutorisee">\r\n</mw-button>'),e.put("typescript/fonctionnalites/emission-docs/documents-clients/docs-clients.html",'<mw-panel niveau="2" titre="Documents Clients" id="documents-client">\r\n    <div class="form-group">\r\n        <label class="col-md-12" ng-bind="::ctrl.libellePhraseTableauPropositions"></label>\r\n    </div>\r\n    <div class="form-group">\r\n        <mw-table caption="Liste des propositions" options="ctrl.tableauPropositions" id="tableau-propositions"></mw-table>\r\n    </div>\r\n    <div ng-if="ctrl.afficherTableauDocuments">\r\n        <div class="form-group">\r\n            <label class="col-md-12">Documents à éditer </label>\r\n        </div>\r\n        <ic-edition-tableau-documents id="emission-docs-edition-tableau-documents" nb-elements="10" liste-docs="ctrl.dataClients.listeDocuments" liste-docs-selected="ctrl.dataClients.listeDocumentsSelected" liste-docs-disabled="ctrl.dataClients.listeDocumentsDisabled">\r\n        </ic-edition-tableau-documents>\r\n    </div>\r\n</mw-panel>'),e.put("typescript/fonctionnalites/emission-docs/fiche-suiveuse/fiche-suiveuse.html",'<div ng-if="::ctrl.dataFicheSuiveuse.afficherFicheSuiveuse">\r\n    <mw-panel niveau="2" titre="Fiche suiveuse" id="documents-fiche-suiveuse">\r\n        <div class="form-group">\r\n            <label class="col-md-12">Documents à éditer</label>\r\n        </div>\r\n        <div class="form-group">\r\n            <mw-table options="ctrl.tableauDocuments" id="tableau-documents-fiche-suiveuse"></mw-table>\r\n        </div>\r\n    </mw-panel>\r\n</div>'),e.put("typescript/fonctionnalites/financement-synthese/graphique-credits/graphique-credits.html",'<div ng-attr-id="{{::ctrl.nameId}}" ng-attr-name="{{::ctrl.nameId}}"></div>'),e.put("typescript/fonctionnalites/pieco/controles/controles.html",'<mw-panel niveau="2" titre="Contrôles" id="controles" ng-if="::ctrl.comportementPieco.afficherSections">\r\n    <div class="form-group mw-form-static">\r\n        <label class="col-lg-2 col-md-3 col-sm-6 control-label">Traitement en cours</label>\r\n        <p class="col-sm-6 form-control-static">\r\n            <span ng-bind="::ctrl.comportementPieco.typeInstruction"></span>\r\n        </p>\r\n    </div>\r\n    <br>\r\n    <div class="col-sm-12" ng-if="::ctrl.isAutoriserMajTout">\r\n        <fieldset class="row mw-radio-group" ng-disabled="ctrl.disabledIsAutoriserMajTout">\r\n            <legend class="col-lg-4 col-md-6 col-sm-7 control-label">\r\n                Mettre le statut de tous les controles à\r\n            </legend>\r\n            <ul class="col-lg-5 col-md-6 col-sm-5 list-inline">\r\n                <li class="mw-radio-btn" id="li-tous-controle-oui">\r\n                    <input type="radio" id="tous-controle-oui" name="controle-toutes-pieces" ng-value="true" ng-model="ctrl.tousControlesConformes" ng-click="ctrl.majTousControles()">\r\n                    <label for="tous-controle-oui">\r\n                        <span>OK</span>\r\n                    </label>\r\n                </li>\r\n                <li class="mw-radio-btn" id="li-tous-controle-non">\r\n                    <input type="radio" id="tous-controle-non" name="controle-toutes-pieces" ng-value="false" ng-model="ctrl.tousControlesConformes" ng-click="ctrl.majTousControles()">\r\n                    <label for="tous-controle-non">\r\n                        <span>KO</span>\r\n                    </label>\r\n                </li>\r\n            </ul>\r\n        </fieldset>\r\n    </div>\r\n    <!-- Tableau controle -->\r\n    <div class="form-group">\r\n        <table class="table table-interactive table-divise pieco-table-liste-controles" id="pieco-table-liste-controles">\r\n            <caption class="hide-a11y">Contrôles</caption>\r\n            <thead>\r\n                <tr>\r\n                    <th class="col-md-4 min-width un-bouton">\r\n                        <span class="title">\r\n                            Contrôles à effectuer\r\n                        </span>\r\n                    </th>\r\n                    <th class="col-md-2 min-width un-bouton">\r\n                        <span class="title">A traiter avant</span>\r\n                        <button type="button" class="btn btn-icon btn-filtre" ng-class="{\'actif\' : ctrl.filtreTraiterAvantActif}" ng-click="ctrl.activerFiltreTraiterAvant()" id="btn-filtrer-traitement">\r\n                            <span class="icon itce-filter" aria-hidden="true" title="Filter"></span>\r\n                            <span class="hide-a11y">Filtrer sur : traitement</span>\r\n                        </button>\r\n                    </th>\r\n                    <th class="col-md-1 min-width un-bouton">\r\n                        <span class="title">Ancien état Agence</span>\r\n                    </th>\r\n                    <th class="col-md-1 min-width un-bouton">\r\n                        <span class="title">Ancien état BO / Contrôleur</span>\r\n                    </th>\r\n                    <th class="col-md-2 min-width un-bouton">\r\n                        <span class="title">\r\n                            Etat\r\n                        </span>\r\n                        <button type="button" class="btn btn-icon btn-filtre" ng-class="{\'actif\' : ctrl.filtreStatutControleActif}" ng-click="ctrl.activerFiltreEtat()" id="btn-filtrer-statut">\r\n                            <span class="icon itce-filter" aria-hidden="true" title="Filter"></span>\r\n                            <span class="hide-a11y">Filtrer sur : statut</span>\r\n                        </button>\r\n                    </th>\r\n                    <th class="col-md-2 min-width un-bouton">\r\n                        <span class="title">\r\n                            Avis\r\n                        </span>\r\n                    </th>\r\n                </tr>\r\n                <!-- Filtres -->\r\n                <tr class="mw-table-filter" ng-show="ctrl.filtreTraiterAvantActif || ctrl.filtreStatutControleActif">\r\n                    <td></td>\r\n                    <td>\r\n                        <div class="col-sm-12" ng-show="ctrl.filtreTraiterAvantActif">\r\n                            <input id="filtre-traiter-avant" name="filtre-traiter-avant" type="text" class="form-control" ng-model="ctrl.controleTraiterAvantSelect" placeholder="" mw-combobox="controle as controle.libelle for controle in ctrl.listeControleTraiterAvant" mw-combobox-on-select="ctrl.filter()">\r\n                        </div>\r\n                    </td>\r\n                    <td></td>\r\n                    <td>\r\n                        <div class="col-sm-12" ng-show="ctrl.filtreStatutControleActif">\r\n                            <input id="filtre-statut" name="filtre-statut" type="text" class="form-control" ng-model="ctrl.statutControleSelect" placeholder="" mw-combobox="statut as statut.libelle for statut in ctrl.listeStatutsControle" mw-combobox-on-select="ctrl.filter()">\r\n                        </div>\r\n                    </td>\r\n                    <td></td>\r\n                </tr>\r\n            </thead>\r\n            <tbody ng-show="ctrl.listeControle.length === 0">\r\n                <!-- Pas de contenu -->\r\n                <tr class="mw-table-ligne-vide">\r\n                    <td colspan="4">\r\n                        <span>Aucun élément</span>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n            <!-- Contenu -->\r\n            <tbody ng-repeat="controle in ctrl.listeControle track by $index">\r\n                <!-- Sous-titre des controle qui permet un regroupement -->\r\n                <tr ng-if="controle.estLigneSousTitre" class="ligne-sous-titre">\r\n                    <td colspan="6">\r\n                        <span ng-bind="controle.libelle"></span>\r\n                    </td>\r\n                </tr>\r\n                <!-- liste controle -->\r\n                <tr ng-if="!controle.estLigneSousTitre" ng-class="{\'no-bottom-border\': !controle.estLigneSousTitre && (controle.ancienAvisAgence || controle.ancienAvisBoOuConformite)}">\r\n                    <td><span ng-bind="controle.libelle"></span></td>\r\n                    <td><span ng-bind="controle.libelleFinalite"></span> </td>\r\n                    <td><span data-ng-class="ctrl.getClassAncienEtat(controle.ancienStatutAgence)" ng-bind="controle.ancienStatutAgence"></span></td>\r\n                    <td><span data-ng-class="ctrl.getClassAncienEtat(controle.ancienStatutBoOuConformite)" ng-bind="controle.ancienStatutBoOuConformite"></span></td>\r\n                    <td>\r\n                        <div ng-show="::ctrl.readonly">\r\n                            <span ng-bind="::controle.libelleStatut"></span>\r\n                        </div>\r\n                        <div ng-if="::!ctrl.readonly">\r\n                            <fieldset class="row mw-radio-group custom-radio-group-controle">\r\n                                <ul class="col-sm-12 list-inline">\r\n                                    <li class="mw-radio-btn" id="li-ok">\r\n                                        <input type="radio" ng-attr-id="{{::\'controle-oui-\' + $index}}" ng-attr-name="{{::\'controle-\' + $index}}" ng-value="ctrl.codeR" ng-model="controle.stttPieceControle">\r\n                                        <label ng-attr-for="{{::\'controle-oui-\' + $index}}">\r\n                                            <span>OK</span>\r\n                                        </label>\r\n                                    </li>\r\n                                    <li class="mw-radio-btn" id="li-ko">\r\n                                        <input type="radio" ng-attr-id="{{::\'controle-non-\' + $index}}" ng-attr-name="{{::\'controle-\' + $index}}" ng-value="ctrl.codeA" ng-model="controle.stttPieceControle">\r\n                                        <label ng-attr-for="{{::\'controle-non-\' + $index}}">\r\n                                            <span>KO</span>\r\n                                        </label>\r\n                                    </li>\r\n                                    <li class="mw-radio-btn" id="li-nc">\r\n                                        <input type="radio" ng-attr-id="{{::\'controle-sans-\' + $index}}" ng-attr-name="{{::\'controle-\' + $index}}" ng-value="ctrl.codeN" ng-model="controle.stttPieceControle">\r\n                                        <label ng-attr-for="{{::\'controle-sans-\' + $index}}">\r\n                                            <span>N.C</span>\r\n                                        </label>\r\n                                    </li>\r\n                                </ul>\r\n                            </fieldset>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <div ng-if="::ctrl.readonly">\r\n                            <span ng-bind="::controle.commentaire"></span>\r\n                        </div>\r\n                        <div ng-if="::!ctrl.readonly">\r\n                            <textarea ng-attr-id="{{\'controle-commentaire-\' + $index}}" ng-attr-name="{{\'controle-commentaire-\' + $index}}" mw-textarea-autoheight aria-required="true" ng-model="controle.commentaire" class="form-control" placeholder="Saisir un avis" rows="4" maxlength="250"></textarea>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr ng-if="!controle.estLigneSousTitre && (controle.ancienAvisAgence || controle.ancienAvisBoOuConformite)" class="no-bottom-border">\r\n                    <td colspan="6">\r\n                        <mw-hretractable class="anciens-avis-controle" ng-attr-id="{{\'anciens-avis-controle-\' + $index}}">\r\n                            <mw-hretractable-titre ng-attr-id="{{\'titre-anciens-avis-controle-\' + $index}}">\r\n                                <strong>Anciens avis</strong>\r\n                            </mw-hretractable-titre>\r\n                            <div class="row" ng-if="controle.ancienAvisAgence">\r\n                                <div class="col-md-3">Ancien avis Agence</div>\r\n                                <div class="col-md-9"><span ng-bind="controle.ancienAvisAgence"></span></div>\r\n                            </div>\r\n                            <div class="row" ng-if="controle.ancienAvisBoOuConformite">\r\n                                <div class="col-md-3">Ancien avis BO</div>\r\n                                <div class="col-md-9"><span ng-bind="controle.ancienAvisBoOuConformite"></span></div>\r\n                            </div>\r\n                        </mw-hretractable>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</mw-panel>'),
e.put("typescript/fonctionnalites/pieco/pieces/pieces.html",'<mw-panel niveau="2" titre="{{::\'Pièces \'+ ctrl.libelleTypePiece}}" ng-attr-id="{{::\'pieces-\'+ ctrl.libelleTypePiece}}">\r\n    <div class="form-group mw-form-static">\r\n        <label class="col-lg-2 col-md-3 col-sm-6 control-label">Traitement en cours</label>\r\n        <p class="col-sm-6 form-control-static">\r\n            <span ng-bind="::ctrl.comportementPieco.typeInstruction"></span>\r\n        </p>\r\n    </div>\r\n    <br>\r\n\r\n    <div class="form-group" ng-if="::ctrl.isAutoriserMajTout">\r\n        <div class="col-sm-12">\r\n            <fieldset class="row mw-radio-group" ng-disabled="ctrl.disabledIsAutoriserMajTout">\r\n                <legend class="col-lg-4 col-md-6 col-sm-7 control-label">\r\n                    <span ng-bind="::ctrl.libellePhrase"></span>\r\n                </legend>\r\n                <ul class="col-lg-5 col-md-6 col-sm-5 list-inline">\r\n                    <li class="mw-radio-btn" id="li1piece1">\r\n                        <input type="radio" ng-attr-id="{{::\'pieces-\' + ctrl.libelleTypePiece + \'-toutes-pieces-oui\'}}" ng-attr-name="{{::\'pieces-\' + ctrl.libelleTypePiece + \'-toutes-pieces\'}}" id="pieces-clients-toutes-pieces-oui" name="pieces-clients-toutes-pieces" ng-value="true" ng-model="ctrl.toutesPiecesConformes" ng-click="ctrl.majToutesPieces()">\r\n                        <label ng-attr-for="{{::\'pieces-\' + ctrl.libelleTypePiece + \'-toutes-pieces-oui\'}}">\r\n                            <span ng-bind="::ctrl.libelleAcceptation"></span>\r\n                        </label>\r\n                    </li>\r\n                    <li class="mw-radio-btn" id="li2piece2">\r\n                        <input type="radio" ng-attr-id="{{::\'pieces-\' + ctrl.libelleTypePiece + \'-toutes-pieces-non\'}}" ng-attr-name="{{::\'pieces-\' + ctrl.libelleTypePiece + \'-toutes-pieces\'}}" ng-value="false" ng-model="ctrl.toutesPiecesConformes" ng-click="ctrl.majToutesPieces()">\r\n                        <label ng-attr-for="{{::\'pieces-\' + ctrl.libelleTypePiece + \'-toutes-pieces-non\'}}">\r\n                            <span ng-bind="::ctrl.libelleRefus"></span>\r\n                        </label>\r\n                    </li>\r\n                </ul>\r\n            </fieldset>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group">\r\n        <div class="col-md-12">\r\n            <ic-tableau-pieces liste-pieces="ctrl.listePieces" est-numerique="::ctrl.estNumerique" liste-statuts-piece="::ctrl.listeStatutsPiece" libelle-type-piece="{{::ctrl.libelleTypePiece}}" acces-lecture-seule="::ctrl.comportementPieco.isAccesLectureSeule" readonly="::ctrl.readonly">\r\n            </ic-tableau-pieces>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group">\r\n        <label class="col-lg-3 col-md-4 col-sm-5 control-label" for="commentaire-interne-client">\r\n            Commentaires internes\r\n        </label>\r\n        <div class="col-lg-9 col-md-8 col-sm-7">\r\n            <textarea ng-attr-id="{{::\'commentaire-interne-\' + ctrl.libelleTypePiece}}" ng-attr-name="{{::\'commentaire-interne-\' + ctrl.libelleTypePiece}}" mw-textarea-autoheight aria-required="true" ng-model="ctrl.commentaire" ng-disabled="::ctrl.disbaledCommentaire" class="form-control" placeholder="Saisir commentaire" rows="6"></textarea>\r\n        </div>\r\n    </div>\r\n</mw-panel>'),e.put("typescript/fonctionnalites/pieco/tableau-pieces/tableau-pieces.html",'<table class="table table-interactive table-divise" ng-attr-id="{{::\'table-\'+ ctrl.libelleTypePiece}}">\r\n    <caption class="hide-a11y">Pièces <span ng-bind="::ctrl.libelleTypePiece"></span></caption>\r\n    <thead>\r\n        <tr>\r\n            <th class="min-width un-bouton" ng-class="::ctrl.readonly ? \'col-md-5\' : \'col-md-3 \'">\r\n                <span class="title">Pièces <span ng-bind="::ctrl.libelleTypePiece"></span></span>\r\n            </th>\r\n            <th class="col-lg-3 col-md-2 min-width un-bouton">\r\n                <span class="title">Finalité</span>\r\n                <button type="button" class="btn btn-icon btn-filtre" ng-attr-id="{{::\'btn-filtrer-finalite-\'+ ctrl.libelleTypePiece}}" ng-class="{\'actif\' : ctrl.filtreFinaliteActif}" ng-click="ctrl.activerFiltreFinalite()">\r\n                    <span class="icon itce-filter" aria-hidden="true" title="Filter"></span>\r\n                    <span class="hide-a11y">Filtrer sur : finalité</span>\r\n                </button>\r\n            </th>\r\n            <th class="un-bouton" ng-class="::ctrl.readonly ? \'col-md-2\' : \'col-lg-4 col-md-5 min-width\'">\r\n                <span class="title" ng-bind="::ctrl.libelleStatutConformite"></span>\r\n                <button type="button" class="btn btn-icon btn-filtre" ng-attr-id="{{::\'btn-filtrer-conformite-\'+ ctrl.libelleTypePiece}}" ng-class="{\'actif\' : ctrl.filtreStatutPieceActif}" ng-click="ctrl.activerFiltreConformite()">\r\n                    <span class="icon itce-filter" aria-hidden="true" title="Filter"></span>\r\n                    <span class="hide-a11y">Filtrer sur : Conformité</span>\r\n                </button>\r\n            </th>\r\n            <th class="col-md-1"></th>\r\n            <th class="col-md-1 min-width un-bouton" ng-show="::ctrl.estNumerique">\r\n                <span class="title">Acquisition</span>\r\n            </th>\r\n        </tr>\r\n        <!-- Filtres -->\r\n        <tr class="mw-table-filter" ng-show="ctrl.filtreFinaliteActif || ctrl.filtreStatutPieceActif">\r\n            <td></td>\r\n            <td>\r\n                <div class="col-sm-12" ng-show="ctrl.filtreFinaliteActif">\r\n                    <input name="filtre-finalite" ng-attr-id="{{::\'filtre-finalite-\'+ ctrl.libelleTypePiece}}" type="text" class="form-control" ng-model="ctrl.finaliteSelect" placeholder="" mw-combobox="finalite as finalite.libelle for finalite in ctrl.listeFinalites" mw-combobox-on-select="ctrl.filter()">\r\n                </div>\r\n            </td>\r\n            <td>\r\n                <div class="col-sm-12" ng-show="ctrl.filtreStatutPieceActif">\r\n                    <input name="filtre-statut" ng-attr-id="{{::\'filtre-statut-\'+ ctrl.libelleTypePiece}}" type="text" class="form-control" ng-model="ctrl.statutPieceSelect" placeholder="" mw-combobox="statut as statut.libelle for statut in ctrl.listeStatutsPiece" mw-combobox-on-select="ctrl.filter()">\r\n                </div>\r\n            </td>\r\n            <td></td>\r\n            <td ng-show="::ctrl.estNumerique"></td>\r\n        </tr>\r\n    </thead>\r\n    <tbody ng-show="ctrl.listePieces.length === 0">\r\n        <!-- Pas de contenu -->\r\n        <tr class="mw-table-ligne-vide">\r\n            <td colspan="{{ctrl.nbColonnesTotal}}">\r\n                <span>Aucun élément</span>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n    <!-- Contenu -->\r\n    <tbody ng-repeat="piece in ctrl.listePieces track by $index">\r\n        <!-- Sous-titre des pièces qui permet un regroupement -->\r\n        <tr ng-show="piece.estLigneSousTitre" class="ligne-sous-titre">\r\n            <td colspan="5">\r\n                <span ng-bind="piece.libelle"></span>\r\n            </td>\r\n        </tr>\r\n        <!-- Pièces -->\r\n        <tr ng-hide="piece.estLigneSousTitre">\r\n            <td><span ng-bind="piece.libelle"></span></td>\r\n            <td><span ng-bind="piece.libelleFinalite"></span></td>\r\n            <td>\r\n                <div ng-show="::ctrl.readonly">\r\n                    <span ng-bind="::piece.libelleStatut"></span>\r\n                </div>\r\n                <div ng-if="::!ctrl.readonly">\r\n                    <fieldset class="row mw-radio-group" ng-disabled="::ctrl.accesLectureSeule">\r\n                        <ul class="col-sm-12 list-inline">\r\n                            <li class="mw-radio-btn col-lg-4 col-md-4" id="li1piceo">\r\n                                <input type="radio" ng-attr-id="{{\'conformite-piece-\' + ctrl.libelleTypePiece + \'-\' + $index + \'-oui\'}}" ng-attr-name="{{\'conformite-piece-\' + ctrl.libelleTypePiece + \'-\' + $index}}" ng-value="ctrl.codeR" ng-model="piece.stttPieceControle">\r\n                                <label ng-attr-for="{{\'conformite-piece-\' + ctrl.libelleTypePiece + \'-\' + $index + \'-oui\'}}">\r\n                                    <span ng-bind="ctrl.libelleAcceptation"></span>\r\n                                </label>\r\n                            </li>\r\n                            <li class="mw-radio-btn col-lg-4 col-md-4" id="li2piceo">\r\n                                <input type="radio" ng-attr-id="{{\'conformite-piece-\' + ctrl.libelleTypePiece + \'-\' + $index + \'-non\'}}" ng-attr-name="{{\'conformite-piece-\' + ctrl.libelleTypePiece + \'-\' + $index}}" ng-value="ctrl.codeA" ng-model="piece.stttPieceControle">\r\n                                <label ng-attr-for="{{\'conformite-piece-\' + ctrl.libelleTypePiece + \'-\' + $index + \'-non\'}}">\r\n                                    <span ng-bind="ctrl.libelleRefus"></span>\r\n                                </label>\r\n                            </li>\r\n                            <li class="mw-radio-btn col-lg-4 col-md-4" id="li3piceo">\r\n                                <input type="radio" ng-attr-id="{{\'conformite-piece-\' + ctrl.libelleTypePiece + \'-\' + $index + \'-sans\'}}" ng-attr-name="{{\'conformite-piece-\' + ctrl.libelleTypePiece + \'-\' + $index}}" ng-value="ctrl.codeN" ng-model="piece.stttPieceControle">\r\n                                <label ng-attr-for="{{\'conformite-piece-\' + ctrl.libelleTypePiece + \'-\' + $index + \'-sans\'}}">\r\n                                    <span ng-bind="ctrl.libelleAutre"></span>\r\n                                </label>\r\n                            </li>\r\n                        </ul>\r\n                    </fieldset>\r\n                </div>\r\n            </td>\r\n            <td>\r\n                <!--FICHE 12061 suppression popover pour tooltip-->\r\n                <span ng-if="piece.libelleAide">\r\n                    <button class="btn btn-icone" aria-label="Voir aide" ng-attr-id="{{\'btn-piece-aide-\' + $index }}" tooltip-id="{{\'tooltip-aide-\' + $index }}" tooltip-placement="bottom" tooltip-trigger="focus blur mouseenter mouseleave" tooltip="{{piece.libelle + \' : \' + piece.libelleAide}}">\r\n                        <span aria-hidden="true" class="icon itce-information-circle"></span>\r\n                    </button>\r\n                </span>\r\n            </td>\r\n            <td ng-show="::ctrl.estNumerique">\r\n                <span class="label" ng-class="ctrl.getAcquisitionClass(piece.codeEtatAcquistion)" ng-bind="ctrl.getAcquisitionLabel(piece.codeEtatAcquistion)" ng-show="!ctrl.controlePieceSansObjet(piece.stttPieceControle)"></span>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>'),e.put("typescript/fonctionnalites/signature/tableau-intervenants/tableau-intervenants-signature.html",'<form name="formTableIntervenants" novalidate>\r\n    <table class="table">\r\n        <thead>\r\n            <tr>\r\n                <th class="col-md-5">Intervenant</th>\r\n                <th class="col-md-5 asterisque-hors-label">Réponse</th>\r\n                <th class="col-md-2 asterisque-hors-label">Date de signature</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody ng-repeat="intervenant in ctrl.listeIntervenants track by $index">\r\n            <tr>\r\n                <td>\r\n                    <span ng-bind="::intervenant.description"></span>\r\n                    <span>&nbsp;</span>\r\n                    <span class="label label-default" ng-bind="::intervenant.role"></span>\r\n                </td>\r\n                <td>\r\n                    <div ng-if="::intervenant.lectureSeule || ctrl.consultation">\r\n                        <span ng-bind="::intervenant.libelleReponse"></span>\r\n                    </div>\r\n                    <div ng-if="::!intervenant.lectureSeule && !ctrl.consultation">\r\n                        <fieldset class="row mw-radio-group">\r\n                            <ul class="list-inline">\r\n                                <li class="mw-radio-btn" ng-attr-id="li-{{$index}}-acceptee">\r\n                                    <input type="radio" ng-attr-id="reponse-{{$index}}-acceptee" name="reponse-{{$index}}-acceptee" ng-value="{{true}}" data-ng-model="intervenant.reponse">\r\n                                    <label for="reponse-{{$index}}-acceptee">\r\n                                        Acceptée\r\n                                    </label>\r\n                                </li>\r\n                                <li class="mw-radio-btn" ng-attr-id="li-{{$index}}-refusee">\r\n                                    <input type="radio" ng-attr-id="reponse-{{$index}}-refusee" name="reponse-{{$index}}-refusee" ng-value="{{false}}" data-ng-model="intervenant.reponse" data-ng-change="ctrl.defineDateRefus(intervenant)">\r\n                                    <label for="reponse-{{$index}}-refusee">\r\n                                        Refusée\r\n                                    </label>\r\n                                </li>\r\n                            </ul>\r\n                        </fieldset>\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    <div ng-if="::intervenant.lectureSeule || ctrl.consultation">\r\n                        <span ng-bind="::intervenant.dateSignature | date:\'dd/MM/yyyy\'"></span>\r\n                    </div>\r\n                    <div class="form-group" ng-if="::!intervenant.lectureSeule && !ctrl.consultation">\r\n                        <div class="col-lg-12 col-md-12 has-feedback" ng-class="{\'has-error\':formTableIntervenants.date{{$index}}.$invalid || intervenant.erreurDateSuperieurDateMinAcceptation(ctrl.dossierComplet.dateMinimumAccpOffreLoiImmobilier)}">\r\n                            <input type="text" class="form-control" ng-attr-id="date-{{$index}}" ng-attr-name="date{{$index}}" ng-model="intervenant.dateSignature" mw-date-legere ng-required="intervenant.reponse === true || intervenant.reponse === false" has-string-model placeholder="jj/mm/aaaa" uib-datepicker-popup="dd/MM/yyyy" datepicker-options="{ showWeeks: false, startingDay:1}" is-open="intervenant.selected">\r\n                            <span class="btn btn-success form-control-feedback" ng-click="intervenant.selected = true" ng-attr-id="span-date-{{$index}}">\r\n                                <mw-button-icone texte="Calendrier" taille="sm" icone="icone itce-calendar icodate" ng-attr-id="btn-date-{{$index}}"></mw-button-icone>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</form>'),e.put("typescript/fonctionnalites/signature/validation-mandats/validation-mandats-signature.html",'<div ng-if="ctrl.afficherValidationMandats">\r\n    <hr>\r\n    <mw-panel niveau="3" titre=" Validation des mandats" id="validation-mandats">\r\n        <form name="formTableMandats" novalidate>\r\n            <table class="table">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="col-md-3">Payeur</th>\r\n                        <th class="col-md-2">N° de crédit</th>\r\n                        <th class="col-md-2">Produit</th>\r\n                        <th class="col-md-3">RUM</th>\r\n                        <th class="col-md-2 asterisque-hors-label">Date de signature</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody ng-repeat="mandat in ctrl.listeMandats track by $index">\r\n                    <tr>\r\n                        <td>\r\n                            <span ng-bind="::mandat.descriptionPayeur"></span>\r\n                        </td>\r\n                        <td>\r\n                            <span ng-bind="::mandat.numeroCredit"></span>\r\n                        </td>\r\n                        <td>\r\n                            <span ng-bind="::mandat.libelleProduit"></span>\r\n                        </td>\r\n                        <td>\r\n                            <span ng-bind="::mandat.referenceUniqueMand"></span>\r\n                        </td>\r\n                        <td>\r\n                            <div ng-show="ctrl.consultation || mandat.estSigne || ctrl.getRefus()">\r\n                                <span ng-bind="mandat.dateSignature | dateNotZero | date:\'dd/MM/yyyy\'"></span>\r\n                            </div>\r\n                            <div class="form-group" ng-hide="ctrl.consultation || mandat.estSigne || ctrl.getRefus()">\r\n                                <div class="col-lg-12 col-md-12 has-feedback" ng-class="{\'has-error\':formTableMandats.date{{$index}}.$invalid}">\r\n                                    <input type="text" class="form-control" ng-attr-id="date-{{$index}}" ng-attr-name="date{{$index}}" ng-model="mandat.dateSignature" mw-date-legere ng-required="mandat.reponse === true || mandat.reponse === false" has-string-model placeholder="jj/mm/aaaa" uib-datepicker-popup="dd/MM/yyyy" datepicker-options="{ showWeeks: false, startingDay:1}" is-open="mandat.selected">\r\n                                    <span class="btn btn-success form-control-feedback" ng-click="mandat.selected = true" ng-attr-id="span-date-{{$index}}">\r\n                                        <mw-button-icone texte="Calendrier" taille="sm" icone="icone itce-calendar icodate" ng-attr-id="btn-date-{{$index}}"></mw-button-icone>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n    </mw-panel>\r\n</div>'),e.put("typescript/fonctionnalites/edition/documents/anomalies/anomalies.html",'<div class="form-group" ng-if="ctrl.listeAnomaliesBloquantes.length > 0">\r\n    <div class="col-md-12">\r\n        <mw-synthese-erreurs id="mw-synthese-anomalie-impression">\r\n            <ul>\r\n                <li ng-repeat="anomalie in ctrl.listeAnomaliesBloquantes track by $index" ng-attr-id="li-anomalie-bloquante-{{$index}}">\r\n                    <span ng-bind="::anomalie.idAno"></span><span>: </span><span ng-bind="::anomalie.libelleAno"></span>\r\n                </li>\r\n            </ul>\r\n        </mw-synthese-erreurs>\r\n    </div>\r\n</div>\r\n<div ng-if="ctrl.listeAnomaliesNonBloquantes.length > 0">\r\n    <div class="form-group">\r\n        <label class="col-md-12">Anomalies non bloquantes : </label>\r\n    </div>\r\n    <div class="form-group">\r\n        <ul>\r\n            <li ng-repeat="anomalie in ctrl.listeAnomaliesNonBloquantes track by $index" ng-attr-id="li-anomalie-non-bloquante-{{$index}}">\r\n                <span ng-bind="::anomalie.idAno"></span><span>: </span><span ng-bind="::anomalie.libelleAno"></span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <br>\r\n</div>\r\n<div class="form-group" ng-if="ctrl.listeErreursImpression.length > 0">\r\n    <div class="col-md-12">\r\n        <mw-synthese-erreurs id="mw-synthese-erreurs-impression">\r\n            <ul>\r\n                <li ng-repeat="erreur in ctrl.listeErreursImpression track by $index" ng-attr-id="li-erreur-impression-{{$index}}">\r\n                    <span ng-bind="::erreur"></span>\r\n                </li>\r\n            </ul>\r\n        </mw-synthese-erreurs>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/edition/documents/modale-saisie-complementaire/modale-saisie-complementaire.html",'<form role="form" name="formSaisieComplementaire" novalidate>\r\n    <div class="form-horizontal" mw-chargement="ctrl.loader" aria-busy="{{ctrl.loader}}">\r\n        <div class="modal-header">\r\n            <button type="button" ng-click="ctrl.close()" class="close" aria-hidden="true" id="btnclosemodale">\r\n                <span class="icon itce-times" aria-hidden="true"></span>\r\n            </button>\r\n            <h1 class="modal-title">Remplir les données complémentaires nécessaires à l\'édition</h1>\r\n        </div>\r\n        <div class="modal-body">\r\n            <div ng-repeat="elt in ctrl.listeInputSaisiesComplementaire track by $index">\r\n                <div ng-if="!ctrl.isListeDonneesCreditAModifierACA(ctrl.listePropriete[$index]) && !ctrl.isListeDonneesCreditAModifier(ctrl.listePropriete[$index])">\r\n                    <champ-saisie-complementaire elt="elt" index-element="$index"></champ-saisie-complementaire>\r\n                </div>\r\n                <div ng-if="ctrl.isListeDonneesCreditAModifierACA(ctrl.listePropriete[$index]) || ctrl.isListeDonneesCreditAModifier(ctrl.listePropriete[$index])">\r\n                    <div ng-repeat="elt2 in elt track by $index2">\r\n                        <champ-saisie-complementaire elt="elt2.montantCreditModifie"></champ-saisie-complementaire>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <div class="col-lg-offset-8 col-lg-2 col-md-3 col-sm-4">\r\n                <button id="btn-annuler" type="button" class="btn btn-default" ng-click="ctrl.close()">Annuler</button>\r\n            </div>\r\n            <div class="col-lg-2 col-md-3 col-sm-4">\r\n                <button id="btn-valider" type="button" class="btn btn-primary" ng-click="ctrl.valider()" ng-disabled="formSaisieComplementaire.$invalid">\r\n                    Imprimer\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>'),e.put("typescript/fonctionnalites/edition/documents/tableau/tableau-documents.html",'<div class="form-group">\r\n    <mw-table options="ctrl.tableauDocuments" id="tableau-documents"></mw-table>\r\n</div>'),e.put("typescript/fonctionnalites/edition/offre/caracteristiques/caracteristiques.html",'<mw-panel niveau="2" titre="Caractéristiques" id="caracteristiques">\r\n    <div class="form-group">\r\n        <p class="col-sm-12">\r\n            L\'offre est de type <span class="bold" ng-bind="::ctrl.typeOffre"></span>.\r\n        </p>\r\n    </div>\r\n    <div class="form-group">\r\n        <p class="col-sm-12">\r\n            L\'offre éditée est la n°<span class="bold" ng-bind="::ctrl.numeroOffre"></span>.\r\n        </p>\r\n    </div>\r\n    <div class="form-group" ng-show="ctrl.afficherTexteInfos">\r\n        <p class="col-sm-12">\r\n            <span class="italic" ng-bind="ctrl.texteInfos"></span>\r\n        </p>\r\n    </div> \r\n    <div ng-if="::ctrl.offreComplete">\r\n        <div class="form-group">\r\n            <p class="col-sm-12">\r\n                La liasse d\'édition est complète le <span class="bold" ng-bind="::ctrl.dateEdition | date:\'dd/MM/yyyy\'"></span>. Elle va être envoyée au client.\r\n            </p>\r\n        </div>\r\n        <div class="form-group">\r\n            <p class="col-sm-12">\r\n                <a id="lien-visualiser-liasse" href="javascript:void(0)" title="Visualiser la liasse" ng-click="ctrl.visualiserOffre()">Visualiser la liasse</a>\r\n            </p>\r\n        </div>\r\n    </div>\r\n</mw-panel>'),e.put("typescript/fonctionnalites/edition/offre/clauses/clauses.html",'<mw-panel niveau="2" titre="Clauses personnalisées" id="clauses-personnalisees">\r\n\r\n    <div class="form-group" ng-hide="::ctrl.modeConsultation">\r\n        <div ng-hide="ctrl.redecateurActePresent" class="col-lg-3 col-md-4 col-sm-6 pull-right">\r\n            <button type="button" id="btn-add-emprunteur-simple" class="btn btn-block btn-zone mw-troncature" ng-click="ctrl.ajouterClause(0)" ng-disabled="ctrl.desactivationAjoutClause">\r\n                Ajouter une clause emprunteur\r\n            </button>\r\n            <div ng-show="ctrl.isLoiConso" class="error-msg" role="alert">\r\n                L\'ajout d\'une clause emprunteur n\'est pas autorisée dans le cas d\'une offre de type Loi conso\r\n            </div>\r\n        </div>\r\n        <div ng-if="::ctrl.redecateurActePresent" class="col-lg-3 col-md-4 col-sm-6 mw-bouton-liste-actions pull-right">\r\n            <div dropdown on-toggle="ctrl.ajouterClauseEstOuvert = !ctrl.ajouterClauseEstOuvert">\r\n                <button id="id-btn-add-clause" class="btn btn-block btn-zone" ng-disabled="ctrl.desactivationAjoutClause" dropdown-toggle>\r\n                    <span>+ Ajouter une clause</span>\r\n                    <span class="icon pull-right" aria-hidden="{{ctrl.ajouterClauseEstOuvert}}" ng-class="{\'itce-chevron-up\':ctrl.ajouterClauseEstOuvert,\'itce-chevron-down\':!ctrl.ajouterClauseEstOuvert}">\r\n                    </span>\r\n                </button>\r\n                <ul class="dropdown-menu bouton-actions" role="menu" aria-hidden="{{ctrl.ajouterClauseEstOuvert}}">\r\n                    <li id="id-li-add-emprunteur">\r\n                        <button id="id-btn-liste-add-emprunteur" ng-click="ctrl.ajouterClause(0)">Emprunteur</button>\r\n                    </li>\r\n                    <li id="id-li-add-redacteur">\r\n                        <button id="id-btn-liste-add-redacteur" ng-click="ctrl.ajouterClause(1)">Rédacteur d\'acte</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Clauses emprunteurs -->\r\n    <ic-detail-edition-clauses-liste-clauses mode-consultation="::ctrl.modeConsultation" loader-page-parent="ctrl.loaderPageParent" clauses-emprunteur="true" id-dossier="::ctrl.idDossier" liste-clauses="ctrl.listeClauses">\r\n    </ic-detail-edition-clauses-liste-clauses>\r\n\r\n    <div ng-if="::ctrl.redecateurActePresent">\r\n        <!-- Clauses rédacteurs -->\r\n        <ic-detail-edition-clauses-liste-clauses mode-consultation="::ctrl.modeConsultation" loader-page-parent="ctrl.loaderPageParent" clauses-emprunteur="false" id-dossier="::ctrl.idDossier" liste-clauses="ctrl.listeClauses">\r\n        </ic-detail-edition-clauses-liste-clauses>\r\n    </div>\r\n\r\n</mw-panel>'),e.put("typescript/fonctionnalites/edition/offre/instituts-emission/instituts-emission.html",'<mw-panel niveau="2" titre="Instituts d\'émission" id="instituts-emission">\r\n\r\n    <div class="form-group mw-form-static">\r\n        <label class="col-lg-2 col-md-3 col-sm-6 control-label">Projet à financer</label>\r\n        <p class="col-sm-6 form-control-static" ng-bind="::ctrl.institutsEmission.libelleTypeObjetCommercial"></p>\r\n    </div>\r\n\r\n    <div class="form-group mw-form-static">\r\n        <label class="col-lg-2 col-md-3 col-sm-6 control-label">Précision réglementaire</label>\r\n        <p class="col-sm-6 form-control-static" ng-bind="::ctrl.institutsEmission.libelleTypeObjetReglemente"></p>\r\n    </div>\r\n\r\n    <br>\r\n\r\n    <ul class="list-unstyled">\r\n        <li ng-repeat="creditInterne in ctrl.institutsEmission.listeCreditInterne track by $index" ng-attr-id="::\'li-instituts-\' + $index">\r\n            <ic-detail-edition-instituts-emission-credit id-dossier="::ctrl.institutsEmission.idDossier" eligibilite-modifiable="::ctrl.institutsEmission.eligibiliteModifiable" credit-interne="creditInterne">\r\n            </ic-detail-edition-instituts-emission-credit>\r\n        </li>\r\n    </ul>\r\n\r\n    <br>\r\n\r\n</mw-panel>'),e.put("typescript/fonctionnalites/edition/offre/mandats/mandats.html",'<div ng-if="ctrl.mandatsDescription.existeMandats">\r\n    <mw-panel niveau="2" titre="Liste des mandats" id="liste-mandats">\r\n\r\n        <ul class="list-unstyled">\r\n            <!-- payeurs -->\r\n            <li ng-repeat="mandatPersonne in ctrl.mandatsDescription.listeMandat track by $index" ng-init="outerIndex=$index" ng-attr-id="::\'li-mandat-personne-\' + outerIndex">\r\n\r\n                <div class="form-group">\r\n                    <p class="col-sm-12" ng-bind="::mandatPersonne.libellePayeur"></p>\r\n                </div>\r\n                <div class="form-group">\r\n                    <div class="col-sm-12">\r\n                        <ul class="list-unstyled">\r\n                            <li ng-repeat="mandatCredit in mandatPersonne.listeMandatCredit track by $index" ng-init="innerIndex=$index" ng-attr-id="::\'li-mandat-credit\' + innerIndex">\r\n                                <ic-detail-edition-mandats-credit libelle-payeur="::mandatPersonne.libellePayeur" mandat-credit="mandatCredit" mode-consultation="::ctrl.modeConsultation" id-dossier="::ctrl.idDossier" cas-payeur-secours="false" loader="ctrl.loader" reload-contexte="ctrl.recharchementContexteEditique()">\r\n                                </ic-detail-edition-mandats-credit>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <br>\r\n            </li>\r\n            <!-- payeur de secours-->\r\n            <li id="li-payeur-secours">\r\n                <div class="form-group">\r\n                    <p class="col-sm-12" ng-bind="::ctrl.mandatsDescription.mandatPayeurSecours.libellePayeur"></p>\r\n                </div>\r\n                <div class="form-group">\r\n                    <div class="col-sm-12">\r\n                        <ul class="list-unstyled">\r\n                            <li id="li-payeur-secours-credit">\r\n                                <ic-detail-edition-mandats-credit libelle-payeur="::ctrl.mandatsDescription.mandatPayeurSecours.libellePayeur" mandat-credit="ctrl.mandatsDescription.mandatPayeurSecours.mandatCredit" mode-consultation="::ctrl.modeConsultation" id-dossier="::ctrl.idDossier" cas-payeur-secours="true" loader="ctrl.loader" reload-contexte="ctrl.recharchementContexteEditique()">\r\n                                </ic-detail-edition-mandats-credit>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n    </mw-panel>\r\n</div>'),e.put("typescript/fonctionnalites/edition/offre/modale-anomalie-gestion/modale-anomalie-gestion.html",'<div class="form-horizontal">\r\n    <div class="modal-header">\r\n        <button id="id-btn-modale-dossier-decision-croix" type="button" class="close" aria-hidden="true" data-ng-click="ctrl.annuler()">\r\n            <span class="icon itce-times"></span>\r\n        </button>\r\n        <h1 class="modal-title" ng-bind="::ctrl.titre"></h1>\r\n    </div>\r\n\r\n    <div class="modal-body">\r\n        <div class="row">\r\n            <div class="col-md-12 mw-form-static">\r\n\r\n                <div class="form-group" ng-show="::ctrl.listeControles.length === 0">\r\n                    <p class="col-md-12">Aucune anomalie détectée</p>\r\n                </div>\r\n\r\n                <div ng-if="::ctrl.listeControles.length > 0">\r\n\r\n                    <!-- Anomalie bloquantes -->\r\n                    <div ng-show="::ctrl.listeAnomaliesBloquantes.length > 0">\r\n                        <div class="form-group">\r\n                            <p class="col-md-12" ng-bind="::ctrl.texteAnomaliesBloquantes"> </p>\r\n                        </div>\r\n                        <ul class="list-group">\r\n                            <li ng-attr-id="li-anomalie-{{$index}}" class="list-group-item" ng-repeat="anomalie in ctrl.listeAnomaliesBloquantes track by $index">\r\n                                <ic-row-anomalie-popin anomalie="::anomalie"></ic-row-anomalie-popin>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <!-- Anomalies non bloquantes -->\r\n                    <div ng-show="::ctrl.listeAlertes.length > 0">\r\n                        <div class="form-group">\r\n                            <p class="col-md-12" ng-bind="::ctrl.texteAlertes"> </p>\r\n                        </div>\r\n                        <ul class="list-group">\r\n                            <li ng-attr-id="li-alerte-{{$index}}" class="list-group-item" ng-repeat="anomalie in ctrl.listeAlertes track by $index">\r\n                                <ic-row-anomalie-popin anomalie="::anomalie"></ic-row-anomalie-popin>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <!-- Avertissements -->\r\n                    <div class="form-group" ng-if="::ctrl.parametrageBoutonContinuer.affichage">\r\n                        <p class="col-md-12">Voulez-vous poursuivre malgré les alertes ?</p>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="modal-footer">\r\n        <div class="col-md-2 col-sm-4" ng-class="::ctrl.parametrageBoutonContinuer.affichage ? \'col-md-offset-8\' : \'col-md-offset-10\'">\r\n            <button type="button" class="btn btn-block btn-default" id="btn-annuler" ng-click="ctrl.close()">\r\n                Annuler\r\n            </button>\r\n        </div>\r\n        <div class="col-md-2 col-sm-4" ng-if="ctrl.parametrageBoutonContinuer.affichage">\r\n            <button id="id-btn-modale-dossier-decision-forcer" type="button" class="btn btn-primary" data-ng-click="ctrl.poursuivre()" data-ng-bind="ctrl.parametrageBoutonContinuer.libelle"></button>\r\n        </div>\r\n    </div>\r\n</div>'),
e.put("typescript/fonctionnalites/emission-docs/assurance-externe/tableau/tableau.html",'<div class="form-group">\r\n    <h5 class="col-md-12" ng-bind="\'Courriers liés à \' + ctrl.courrierLies"></h5> \r\n</div>\r\n<div class="form-group">\r\n    <mw-table options="ctrl.tableauDocuments" ng-attr-id="tableau-documents-refus-assurance-{{ctrl.index}}"></mw-table>\r\n</div>\r\n'),e.put("typescript/fonctionnalites/edition/documents/modale-saisie-complementaire/champ-saisie-complementaire/champ-saisie-complementaire.html",'<div ng-switch="ctrl.elt.type" ng-if="::ctrl.elt.visible">\r\n    <div ng-switch-when="Label">\r\n        <div class="form-group">\r\n            <label class="title" ng-attr-for="{{::ctrl.elt.type + \'-\' + ctrl.indexElement}}" ng-bind="::ctrl.elt.libelle"></label>\r\n        </div>\r\n    </div>\r\n    <div ng-switch-when="MultiLineLabel">\r\n        <div class="form-group">\r\n            <ul>\r\n                <li ng-repeat="message in ::ctrl.elt.listeValue track by ctrl.indexElement" ng-attr-id="li-message-{{::ctrl.indexElement}}">\r\n                    <p ng-bind="::message"></p>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <div ng-switch-when="TextBox Date">\r\n        <div class="form-group">\r\n            <ic-row-date base-id="::\'date-\' + ctrl.elt.type + \'-\' + ctrl.indexElement" label="{{::ctrl.elt.libelle}}" label-class="col-md-3" date="ctrl.elt.text" date-class="col-md-2">\r\n            </ic-row-date>\r\n        </div>\r\n    </div>\r\n    <div ng-switch-when="TextBox">\r\n        <div class="form-group">\r\n            <label class="col-md-3 control-label" ng-attr-for="{{::ctrl.elt.type + \'-\' + ctrl.indexElement}}" ng-bind="::ctrl.elt.libelle"></label>\r\n            <div class="col-md-7">\r\n                <input ng-attr-id="{{::ctrl.elt.type}}-{{::$index}}" name="name-{{::ctrl.elt.type}}" class="form-control" type="text" placeholder="" ng-model="ctrl.elt.text" ng-disabled="::ctrl.elt.enabled === false">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div ng-switch-when="ComboBox">\r\n        <div class="form-group" ng-class="::{\'mw-form-static\':ctrl.elt.enabled === false}">\r\n            <label class="control-label col-md-3" for="{{::ctrl.elt.type + \'-\' + ctrl.indexElement}}" ng-bind="::ctrl.elt.libelle"></label>\r\n            <div class="col-md-2" ng-show="::ctrl.elt.enabled">\r\n                <input ng-attr-id="{{::ctrl.elt.type}}-{{::ctrl.indexElement}}" ng-attr-name="{{::ctrl.elt.type}}-{{::ctrl.indexElement}}" type="text" class="form-control" data-ng-model="ctrl.elt.selectedValue" placeholder="" mw-combobox="value as value for value in ctrl.elt.listeValue" mw-combobox-on-select="ctrl.elt.selectedValue = $item" ng-disabled="::ctrl.elt.enabled === false" data-ng-required="ctrl.elt.enabled && ctrl.elt.libelle === ctrl.libelleEditionAgenceOuBo">\r\n            </div>\r\n            <p class="col-md-2 form-control-static" ng-show="::ctrl.elt.enabled === false">\r\n                <span ng-bind="::ctrl.elt.selectedValue"></span>\r\n            </p>\r\n        </div>\r\n        <div class="form-group" ng-show="ctrl.elt.selectedValue === \'NC\'">\r\n            <div class="col-md-2 col-md-offset-2">\r\n                <div class="col-lg-12 error-msg" role="alert" ng-bind="ctrl.messageEditionAgenceOuBoObligatoire"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div ng-switch-when="CheckBox">\r\n        <div class="form-group">\r\n            <div class="mw-input-check vertical-alignement">\r\n                <label class="col-md-12" ng-attr-for="check-{{::ctrl.indexElement}}" ng-attr-id="label-check-{{::ctrl.indexElement}}" ng-disabled="::ctrl.elt.enabled === false">\r\n                    <input type="checkbox" ng-attr-id="check-{{::ctrl.indexElement}}" ng-attr-name="check-{{::ctrl.indexElement}}" ng-model="ctrl.elt.checked" ng-attr-aria-checked="ctrl.elt.checked" aria-labelledby="label-check-{{::ctrl.indexElement}}" ng-disabled="::ctrl.elt.enabled === false">\r\n                    <span aria-hidden="true" class="icon" ng-class="{\'itce-fa-check\':ctrl.elt.checked}"></span>\r\n                    <span ng-bind="::ctrl.elt.libelle"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div ng-switch-when="CheckBoxList">\r\n        <ng-include src="\'typescript/fonctionnalites/edition/documents/modale-saisie-complementaire/champ-saisie-complementaire/check-box.html\'"></ng-include>\r\n    </div>\r\n    <div ng-switch-when="ListBox">\r\n        <ng-include src="\'typescript/fonctionnalites/edition/documents/modale-saisie-complementaire/champ-saisie-complementaire/check-box.html\'"></ng-include>\r\n    </div>\r\n    <div ng-switch-when="RadioButton">\r\n        <div class="form-group">\r\n            <div class="col-md-12">\r\n                <fieldset class="row mw-radio-group">\r\n                    <legend class="col-lg-5 col-sm-6 control-label"></legend>\r\n                    <ul class="col-sm-6 list-inline">\r\n                        <li class="radio-btn-width mw-radio-btn" id="li1">\r\n                            <input type="radio" ng-attr-id="radio-{{::ctrl.indexElement}}-checked1" ng-attr-name="{{::ctrl.elt.type + \'-\' + ctrl.indexElement}}" value="{{ctrl.elt.checked1}}" ng-model="ctrl.elt.checked1">\r\n                            <label for="radio-{{::ctrl.indexElement}}-checked1">\r\n                                <span ng-bind="::ctrl.elt.libelle1"></span>\r\n                            </label>\r\n                        </li>\r\n                        <li class="radio-btn-width mw-radio-btn" id="li2">\r\n                            <input type="radio" ng-attr-id="radio-{{::ctrl.indexElement}}-checked2" ng-attr-name="{{::ctrl.elt.type + \'-\' + ctrl.indexElement}}" value="{{ctrl.elt.checked2}}" ng-model="ctrl.elt.checked2">\r\n                            <label for="radio-{{::ctrl.indexElement}}-checked2">\r\n                                <span ng-bind="::ctrl.elt.libelle2"></span>\r\n                            </label>\r\n                        </li>\r\n                    </ul>\r\n                </fieldset>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div ng-switch-when="CreditTauxFixeLecture">\r\n        <div class="form-group">\r\n            <div class="col-md-7">\r\n                Veuillez contacter le support de maintenance avec cet exemple pour gérer cette donnée.\r\n            </div>\r\n        </div>\r\n        <!--<div class="form-group">\r\n            <div ng-repeat="propriete in elt">\r\n                <label class="col-md-3 control-label" for="id-{{propriete}}-{{$index}}" ng-bind="ctrl.elt.libelle"></label>\r\n                <div class="col-md-7">\r\n                    <input ng-attr-id="id-{{propriete}}-{{$index}}" name="name-{{propriete}}"\r\n                           class="form-control" type="text" placeholder="" ng-model="propriete" />\r\n                </div>\r\n            </div>\r\n        </div>-->\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/edition/documents/modale-saisie-complementaire/champ-saisie-complementaire/check-box.html",'<div class="form-group" ng-class="{\'mw-form-static\':ctrl.elt.customCheckbox.listCheckbox.length === 0}">\r\n    <label class="col-md-3 control-label" ng-bind="::ctrl.elt.libelle"></label>\r\n    <div class="col-md-9">\r\n        <p class="form-control-static" ng-show="ctrl.elt.customCheckbox.listCheckbox.length === 0">Pas de choix disponible</p>\r\n        <div ng-show="ctrl.elt.customCheckbox.listCheckbox.length > 0">\r\n            <div ng-repeat="cbi in ctrl.elt.customCheckbox.listCheckbox track by $index">\r\n                <div class="form-group">\r\n                    <div class="mw-input-check vertical-alignement">\r\n                        <label class="col-md-12" ng-attr-for="::\'check-\' + ctrl.elt.customCheckbox.id + \'-\' + cbi.id" ng-attr-id="::\'label-check-\' + ctrl.elt.customCheckbox.id + \'-\' + cbi.id">\r\n                            <input type="checkbox" ng-attr-id="::\'check-\' + ctrl.elt.customCheckbox.id + \'-\' + cbi.id" ng-attr-name="::\'check-\' + ctrl.elt.customCheckbox.id + \'-\' + cbi.id" ng-model="cbi.checked" ng-attr-aria-checked="cbi.checked" ng-aria-labelledby="::\'label-check-\' + ctrl.elt.customCheckbox.id + \'-\' + cbi.id">\r\n                            <span aria-hidden="true" class="icon" ng-class="{\'itce-fa-check\':cbi.checked}"></span>\r\n                            <span ng-bind="::cbi.label"></span>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>            \r\n        </div>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/edition/offre/clauses/liste-clauses/liste-clauses.html",'<div class="panel panel-success col-sm-12" ng-if="ctrl.afficherBloc">\r\n    <div class="panel-heading">\r\n        <h3 class="panel-title" ng-bind="::ctrl.titrePanel"></h3>\r\n    </div>\r\n    <div class="panel-body">\r\n        <div class="row">\r\n            <ul class="list-unstyled">\r\n                <li ng-repeat="clause in ctrl.listeClausesFiltrees track by $index" ng-attr-id="{{ctrl.getIdLi($index)}}">\r\n                    <div class="form-group">\r\n                        <div class="col-md-12">\r\n                            <div class="mw-bloc-contenu mw-form-static">\r\n                                <div class="form-group">\r\n                                    <div class="col-lg-8 col-md-6 col-sm-5">\r\n                                        <p class="form-control-static">\r\n                                            Clause personnalisée n°<span ng-bind="::$index +1"></span>\r\n                                        </p>\r\n                                    </div>\r\n                                    <div ng-if="::!ctrl.modeConsultation">\r\n                                        <div class="col-lg-2 col-md-3 col-sm-3">\r\n                                            <button type="button" class="btn btn-block btn-default mw-troncature" ng-click="ctrl.supprimerClause(clause)" id="btnsupprimerclause">\r\n                                                Supprimer\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class="col-lg-2 col-md-3 col-sm-4">\r\n                                            <button type="button" class="btn btn-block btn-zone mw-troncature" ng-click="ctrl.majClause(clause)" id="btnmajlause">\r\n                                                Modifier\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>                                    \r\n                                </div>\r\n                                <ic-texte-long texte="clause.libelleClausePersonne"></ic-texte-long>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/edition/offre/clauses/modale-clause/modale-clause.html",'<ng-form name="formClause">\r\n<div class="form-horizontal">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" aria-hidden="true" ng-click="ctrl.close()" id="btnclose">\r\n            <span class="icon itce-times"></span>\r\n        </button>\r\n        <h1 class="modal-title" ng-bind="::ctrl.titre"></h1>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="form-group">\r\n                    <p class="col-sm-12 italic">Vous devez saisir une clause de 2400 caractères maximum avant validation</p>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-md-4 control-label" for="commentaire">Commentaire</label>\r\n                </div>\r\n                <div ng-class="formClause.commentaire.$error.maxlength ? \'row\' : \'form-group\'">\r\n                    <div class="col-sm-12" ng-class="{\'has-error\': formClause.commentaire.$error.maxlength}">\r\n                        <textarea id="commentaire" name="commentaire" ng-maxlength="2400" mw-textarea-autoheight focus-chargement required aria-required="true" ng-model="ctrl.clause.libelleClausePersonne" ng-model-options="{ allowInvalid: true }" class="form-control" placeholder="Nouvelle clause" rows="6">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <div class="col-md-12 help-block">\r\n                        <div ng-class="{ \'error-msg\': formClause.commentaire.$error.maxlength }">\r\n                            <span ng-bind="ctrl.clause.libelleClausePersonne.length"></span> / 2400 caractères\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <div class="col-lg-offset-8 col-lg-2 col-md-offset-6 col-md-3 col-sm-offset-4 col-sm-4">\r\n            <button type="button" class="btn btn-block btn-default" id="btnbottomclose" ng-click="ctrl.close()">\r\n                Annuler\r\n            </button>\r\n        </div>\r\n        <div class="col-lg-2 col-md-3 col-sm-4">\r\n            <button id="btnvalider" type="button" class="btn btn-block btn-primary" ng-click="ctrl.valider()" ng-disabled="formClause.$invalid">\r\n                Valider\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n</ng-form>'),e.put("typescript/fonctionnalites/edition/offre/instituts-emission/credit/credit.html",'<div class="form-group">\r\n    <div class="col-md-12">\r\n        <div class="mw-bloc-contenu">\r\n            <div class="row">\r\n                <div class="col-lg-10 col-md-9 col-sm-8">\r\n                    <div class="form-group">\r\n                        <div class="col-sm-12">\r\n                            <span class="bold" ng-bind="::ctrl.creditInterne.libelleLongProduit"></span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <div class="col-sm-12" ng-bind="::ctrl.libelleDetailCredit"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <div class="col-sm-12" ng-bind="ctrl.statutEligibilite"></div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-lg-2 com-md-3 col-sm-4" ng-show="::ctrl.eligibiliteModifiable">\r\n                    <div class="form-group">\r\n                        <div class="col-sm-12">\r\n                            <button type="button" class="btn btn-block btn-zone mw-troncature" ng-click="ctrl.modifierEligibilite()" id="btnmodifier">\r\n                                Modifier\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/edition/offre/mandats/credit/credit.html",'<div class="form-group">\r\n    <div class="col-sm-12">\r\n        <div class="mw-bloc-contenu">\r\n            <div class="row">\r\n                <div ng-class="::ctrl.isMandatEditable ? \'col-lg-8 col-md-6 col-sm-6\' : \'col-lg-10 col-md-9 col-sm-8\'">\r\n                    <div class="form-group">\r\n                        <div class="col-sm-12">\r\n                            <span class="bold" ng-bind="::ctrl.mandatCredit.libelleCredit"></span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <div class="col-sm-12">\r\n                            <span ng-bind="::ctrl.mandatCredit.modeReglement.libelleLongModeRegle"></span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <div class="col-sm-12">\r\n                            Participant à <span ng-bind="::ctrl.payeur.pourcentagePaiementCredit"></span> %\r\n                        </div>\r\n                    </div>\r\n                    <div class="form-group" ng-show="::ctrl.mandatCredit.isMandatIban">\r\n                        <div class="col-sm-12">\r\n                            RUM : <span ng-bind="ctrl.payeur.referenceUniqueMand"></span>\r\n                        </div>\r\n                    </div>                    \r\n                </div>\r\n\r\n                <!-- Actions -->\r\n                <div class="col-lg-2 col-md-3 col-sm-4" ng-if="::!ctrl.isMandatEditable">\r\n                    <div class="form-group">\r\n                        <div class="col-md-12">\r\n                            <ng-include src="\'typescript/fonctionnalites/edition/offre/mandats/credit/templates/btn-consulter.html\'"></ng-include>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-lg-4 col-md-6 col-sm-6" ng-if="::ctrl.isMandatEditable">\r\n                    <div class="form-group">\r\n                        <div class="col-md-6" ng-show="ctrl.afficherBtnSupprimer">\r\n                            <ng-include src="\'typescript/fonctionnalites/edition/offre/mandats/credit/templates/btn-supprimer.html\'"></ng-include>\r\n                        </div>\r\n                        <div class="col-md-6" ng-show="ctrl.afficherBtnAttribuer">\r\n                            <ng-include src="\'typescript/fonctionnalites/edition/offre/mandats/credit/templates/btn-attribuer.html\'"></ng-include>\r\n                        </div>\r\n                        <div class="col-md-6">\r\n                            <ng-include src="\'typescript/fonctionnalites/edition/offre/mandats/credit/templates/btn-consulter.html\'"></ng-include>\r\n                        </div>\r\n                    </div>                        \r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    </div> \r\n</div>'),e.put("typescript/fonctionnalites/edition/offre/mandats/modale-consulter/modale-consulter.html",'<div class="form-horizontal">\r\n    <div class="modal-header">\r\n        <button type="button" id="btn-close" class="close" aria-hidden="true" ng-click="ctrl.close()">\r\n            <span class="icon itce-times"></span>\r\n        </button>\r\n        <h1 class="modal-title">Consulter le mandat</h1>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div class="row">\r\n            <div class="col-md-12 mw-form-static">\r\n                <div class="form-group">\r\n                    <label class="col-md-5 control-label">Crédit</label>\r\n                    <p class="col-md-7 form-control-static" ng-bind="::ctrl.mandatCredit.libelleCredit"></p>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-md-5 control-label">Payeur</label>\r\n                    <p class="col-md-7 form-control-static" ng-bind="::ctrl.libellePayeur"></p>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-md-5 control-label">Participation au paiement</label>\r\n                    <p class="col-md-7 form-control-static">\r\n                        <span ng-bind="::ctrl.payeur.pourcentagePaiementCredit "></span>\r\n                        <span>%</span>\r\n                    </p>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-md-5 control-label">Mode de réglement</label>\r\n                    <p class="col-md-7 form-control-static" ng-bind="::ctrl.mandatCredit.modeReglement.libelleLongModeRegle"></p>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-md-5 control-label">Bic</label>\r\n                    <p class="col-md-7 form-control-static" ng-bind="::ctrl.mandatCredit.bic"></p>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-md-5 control-label">Iban</label>\r\n                    <p class="col-md-7 form-control-static">\r\n                        <mwsf-iban id="iban" data-ng-model="::ctrl.mandatCredit.iban" required="false" read-only="true"></mwsf-iban>\r\n                    </p>\r\n                </div>\r\n\r\n                <div class="form-group">\r\n                    <label class="col-md-5 control-label">Référence Unique Mandat (RUM)</label>\r\n                    <p class="col-md-7 form-control-static" ng-bind="::ctrl.payeur.referenceUniqueMand"></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <div class="col-md-offset-9 col-md-3">\r\n            <button type="button" class="btn btn-block btn-default" id="btn-fermer-modale" data-ng-click="ctrl.close()">\r\n                Fermer\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/edition/offre/instituts-emission/credit/modale-eligibilite/modale-eligibilite.html",'<div class="form-horizontal" mw-chargement="ctrl.loader" aria-busy="{{ctrl.loader}}">\r\n    <div class="modal-header">\r\n        <button type="button" id="btn-close" class="close" aria-hidden="true" ng-click="ctrl.close()">\r\n            <span class="icon itce-times"></span>\r\n        </button>\r\n        <h1 class="modal-title">Modifier l\'éligibilité</h1>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="form-group">\r\n                    <label class="col-lg-5 col-md-6 control-label" for="type-eligibilite">\r\n                        Sélection du type d\'éligibilité\r\n                    </label>\r\n                    <div class="col-md-6">\r\n                        <input id="type-eligibilite" name="type-eligibilite" type="text" class="form-control" required ng-model="ctrl.typeEligibiliteSelect" placeholder="Sélectionner" mw-combobox="typeEligibilite as typeEligibilite.libelle for typeEligibilite in ctrl.listeTypeEligibilite">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <div class="col-md-offset-6 col-md-3">\r\n            <button type="button" class="btn btn-block btn-default" id="btn-annuler" data-ng-click="ctrl.close()">\r\n                Annuler\r\n            </button>\r\n        </div>\r\n        <div class="col-md-3">\r\n            <button type="button" class="btn btn-block btn-primary" id="btn-modifier" data-ng-click="ctrl.valider()" data-ng-disabled="!ctrl.typeEligibiliteSelect">\r\n                Modifier\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("typescript/fonctionnalites/edition/offre/mandats/credit/templates/btn-attribuer.html",'<button type="button" class="btn btn-block btn-default mw-troncature" id="btn-attribuer" ng-click="ctrl.attribuer()">\r\n    Attribuer\r\n</button>'),e.put("typescript/fonctionnalites/edition/offre/mandats/credit/templates/btn-consulter.html",'<button type="button" class="btn btn-block btn-zone mw-troncature" id="btn-consulter" ng-click="ctrl.consulter()">\r\n    Consulter\r\n</button>'),e.put("typescript/fonctionnalites/edition/offre/mandats/credit/templates/btn-supprimer.html",'<button type="button" class="btn btn-block btn-default mw-troncature" id="btn-supprimer" ng-click="ctrl.supprimer()">\r\n    Supprimer\r\n</button>')}]);