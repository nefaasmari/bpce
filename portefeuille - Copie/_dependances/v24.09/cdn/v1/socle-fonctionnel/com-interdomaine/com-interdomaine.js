/**
 * Généré par : SIGCESIE\ct-tfsbuild
 * Changeset TFS : C672478
 * Etiquette TFS : com-interdomaine-v1-v23.03_20230222.1
 * Déclenchement : IndividualCI
 */
"use strict";var myway;!function(e){var t;!function(e){e.app=angular.module("myway.comInterdomaine",["ui.bootstrap","moduleAgent","myway.ui","ngSanitize"])}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(t){var i=this;this.$scope=t,this.items=this.list,t.$watch(function(){return i.mwsfFocusIfBool},function(e,i){e&&t.setFocus()}),t.$watch(function(){return i.notItemsFoundText},function(t,i){t&&(e.NO_ITEM_FOUND_TEXT=t.toString())}),t.$watch(function(){return i.list},function(e,t){i.isUniqueListValue(e)&&(i.advancedSelectModel=e[0][i.valueViewList],i.ngModel=e[0])}),t.$watch(function(){return i.ngModel},function(e,t){angular.isDefined(e)&&null!=e?("string"==typeof e&&e.toString()&&(i.advancedSelectModel=e),"object"==typeof e&&e[i.valueViewList]&&(i.advancedSelectModel=e[i.valueViewList])):i.advancedSelectModel=null}),t.$watch(function(){return i.advancedSelectModel},function(e,t){angular.isUndefined(e)&&(i.advancedSelectModel=[])})}return e.prototype.initClickEventChevron=function(){this.setFocus=!0,angular.isDefined(this.advancedSelectModel)&&(this.items=this.list)},e.prototype.bindingModel=function(e){angular.isDefined(e)&&(this.ngModel=e,this.advancedSelectModel=e[this.valueViewList])},e.prototype.regexData=function(t){if(t){var i=[];if(this.writeNumberOnly){if(this.writeStringOnly)throw new Error("writeNumberOnly = writeStringOnly = true. Un des deux paramètres doit être a false\n");this.ngModel=this.advancedSelectModel=t.replace(/[^0-9]/g,"")}if(this.writeStringOnly){if(this.writeNumberOnly)throw new Error("writeNumberOnly = writeStringOnly = true. Un des deux paramètres doit être a false\n");this.ngModel=this.advancedSelectModel=t.replace(/[^a-zA-Z\s\$\-\']/g,"")}if(angular.isDefined(this.findFullText)&&this.findFullText&&(i=this.findFullTextFunction(this.list,String(this.advancedSelectModel).toString(),this.keyList,this.valueViewList)),angular.isDefined(this.findFullText)&&!this.findFullText&&(i=this.findNotFullTextFunction(this.list,String(this.advancedSelectModel).toString(),this.keyList,this.valueViewList)),angular.isUndefined(this.findFullText)&&(i=void 0,angular.isUndefined(i)&&(this.items=this.list)),angular.isDefined(i)&&i&&i.length>0&&(this.items=[],this.items=i),angular.isDefined(i)&&i&&0===i.length){this.items=[];var n={};n[this.keyList]=1,n[this.valueViewList]=e.NO_ITEM_FOUND_TEXT;var r=[];r.push(n),this.items=r}}else this.advancedSelectModel=this.ngModel=[],this.items=this.list},e.prototype.reajusterValeur=function(e){if(e){if(this.padLeft){if(!this.padLeftString)throw new Error('padLeftString est un paramètre obligatoire pour l\'utilisation du param padLeft.	< mwsf-saisie-advanced-select  pad-left="true" pad-left-string="cracterePad"  \n');var t=e;e=MyWay.Services.StringUtils.padLeft(t,this.padLeftString,this.ngMaxlength)}this.isUniqueListValue(this.list)?0===String(this.list[0][this.valueViewList]).localeCompare(String(e))?(this.advancedSelectModel=e,this.ngModel=this.list[0]):this.advancedSelectModel=this.ngModel=e:this.searchItemInList(this.list,e)}},e.prototype.isUniqueListValue=function(e){var t=!1;return e&&(t=1===e.length?!0:!1),t},e.prototype.searchItemInList=function(e,t){var i=!1;for(var n in e)0===String(e[n][this.valueViewList]).localeCompare(t)&&(i=!0,this.advancedSelectModel=t,this.ngModel=e[n]);i||(this.advancedSelectModel=this.ngModel=t)},e.prototype.findNotFullTextFunction=function(e,t,i,n){var r,o=[];return t?(angular.forEach(e,function(e,i){r=e[n].substring(0,t.length),r.match(t)&&this.push(e)},o),o):void 0},e.prototype.findFullTextFunction=function(e,t,i,n){var r=[];return t?(angular.forEach(e,function(e,i){(-1!==e[n].indexOf(t)||-1!==e[n].toUpperCase().indexOf(t.toUpperCase()))&&this.push(e)},r),r):void 0},e.$inject=["$scope"],e}();e.SaisirAdvancedSelectController=t,e.app.controller("SaisirAdvancedSelectController",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(e){return{restrict:"E",templateUrl:"typescript/advanced-select/saisie-advanced-select-view.html",scope:{keyList:"@",valueViewList:"@",ngMaxlength:"@",padLeftString:"@",dropdownSetWidth:"@",notItemsFoundText:"@",findFullText:"=",padLeft:"=",list:"=",readOnly:"=",required:"=",ngModel:"=",chevronVisible:"=",writeNumberOnly:"=",writeStringOnly:"=",mwsfFocusIfBool:"="},controller:"SaisirAdvancedSelectController",controllerAs:"viewModelAdvancedSelectCtrl",bindToController:!0,link:function(t,i,n){if(!("ngModel"in n))throw new Error('ngModel est un paramètre obligatoire. ==>  < mwsf-saisie-advanced-select data-ng-model="myObject" >');if(!("list"in n))throw new Error('list est un paramètre obligatoire. ==>  < mwsf-saisie-advanced-select list="myObject" >');if(!("findFullText"in n))throw new Error('findFullText est un paramètre obligatoire. ==>  < mwsf-saisie-advanced-select find-full-text="true or false" >');if(!("readOnly"in n))throw new Error('readOnly est un paramètre obligatoire. ==>  < mwsf-saisie-advanced-select read-only="true or false" >');if(!("chevronVisible"in n))throw new Error('chevronVisible est un paramètre obligatoire. ==>  < mwsf-saisie-advanced-select chevron-visible="true or false" >');if(!("notItemsFoundText"in n))throw new Error('notItemsFoundText est un paramètre obligatoire. ==>  <mwsf-saisie-advanced-select not-items-found-text="text a affiche" >');t.setFocus=function(){var i=t.advancedSelectBis;e(function(){i[0].focus(),t.$apply()},1)},t.setVisibleDropDown=function(e){var i=t.advancedSelectParentDivBis;e||angular.element(i[0]).addClass("open")}}}}e.mwsfSaisieAdvancedSelect=t,t.$inject=["$timeout"],e.app.directive("mwsfSaisieAdvancedSelect",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e){this.$scope=e,this.bic=this.bic?this.bic.toUpperCase():this.bic}return t.prototype.keydown=function(t){this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS)),this.bic=this.bic?this.bic.toUpperCase():this.bic},t.$inject=["$scope"],t}();t.SaisirBicController=i,t.app.controller("SaisirBicController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/bic/saisie-bic-view.html",scope:{bic:"=ngModel",required:"=",enterKeypressEvent:"=",disabled:"=disabled",readOnly:"="},controller:"SaisirBicController",controllerAs:"viewModelBicCtrl",bindToController:!0,link:function(e,t,i){if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==> <  mwsf-bic  data-ng-model="myObject" >\n')}}}e.app.directive("mwsfBic",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e,t){var i=this;this.$scope=e,this.saisieBicIbanService=t,this.iban=this.iban?this.iban.toUpperCase():this.iban,this.iban&&this.champUnique&&this.testeLongueurIbanPourGenererBic(),this.champUnique||(this.iban1Keydown=!1,this.iban2Keydown=!1,this.iban3Keydown=!1,this.iban4Keydown=!1,this.iban5Keydown=!1,this.iban6Keydown=!1,this.iban7Keydown=!1,this.iban&&this.initIban(),e.$watch(function(){return i.iban8},function(e,t){i.iban8&&7===i.iban8.length&&(i.getIbanReconstruit(),i.testeLongueurIbanPourGenererBic())}),e.$watch(function(){return i.iban1},function(e,t){e&&(i.getIbanReconstruit(),i.bic="",i.isValid=!1)}),e.$watch(function(){return i.iban4},function(e,t){e&&(i.getIbanReconstruit(),i.bic="",i.isValid=!1)}),e.$watch(function(){return i.iban5},function(e,t){e&&(i.getIbanReconstruit(),i.bic="",i.isValid=!1)}),e.$watch(function(){return i.iban6},function(e,t){e&&(i.getIbanReconstruit(),i.bic="",i.isValid=!1)}),e.$watch(function(){return i.iban7},function(e,t){e&&(i.getIbanReconstruit(),i.bic="",i.isValid=!1)})),e.$watch(function(){return i.iban},function(e,t){i.champUnique?(i.initIban(),i.testeLongueurIbanPourGenererBic()):(i.msgErreur="",e?(i.initIban(),i.getIbanReconstruit(),i.testeLongueurIbanPourGenererBic()):(i.bic="",i.iban="",i.initIban(),i.isValid=!1))}),this.readOnly&&this.iban&&this.testeLongueurIbanPourGenererBic()}return t.prototype.initIban=function(){this.champUnique?(this.bic="",this.isValid=!1):this.iban?(this.iban1=this.iban.length>=4?this.iban.substr(0,4):this.iban.substr(0,this.iban.length),this.iban2=this.iban.length>=8?this.iban.substr(4,4):this.iban.substr(4,this.iban.length),this.iban3=this.iban.length>=12?this.iban.substr(8,4):this.iban.substr(8,this.iban.length),this.iban4=this.iban.length>=16?this.iban.substr(12,4):this.iban.substr(12,this.iban.length),this.iban5=this.iban.length>=20?this.iban.substr(16,4):this.iban.substr(16,this.iban.length),this.iban6=this.iban.length>=24?this.iban.substr(20,4):this.iban.substr(20,this.iban.length),this.iban7=this.iban.length>=27?this.iban.substr(24,3):this.iban.substr(24,this.iban.length),this.iban8=this.iban.length>=34?this.iban.substr(27,7):this.iban.substr(27,this.iban.length)):(this.iban1="",this.iban2="",this.iban3="",this.iban4="",this.iban5="",this.iban6="",this.iban7="",this.iban8="",this.bic="",this.isValid=!1)},t.prototype.keydown=function(t,i){if(this.iban1BackFocus=!1,this.iban2BackFocus=!1,this.iban3BackFocus=!1,this.iban4BackFocus=!1,this.iban5BackFocus=!1,this.iban6BackFocus=!1,this.iban7BackFocus=!1,this.iban1Keydown=!1,this.iban2Keydown=!1,this.iban3Keydown=!1,this.iban4Keydown=!1,this.iban5Keydown=!1,this.iban6Keydown=!1,this.iban7Keydown=!1,this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS)),t.keyCode!==e.comInterdomaine.KeyCode.BACKSPACE)switch(i){case 1:this.iban1Keydown=!0;break;case 2:this.iban2Keydown=!0;break;case 3:this.iban3Keydown=!0;break;case 4:this.iban4Keydown=!0;break;case 5:this.iban5Keydown=!0;break;case 6:this.iban6Keydown=!0;break;case 7:this.iban7Keydown=!0}else switch(i){case 2:this.iban1BackFocus=this.backspaceIban(this.iban2);break;case 3:this.iban2BackFocus=this.backspaceIban(this.iban3);break;case 4:this.iban3BackFocus=this.backspaceIban(this.iban4);break;case 5:this.iban4BackFocus=this.backspaceIban(this.iban5);break;case 6:this.iban5BackFocus=this.backspaceIban(this.iban6);break;case 7:this.iban6BackFocus=this.backspaceIban(this.iban7);break;case 8:this.iban7BackFocus=this.backspaceIban(this.iban8)}},t.prototype.backspaceIban=function(e){return!e||e&&(1===e.length||0===e.length)?!0:!1},t.prototype.getIbanReconstruit=function(){this.iban=this.iban1?this.iban1:"",this.iban+=this.iban2?this.iban2:"",this.iban+=this.iban3?this.iban3:"",this.iban+=this.iban4?this.iban4:"",this.iban+=this.iban5?this.iban5:"",this.iban+=this.iban6?this.iban6:"",this.iban+=this.iban7?this.iban7:"",this.iban+=this.iban8?this.iban8:"",this.iban=this.iban?this.iban.toUpperCase():this.iban},t.prototype.onBlur=function(){this.champUnique?this.testeLongueurIbanPourGenererBic():this.iban1BackFocus||this.iban2BackFocus||this.iban3BackFocus||this.iban4BackFocus||this.iban5BackFocus||this.iban6BackFocus||this.iban7BackFocus||this.getIbanReconstruit()},t.prototype.testeLongueurIbanPourGenererBic=function(){var e=this;!this.iban||this.iban.length<=1?this.msgErreur="":this.iban&&this.iban.length>=2?this.saisieBicIbanService.getLongueurIban(this.iban.substr(0,2)).then(function(t){e.msgErreur="",e.longueurIban=t,e.iban&&void 0!==e.longueurIban&&e.iban.length>=e.longueurIban&&e.controleGenrationBic()})["catch"](function(t){e.msgErreur=t.message,e.isValid=!1}):this.iban&&void 0!==this.longueurIban&&this.iban.length>=this.longueurIban&&this.controleGenrationBic()},t.prototype.controleGenrationBic=function(){var e=this;this.saisieBicIbanService.getValidationCleIban(this.iban).then(function(){e.genereBic()})["catch"](function(t){e.msgErreur=t.message||t.libelle,e.msgErreur=e.msgErreur.split("(")[0],e.bic="",e.isValid=!1})},t.prototype.genereBic=function(){var e=this;this.isValid=!1,this.saisieBicIbanService.getBic(this.iban).then(function(t){e.bic=t,e.msgErreur="",e.isValid=!0})["catch"](function(t){e.bic="",e.isValid=!1;var i=t.libelle;i.indexOf("Longueur IBAN invalide")>-1?e.msgErreur=i.split("Longueur IBAN invalide, ")[1].split("(")[0]:-1!==i.indexOf("Code pays non trouvé")?(e.bic="IBAN non SEPA",e.msgErreur="",t=null):e.msgErreur=i.split("(")[0]})},t.$inject=["$scope","saisieBicIbanService"],t}();t.SaisieBicIbanController=i,t.app.controller("SaisieBicIbanController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/bic-iban/saisie-bic-iban-view.html",scope:{iban:"=ngModel",bic:"=bic",required:"=",enterKeypressEvent:"=",readOnly:"=",isValid:"=?isValid",champUnique:"="},controller:"SaisieBicIbanController",controllerAs:"ctrl",bindToController:!0,link:function(e,t,i){if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==> <  mwsf-bic-iban  data-ng-model="myObject" >\n');if(!("bic"in i))throw new Error('bic est un paramètre obligatoire.   ==> <  mwsf-bic-iban  bic="myObject" >\n')}}}e.app.directive("mwsfBicIban",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t){this.serviceAgentExtended=e,this.$q=t}return e.prototype.getBic=function(t){var i="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083",n=i+"/"+e.OPE_FI_VERSION+"determinationBic?numeroIbanCompte="+t;return this.serviceAgentExtended.sendRequest({url:n,withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(e){return e?e.codeBic:""})},e.prototype.getValidationCleIban=function(t){var i,n,r;t&&t.length>4&&(i=t.substr(0,2),n=t.substr(2,2),r=t.substring(4));var o="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083",a=o+"/"+e.OPE_FI_VERSION+"calculCleIban";return this.serviceAgentExtended.sendRequest({url:a,params:{codeTypeTraitement:"V",indicatifPaysDonneurOrdre:i,ibanEuropeen:r,cle:n},withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(e){return e})},e.prototype.getLongueurIban=function(e){var t=this;return this.serviceAgentExtended.getAuthentificationInfo().then(function(i){return t.serviceAgentExtended.getDonneesDelocalisees(i.codeEtablissement,"H81E").then(function(i){for(var n=t.$q.defer(),r=!1,o=0,a=i.donnees,s=0;s<a.length&&!r;s++)e===a[s].COLIPB&&(r=!0,o=Number(a[s].QLHDIB));return r||n.reject({message:"Code pays inconnu"}),0===o&&n.reject({message:"Ce pays ne gère pas les formats IBAN"}),n.resolve(o),n.promise})})},e.OPE_FI_VERSION="opefinanciereservice-v1/",e.$inject=["serviceAgentExtended","$q"],e}();e.SaisieBicIbanService=t,e.app.service("saisieBicIbanService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e){this.serviceAgentExtended=e}return e.prototype.getNumeroBordereau=function(e,t){var i="";console.log("appel getNumeroBordereau");var n=this.serviceAgentExtended,r=this;return t?this.serviceAgentExtended.Context.GetCurrentProcessId().then(function(t){var o="NumeroBordereau"+_.padLeft(e,9,"0")+"_"+t;return n.Context.GetFromContext(o).then(function(e){return i=e,console.log("la valeur récupérée est :"+e),null!==i?i:r.getNumBordereau().then(function(e){return n.Context.AddToSharedContext(o,e).then(function(){console.log("ajout effectué")}),e})})}):r.getNumBordPTU().then(function(e){return e})},e.prototype.getIdentifiantBordereau=function(e,t){var i="",n=this;return n.getCurrentPoste().then(function(r){return n.getNumeroBordereau(e,t).then(function(e){return i=r+"-"+e})})},e.prototype.getNumBordereau=function(){var e="";console.log("appel getNumBordereau");var t=this.serviceAgentExtended;return t.Context.GetFromContext("NumBordereau").then(function(i){return e=i,console.log("la valeur récupérée est :"+i),e=null!==e?String(parseInt(e)+1):"50000",t.Context.AddToSharedContext("NumBordereau",e).then(function(){console.log("ajout effectué")}),e})},e.prototype.getCurrentPoste=function(){return this.serviceAgentExtended.getAuthentificationInfo().then(function(e){try{return console.log(e),e.numeroStationTravail}catch(t){throw"impossible de récuperer les données depuis le contexte"}})},e.prototype.getNumBordPTU=function(){var e=this;return this.serviceAgentExtended.getFromContext("NOGXQO").then(function(t){return null===t&&(t="00000",e.serviceAgentExtended.Trace.error("Absence de NOGXQO dans le contexte de lancement du processus"),console.log("Absence de NOGXQO dans le contexte de lancement du processus ")),console.log("numbordPTU :"+t),t})},e.$inject=["serviceAgentExtended"],e}();e.IdentifiantBordereauService=t,e.app.service("identifiantBordereauService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e){var t=this;this.$scope=e,e.$watch(function(){return t.date},function(e,i){if(e){var n=(new Date).getTime(),r=new Date(String(t.date)).getTime();0>n-r?t.XM041A=!0:n-r>0&&(n-r>4733551974201?(t.XM041A=!1,t.XM013A=!0):(t.XM041A=!1,t.XM013A=!1))}else t.XM041A=!1,t.XM013A=!1,t.date=e})}return t.prototype.keydown=function(t){this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.$inject=["$scope"],t}();t.SaisirDateDeNaissanceController=i,t.app.controller("SaisirDateDeNaissanceController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/date-de-naissance/saisie-date-de-naissance-view.html",scope:{date:"=ngModel",required:"=",agentLaHenin:"=",enterKeypressEvent:"="},controller:"SaisirDateDeNaissanceController",controllerAs:"viewModelDateNaissanceCtrl",bindToController:!0,link:function(e,t,i,n){if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==>  < mwsf-date-de-naissance ng-model="myObject" > \n')}}}e.app.directive("mwsfDateDeNaissance",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e){this.$scope=e,this.affineValue(this.bureauRattachement)}return t.prototype.affineValue=function(e){e&&String(e).length<t.MAX_LENGTH&&(this.bureauRattachement=MyWay.Services.StringUtils.padLeft(String(e),"0",t.MAX_LENGTH))},t.prototype.keydown=function(t){this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.MAX_LENGTH=7,t.$inject=["$scope"],t}();t.SaisirBureauRattachementController=i,t.app.controller("SaisirBureauRattachementController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/bureau-rattachement/saisie-bureau-rattachement-view.html",scope:{bureauRattachement:"=ngModel",required:"=",setFocus:"=",enterKeypressEvent:"="},controller:"SaisirBureauRattachementController",controllerAs:"viewModelBureauRattachementCtrl",bindToController:!0,link:function(e,t,i){if(!("required"in i))throw new Error('required est un paramètre obligatoire.   ==> < mwsf-saisie-bureau-rattachement required="true or false" > \n');if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==> < mwsf-saisie-bureau-rattachement data-ng-model="myObject" >\n')}}}e.app.directive("mwsfSaisieBureauRattachement",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e){this.$scope=e,this.email?this.onBlurMessageDerreur=!0:this.onBlurMessageDerreur=!1}return t.prototype.keydown=function(t){this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.prototype.onBlur=function(){this.onBlurMessageDerreur=!0},t.$inject=["$scope"],t}();t.SaisirEmailController=i,t.app.controller("SaisirEmailController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/e-mail/saisie-email-view.html",scope:{email:"=ngModel",required:"=",setFocus:"=",enterKeypressEvent:"="},controller:"SaisirEmailController",controllerAs:"viewModelEmailCtrl",bindToController:!0,link:function(e,t,i){if(!("ngModel"in i))throw new Error('ngModel est un paramètre obligatoire. ==>  < mwsf-email data-ng-model="myObject" >')}}}e.app.directive("mwsfEmail",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"typescript/hretractable/hretractable-view.html",scope:{open:"=",titre:"@",customClass:"@"},controller:function(e){e.open=!!e.open,e.toggleOpen=function(){e.open=!e.open},e.customclass="panel-collapsible",e.type&&"over"===e.type&&(e.customclass="panel-collapsible-over")}}}e.app.directive("mwsfHretractable",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e){this.$scope=e,this.iban=this.iban?this.iban.toUpperCase():this.iban}return t.prototype.keydown=function(t){this.iban=this.iban?this.iban.toUpperCase():this.iban,this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.$inject=["$scope"],t}();t.SaisirIbanController=i,t.app.filter("ibanFilter",function(){return function(e){var t="",i=0;if(e){for(;24>i;)t+=e.substr(i,4)+" ",i+=4;return 24===i&&(t+=e.substr(i,3)+" ",i+=3),27===i&&(t+=e.substr(i)),t}}}),t.app.controller("SaisirIbanController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/iban/saisie-iban-view.html",scope:{iban:"=ngModel",required:"=",enterKeypressEvent:"=",disabled:"=disabled",readOnly:"="},controller:"SaisirIbanController",controllerAs:"viewModelIbanCtrl",bindToController:!0,link:function(e,t,i){if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==> <  mwsf-iban  data-ng-model="myObject" >\n')}}}e.app.directive("mwsfIban",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e,t){var i=this;this.$scope=e,this.saisieIdentifiantClientService=t,this.saisieIdentifiantClientService.getDataFromN831().then(function(e){0===e.length?i.maxLength=10:i.maxLength=0===String(e[0].CENAID).localeCompare("O")?10:9})}return t.prototype.setValue=function(e){e&&angular.isDefined(e)&&(e.length>this.maxLength?this.identClient=e.substr(1,this.maxLength):this.identClient=MyWay.Services.StringUtils.padLeft(e,"0",this.maxLength))},t.prototype.keydown=function(t,i){this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(i&&angular.isDefined(i)&&(i.length<this.maxLength?this.identClient=MyWay.Services.StringUtils.padLeft(i,"0",this.maxLength):i.length>this.maxLength&&(this.identClient=i.substr(1,this.maxLength))),t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.$inject=["$scope","saisieIdentifiantClientService"],t}();t.SaisirIdentClientController=i,t.app.controller("SaisirIdentClientController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(e){return{restrict:"E",templateUrl:"typescript/identifiant-client/saisie-identifiant-client-view.html",scope:{identClient:"=ngModel",required:"=",setFocus:"=",enterKeypressEvent:"="},controller:"SaisirIdentClientController",controllerAs:"viewModelIdentClientCtrl",bindToController:!0,link:function(e,t,i){if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==>  < mwsf-saisie-identifiant-client ng-model="myObject" > \n');if(!("required"in i))throw new Error('required est un paramètre obligatoire.   ==>  < mwsf-saisie-identifiant-client required="true or false" > \n')}}}t.$inject=["$timeout"],e.app.directive("mwsfSaisieIdentifiantClient",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e){this.serviceAgentExtended=e}return e.prototype.getDataFromN831=function(){var e=this;return this.getCurrentCOCXBQ().then(function(t){return e.getN831(t).then(function(e){return e.donnees})})},e.prototype.getCurrentCOCXBQ=function(){return this.serviceAgentExtended.getAuthentificationInfo().then(function(e){try{return e.codeEtablissement}catch(t){throw"impossible de récuperer les données depuis le context"}})},e.prototype.getN831=function(e){return this.serviceAgentExtended.getDonneesDelocalisees(e,"N831").then(function(e){return e})},e.$inject=["serviceAgentExtended"],e}();e.SaisieIdentifiantClientService=t,e.app.service("saisieIdentifiantClientService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function t(t,i,n,r,o,a,s,l){var c=this;this.$scope=t,this.$q=i,this.$document=n,this.$timeout=r,this.$element=o,this.$attrs=a,this.serviceAgentExtended=s,this.infobulleAideService=l,this.flottante="flottante"in this.$attrs?"false"!==this.$attrs.flottante.toLowerCase():!1,this.processus="processus"in this.$attrs?"false"!==this.$attrs.processus.toLowerCase():!0,this.autofocus="autofocus"in this.$attrs?"false"!==this.$attrs.autofocus.toLowerCase():!0,this.autoclose="autoclose"in this.$attrs?"false"!==this.$attrs.autoclose.toLowerCase():!0,this.estClique=!1,this.params=new e.InfobulleSpecialParams(this.processus,this.codeProcessus,this.codeEtape,this.codeEtablissement,this.date),this.infobulleAideService.getInfobulleAffichable(this.idChamp,this.params).then(function(e){c.id=e.idChamp,c.showPicto=!!e,c.nouveaute=c.showPicto&&e.nouveaute,c.nouveaute&&c.infobulleAideService.lirePreferenceUtilisateurInfobulle(c.id).then(function(e){c.nouveaute=!e}),c.ouvert&&c.openInfobulle()})["catch"](function(e){console.error(e)}),this.closeEvent=function(e){c.$element[0].contains(e.target)||c.$scope.$apply(function(){c.closeInfobulle()})}}return t.prototype.toggleOuvert=function(){this.ouvert?this.closeInfobulle():this.openInfobulle()},t.prototype.openInfobulle=function(){var e=this;this.getContenuInfobulle().then(function(){e.ouvert=!0,e.estClique=!0,e.nouveaute&&(e.nouveaute=!1,e.infobulleAideService.ecrirePreferenceUtilisateurInfobulle(e.id)),e.autoclose&&(e.$document[0].addEventListener("focus",e.closeEvent,!0),e.$document[0].addEventListener("click",e.closeEvent,!0)),e.autofocus&&e.$timeout(function(){var t=e.$element[0].querySelector(".mwsf-infobulle-transclude").firstChild;-1!==t.className.indexOf("ui-select-container")?t=t.querySelector(".ui-select-focusser"):"INPUT"!==t.nodeName&&"BUTTON"!==t.nodeName&&(t=t.querySelector("input")),t&&angular.isFunction(t.focus)&&t.focus()})})},t.prototype.closeInfobulle=function(){this.ouvert=!1,this.autoclose&&(this.$document[0].removeEventListener("click",this.closeEvent,!0),this.$document[0].removeEventListener("focus",this.closeEvent,!0))},t.prototype.getContenuInfobulle=function(){var e=this;return this.contenuInfobullePromise||(this.contenuInfobullePromise=new this.$q(function(t,i){e.infobulleAideService.getContenuInfobulle(e.idChamp,e.params).then(function(n){e.message=n.contenu,e.image=n.image,e.message||e.image?t():(e.serviceAgentExtended.Trace.error("infobulle "+e.idChamp+": sans image ou texte"),i())})["catch"](function(t){e.serviceAgentExtended.Trace.error("infobulle "+e.idChamp+": "+t),i()})})),this.contenuInfobullePromise},t.$inject=["$scope","$q","$document","$timeout","$element","$attrs","serviceAgentExtended","infobulleAideService"],t}();e.MwsfInfobulleAideController=t,e.app.controller("MwsfInfobulleAideController",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"typescript/infobulle-aide/infobulle-aide-view.html",controller:"MwsfInfobulleAideController",controllerAs:"$ctrl",bindToController:!0,scope:{idChamp:"@",ouvert:"=?",nouveaute:"=?",estClique:"=?",date:"=?",codeProcessus:"@?",codeEtape:"@?",codeEtablissement:"@?"}}}e.app.directive("mwsfInfobulleAide",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(){}return e.EMPTY_CODE_PROCESSUS="undefined",e.EMPTY_CODE_ETAPE="URL",e.URL_SERVICE_RECHERCHE="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/aideenligne/v1/recherche/",e}();e.InfobulleConstantes=t;var i=function(){function e(e,i,n,r,o){this.processus=e,this.codeProcessus=i,this.codeEtape=n,this.codeEtablissement=r,"string"==typeof o?this.date=new Date(o):this.date=o,this.processus||this.codeProcessus||this.codeEtape||(this.codeProcessus=t.EMPTY_CODE_PROCESSUS,this.codeEtape=t.EMPTY_CODE_ETAPE)}return e.prototype.isDefined=function(){return!!(this.codeProcessus||this.codeEtape||this.codeEtablissement||this.date)},e}();e.InfobulleSpecialParams=i}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function t(e,t){this.$q=e,this.serviceAgentExtended=t}return t.prototype.clearCacheInfobullesAffichables=function(){this.presenceInfobullePromise=null},t.prototype.getInfobullesAffichables=function(e){var t=this;if(this.presenceInfobullePromise&&!e.isDefined())return this.presenceInfobullePromise;var i=this.serviceAgentExtended.getAuthentificationInfo().then(function(i){return t.getPresenceInfobulle({codeEtablissement:e.codeEtablissement||i.codeEtablissement,processus:angular.isDefined(e.codeProcessus)?e.codeProcessus:t.serviceAgentExtended.Step.ProcessCode,etape:angular.isDefined(e.codeEtape)?e.codeEtape:t.serviceAgentExtended.Step.StepCode,date:(e.date||new Date).toISOString().substr(0,10)}).then(function(e){return _.indexBy(e,function(e){return e.nomChamp})})});return e.isDefined()||(this.presenceInfobullePromise=i),i},t.prototype.getInfobulleAffichable=function(e,t){var i=this;return this.getInfobullesAffichables(t).then(function(t){var n=t[e];return n?n:i.$q.reject("infobulle non trouvée: "+e)})},t.prototype.getContenuInfobulle=function(t,i){var n=this;return this.serviceAgentExtended.getAuthentificationInfo().then(function(r){var o={codeEtablissement:i.codeEtablissement||r.codeEtablissement,processus:angular.isDefined(i.codeProcessus)?i.codeProcessus:n.serviceAgentExtended.Step.ProcessCode,etape:angular.isDefined(i.codeEtape)?i.codeEtape:n.serviceAgentExtended.Step.StepCode,date:(i.date||new Date).toISOString().substr(0,10),nomChamp:t};return o.processus||delete o.processus,o.etape||delete o.etape,n.serviceAgentExtended.sendRequest({url:e.InfobulleConstantes.URL_SERVICE_RECHERCHE+"infobulle",withHeaders:!0,method:MyWay.Services.MethodEnum.GET,params:o})})},t.prototype.lirePreferenceUtilisateurInfobulle=function(e){return this.$q.when(this.serviceAgentExtended.Preferences.LirePreference(this.getIdChampPreference(e)))["catch"](function(e){return null})},t.prototype.ecrirePreferenceUtilisateurInfobulle=function(e){return this.$q.when(this.serviceAgentExtended.Preferences.EcrirePreference(this.getIdChampPreference(e),"LU"))},t.prototype.getIdChampPreference=function(e){return"AIDE_INFOBULLE_"+e},t.prototype.getPresenceInfobulle=function(t){return this.serviceAgentExtended.sendRequest({url:e.InfobulleConstantes.URL_SERVICE_RECHERCHE+"presenceinfobulle",withHeaders:!0,method:MyWay.Services.MethodEnum.GET,params:t})},t.$inject=["$q","serviceAgentExtended"],t}();e.InfobulleAideService=t,e.app.service("infobulleAideService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var MyWay;!function(e){var t;!function(e){function t(e,t,i){return{restrict:"A",
scope:!1,link:function(e,i,n){var r=angular.element(t.get("typescript/input-loader/input-loader-view.html"));i.after(r),e.$watch(n.mwInputLoader,function(e,t){e?r.removeClass("hidden"):r.addClass("hidden")})}}}angular.module("myway.ui").directive("mwInputLoader",["$timeout","$templateCache","$compile",t])}(t=e.UI||(e.UI={}))}(MyWay||(MyWay={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n){var r=this;this.$scope=e,this.serviceAgentExtended=t,this.listeCompteIbanService=i,this.$q=n,this.getListeComptesIban(),e.$watch(function(){return r.parametres},function(e,t){console.log("*****com-interdomaine ***** Constructor liste-compte-iban"),console.log("parametres ",r.parametres),console.log("newValue ",e),console.log("oldValue ",t),e&&t&&e!==t&&r.getListeComptesIban()}),e.$watch(function(){return r.parametres},function(e,t){console.log("*****com-interdomaine ***** Constructor liste-compte-iban"),console.log("parametres ",r.parametres),console.log("newValue ",e),console.log("oldValue ",t),e&&t&&e!==t&&r.getListeComptesIban()})}return e.prototype.getListeComptesIban=function(){var e=this;this.errorService=null,this.listeCompteIban=[],console.log("***** com-interdomaine ***** getListeCompteIBAN parametre ",this.parametres),this.parametres&&this.listeCompteIbanService.getListCompteIban(this.parametres.codeEtablissement,this.parametres.codeGuichetInterbancaire,this.parametres.numeroComptePS,"4").then(function(t){t&&t.listeDesIBANDeConsultation.listeDesIBAN.forEach(function(t){t.libelleBeneficiaireUltime&&t.numeroIBANCompteBeneficiaire&&(e.listeCompteIban.push(t),console.log("**** com-interdomaine **** getListComptesIban : listeCompteIban ",e.listeCompteIban))}),e.determinerPlaceHolder(e.listeCompteIban)})["catch"](function(t){e.errorService=t,console.warn(t.libelle)})},e.prototype.determinerPlaceHolder=function(e){this.placeHolder="Sélectionner un IBAN",this.listeGrisee=!1,(!e||e&&0===e.length)&&(this.placeHolder="Aucun compte IBAN",this.listeGrisee=!0,this.compteSelectionne=null)},e.prototype.onSelect=function(e){this._onSelect&&e&&!e.itemBottomSelectionne&&this._onSelect({selectedItem:e})},e.prototype.onBottomAction=function(e){this._onBottomAction&&e&&e.itemBottomSelectionne&&this._onBottomAction()},e.$inject=["$scope","serviceAgentExtended","listeCompteIbanService","$q"],e}();e.ListeCompteIbanController=t,e.app.controller("ListeCompteIbanController",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/list-compte-iban/list-compte-iban-view.html",scope:{compteSelectionne:"=?",_onSelect:"&onSelect",_onBottomAction:"&onBottomAction",parametres:"=",disabled:"@"},controller:"ListeCompteIbanController",controllerAs:"ctrl",bindToController:!0,link:function(e,t,i){if(!("parametres"in i))throw new Error('parametres est un paramètre obligatoire.   ==> <  mwsf-liste-compte-iban  parametres="myObject" >\n')}}}e.app.directive("mwsfListeCompteIban",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t){this.serviceAgentExtended=e,this.$q=t}return e.prototype.getListCompteIban=function(t,i,n,r){var o=this.$q.defer(),a="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083",s=e.CCIE_RESSOURCE,l=a+"/"+s;console.log("**** com-interdomaine ***** getListeCompteIban Service : URL ",l),console.log("**** com-interdomaine ***** getListeCompteIban Service : PARAM ",t,i,n);var c={url:l,method:MyWay.Services.MethodEnum.GET,withHeaders:!0,params:{codeEtablissement:t,codeGuichetInterbancaire:i,numeroComptePS:n,codeAction:r}};return this.serviceAgentExtended.sendRequest(c).then(function(e){o.resolve(e)})["catch"](function(e){o.reject(e)}),o.promise},e.CCIE_RESSOURCE="contratccie/v1/ibanContrat",e.$inject=["serviceAgentExtended","$q"],e}();e.ListeCompteIbanService=t,e.app.service("listeCompteIbanService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r){var o=this;this.$scope=e,this.serviceAgentExtended=t,this.listeCompteService=i,this.mwsfDeviseService=n,this.$q=r,this.messagesRetour=[],this.errorService=null,this.nombreComptes=null,this.listeCompte=[],this.initialisation=!0,this.compteInitialisation=!0,this.getListeComptes(),this.estAuthorize=!1,this.parametres.itemSupplementaire&&this.parametres.itemSupplementaire.parDefaut&&(this.compteSelectionne=this.listeCompte.filter(function(e){return e.itemSupplementaireSelectionne===!0})[0]),e.$watch(function(){return o.parametres},function(e,t){e&&t&&e!==t&&o.getListeComptes()}),e.$watch(function(){return o.parametres&&o.parametres.identifiantsPersonnes},function(e,t){e&&t!==e&&!angular.equals(t,e)&&o.getListeComptes()}),e.$watch(function(){return o.parametres&&o.parametres.identifiantsEntitesTitulaires},function(e,t){e&&t!==e&&!angular.equals(t,e)&&(o.parametres.padLeftIdentifiantsET(),o.getListeComptes())}),e.$watch(function(){return o.parametres&&o.parametres.compteAEnlever},function(e,t){if(e&&(o.listeCompte=o.listeCompteOrigine?angular.copy(o.listeCompteOrigine):o.listeCompte,null!==t)){var i=o.listeCompte.filter(function(e){return"SANS CONTREPARTIE"===e.libelleEntiteTitulaire}),n=i&&1===i.length?o.listeCompte.indexOf(i[0]):null;if(null!==n&&(o.listeCompte.splice(n,1),o.compteSelectionne=o.compteSelectionne&&"SANS CONTREPARTIE"===o.compteSelectionne.libelleEntiteTitulaire?null:o.compteSelectionne),o.parametres.compteAEnlever&&o.parametres.itemSupplementaire&&null!==e.riceContrat){var i=o.listeCompte.filter(function(e){return"SANS CONTREPARTIE"===e.libelleEntiteTitulaire}),r=i&&1===i.length?o.listeCompte.indexOf(i[0]):null;null===r&&o.createSansContrepartie()}}}),e.$watch(function(){return o.parametres&&o.parametres.compteAEnlever&&o.parametres.compteAEnlever.riceContrat},function(e,t){if(e){if(o.listeCompte=o.listeCompteOrigine?angular.copy(o.listeCompteOrigine):o.listeCompte,null!==t){var i=o.listeCompte.filter(function(e){return"SAISIR UN IBAN AUTORISÉ"===e.libelleEntiteTitulaire}),n=i&&1===i.length?o.listeCompte.indexOf(i[0]):null;null!=n&&(o.listeCompte.splice(n,1),o.compteSelectionne=o.compteSelectionne&&"SAISIR UN IBAN AUTORISÉ"===o.compteSelectionne.libelleEntiteTitulaire?null:o.compteSelectionne)}if(o.parametres.compteAEnlever&&o.parametres.itemSupplementaireBis&&"O"===o.parametres.compteAEnlever.indicateurEncadrementCCI){var i=o.listeCompte.filter(function(e){return"SAISIR UN IBAN AUTORISÉ"===e.libelleEntiteTitulaire}),r=i&&1===i.length?o.listeCompte.indexOf(i[0]):null;null===r&&o.createIbanAuthorize()}var i=o.listeCompte.filter(function(t){return t.riceContrat===e}),n=i&&1===i.length?o.listeCompte.indexOf(i[0]):null;null!=n&&(o.listeCompte.splice(n,1),o.compteSelectionne=o.compteSelectionne&&o.compteSelectionne.riceContrat===e?null:o.compteSelectionne)}})}return e.prototype.padLeftZero=function(e){return e?_.padLeft(e,9,"0"):e},e.prototype.createIbanAuthorize=function(){var e=new MyWay.Model.Contrat;e.libelleEntiteTitulaire=this.parametres.itemSupplementaireBis.libelle.toUpperCase(),e.itemSupplementaireSelectionne=!0,e.identifiantPersonne="999999999",this.listeCompte.unshift(e),this.compteInitialisation=!1},e.prototype.createSansContrepartie=function(){var e=new MyWay.Model.Contrat;e.libelleEntiteTitulaire=this.parametres.itemSupplementaire.libelle.toUpperCase(),e.itemSupplementaireSelectionne=!0,e.identifiantPersonne="999999999",this.listeCompte.unshift(e),this.compteInitialisation=!1},e.prototype.getListeComptes=function(){var e=this;if(this.nombreComptes=null,this.listeCompte=[],this.errorService=null,this.parametres&&this.parametres.itemSupplementaire){var t=new MyWay.Model.Contrat;t.libelleEntiteTitulaire=this.parametres.itemSupplementaire.libelle.toUpperCase(),t.itemSupplementaireSelectionne=!0,t.identifiantPersonne="0",this.listeCompte.push(t)}if(this.parametres&&this.parametres.itemBottomText){var i=new MyWay.Model.Contrat;i.libelleEntiteTitulaire=this.parametres.itemBottomText,i.itemBottomSelectionne=!0,this.listeCompte.push(i)}this.mwsfDeviseService.getDevises().then(function(t){e.listeCompteService.getListeCompte(e.parametres).then(function(i){e.messagesRetour=e.listeCompteService.getMessageRetour(),i.forEach(function(i){var n=t.filter(function(e){return e.code===i.codeDeviseContrat});if(n&&n.length>0&&(i.deviseContrat=n[0]),!(i instanceof MyWay.Model.ContratExterne)){var r=t.filter(function(e){return"EUR"===e.code});i.devise=r?r[0]:new MyWay.Model.Devise}if(i instanceof MyWay.Model.ContratExterne){var o=new RegExp("^[A-Z]+$"),a=!1;"FR"!==i.iban.substr(0,2)&&o.test(i.iban.substr(0,2))&&(a=!0)}if((i.identifiantContrat||i.riceContrat||a&&e.parametres.compteEtranger)&&e.listeCompte)if(i instanceof MyWay.Model.ContratExterne){var s=e.listeCompte.filter(function(e){return e.riceContrat===i.riceContrat&&e.libelleEntiteTitulaire===i.libelleEntiteTitulaire&&e.iban===i.iban});s&&0!==s.length||e.listeCompte.unshift(i)}else{var l=e.listeCompte.filter(function(e){return e.riceContrat===i.riceContrat&&e.identifiantContrat===i.identifiantContrat});l&&0!==l.length||e.parametres.codeDevise&&(!i.deviseContrat||e.parametres.codeDevise!==i.deviseContrat.code)||e.listeCompte.unshift(i)}}),e.initialisation=!1,e.listeCompteService.getInformationsCompte(i,e.parametres.compteListeVide).then(function(t){if(t&&e.listeCompte.push(t),e.determinerPlaceHolder(e.listeCompte),e.compteSelectionne&&e.compteSelectionne.identifiantContrat&&e.compteSelectionne.identifiantPersonne){e.compteSelectionne.identifiantPersonne=e.padLeftZero(e.compteSelectionne.identifiantPersonne);var i=e.listeCompte.filter(function(t){return t.identifiantContrat===e.compteSelectionne.identifiantContrat&&t.identifiantPersonne===e.compteSelectionne.identifiantPersonne});e.compteSelectionne=i&&i.length>0?i[0]:null}else if(e.compteSelectionne&&e.compteSelectionne.riceContrat&&e.compteSelectionne.identifiantPersonne){e.compteSelectionne.identifiantPersonne=e.padLeftZero(e.compteSelectionne.identifiantPersonne);var i=e.listeCompte.filter(function(t){return t.riceContrat===e.compteSelectionne.riceContrat&&t.identifiantPersonne===e.compteSelectionne.identifiantPersonne});e.compteSelectionne=i&&i.length>0?i[0]:null}if(e.nombreComptes=e.listeCompte.length,e.listeCompteOrigine=angular.copy(e.listeCompte),e.parametres&&e.parametres.compteAEnlever){var n=e.listeCompte.filter(function(t){return t.riceContrat===e.parametres.compteAEnlever.riceContrat}),r=n&&1===n.length?e.listeCompte.indexOf(n[0]):null;null!=r&&(e.listeCompte.splice(r,1),e.compteSelectionne=e.compteSelectionne&&e.compteSelectionne.riceContrat===e.parametres.compteAEnlever.riceContrat?null:e.compteSelectionne)}e.listeCompteService.setListeCompteCharge(e.$q.when().then(function(){return null!=e.nombreComptes}))})})["catch"](function(t){e.errorService=t,console.warn(t.libelle)})})["catch"](function(t){e.errorService=t,console.warn(t.libelle)})},e.prototype.determinerPlaceHolder=function(e){this.placeHolder="Sélectionner un compte",this.listeGrisee=!1,(!e||e&&0===e.length)&&(this.placeHolder="Aucun compte",this.listeGrisee=!0,this.compteSelectionne=null)},e.prototype.onSelect=function(e){this._onSelect&&e&&!e.itemBottomSelectionne&&this._onSelect({selectedItem:e})},e.prototype.formatteRicePourCompte=function(e){return e?e.substr(5,5)+"-"+e.substr(10,11):""},e.prototype.onBottomAction=function(e){this._onBottomAction&&e&&e.itemBottomSelectionne&&this._onBottomAction()},e.$inject=["$scope","serviceAgentExtended","listeCompteService","mwsfDeviseService","$q"],e}();e.ListeCompteController=t,e.app.controller("ListeCompteController",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/liste-compte/liste-compte-view.html",scope:{compteSelectionne:"=?",_onSelect:"&onSelect",_onBottomAction:"&onBottomAction",parametres:"=",disabled:"@",nombreComptes:"=?",messagesRetour:"=?"},controller:"ListeCompteController",controllerAs:"ctrl",bindToController:!0,link:function(e,t,i){if(!("parametres"in i))throw new Error('parametres est un paramètre obligatoire.   ==> <  mwsf-liste-compte  parametres="myObject" >\n')}}}e.app.directive("mwsfListeCompte",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r){this.$q=e,this.serviceAgentExtended=t,this.saisieRiceService=i,this.compteService=n,this.$filter=r,this.messagesRetour=[],this.setListeCompteCharge(this.$q.when().then(function(){return!1}))}return e.prototype.getListeCompte=function(t){var i=this;return this.setListeCompteCharge(this.$q.when().then(function(){return!1})),t.padLeftIdentifiantsPersonne(),this.getCurrentEtablissement().then(function(n){var r="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083",o=r+"/"+e.MINI_PROFIL_VERSION+"equipementClient?";o+="typeRecherche="+t.typeRecherche,o+="&codeEtatRecherche="+t.codeEtatRecherche,t.parametreComptesCCI&&t.parametreComptesCCI.restituerComptesCCI&&(o+="&indicRestitComptes88=O"),t.compteAppelOrigine||(o+="&indicPEAInstActif=N");var a=[];return t.identifiantsPersonnes.forEach(function(e){a.push({codeEtablissement:n,identifiantTiers:e,listeContrat:[]})}),i.serviceAgentExtended.sendRequest({url:o,withHeaders:!0,method:MyWay.Services.MethodEnum.POST,data:a}).then(function(e){i.messagesRetour=[],t.parametreComptesCCI&&t.parametreComptesCCI.restituerComptesCCI&&e.listeClient&&e.listeClient.forEach(function(e){e.listeMessagesRetour&&e.listeMessagesRetour.length>0?i.messagesRetour.push(new MyWay.Model.MessageRetour(e.codeEtablissement,e.identifiantTiers,e.listeMessagesRetour)):i.messagesRetour.push(new MyWay.Model.MessageRetour(e.codeEtablissement,e.identifiantTiers,[]))});var o;if(t.listeComptesExternes&&t.listeComptesExternes.length>0){o=[];var a=[];return t.listeComptesExternes.forEach(function(e){if(e instanceof MyWay.Model.ParametreComptesExternesPart){var t=r+"/contratservicebqd-v1/compteServiceAssocie?codeEtablissement="+n+"&identifiantPersonne="+e.numeroPersonne+"&codeServiceBAD="+e.codeServiceBAD;a.push(i.serviceAgentExtended.sendRequest({url:t,withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(e){return e&&e.listeCompteExterne&&e.listeCompteExterne.length>0&&(e.listeCompteExterne[0].identifiantPersonne=e.identifiantPersonne),e.listeCompteExterne}))}else if(e instanceof MyWay.Model.ParametreComptesExternesPro){var o=r+"/contratbqdpro-v1/compteAbonnement/?codeEtablissement="+n+"&identifiantPersonne="+e.numeroPersonne+"&codeServiceBAD="+e.codeServiceBAD+"&codeNatureJuridique="+e.codeNatureJuridique+"&codeTypeServiceMedia="+e.codeTypeServiceMedia+"&identifiantAbonne="+e.identifiantAbonne;a.push(i.serviceAgentExtended.sendRequest({url:o,withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(t){return t&&t.listeCompteExterne&&t.listeCompteExterne.length>0&&(t.listeCompteExterne[0].identifiantPersonne=e.numeroPersonne),t.listeCompteExterne}))}}),i.$q.all(a).then(function(r){return r&&r.forEach(function(e){if(e){var t=e&&e.length>0&&e[0].identifiantPersonne?_.padLeft(e[0].identifiantPersonne.toString(),9,"0"):null;e.forEach(function(e){if(e.codeBicBeneficiaire){var i,n=e;i=new MyWay.Model.ContratExterne,i.bic=n.codeBicBeneficiaire,i.iban=n.codeIBanBeneficiaire,i.libelleEntiteTitulaire=n.designationBancaire,i.libelleEtablissement=n.libelleEtablissementBancaire,i.libelleGuichet=n.libelleGuichet,i.riceContrat=n.comptePerimetreBAD,i.identifiantPersonne=t,o.push(i)}else if(e.codeBicDestinataire){var r,a=e;r=new MyWay.Model.ContratExterne,r.bic=a.codeBicDestinataire,r.iban=a.ibanBeneficiaire,r.libelleEntiteTitulaire=a.designationBancaireCourte,r.libelleEtablissement=a.libelleEtablissement,r.libelleGuichet=a.libelleGuichet,r.riceContrat=a.referenceRib,r.identifiantPersonne=t,o.push(r)}})}}),e.listeClient&&e.listeClient[0]?i.compileEtTrieListeContrats(n,e.listeClient,t.typesProduits,o,t.identifiantsEntitesTitulaires):o})}return e.listeClient&&e.listeClient[0]?i.compileEtTrieListeContrats(n,e.listeClient,t.typesProduits,null,t.identifiantsEntitesTitulaires):void 0})})},e.prototype.getMessageRetour=function(){return this.messagesRetour},e.prototype.compileEtTrieListeContrats=function(e,t,i,n,r){var o=this,a=[],s=[],l=i,c=i,u=c&&c.every(function(e){return"string"==typeof e});return t.forEach(function(t,n){var d=t.listeContrat;d.forEach(function(d){if(d.identifiantEntiteTitulaire=d&&d.identifiantEntiteTitulaire?_.padLeft(d.identifiantEntiteTitulaire.substr(d.identifiantEntiteTitulaire.length-10,10),10,"0"):null,d.identifiantPersonne=t.identifiantTiers,r&&r.length>0){var m=r.filter(function(e){return e===d.identifiantEntiteTitulaire});m&&m.length>0&&o.isContratElligibleFiltrageProduits(u,i,l,c,n,d)&&s.push(o.getContratAvecLibelle(d,e).then(function(e){return a.push(e),e}))}else o.isContratElligibleFiltrageProduits(u,i,l,c,n,d)&&s.push(o.getContratAvecLibelle(d,e).then(function(e){return a.push(e),e}))})}),n&&n.length>0&&n.forEach(function(e){var t=o.$q.defer();a.push(e),t.resolve(e),s.push(t.promise)}),this.$q.all(s).then(function(e){return a})},e.prototype.isContratElligibleFiltrageProduits=function(e,t,i,n,r,o){return t&&t.length>0?e?n.indexOf(o.identifiantContrat.substr(0,4))>-1:!i[r]||i[r].indexOf(o.identifiantContrat.substr(0,4))>-1:!0},e.prototype.getContratAvecLibelle=function(e,t){var i=this.$q.defer();return e.identifiantProduit&&0!==e.identifiantProduit||e.libelleProduit?i.resolve(e):this.recupererLibelleProduit(t,e).then(function(e){i.resolve(e)}),i.promise},e.prototype.getCurrentEtablissement=function(){return this.serviceAgentExtended.getAuthentificationInfo().then(function(e){try{return e.codeEtablissement}catch(t){throw"impossible de récuperer les données depuis le contexte"}})},e.prototype.recupererLibelleProduit=function(e,t){var i="";i="ASV "===t.identifiantContrat.substr(0,4)?"C"+t.identifiantContrat.substr(4,3):t.identifiantContrat.substr(0,4);var n=[{propriete:"CODIPR",valeur:_.padLeft(i,4,"0"),operateur:MyWay.Services.DonneesDelocalisees.CRITERES_OPERATEUR.EGAL}];return this.serviceAgentExtended.DonneesDelocalisees.getDonneesParCriteres(e,"PRODUIT",n).then(function(e){return angular.isDefined(e[0])&&!t.libelleProduit&&(t.libelleProduit=e[0].LCEGCO),t})},e.prototype.setListeCompteCharge=function(e){this.listeCompteCharge=e},e.prototype.getListeCompteCharge=function(){return this.listeCompteCharge},e.prototype.getInformationsCompte=function(t,i){var n=this,r=this.$q.defer();if(t&&t.length>0||!i)r.resolve(null);else{var o=i.riceContrat.substr(0,5),a=i.riceContrat.substr(5,5),s=i.riceContrat.substr(10,2),l=i.riceContrat.substr(12,7),c=i.riceContrat.substr(19,2),u="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083",d=u+"/"+e.MINI_PROFIL_VERSION+"miniProfil?codeEtablissement="+o;d+="&typeRecherche=R",d+="&typeRestitution=M",d+="&codeGuichetInterbancaire="+a,d+="&codeProduitService=00"+s,d+="&referenceProduitService="+s+l+c,this.serviceAgentExtended.sendRequest({url:d,withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(e){var t=[],u=-1,d=s+l+c;if(u=_.findIndex(e[0].identificationProduit,function(e){return e.referenceProduitService===d}),u>=0){var m=new MyWay.Model.Compte;m.devise=i.devise,m.solde=e[0].donneeCommuneProduit[u].soldeMinuteCompte/100,m.estOuvert="0"===e[0].donneeCommuneProduit[u].codeEtatProduitService,m.titulaire=e[0].identificationProduit[u].designationBancaireCourte;var p=new MyWay.Model.Produit;p.CODIPR=e[0].identificationProduit[u].codeProduitService,p.IDEGPS=MyWay.Services.StringUtils.padLeftNumber(e[0].identificationProduit[u].identifiantProduitService.toString(),"0",7),m.produit=p,m.rice=new MyWay.Model.Rice(o,a,s,l,c),t.push(m)}n.compteService.recupererLibelleProduit(o,t).then(function(e){if(e&&e.length>0){var t=angular.copy(i);t.libelleEntiteTitulaire=e[0].titulaire,t.libelleProduit=e[0].produit.LNEGCO,t.valeurProduit=e[0].solde,r.resolve(t)}else r.resolve(null)})["catch"](function(){r.resolve(null)})})}return r.promise},e.MINI_PROFIL_VERSION="syntheseservice-v1/",e.$inject=["$q","serviceAgentExtended","saisieRiceService","compteService","$filter"],e}();e.ListeCompteService=t,e.app.service("listeCompteService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e){this.$scope=e}return e.$inject=["$scope"],e}();e.LoaderController=t,e.app.controller("LoaderController",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/loader-css3/saisie-loader-view.html",scope:{loadInProgress:"=loadInProgress"},controller:"LoaderController",controllerAs:"vmLoaderCtrl",bindToController:!0,link:function(e,t,i){if(!("loadInProgress"in i))throw new Error('loadInProgress est un paramètre obligatoire.   ==> <mwsf-loader-css load-in-progress="true or false">  \n')}}}e.app.directive("mwsfLoaderCss",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function t(e,t){var i=this;this.$scope=e,this.modeFinancierService=t,this.habilitations=[],this.modeFinancierService.getHabilitationsSHJM25etSHLX13().then(function(e){e&&(e[0]&&i.habilitations.push("SHJM25"),e[1]&&i.habilitations.push("SHLX13")),i.setModes()}),e.$watch(function(){return i.produit},function(e,t){e!==t&&i.setModes()}),e.$watch(function(){return i.fonctionnalite},function(e,t){e!==t&&i.setModes()}),angular.isDefined(this.canal)&&(e.$watch(function(){return i.majeur},function(e,t){e!==t&&i.setModes()}),e.$watch(function(){return i.modeVente},function(e,t){e!==t&&i.setModes()}))}return t.prototype.setModes=function(){var t=this;this.fonctionnalite&&this.modeFinancierService.getModesDisponibles(this.fonctionnalite,this.produit,this.deviseEuro,this.habilitations,this.canal,this.majeur,this.modeVente).then(function(i){if(t.modes=i,angular.isDefined(t.codeModeFinancierDefaut)&&t.modes&&t.modes.length>0){angular.isNumber(t.codeModeFinancierDefaut)&&(t.codeModeFinancierDefaut=t.codeModeFinancierDefaut.toString().length<2?_.padLeft(t.codeModeFinancierDefaut.toString(),2,"0"):t.codeModeFinancierDefaut.toString().substr(0,2));var n=t.modes.filter(function(e){return e.CTGXM1===t.codeModeFinancierDefaut});n&&n.length>0&&t.fonctionnalite!==e.InterdomaineConstants.CLOTURE_CDD&&(t.mode=n[0])}})["catch"](function(e){console.log("Mode Financier - Récupération des modes disponibles KO")})},t.$inject=["$scope","modeFinancierService"],t}();e.MwsfSaisirModeFinancierController=t,e.app.controller("MwsfSaisirModeFinancierController",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/mode-financier/saisie-mode-financier-view.html",controller:"MwsfSaisirModeFinancierController",controllerAs:"modeFinancierController",bindToController:!0,scope:{mode:"=value",fonctionnalite:"=",produit:"=",deviseEuro:"=",required:"=",canal:"=",majeur:"=",modeVente:"=",readOnly:"=?",codeModeFinancierDefaut:"=?"}}}e.app.directive("mwsfSaisieModeFinancier",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.ModeFinancierRule=t;var i=function(){function t(e,t,i){this.$q=e,this.serviceAgentExtended=t,this.ruleService=i}return t.prototype.getAllModes=function(){var e=this;return this.serviceAgentExtended.getListDonneesDelocalisees("J81T","MyWay.Model.ModeFinancier").then(function(e){return e})["catch"](function(t){return e.serviceAgentExtended.Trace.warning("Mode Financier ---- Récupération des modes financiers dans la table J81T impossible","modeFinancier",t),[]})},t.prototype.getHabilitationsSHJM25etSHLX13=function(){var e=this;return this.serviceAgentExtended.Habilitation.EstHabilite(["SHJM25","SHLX13"]).then(function(e){return e})["catch"](function(t){return e.serviceAgentExtended.Trace.warning("Mode Financier ---- L'utilisateur n'a pas l'habilitation SHJM25 et/ou SHLX13","habilitationSHJM25",t),[]})},t.prototype.getModesDisponibles=function(t,i,n,r,o,a,s){var l=this,c={fonctionnalite:t,produit:i,deviseEuro:n,habilitation:r,canal:o,majeur:a,modeVente:s},u=e.RuleFileName.modeFinancier;return angular.isDefined(o)&&"TL"===o&&(u=e.RuleFileName.modeFinancierVAD),this.getAllModes().then(function(e){return l.ruleService.applyRules(u,c,e)}).then(function(e){return e})["catch"](function(e){return l.serviceAgentExtended.Trace.error("Mode Financier ---- pas de règle trouvée pour la fonctionnalité "+t,"modeFinancierService.getModesDisponibles"),[]})},t.prototype.getByCTGXM1=function(e){var t=this;return this.getAllModes().then(function(i){for(var n,r=0;r<i.length;r++)if(i[r].CTGXM1===e){n=i[r];break}return t.$q.when(n)})},t.$inject=["$q","serviceAgentExtended","ruleService"],t}();e.ModeFinancierService=i,e.app.service("modeFinancierService",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e){e&&(this.personneMorale=e.personneMorale,this.personnePhysique=e.personnePhysique,this.courrierElectronique=e.courrierElectronique,this.numTelephoneFixe=e.numTelephoneFixe,this.numTelephonePortable=e.numTelephonePortable,this.id=e.id,this.numeroCredit=e.numeroCredit,this.identifiantPersonne=e.identifiantPersonne,this.nomFamille=e.nomFamille,this.nomMarital=e.nomMarital,this.prenom=e.prenom,this.dateNaissance=e.dateNaissance,this.sexe=e.sexe,this.rice=e.rice,this.bureauRatachement=e.bureauRatachement,this.numeroCarte=e.numeroCarte,this.numeroAbonne=e.numeroAbonne,this.numeroPersonne=e.numeroPersonne,this.dossierCredit=e.dossierCredit,this.numeroTelephone=e.numeroTelephone,this.email=e.email,this.siren=e.siren,this.raisonSociale=e.raisonSociale,this.villeSiege=e.villeSiege,this.ligne1AdresseAFNOR=e.ligne1AdresseAFNOR,this.ligne2AdresseAFNOR=e.ligne2AdresseAFNOR,this.ligne3AdresseAFNOR=e.ligne3AdresseAFNOR,this.ligne4AdresseAFNOR=e.ligne4AdresseAFNOR,this.ligne5AdresseAFNOR=e.ligne5AdresseAFNOR,this.ligne6AdresseAFNOR=e.ligne6AdresseAFNOR,this.ligne7AdresseAFNOR=e.ligne7AdresseAFNOR,this.codeCivilite=e.codeCivilite,this.codePersonnaliteJuridique=e.codePersonnaliteJuridique,this.indicateurActiviteProfessionnelle=e.indicateurActiviteProfessionnelle,this.codeTypeMedia=e.codeTypeMedia,this.codeTypePersonne=e.codeTypePersonne,this.designationCourte=e.designationCourte,this.edsDomiciliation=e.edsDomiciliation,this.numeroSiren=e.numeroSiren,this.referenceAccesMedia=e.referenceAccesMedia,this.sigle=e.sigle,this.compte=e.compte,e.confidentialite&&(this.confidentialite=e.confidentialite))}return e}();e.Client=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(){}return e.OUVERTURE_SIMPLE="O01",e.OUVERTURE_TRANSFERT_RESEAU="O02",e.OUVERTURE_TRANSFERT_BANQUE="O03",e.OUVERTURE_TRANSFORMATION="O04",e.OUVERTURE_COMPTE_EUROS_APRES_TRANSFORMATION="O05",e.VERSEMENT_SIMPLE="V01",e.VERSEMENT_TRANSFERT_RESEAU="V02",e.VERSEMENT_TRANSFERT_BANQUE="V03",e.VERSEMENT_OAD_INTERNE_CTR="V04",e.VERSEMENT_OAD_EXTERNE="V05",e.VERSEMENT_INTERETS_ANTICIPE="V06",e.REMBOURSEMENT_SIMPLE="R01",e.REMBOURSEMENT_OAD_INTERNE_CTR="R02",e.REMBOURSEMENT_OAD_EXTERNE="R03",e.REMBOURSEMENT_INTERETS_ANTICIPE="R04",e.CLOTURE_SIMPLE="C01",e.CLOTURE_TRANSFERT_RESEAU="C02",e.CLOTURE_TRANSFERT_BANQUE="C03",e.CLOTURE_TRANSFORMATION="C04",e.CLOTURE_COMPTE_FRF="C05",e.COMPLEMENT_INTERETS_PRODUCTIF_PEL_LEE="D01",e.VERSEMENT_HORS_DEPOSANT="H01",e.REMBOURSEMENT_HORS_DEPOSANT="H02",e}();e.CodeFinancierAtome=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},MyWay;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r,o,a,s,l,c,u,d,m,p,h){this.id=e,this.libelle=t,this.produit=i,this.rice=n,this.devise=r,this.reserveEncaissement=o,this.estOuvert=a,this.solde=s,this.titulaire=l,this.montantImpayePret=c,this.chargeMensuelEndettement=u,this.listeParticipant=d,this.decouvertAutorise=m,this.delaiEncaissement=p,this.ecartes=h}return e.prototype.isDeviseEuro=function(){return this.devise?"EUR"===this.devise.code:!1},e.prototype.toString=function(){return this.libelle},e}();e.Compte=t;var i=function(){function e(){}return e}();e.Contrat=i;var n=function(){function e(e,t,i){this.codeEtablissement=e,this.codeGuichetInterbancaire=t,this.numeroComptePS=i}return e}();e.ParametresListeComptesIban=n;var r=function(){function e(e,t,i,n,r,o,a,s,l,c,u,d,m,p,h){m&&(this.itemSupplementaireBis=m),this.identifiantsPersonnes=e,this.typeRecherche=t,this.codeEtatRecherche=i,this.typesProduits=n,this.codeDevise=r,this.itemSupplementaire=o,this.itemBottomText=a,this.listeComptesExternes=s,this.compteAEnlever=l,this.identifiantsEntitesTitulaires=c,this.identifiantsEntitesTitulaires&&this.padLeftIdentifiantsET(),this.identifiantsPersonnes&&this.padLeftIdentifiantsPersonne(),this.parametreComptesCCI=u,this.compteListeVide=d,p&&(this.compteAppelOrigine=p),h&&(this.compteEtranger=h)}return e.prototype.padLeftIdentifiantsPersonne=function(){var e=[];this.identifiantsPersonnes.forEach(function(t){e.push(_.padLeft(t,9,"0"))}),this.identifiantsPersonnes=e,this.listeComptesExternes&&this.listeComptesExternes.length>0&&this.listeComptesExternes.forEach(function(e){e.numeroPersonne=_.padLeft(e.numeroPersonne,9,"0")})},e.prototype.padLeftIdentifiantsET=function(){var e=[];this.identifiantsEntitesTitulaires.forEach(function(t){e.push(_.padLeft(t,10,"0"))}),this.identifiantsEntitesTitulaires=e},e}();e.ParametresListeComptes=r;var o=function(){function e(e,t){this.libelle=e,this.parDefaut=t}return e}();e.ItemSupplementaireListeCompte=o;var a=function(){function e(e){this.restituerComptesCCI=e}return e}();e.ParametreComptesCCI=a;var s=function(){function e(e,t,i){this.codeEtablissement=e,this.identifiantTiers=t,this.listeMessagesRetour=i}return e}();e.MessageRetour=s;var l=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(i);e.ContratExterne=l;var c=function(){function e(e,t){this.numeroPersonne=e,this.codeServiceBAD=t}return e}();e.ParametreComptesExternesPart=c;var u=function(){function e(e,t,i,n,r){this.numeroPersonne=e,this.codeServiceBAD=t,this.codeNatureJuridique=i,this.codeTypeServiceMedia=n,this.identifiantAbonne=r}return e}();e.ParametreComptesExternesPro=u}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var myway;!function(e){var t;!function(e){var t=function(){function e(){}return e.assetFolder="socle-fonctionnel/com-interdomaine//",e.CLOTURE_CDD="CLOTURE_CDD",e}();e.InterdomaineConstants=t}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(){this.b5=0,this.b10=0,this.b20=0,this.b50=0,this.b100=0,this.b200=0,this.b500=0}return e}();e.Coupure=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e){e&&(this.code=e.code,this.libelle=e.libelle,this.sigle=e.sigle,this.symboleDevise=e.symboleDevise||e.sigle,e.nombreDecimalesGerees?this.nombreDecimalesGerees=e.nombreDecimalesGerees:this.nombreDecimalesGerees=null,e.nombreDecimalesReelles?this.nombreDecimalesReelles=e.nombreDecimalesReelles:this.nombreDecimalesReelles=null,this.symboleDevise?this.view=this.symboleDevise:this.view=this.code,this.label=this.view+" - "+this.libelle)}return e}();e.Devise=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.EncaissementCheque=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(){}return e.VERSEMENT_GENERIQUE="VERSEMENT_GENERIQUE",e.VERSEMENT_SIMPLE="VERSEMENT_SIMPLE",e.OAD="OAD",
e.CORRECTION_OAD="CORRECTION_OAD",e.RECYCLAGE="RECYCLAGE",e.RECYCLAGE_OAD="RECYCLAGE_OAD",e.OUVERTURE_CDD="OUVERTURE_CDD",e.ANNULATION_OUVERTURE_CDD="ANNULATION_OUVERTURE_CDD",e.CLOTURE_CDD="CLOTURE_CDD",e.ANNULATION_CLOTURE_CDD="ANNULATION_CLOTURE_CDD",e.CLOTURE_CDD_SANS_MISE_EN_CONTENTIEUX="CLOTURE_CDD_SANS_MISE_EN_CONTENTIEUX",e.ANNULATION_CLOTURE_CDD_SANS_MISE_EN_CONTENTIEUX="ANNULATION_CLOTURE_CDD_SANS_MISE_EN_CONTENTIEUX",e.CLOTURE_CDD_AVEC_MISE_EN_CONTENTIEUX="CLOTURE_CDD_AVEC_MISE_EN_CONTENTIEUX",e.ANNULATION_CLOTURE_CDD_AVEC_MISE_EN_CONTENTIEUX="ANNULATION_CLOTURE_CDD_AVEC_MISE_EN_CONTENTIEUX",e.OUVERTURE_COMPTE_INSTANCE="OUVERTURE_COMPTE_INSTANCE",e.ANNULATION_OUVERTURE_COMPTE_INSTANCE="ANNULATION_OUVERTURE_COMPTE_INSTANCE",e.CLOTURE_COMPTE_INSTANCE="CLOTURE_COMPTE_INSTANCE",e.ANNULATION_CLOTURE_COMPTE_INSTANCE="ANNULATION_CLOTURE_COMPTE_INSTANCE",e.OUVERTURE_COMPTE_ATTENTE="OUVERTURE_COMPTE_ATTENTE",e.ANNULATION_OUVERTURE_COMPTE_ATTENTE="ANNULATION_OUVERTURE_COMPTE_ATTENTE",e.CLOTURE_COMPTE_ATTENTE="CLOTURE_COMPTE_ATTENTE",e.ANNULATION_CLOTURE_COMPTE_ATTENTE="ANNULATION_CLOTURE_COMPTE_ATTENTE",e.CLOTURE_PAR_VIREMENT_TRANSFERT_COMPTE_ATTENTE="CLOTURE_PAR_VIREMENT_TRANSFERT_COMPTE_ATTENTE",e.ANNULATION_CLOTURE_PAR_VIREMENT_TRANSFERT_COMPTE_ATTENTE="ANNULATION_CLOTURE_PAR_VIREMENT_TRANSFERT_COMPTE_ATTENTE",e.ABONNEMENT_CDD="ABONNEMENT_CDD",e.OUVERTURE_PEL="OUVERTURE_PEL",e.OUVERTURE_CEL="OUVERTURE_CEL",e.OUVERTURE_LIVRET_JEUNE="OUVERTURE_LIVRET_JEUNE",e.OUVERTURE_EPARGNE="OUVERTURE_EPARGNE",e.COMPTE_CANTONNEMENT="COMPTE_CANTONNEMENT",e.GENERIQUE_VAD="GENERIQUE_VAD",e.OUVERTURE_DAT="OUVERTURE_DAT",e.LIVRET_A="LIVRET_A",e.OUVERTURE_PEA="OUVERTURE_PEA",e.EXTOURNE_OUVERTURE_PEA="EXTOURNE_OUVERTURE_PEA",e.EXTOURNE_CLOTURE_PEA="EXTOURNE_CLOTURE_PEA",e.OPERATION_RETRAIT="OPERATION_RETRAIT",e.OPERATION_DEPOT="OPERATION_DEPOT",e.OPERATION_DEPOT_DEVISE="OPERATION_DEPOT_DEVISE",e.OPERATION_RETRAIT_DEVISE="OPERATION_RETRAIT_DEVISE",e.OPERATION_DEPOT_HORS_CLIENTELE="OPERATION_DEPOT_HORS_CLIENTELE",e.OPERATION_RETRAIT_HORS_CLIENTELE="OPERATION_RETRAIT_HORS_CLIENTELE",e.OPERATION_RETRAIT_OAD="OPERATION_RETRAIT_OAD",e.OPERATION_DEPOT_OAD="OPERATION_DEPOT_OAD",e.OPERATION_RETRAIT_HORS_CLIENTELE_COMPTE_88="OPERATION_RETRAIT_HORS_CLIENTELE_COMPTE_88",e.OPERATION_DEPOT_HORS_CLIENTELE_COMPTE_88="OPERATION_DEPOT_HORS_CLIENTELE_COMPTE_88",e.OPERATION_DEPOT_COMPTE_88="OPERATION_DEPOT_COMPTE_88",e.OPERATION_RETRAIT_COMPTE_88="OPERATION_RETRAIT_COMPTE_88",e.OUVERTURE_CDD_CCOOP="OUVERTURE_CDD_CCOOP",e.OUVERTURE_CDD_ENJOY="OUVERTURE_CDD_ENJOY",e}();e.Fonctionnalite=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e){e&&(this.codeEtablissement=e.codeEtablissement,this.identifiantPersonne=e.identifiantPersonne,this.codePersonneJuridique=e.codePersonneJuridique,this.libellePersonneJuridique=e.libellePersonneJuridique,this.codeEtatPersonne=e.codeEtatPersonne,this.codeTypeRelation=e.codeTypeRelation,this.libelleTypeRelation=e.libelleTypeRelation,this.dateEntreeRelation=e.dateEntreeRelation)}return e}();e.Identification=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(){}return e.MAP_INDICATEUR_FINANCIER={OUVERTURE_CDD:"111000110000000000000000000000",OUVERTURE_CDD_DIVERS:"111000110010000000000000000000",ANNULATION_OUVERTURE_CDD:"111000110000000000000000000000",ANNULATION_OUVERTURE_CDD_DIVERS:"111000110010000000000000000000",CLOTURE_CDD:"110000110100000000000000000000",CLOTURE_CDD_DIVERS:"110000110110000000000000000000",CLOTURE_CDD_CONTENTIEUX:"000000000010000000000000000000",ANNULATION_CLOTURE_CDD:"110000110100000000000000000000",ANNULATION_CLOTURE_CDD_DIVERS:"110000110110000000000000000000",ANNULATION_CLOTURE_CDD_CONTENTIEUX:"000000000010000000000000000000",ANNULATION_OUVERTURE_COMPTE_INSTANCE:"011000110000000000000000000000",ANNULATION_OUVERTURE_COMPTE_INSTANCE_DIVERS:"011000110010000000000000000000",CLOTURE_COMPTE_INSTANCE:"010000110100000000000000000000",CLOTURE_COMPTE_INSTANCE_DIVERS:"010000110110000000000000000000",ANNULATION_CLOTURE_COMPTE_INSTANCE:"010000110100000000000000000000",ANNULATION_CLOTURE_COMPTE_INSTANCE_DIVERS:"010000110110000000000000000000",OUVERTURE_COMPTE_ATTENTE:"111000100000000000000000000000",OUVERTURE_COMPTE_ATTENTE_DIVERS:"111000100010000000000000000000",ANNULATION_OUVERTURE_COMPTE_ATTENTE:"111000100010000000000000000000",ANNULATION_OUVERTURE_COMPTE_ATTENTE_DIVERS:"111000100000000000000000000000",CLOTURE_COMPTE_ATTENTE:"110000110100000000000000000000",CLOTURE_COMPTE_ATTENTE_DIVERS:"110000110110000000000000000000",ANNULATION_CLOTURE_COMPTE_ATTENTE:"110000110100000000000000000000",ANNULATION_CLOTURE_COMPTE_ATTENTE_DIVERS:"110000110110000000000000000000",CLOTURE_TRANSFERT_COMPTE_ATTENTE:"100000000000000000000000000000",ANNULATION_CLOTURE_TRANSFERT_COMPTE_ATTENTE:"110000110100000000000000000000",ANNULATION_CLOTURE_TRANSFERT_COMPTE_ATTENTE_DIVERS:"110000110110000000000000000000",OUVERTURE_NORMALE_EPARGNE:"111000110000000000000000000000",OUVERTURE_NORMALE_EPARGNE_DIVERS:"111000110010000000000000000000",VERSEMENT_SIMPLE:"000000110000000000000000000000",VERSEMENT_GENERIQUE:"111000110100000000000000000000",VERSEMENT_GENERIQUE_DIVERS:"111000110110000000000000000000",OAD:"011000000100000000000000000000",OAD_DIVERS:"011000000110000000000000000000",CORRECTION_OAD:"000000000010000000000000000000",RECYCLAGE:"111000110100000000000000000000",RECYCLAGE_DIVERS:"111000110110000000000000000000",RECYCLAGE_OAD:"011000010100000000000000000000",RECYCLAGE_OAD_DIVERS:"011000010110000000000000000000"},e}();e.IndicateurModeFinancier=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e){e&&(this.CIJMMC=e.CIJMMC,this.CIJMMS=e.CIJMMS,this.CTGXM1=e.CTGXM1,this.CTGXMF=e.CTGXMF,this.LIJMMI=e.LIJMMI)}return e.prototype.displayLabel=function(){return this.CTGXM1+" "+this.LIJMMI},e}();e.ModeFinancier=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e,t){this.montant=e,this.codeDevise=t}return e}();e.MontantDevise=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r){this.CODCAR1=e,this.CODCAR2=t,this.CODCAR3=i,this.CODCAR4=n,this.concatinate=r}return e.prototype.isNotEmpty=function(){var e=this.CODCAR1||this.CODCAR2||this.CODCAR3||this.CODCAR4||this.concatinate;return e},e.prototype.toString=function(){return this.CODCAR1+" "+this.CODCAR2+" "+this.CODCAR3+" "+this.CODCAR4},e}();e.NumCarte=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e,t){this.indicatif=e,this.numero=t}return e.prototype.toString=function(){var e=angular.isDefined(this.indicatif)?this.indicatif:"",t=angular.isDefined(this.numero)?this.numero:"";return e.value+" "+t},e}();e.NumTelephone=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e){e&&(this.YNOXCE=e.YNOXCE,this.COJOFA=e.COJOFA,this.ULIWFO=e.ULIWFO,this.UCGWBD=e.UCGWBD,this.UCGWGA=e.UCGWGA,this.UCGWBA=e.UCGWBA,this.UCGWRT=e.UCGWRT,this.UCGWMO=e.UCGWMO,this.CIJOAS=e.CIJOAS,this.UCGWSR=e.UCGWSR,this.COMJTC=e.COMJTC,this.MTJOHT=e.MTJOHT,this.MTJOTV=e.MTJOTV)}return e}();e.FamilleOperationDiverse=t;var i=function(){function e(e){e&&(this.YNOXCE=e.YNOXCE,this.NOCEEL=e.NOCEEL,this.UCGWRT=e.UCGWRT)}return e}();e.RegroupementOperationDiverse=i;var n=function(){function e(e){e&&(this.tableauRegroupementBackOffice=e.tableauRegroupementBackOffice,this.tableauRegroupementCodeCaisseEpargne=e.tableauRegroupementCodeCaisseEpargne)}return e}();e.TableauDeRegroupementOperationDiverse=n;var r=function(){function e(e){e&&(this.WCORE3=e.WCORE3,this.CESGFR=e.CESGFR,this.COJOFA=e.COJOFA,this.COJXHD=e.COJXHD,this.UCTXS5=e.UCTXS5,this.ULIWOD=e.ULIWOD,this.UCGWBD=e.UCGWBD,this.UCGWGA=e.UCGWGA,this.UCGWBA=e.UCGWBA,this.UCGWMO=e.UCGWMO,this.UCGWRT=e.UCGWRT,this.UCGWSR=e.UCGWSR,this.COJOMA=e.COJOMA,this.COJOMB=e.COJOMB,this.COJOMC=e.COJOMC,this.COJOMD=e.COJOMD,this.COJOME=e.COJOME,this.LIJMTI=e.LIJMTI,this.CIJMTI=e.CIJMTI,this.LIJMOB=e.LIJMOB,this.CIJMOB=e.CIJMOB,this.COJCSC=e.COJCSC,this.LIJCSC=e.LIJCSC,this.COJCIN=e.COJCIN,this.DDEXPH=e.DDEXPH,this.IDSEQ3=e.IDSEQ3,this.DFJOVA=e.DFJOVA,this.CODGD3=e.CODGD3,this.TXERVA=e.TXERVA)}return e}();e.TypeOperationDiverse=r;var o=function(){function e(e,t){(e||t)&&(this.familleOperationDiverse=e,this.typeOperationDiverse=t)}return e}();e.OperationDiverse=o}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r,o,a,s){this.codeRole=e,this.nomParticipant=n,this.prenomParticipant=r,this.identifiantParticipant=t,this.dateNaissance=i,angular.isDefined(a)?this.nomPrenomParticipant=a:this.nomPrenomParticipant=n+" "+r,this.codePersonnaliteJuridique=o,this.libelleRole=s}return e}();e.ParticipantInformationClient=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e){e&&(this.CODIPR=e.CODIPR,this.IDEGPS=e.IDEGPS,this.LCEGCO=e.LCEGCO,this.LNEGCO=e.LNEGCO)}return e}();e.Produit=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e,t){this.sansReserve=e,this.delaiEncaissement=t}return e}();e.ReserveEncaissement=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r,o,a,s,l){this.codeEtablissement=e,this.codeGuichet=t,this.codeActiviteCompte=i,this.radical=n,this.cleCompte=r,this.cleRice=o,this.riceNonExistant=a,this.$valid=s,this.erreurBloquante=l,t&&(angular.isObject(t)?this.codeGuichet=t:this.codeGuichet={id:"",value:t.toString()}),i&&i.length>2&&(i=i.substr(2,2)),this.$valid=s?s:!0}return e.prototype.isNotEmpty=function(){var e=this.codeActiviteCompte||this.radical||this.cleCompte;return e},e.prototype.isComplete=function(){return this.codeEtablissement&&5===this.codeEtablissement.length&&this.codeGuichet&&this.codeActiviteCompte&&2===this.codeActiviteCompte.length&&this.radical&&7===this.radical.length&&this.cleCompte&&2===this.cleCompte.length&&this.cleRice&&2===this.cleRice.length?!0:!1},e.prototype.peutCalculerCleRice=function(){return this.codeEtablissement&&5===this.codeEtablissement.length&&this.codeGuichet&&this.codeActiviteCompte&&2===this.codeActiviteCompte.length&&this.radical&&7===this.radical.length&&this.cleCompte&&2===this.cleCompte.length?!0:!1},e.prototype.clear=function(){this.codeActiviteCompte=null,this.radical=null,this.cleCompte=null,this.cleRice=null},e.prototype.getGuichet=function(){var e="";return this.codeGuichet&&(e=angular.isObject(this.codeGuichet)?this.codeGuichet.value:this.codeGuichet.toString()),e},e.prototype.toString=function(){var e="";return e+=this.codeEtablissement?this.codeEtablissement+" ":"",e+=this.getGuichet()?this.getGuichet()+" ":"",e+=this.codeActiviteCompte?this.codeActiviteCompte+" ":"",e+=this.radical?this.radical+" ":"",e+=this.cleCompte?this.cleCompte+" ":"",e+=this.cleRice?this.cleRice+" ":""},e.prototype.formatRicePourRib=function(){return this.codeEtablissement+this.getGuichet()+this.formatRICEPourCompte()},e.prototype.formatRicePourStructureEchange=function(){return this.formatRicePourRib()+this.cleRice},e.prototype.formatRICEPourCompte=function(){return this.codeActiviteCompte+this.radical+this.cleCompte},e}();e.Rice=t}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var myway;!function(e){var t;!function(e){var t=function(){function t(e,t,i,n,r){var o=this;this.$locale=e,this.$scope=t,this.$element=i,this.$attrs=n,this.$parse=r,this.inputElement=this.$element[0],this.alignRight(),this.checkSettings(t.settings),t.$watch(function(){return t.settings},function(e,i){o.checkSettings(t.settings),o.renderViewValue()},!0),t.$watch(function(){return t.forcePositive},function(e,t){o.forcePositive=null!=o.$scope.forcePositive&&"true"===o.$scope.forcePositive.toLowerCase()},!0),this.modelController=i.controller("ngModel"),this.modelController.$formatters.unshift(function(e){return o.modelFormatter(e)}),this.modelController.$parsers.unshift(function(e){return o.modelParser(e)}),this.modelController.$render=function(){o.renderViewValue()},this.$element.bind("focus",function(){o.alignLeft()}),this.$element.bind("blur",function(){o.alignRight(),o.renderViewValue()}),this.$element.bind("keydown",function(e){o.keydown(e)}),this.$element.bind("keypress",function(e){o.keypress(e)}),this.$element.bind("keyup",function(e){o.keyup(e)}),t.$on("$destroy",function(){o.$element.off()})}return t.prototype.checkSettings=function(e){var t={groupSeparator:this.$locale.NUMBER_FORMATS.GROUP_SEP,groupSize:this.$locale.NUMBER_FORMATS.PATTERNS[1].lgSize,fractionSeparator:this.$locale.NUMBER_FORMATS.DECIMAL_SEP,fractionSize:this.$locale.NUMBER_FORMATS.PATTERNS[1].maxFrac,negativePrefix:this.$locale.NUMBER_FORMATS.PATTERNS[0].negPre,positivePrefix:this.$locale.NUMBER_FORMATS.PATTERNS[0].posPre};if(this.settings=angular.extend({},t,e),e?this.log("montant initial settings",this.settings.fractionSize):this.log("montant without settings"),1!==this.settings.fractionSeparator.length)throw new Error("directive mwsfMontant: fractionSeparator doit avoir un seul caractère");if(1!==this.settings.groupSeparator.length)throw new Error("directive mwsfMontant: groupSeparator doit avoir un seul caractère");this.nullable=null==this.$scope.nullable||"true"===this.$scope.nullable.toLowerCase()},t.prototype.getSignPrefix=function(){return this.isNegative?this.settings.negativePrefix:this.settings.positivePrefix},t.prototype.getSignPrefixLength=function(){return this.getSignPrefix().length},t.prototype.renderViewValue=function(e){void 0===e&&(e=!1);var t=this.modelController.$viewValue,i=this.inputElement.selectionStart,n=this.formatViewValue(t,e);this.log("render","view:["+this.modelController.$viewValue+"]","input:["+this.inputElement.value+"]","format:["+n+"]","isNegative",this.isNegative,"cursor: "+i,"isUserTyping:"+e),n!==t&&(this.modelController.$viewValue=n,i+=n.length-t.length,this.log("view value has changed in rendering phase","current",t,"new",n)),this.inputElement.value!==this.modelController.$viewValue&&(this.log("render view value",this.modelController.$viewValue),this.$element.val(this.modelController.$isEmpty(this.modelController.$viewValue)?"":this.modelController.$viewValue),e&&(this.log("update cursor position to",i),this.inputElement.setSelectionRange(i,i)))},t.prototype.modelFormatter=function(e){if(this.log("modelFormatter",e),null==e)return this.isNegative=!1,"";this.isNegative=0>e;var t=e+"";return this.isNegative&&(t=t.substr(1)),this.formatViewValue(t,!1)},t.prototype.modelParser=function(e){0===e.length&&this.changeSign(!1),e||this.nullable||(e="0",this.modelController.$viewValue=e),this.renderViewValue(!0);var t=parseFloat(this.getConvertibleViewValue(e));return isNaN(t)?null:(this.log("modelParser","input","["+e+"]","output",t),t)},t.prototype.formatViewValue=function(e,t){if(e=this.getConvertibleViewValue(e),"-"===e.charAt(0)&&(e=e.substr(1)),!e.length&&!t)return"";var i=e.split("."),n=i[0];n.length&&!t&&(n=parseInt(n,10).toString());var r=i[1]||"",o="";if(n.length>this.settings.groupSize){var a;for(a=0;a<n.length;a++)(n.length-a)%this.settings.groupSize===0&&0!==a&&(o+=this.settings.groupSeparator),o+=n.charAt(a)}else o=n;if(this.log("formatViewValue fractionSize",this.settings.fractionSize),this.settings.fractionSize){if(!t)for(;r.length<this.settings.fractionSize;)r+="0";(r.length||"."===e.slice(-1))&&(o+=this.settings.fractionSeparator+r)}var s=[o];return(n.length||t)&&s.unshift(this.getSignPrefix()),this.log("formatViewValue",t,"["+s.join("")+"]"),s.join("")},t.prototype.getConvertibleViewValue=function(e){if(!e.length||e===this.settings.negativePrefix||e===this.settings.positivePrefix)return"";var t=(this.isNegative?"-":"")+this.getAbsoluteViewValue(e);return t=t.replace(this.settings.fractionSeparator,".").replace(new RegExp(this.settings.groupSeparator,"g"),""),this.log("getConvertibleViewValue","["+t+"]"),t},t.prototype.getAbsoluteViewValue=function(e){if(!e)return e;var t=e;return this.settings.negativePrefix.length&&_.startsWith(t,this.settings.negativePrefix)?t=t.substr(this.settings.negativePrefix.length):this.settings.positivePrefix.length&&_.startsWith(e,this.settings.positivePrefix)&&(t=t.substr(this.settings.positivePrefix.length)),this.log("getAbsoluteViewValue","["+e+"]","["+t+"]"),t},t.prototype.changeSign=function(e){if(e!==this.isNegative){this.isNegative=e;var t=this.inputElement.selectionStart,i=this.modelController.$viewValue,n=this.modelController.$modelValue,r=this.getSignPrefix();this.modelController.$setViewValue(r+this.getAbsoluteViewValue(this.modelController.$viewValue)),t+=this.modelController.$viewValue.length-i.length,t<r.length&&(t=r.length),this.log("changeSign","update cursor position",t),this.inputElement.setSelectionRange(t,t),n===this.modelController.$modelValue&&void 0!==n&&(this.modelController.$modelValue=-1*this.modelController.$modelValue,this.modelController.$$writeModelToScope(),this.$scope.$$phase||this.$scope.$root.$$phase||this.$scope.$apply(),this.log("changeSign","void prefix, update model value",this.modelController.$modelValue))}},t.prototype.keydown=function(t){var i=this.inputElement.selectionStart,n=this.getSignPrefixLength();return t.keyCode!==e.KeyCode.DELETE&&t.keyCode!==e.KeyCode.BACKSPACE||0!==i||this.inputElement.selectionEnd!==this.modelController.$viewValue.length?i===this.inputElement.selectionEnd?t.keyCode!==e.KeyCode.DELETE||this.modelController.$viewValue.charAt(i)!==this.settings.groupSeparator&&this.modelController.$viewValue.charAt(i+1)!==this.settings.groupSeparator?t.keyCode===e.KeyCode.BACKSPACE&&i-1>n&&(this.modelController.$viewValue.charAt(i-1)===this.settings.groupSeparator||this.modelController.$viewValue.charAt(i-2)===this.settings.groupSeparator)?(this.log("delete 2 characters if one of the 2 preceding is a group separator"),this.inputElement.value=this.modelController.$viewValue.slice(0,i-1)+this.modelController.$viewValue.substr(i),void this.inputElement.setSelectionRange(i-1,i-1)):t.keyCode===e.KeyCode.BACKSPACE&&i<=this.getSignPrefixLength()||t.keyCode===e.KeyCode.DELETE&&i<this.getSignPrefixLength()?(this.isNegative&&this.getSignPrefixLength()&&(this.log("deleting any character in negative prefix will switch number to positive"),this.changeSign(!1)),void t.preventDefault()):t.keyCode===e.KeyCode.HOME?(this.inputElement.setSelectionRange(n,n),void t.preventDefault()):t.keyCode===e.KeyCode.LEFT_ARROW&&i===this.getSignPrefixLength()?void t.preventDefault():t.keyCode===e.KeyCode.LEFT_ARROW&&i-1>this.getSignPrefixLength()&&this.modelController.$viewValue.charAt(i-1)===this.settings.groupSeparator?(this.inputElement.setSelectionRange(i-2,i-2),void t.preventDefault()):t.keyCode===e.KeyCode.RIGHT_ARROW&&this.modelController.$viewValue.charAt(i+1)===this.settings.groupSeparator?(this.inputElement.setSelectionRange(i+2,i+2),void t.preventDefault()):void 0:(this.inputElement.value=this.modelController.$viewValue.slice(0,i)+this.modelController.$viewValue.substr(i+1),void this.inputElement.setSelectionRange(i,i)):void 0:(this.modelController.$setViewValue(""),this.inputElement.value="",void t.preventDefault())},t.prototype.keyup=function(t){var i=this.inputElement.selectionStart;if(i===this.inputElement.selectionEnd)return t.keyCode===e.KeyCode.DELETE&&0===i&&this.modelController.$viewValue.charAt(i)===this.settings.groupSeparator?(this.inputElement.value=this.modelController.$viewValue.substr(1),void this.inputElement.setSelectionRange(0,0)):void 0},t.prototype.keypress=function(e){var t,i=this.inputElement.selectionStart,n=String.fromCharCode(e.keyCode);if(!this.forcePositive&&("+"===n||"-"===n))return this.changeSign("-"===n),void e.preventDefault();if("."===n||n===this.settings.fractionSeparator)return this.settings.fractionSize?-1!==this.modelController.$viewValue.indexOf(this.settings.fractionSeparator)?void e.preventDefault():(t=this.modelController.$viewValue.substr(i).replace(new RegExp(this.settings.groupSeparator,"g"),""),void(t.length>this.settings.fractionSize&&e.preventDefault())):void e.preventDefault();if(!/[0-9]/.test(n))return void e.preventDefault();var r=this.modelController.$viewValue.substr(0,i).indexOf(this.settings.fractionSeparator);-1!==r&&(t=this.modelController.$viewValue.substr(r+1).replace(new RegExp(this.settings.groupSeparator,"g"),""),t.length>=this.settings.fractionSize&&e.preventDefault())},t.prototype.alignLeft=function(){angular.element(this.inputElement).css("text-align","left")},t.prototype.alignRight=function(){angular.element(this.inputElement).css("text-align","right")},t.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t]},t.$inject=["$locale","$scope","$element","$attrs","$parse"],t}();e.MwsfMontantController=t,e.app.controller("MwsfMontantController",t);var i=function(e,t,i){return{restrict:"A",priority:0,require:"ngModel",controller:"MwsfMontantController",bindToController:!1,scope:{settings:"=?mwsfMontant",forcePositive:"@?",nullable:"@?"}}};i.$inject=["$locale","$templateCache","mwsfDeviseService"],e.app.directive("mwsfMontant",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/montant/saisie-montant-view.html",scope:{formName:"@name",value:"=",devise:"=",required:"=",min:"=",max:"=",messages:"=",desactive:"=?"},controller:"MwsfSaisieMontantController",controllerAs:"ctrl",bindToController:!0}}var i=function(){function e(e,t,i,n){this.$scope=e,this.$attrs=t,this.$element=i,this.$interpolate=n,this.checkDirectiveAttributes(),this.settings={fractionSize:2}}return e.prototype.checkDirectiveAttributes=function(){var e=this;angular.forEach(["name","devise"],function(t){if(!(t in e.$attrs))throw new Error("la directive mwsfSaisieMontant doit avoir un attribut "+t)});var t={required:"Requis",min:"Le montant doit être supérieur ou égal à {{min | number}}",max:"Le montant doit être inférieur ou égal à {{max | number}}"};this.messages=angular.extend({},t,this.messages),this.messages.min=this.$interpolate(this.messages.min)(this),this.messages.max=this.$interpolate(this.messages.max)(this)},e.prototype.isFloat=function(){return"number"==typeof this.value},e.prototype.isNull=function(){return null==this.value},e.$inject=["$scope","$attrs","$element","$interpolate"],e}();e.MwsfSaisieMontantController=i,e.app.controller("MwsfSaisieMontantController",i),e.app.directive("mwsfSaisieMontant",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e){var t=this;this.$scope=e,this.errorMsgRequiredInput=null,this.errorMsgRequiredInput="Renseigner le nom.",e.$watch(function(){return t.nom},function(e,i){e?(t.premierAlphabetique=t.premierCaractereAlphabetique(t.nom),t.detectCharDollar(t.nom)?e.split("$")[0].length<4?t.minLength=!0:(t.minLength=!1,e.split("$")[1]&&e.split("$")[1].length>0?t.caractereInvalide=!0:t.caractereInvalide=!1):t.minLength=!1,t.nom=String(e).toUpperCase().trim()):(t.minLength=!1,t.premierAlphabetique=null,t.caractereInvalide=!1)})}return t.prototype.premierCaractereAlphabetique=function(e){var t=!1;return t="-"===e.substr(0,1)||"'"===e.substr(0,1)?!1:!0},t.prototype.detectCharDollar=function(e){var t=!1;return t=-1===e.indexOf("$")?!1:!0},t.prototype.keydown=function(t){this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.$inject=["$scope"],t}();t.SaisirNomController=i,t.app.controller("SaisirNomController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/nom/saisie-nom-view.html",scope:{nom:"=ngModel",required:"=",agentLaHenin:"=",setFocus:"=",enterKeypressEvent:"="},controller:"SaisirNomController",controllerAs:"viewModelNomCtrl",bindToController:!0,link:function(e,t,i,n){if(!("required"in i))throw new Error('required est un paramètre obligatoire.   ==> <  mwsf-saisie-nom required="true or false" > \n');if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==> <  mwsf-saisie-nom data-ng-model="myObject" >\n')}}}e.app.directive("mwsfSaisieNom",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e){this.$scope=e,this.bindingData(this.numCredit)}return t.prototype.bindingData=function(e){e&&(this.numCredit=e.toUpperCase().trim().toString())},t.prototype.keydown=function(t){this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.$inject=["$scope"],t}();t.SaisirNumCreditController=i,t.app.controller("SaisirNumCreditController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/numero-credit/saisie-numero-credit-view.html",scope:{numCredit:"=ngModel",required:"=",setFocus:"=",enterKeypressEvent:"="},controller:"SaisirNumCreditController",controllerAs:"viewModelNumCreditCtrl",bindToController:!0,link:function(e,t,i){if(!("ngModel"in i))throw new Error('ngModel est un paramètre obligatoire. ==>  < mwsf-saisie-num-credit data-ng-model="myObject" >');if(!("required"in i))throw new Error('required est un paramètre obligatoire. ==>  < mwsf-saisie-num-credit required="true or false" > ')}}}e.app.directive("mwsfSaisieNumCredit",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e){this.$scope=e}return t.prototype.bindingData=function(e){e?(this.numCarte.CODCAR1=e.substr(0,t.MAX_LENGTH),this.numCarte.CODCAR2=e.substr(4,t.MAX_LENGTH),this.numCarte.CODCAR3=e.substr(8,t.MAX_LENGTH),this.numCarte.CODCAR4=e.substr(12,t.MAX_LENGTH)):this.numCarte.CODCAR1=this.numCarte.CODCAR2=this.numCarte.CODCAR3=this.numCarte.CODCAR4=null},t.prototype.keydown=function(t){this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.MAX_LENGTH=4,t.$inject=["$scope"],t}();t.SaisirNumCarteController=i,t.app.controller("SaisirNumCarteController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/numero-carte/saisie-numero-carte-view.html",scope:{numCarte:"=ngModel",required:"=",setFocus:"=",enterKeypressEvent:"="},controller:"SaisirNumCarteController",controllerAs:"viewModelNumCarteCtrl",bindToController:!0,link:function(e,t,i){if(!("required"in i))throw new Error('required est un paramètre obligatoire.   ==> < mwsf-numero-carte2 required="true or false" > \n');if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==> < mwsf-numero-carte2 data-ng-model="myObject" >\n')}}}e.app.directive("mwsfNumeroCarte",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e){this.$scope=e,this.affineValue(this.numPersonne)}return t.prototype.affineValue=function(e){e&&String(e).length<t.MAX_LENGTH&&(this.numPersonne=MyWay.Services.StringUtils.padLeft(String(e),"0",t.MAX_LENGTH))},t.prototype.keydown=function(i,n){this.enterKeypressEvent&&i.keyCode===e.comInterdomaine.KeyCode.ENTER&&(n&&angular.isDefined(n)&&n.length<t.MAX_LENGTH&&this.affineValue(n),i.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.MAX_LENGTH=9,t.$inject=["$scope"],t}();t.SaisirNumPersonneController=i,t.app.controller("SaisirNumPersonneController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/numero-personne/saisie-numero-personne-view.html",scope:{numPersonne:"=ngModel",required:"=",setFocus:"=",enterKeypressEvent:"="},controller:"SaisirNumPersonneController",controllerAs:"viewModelNumPersonneCtrl",bindToController:!0,link:function(e,t,i){if(!("required"in i))throw new Error('required est un paramètre obligatoire.   ==> < mwsf-saisie-num-personne required="true or false" > \n');if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==> < mwsf-saisie-num-personne data-ng-model="myObject" >\n')}}}e.app.directive("mwsfSaisieNumPersonne",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e,t){var i=this;this.$scope=e,this.saisieNumTelephoneService=t,angular.isUndefined(this.numTelephone)&&(this.numTelephone=new MyWay.Model.NumTelephone),"string"==typeof this.numTelephone.indicatif&&(this.numTelephone.indicatif={id:0,value:this.numTelephone.indicatif}),angular.isDefined(this.numTelephone)&&angular.isUndefined(this.numTelephone.indicatif)&&(this.numTelephone.indicatif=this.saisieNumTelephoneService.setDefaultIndicatif()),this.saisieNumTelephoneService.getListIndicatifs().then(function(e){i.listIndicatifs=e}),e.$watch(function(){return i.numTelephone},function(e,t){e?e.indicatif||(e.indicatif=i.saisieNumTelephoneService.setDefaultIndicatif(),i.numTelephone=e):(e=new MyWay.Model.NumTelephone,e.indicatif=i.saisieNumTelephoneService.setDefaultIndicatif(),i.numTelephone=e)}),e.$watch(function(){return i.numTelephone.indicatif},function(e,t){if(e){var n="";"France (+33)"===e.value||"+33"===e.value||"Guadeloupe, St-Barthélemy et St-Martin (+590)"===e.value||"+590"===e.value||"Martinique (+596)"===e.value||"+596"===e.value||"Guyane Française (+594)"===e.value||"+594"===e.value||"La Réunion et Mayotte (+262)"===e.value||"+262"===e.value?i.mask="99 99 99 99 99":i.mask=n}})}return t.prototype.keydown=function(t){this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.LIST_KEY="id",t.LIST_VALUE="value",t.$inject=["$scope","saisieNumTelephoneService"],t}();t.SaisirNumTelephoneController=i,t.app.controller("SaisirNumTelephoneController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/numero-telephone/saisie-numero-telephone-view.html",scope:{numTelephone:"=ngModel",setFocus:"=",enterKeypressEvent:"="},controller:"SaisirNumTelephoneController",controllerAs:"viewModelNumTelephoneCtrl",bindToController:!0,link:function(e,t,i){if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==> < mwsf-saisie-numero-telephone  data-ng-model="myObject" >\n')}}}e.app.directive("mwsfSaisieNumeroTelephone",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t}return e.prototype.getListIndicatifs=function(){var e=this,t=[];return this.getCurrentCOCXBQ().then(function(i){return e.getDU8N(i).then(function(e){return angular.forEach(e,function(e,t){e.LIDCIT&&this.push({id:t,value:String(e.LIDCIT)})},t),t})})},e.prototype.setDefaultIndicatif=function(){return{id:0,value:"+33"}},e.prototype.getCurrentCOCXBQ=function(){return this.serviceAgentExtended.getAuthentificationInfo().then(function(e){return angular.isDefined(e)&&e?e.codeEtablissement:void 0})},e.prototype.getDU8N=function(e){return this.serviceAgentExtended.getDonneesDelocalisees(e,"DU8N").then(function(e){return e.donnees})},e.$inject=["$q","serviceAgentExtended"],e}();e.SaisieNumTelephoneService=t,e.app.service("saisieNumTelephoneService",t);
}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t,i){var n=this;this.$scope=e,this.oppositionService=t,this.$q=i,this.donneesCharge=!1,this.tableauOpposition=null,this.oppositionData=[""],this.tableauColonneCodeModif={title:"Code modif",bind:"codeMotif",cssClass:"col-md-2 col-lg-2"},this.tableauColonneLibelle={title:"Libellé",bind:"libelleMotif",cssClass:"col-md-4 col-lg-4"},this.tableauColonneDateDebut={title:"Date début",bind:"dateDebut ",cssClass:"col-md-3 col-lg-3"},this.tableauColonneDateFin={title:"Date fin ",bind:"dateFin",cssClass:"col-md-3 col-lg-3"},this.codeDevise?this.oppositionService.codeDevise=this.codeDevise:(this.codeDevise="EUR",this.oppositionService.codeDevise="EUR"),this.oppositionService.requeteOpposition(this.codeEtablissement,this.codeGuichet,this.numeroCompte,this.numeroPersonne,this.numeroEntiteTitulaire).then(function(){n.tableauOpposition={width:"col-md-12 ",orderBy:"nom",reserve:!1,perPage:5,multiSelect:!1,filterEnable:!1,sortEnable:!1,moreEnable:!1,columns:[n.tableauColonneCodeModif,n.tableauColonneLibelle,n.tableauColonneDateDebut,n.tableauColonneDateFin],data:n.oppositionService.oppositionData.listeOpposition,selectedItems:[],disabledItems:[],openSelected:!0,templateUrl:"typescript/opposition/opposition-template.html"},n.$scope.$evalAsync(function(){n.donneesCharge=!0})})["catch"](function(e){})}return e.$inject=["$scope","oppositionService","$q"],e}();e.OppositionController=t,e.app.controller("oppositionController",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/opposition/opposition-view.html",controller:"oppositionController",controllerAs:"oppositionCtrl",bindToController:!0,scope:{numeroCompte:"=",codeEtablissement:"=",codeGuichet:"=",numeroPersonne:"=",numeroEntiteTitulaire:"=",codeDevise:"="}}}e.app.directive("mwsfOpposition",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(t){var i=function(){function e(e,t,i){this.$q=e,this.serviceAgentExtended=t,this.modalService=i}return e.prototype.requeteOpposition=function(e,t,i,n,r){var o=this,a=this.$q.defer(),s={codeEtablissement:e,codeGuichet:t,numeroCompte:i,numeroPersonne:n,numeroEntiteTitulaire:r},l="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/opposition/v1/recherche",c={url:l,method:MyWay.Services.MethodEnum.GET,withHeaders:!0,params:s};return this.serviceAgentExtended.sendRequest(c).then(function(e){o.oppositionData=e,console.log(o.oppositionData)})["catch"](function(e){console.log(e),o.modalService.showErreur(MyWay.UI.TYPE_POPUP_ERREUR.BLOQUANT,"Chargement des oppositions  : ",""+e.valeurs),a.reject(e)})["finally"](function(){o.serviceAgentExtended.DonneesDelocalisees.getDonneesDelocalisees(e,"DU2C").then(function(e){o.tableCapaciteJuridique=e})["finally"](function(){a.resolve(o.oppositionData)})}),a.promise},e.prototype.findCapaciteJuridique=function(e){var t="";e="0"+e;var i=_.filter(this.tableCapaciteJuridique.donnees,function(t){return t.CTDECA===e});return i&&(t=i[0].LIDECA),t},e.$inject=["$q","serviceAgentExtended","modalService"],e}();t.OppositionService=i,e.app.service("oppositionService",i)}(t=e.Service||(e.Service={}))}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t,i){this.$scope=e,this.oppositionService=t,this.$q=i,this.reference=!1,this.codeDevise=this.oppositionService.codeDevise}return e.prototype.getCapaciteJuridique=function(e){var t="";return e&&(t=this.oppositionService.findCapaciteJuridique(e)),t},e.prototype.perteVol=function(e){var t="";switch(e){case"P":t="Perte";break;case"V":t="Vol"}return t},e.prototype.carteIdendite=function(e){var t="";switch(e){case"0":case"N":t="Non";break;case"O":case"1":case"":t="Oui"}return t},e.prototype.montantLibelle=function(e){var t="";switch(e){case"0502":t="Montant opération bloquée ";break;case"0544":t="Montant du solde minimum à atteindre ";break;case"0546":t="Montant du solde minimum "}return t},e.prototype.afficheBloc=function(e,t){var i=0;switch(i=e.libelle&&"commentaire"===t?i+1:i,e.codeMotif){case"0201":i="duplicata"===t?i+1:i,i="perte"===t?i+1:i,i="identite"===t?i+1:i,i="referenceTitre"===t?i+1:i;break;case"0501":i="referenceTitre"===t?i+1:i,e&&e.prelevementNNE&&(i="emetteur"===t&&0!==e.prelevementNNE.numeroNationalEmetteur&&e.prelevementNNE.numeroNationalEmetteur?i+1:i,i="mtOp"===t&&0!==e.prelevementNNE.mtOperationBloquee?i+1:i,i="mtOpTousMontants"===t&&0===e.prelevementNNE.mtOperationBloquee?i+1:i),i="motif"===t?i+1:i;break;case"0502":case"0544":case"0546":i="referenceTitre"===t?i+1:i,i="montantOpBloquee"===t?i+1:i;break;case"0604":i="referenceTitre"===t?i+1:i,i="premier"===t?i+1:i,i="dernier"===t?i+1:i,i="motifFormulaire"===t?i+1:i;break;case"0605":i="referenceTitre"===t?i+1:i,i="numeroCheque"===t?i+1:i,i="mtCheque"===t?i+1:i,i="motifPaiement"===t?i+1:i,i="emission"===t?i+1:i,i="beneficaire"===t?i+1:i;break;case"0205":case"0206":i="referenceTitre"===t?i+1:i,i="condition"===t?i+1:i;break;case"0A02":i="referenceTitre"===t?i+1:i,i="perte"===t?i+1:i;break;case"0503":i="referenceTitre"===t?i+1:i,e&&e.prelevementSaufNNE&&(i="emetteurAutoriseSauf"===t&&0!==e.prelevementSaufNNE.numeroNationalEmetteur&&e.prelevementSaufNNE.numeroNationalEmetteur?i+1:i,i="emetteurAutoriseSaufBloquee"!==t||0!==e.prelevementSaufNNE.numeroNationalEmetteur&&e.prelevementSaufNNE.numeroNationalEmetteur?i:i+1),i="motifSaufNNE"===t?i+1:i;break;case"0504":i="referenceTitre"===t?i+1:i,i="creancier"===t?i+1:i,i="reference"===t?i+1:i,i="motifSepa"===t?i+1:i;break;case"0505":i="referenceTitre"===t?i+1:i,i="motifPrSepa"===t?i+1:i;break;case"0906":i="referenceTitre"===t?i+1:i,i="capaciteJuridique"===t?i+1:i}return i>0?!0:!1},e.$inject=["$scope","oppositionService","$q"],e}();e.OppositionTemplateController=t,e.app.controller("oppositionTemplateController",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e){var t=this;this.$scope=e,e.$watch(function(){return t.prenom},function(e,i){e&&(t.premierAlphabetique=t.premierCaractereAlphabetique(t.prenom),t.prenom=String(e).toUpperCase().trim())})}return t.prototype.premierCaractereAlphabetique=function(e){var t=!1;return t="-"===e.substr(0,1)||"'"===e.substr(0,1)?!1:!0},t.prototype.keydown=function(t){this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.$inject=["$scope"],t}();t.SaisirPrenomController=i,t.app.controller("SaisirPrenomController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/prenom/saisie-prenom-view.html",scope:{prenom:"=ngModel",required:"=",agentLaHenin:"=",setFocus:"=",enterKeypressEvent:"="},controller:"SaisirPrenomController",controllerAs:"viewModelPrenomCtrl",bindToController:!0,link:function(e,t,i){if(!("required"in i))throw new Error('required est un paramètre obligatoire.   ==> <  mwsf-saisie-prenom required="true or false" > \n');if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==> <  mwsf-saisie-prenom data-ng-model="myObject" >\n')}}}e.app.directive("mwsfSaisiePrenom",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e,i,n,r){var o=this;this.$scope=e,this.saisieRiceService=i,this.serviceAgentExtended=n,this.$timeout=r,this.setListCodeGuichet([]),this.rib.codeEtablissement||this.saisieRiceService.getCurrentCOCXBQ().then(function(e){e&&(o.rib.codeEtablissement=e)}),this.modeSupp=!1,e.$watch(function(){return o.rib.codeEtablissement},function(e,t){e&&5===e.length&&(o.rib.codeEtablissement=e,o.listeGuichetsCallBack(e))}),e.$watch(function(){return o.rib.codeGuichet},function(e,i){o.codeGuichetValidate=!1,o.rib.codeGuichet&&String(o.rib.codeGuichet).length>0&&5===String(o.rib.codeGuichet).length&&(o.codeGuichetValidate=!0,o.cocxprCodard&&o.cocxprCodard.length>10&&(o.rib.cleRice=o.saisieRiceService.riceKeyCalculator(o.rib),o.cocxprCodard=o.cocxprCodard.substr(0,11).concat(o.rib.cleRice))),e&&e[t.LIST_VALUE]&&5===e[t.LIST_VALUE].length&&(o.codeGuichetValidate=!0),!i&&e&&e[t.LIST_VALUE]&&5===e[t.LIST_VALUE].length&&(o.codeGuichetValidate=!0),e&&i&&e[t.LIST_VALUE]!==i[t.LIST_VALUE]&&(e[t.LIST_VALUE]&&5===e[t.LIST_VALUE].length?o.$timeout(function(){o.codeGuichetValidate=!0},10):o.codeGuichetValidate=!1)}),e.$watch(function(){return o.rib.codeActiviteCompte&&o.rib.radical},function(e,t){e||(o.codeGuichetValidate=!1,o.cocxprCodard=null,o.rib.cleCompte=o.rib.cleRice=null)}),e.$watch(function(){return o.cocxprCodard},function(e,t){if(o.errorMessage=null,e&&e.length>=10&&t&&t!==e){var i=t.substr(0,9),n=e.substr(0,9);i!==n&&(o.cocxprCodard=e=n)}if(e&&12===e.length){var r=new MyWay.Model.Rice;r.codeEtablissement=o.rib.codeEtablissement,r.codeGuichet=o.rib.codeGuichet,r.codeActiviteCompte=e.substr(0,2),r.radical=e.substr(2,7);var a=e.substr(9,2),s=o.saisieRiceService.compteKeyCalculator(r);a!==s&&(o.errorMessage="La clé est incorrecte")}if(e&&(11===e.length||13===e.length)){var l=new MyWay.Model.Rice;l.codeEtablissement=o.rib.codeEtablissement,l.codeGuichet=o.rib.codeGuichet,l.codeActiviteCompte=e.substr(0,2),l.radical=e.substr(2,7);var c,u=e.substr(9,2),d=13===e.length?e.substr(11,2):"",m=o.saisieRiceService.compteKeyCalculator(l);o.modeSupp?u!==m&&(o.errorMessage="La clé est incorrecte"):"99"===u||"97"===u||"99"===d||"97"===d?(l.cleCompte=m,c=o.saisieRiceService.riceKeyCalculator(l),l.cleRice=c,o.rib=l,o.cocxprCodard=o.rib.codeActiviteCompte.concat(o.rib.radical),o.cocxprCodard=o.rib.cleCompte?o.cocxprCodard.concat(o.rib.cleCompte):o.cocxprCodard,o.cocxprCodard=o.rib.cleRice?o.cocxprCodard.concat(o.rib.cleRice):o.cocxprCodard):u&&(u!==m?(o.errorMessage="La clé est incorrecte",d&&(o.cocxprCodard=l.codeActiviteCompte.concat(l.radical),o.cocxprCodard=u?o.cocxprCodard.concat(u):o.cocxprCodard)):(l.cleCompte=u,c=o.saisieRiceService.riceKeyCalculator(l),l.cleRice=c,o.rib=l,o.cocxprCodard=o.rib.codeActiviteCompte.concat(o.rib.radical),o.cocxprCodard=o.rib.cleCompte?o.cocxprCodard.concat(o.rib.cleCompte):o.cocxprCodard,o.cocxprCodard=o.rib.cleRice?o.cocxprCodard.concat(o.rib.cleRice):o.cocxprCodard))}!e&&t&&o.rib&&o.rib.codeEtablissement&&o.rib.codeGuichet&&(o.rib=new MyWay.Model.Rice(o.rib.codeEtablissement,o.rib.codeGuichet))}),e.$watch(function(){return o.rib.codeActiviteCompte&&2===o.rib.codeActiviteCompte.length&&o.rib.radical&&7===o.rib.radical.length},function(e,t){e&&(o.cocxprCodard=o.rib.codeActiviteCompte.concat(o.rib.radical),o.rib.cleCompte&&(o.cocxprCodard+=o.rib.cleCompte,o.rib.cleRice&&(o.cocxprCodard+=o.rib.cleRice)))})}return t.prototype.keydown=function(t){this.modeSupp=!1,this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER?(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS)):(t.keyCode===e.comInterdomaine.KeyCode.BACKSPACE||t.keyCode===e.comInterdomaine.KeyCode.DELETE)&&(this.modeSupp=!0)},t.prototype.setListCodeGuichet=function(e){1===e.length?(this.rib.codeGuichet=e[0],this.codeGuichetUniqueValue=!0):this.codeGuichetUniqueValue=!1,this.listCodeGuichets=e},t.prototype.getListCodeGuichet=function(){return this.listCodeGuichets},t.prototype.listeGuichetsCallBack=function(e){var i=this;this.listCodeGuichets=[],this.saisieRiceService.getCU3E(this.rib.codeEtablissement).then(function(n){var r=0;angular.forEach(n,function(i,n){if(0===e.localeCompare(i.COCXBQ)){var o={};o[t.LIST_KEY]=r,o[t.LIST_VALUE]=i.COCXGU,this.push(o),r++}},i.listCodeGuichets),i.setListCodeGuichet(i.listCodeGuichets)})},t.prototype.isOneObject=function(e){var t;return t=1===e.length?!0:!1},t.prototype.elemementExistInList=function(e,t){var i;return angular.forEach(t,function(t,n){i=-1===e.indexOf(t.value)?!0:!1}),i},t.LIST_KEY="id",t.LIST_VALUE="value",t.$inject=["$scope","saisieRiceService","serviceAgentExtended","$timeout"],t}();t.SaisirRibController=i,t.app.controller("SaisirRibController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/rib/saisie-rib-view.html",scope:{rib:"=ngModel",enterKeypressEvent:"=",sansLibelle:"=sansLibelle"},controller:"SaisirRibController",controllerAs:"viewModelRibCtrl",bindToController:!0,link:function(e,t,i){if(!("ngModel"in i))throw new Error("ngModel est un paramétre obligatoire.\n -->  < mwsf-saisie-rib data-ng-model=myObject >")}}}e.app.directive("mwsfSaisieRib",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e,t,i){var n=this;if(this.$scope=e,this.saisieRiceService=t,this.$q=i,this.msgErreurKeys=null,this.msgErreurEts=null,this.promesses=[],this.listCodeGuichets=[],this.bindingGuichet=!1,this.bindingEtablissement=!1,this.codeEtablissementKeydown=this.cocxprCodardKeydown=this.codeGuichetKeydown=!1,this.msgErreurControle=null,this.calculAutoCleRiceModeExterne=!1,this.saisieRiceService.setAppelTermine(this.$q.when().then(function(){return!1})),this.modeAppel){if(this.modeAppel="Guichet"===this.modeAppel?"Etablissement":"Externe CFF"===this.modeAppel?"Externe":this.modeAppel,!this.isValideModeAppel(this.modeAppel))throw new Error("le mode d'appel en paramètre n'est pas valide.   ==> <  mwsf-saisie-rice  data-mode-appel= Etablissement ou Externe>\n");"Externe"===this.modeAppel?this.modeExterne=!0:this.modeExterne=!1}this.rice&&this.rice.codeGuichet&&[this.rice.codeGuichet].length>0&&this.setListeGuichet([this.rice.codeGuichet]),e.$watch(function(){return n.modeAppel},function(e,t){e&&"Etablissement"===e&&n.rice.codeEtablissement?(n.rice.codeGuichet&&n.setListeGuichet([n.rice.codeGuichet]),n.modeEtablissement=!0):n.modeEtablissement=!1}),e.$watch(function(){return n.rice&&n.rice.codeActiviteCompte&&n.rice.radical&&n.rice.cleCompte},function(e,t){e&&(n.cocxprCodard=n.rice.codeActiviteCompte.concat(n.rice.radical).concat(n.rice.cleCompte))}),e.$watch(function(){return n.rice&&n.rice.codeEtablissement},function(e,i){if(n.msgErreurEts=null,n.calculAutoCleRiceModeExterne=!1,e&&5===e.length){n.codeEtablissementValidate=!0;var r=n.listeGuichetsCallBack(e);n.promesses.push(r),"Externe"!==n.modeAppel?r.then(function(){n.listCodeGuichets&&0===n.listCodeGuichets.length&&(n.msgErreurEts="Aucun guichet pour cet établissement.")}):r.then(function(){if(n.listCodeGuichets&&n.listCodeGuichets.length>0&&(n.calculAutoCleRiceModeExterne=!0,n.rice&&"97"===n.rice.cleCompte)){var e=t.compteKeyCalculatorAsynchrone(n.rice);n.promesses.push(e),e.then(function(e){n.rice.cleCompte=e,n.rice.codeActiviteCompte&&n.rice.radical&&n.rice.cleCompte&&(n.cocxprCodard=n.rice.codeActiviteCompte.concat(n.rice.radical).concat(n.rice.cleCompte))})}})}else n.selectedGuichet=null,n.setListeGuichet([]),n.rice&&(n.rice.codeGuichet=null,n.rice.cleRice=null),n.codeEtablissementValidate=!1;n.setValidRice()}),e.$watch(function(){return n.getListeGuichet()&&n.getListeGuichet().length},function(e,t){e?(n.saisieRiceService.isUniqueCodeGuichet(n.getListeGuichet())&&(n.rice.codeGuichet=n.getListeGuichet()[0],n.codeGuichetValidate=!0,n.isUniqueCodeGuichet=!0,n.bindingGuichet=n.bindingEtablissement),n.saisieRiceService.isUniqueCodeGuichet(n.getListeGuichet())||(n.isUniqueCodeGuichet=!1)):n.isUniqueCodeGuichet=!1}),e.$watch(function(){return n.listCodeGuichets&&n.listCodeGuichets.length},function(e,t){if(e&&e>0&&n.rice&&n.rice.codeGuichet){var i=n.listCodeGuichets.filter(function(e){return e.value===n.rice.codeGuichet.value});i&&i[0]&&(n.selectedGuichet=i[0].value,n.codeGuichetValidate=!0,n.valideControleAsynchrone().then(function(){n.setValidRice()}))}}),e.$watch(function(){return n.rice&&n.rice.codeActiviteCompte&&n.rice.radical},function(e,t){n.cocxprCodard&&!e&&t&&(n.rice.codeActiviteCompte?n.cocxprCodard=n.rice.codeActiviteCompte:n.cocxprCodard=e)}),e.$watch(function(){return n.cocxprCodard},function(e,t){if(n.msgErreurKeys=null,n.msgErreurControle=null,e){n.cocxprCodard=e.toUpperCase(),n.rice.cleCompte!==e.substr(9,2)&&2===e.substr(9,2).length&&(n.rice.cleCompte=e.substr(9,2));var i=n.rice.codeActiviteCompte&&n.rice.radical?n.rice.codeActiviteCompte.concat(n.rice.radical):"";i!==e.substr(0,9)&&i.length>0&&(n.rice.cleCompte=null,n.cocxprCodard=n.cocxprCodard.substr(0,9)),i.concat(n.rice.cleCompte)!==e&&(n.rice.cleRice=null),n.rice.codeActiviteCompte=n.cocxprCodard.substr(0,2),n.rice.radical=n.cocxprCodard.substr(2,7),11===e.length&&n.cocxprCodardKeydown&&(n.cocxprCodardValidate=!0),e.length<11&&n.cocxprCodardKeydown&&(n.rice.cleCompte=null,n.cocxprCodardValidate=!1)}else n.cocxprCodardValidate=!1,n.rice.codeActiviteCompte=null,n.rice.radical=null,n.rice.cleRice=null;n.setValidRice()}),e.$watch(function(){return n.rice&&n.rice.codeGuichet&&n.rice.codeGuichet.value},function(e,t){if(n.codeGuichetValidate=!1,n.isUniqueCodeGuichet&&n.listCodeGuichets&&(n.rice.codeGuichet=n.listCodeGuichets[0]),(null===e||angular.isUndefined(e)||""===e)&&angular.isDefined(n.listCodeGuichets)&&(n.rice.codeGuichet=null,n.selectedGuichet=null,n.isUniqueCodeGuichet&&n.listCodeGuichets&&(n.rice.codeGuichet=n.listCodeGuichets[0],n.selectedGuichet=n.listCodeGuichets[0])),e&&5===e.length&&n.listCodeGuichets){var i=n.listCodeGuichets.filter(function(t){return t.value===e});if(i&&i[0]){n.selectedGuichet=i[0].value,n.codeGuichetValidate=!0;var r=n.saisieRiceService.compteKeyCalculatorAsynchrone(n.rice);n.promesses.push(r),r.then(function(e){var t=e;n.rice.peutCalculerCleRice()&&n.rice.cleCompte===t&&(n.rice.cleRice=n.saisieRiceService.riceKeyCalculator(n.rice))})}else if("Externe"===n.modeAppel){n.codeGuichetValidate=!0,n.bindingGuichet=!0;var r=n.saisieRiceService.compteKeyCalculatorAsynchrone(n.rice);n.promesses.push(r),r.then(function(e){var t=e;n.rice.peutCalculerCleRice()&&n.rice.cleCompte===t&&(n.rice.cleRice=n.saisieRiceService.riceKeyCalculator(n.rice))})}}n.setValidRice()}),e.$watch(function(){return n.selectedGuichet},function(e,t){if(n.listCodeGuichets&&0!==n.listCodeGuichets.length)if((null===e||angular.isUndefined(e)||""===e)&&angular.isDefined(n.listCodeGuichets))n.rice.codeGuichet=null,n.codeGuichetKeydown&&(n.rice.cleRice=null);else if(e&&e.length<5)n.rice.cleRice=null;else if(e&&5===e.length&&angular.isDefined(n.listCodeGuichets)){var i=n.listCodeGuichets.filter(function(t){return t.value===e});if(i&&0!==i.length?n.codeGuichetValidate=!0:(n.rice.codeGuichet=null,n.selectedGuichet=null),t!==e){n.codeGuichetKeydown&&(n.rice.cleRice=null),n.rice.codeGuichet=i?i[0]:null;var r=n.saisieRiceService.compteKeyCalculatorAsynchrone(n.rice);n.promesses.push(r),r.then(function(e){var t=e;n.rice.peutCalculerCleRice()&&n.rice.cleCompte===t&&(n.rice.cleRice=n.saisieRiceService.riceKeyCalculator(n.rice))})}}});var r=!0;e.$watch(function(){return n.rice&&n.rice.cleCompte},function(e,t){if(e)if("Externe"!==n.modeAppel)if(n.calculCleCompteAutoEffectue)n.calculCleCompteAutoEffectue=!1;else{var i=n.saisieRiceService.transformAlphaToNumeric(n.rice.radical).join(""),o=new MyWay.Model.Rice(n.rice.codeEtablissement,n.rice.codeGuichet,n.rice.codeActiviteCompte,i),a=n.saisieRiceService.compteKeyCalculatorAsynchrone(o);n.promesses.push(a),a.then(function(e){"99"!==n.rice.cleCompte&&"97"!==n.rice.cleCompte?n.rice.cleCompte!==e?(n.cocxprCodardValidate=!1,n.msgErreurKeys="La clé du compte n'est pas valide."):(n.rice.cleCompte=e,n.rice.cleRice=n.saisieRiceService.riceKeyCalculator(n.rice),n.cocxprCodardValidate=!0,n.msgErreurKeys=null,n.cocxprCodardKeydown&&n.valideControleAsynchrone(),r=!1):(n.calculCleCompteAutoEffectue=!0,n.rice.cleCompte=e,n.rice.cleRice=n.saisieRiceService.riceKeyCalculator(n.rice),n.cocxprCodard=n.rice.codeActiviteCompte&&n.rice.radical?n.rice.codeActiviteCompte.concat(n.rice.radical).concat(n.rice.cleCompte):"",n.cocxprCodardValidate=n.cocxprCodardKeydown,n.cleRiceValidate=!0,n.msgErreurKeys=null,n.valideControleAsynchrone())})}else if(n.calculAutoCleRiceModeExterne){var a=n.saisieRiceService.compteKeyCalculatorAsynchrone(n.rice);n.promesses.push(a),a.then(function(e){var t=e;"99"!==n.rice.cleCompte&&"97"!==n.rice.cleCompte?n.rice.cleCompte!==t?(n.cocxprCodardValidate=!1,n.msgErreurKeys="La clé du compte n'est pas valide."):(n.cocxprCodardValidate=!0,n.msgErreurKeys=null,n.rice.cleRice=n.saisieRiceService.riceKeyCalculator(n.rice),n.valideControleAsynchrone().then(function(){r=!1})):(n.rice.cleCompte=t,n.cocxprCodardValidate=!0,n.msgErreurKeys=null,n.rice.cleRice=n.saisieRiceService.riceKeyCalculator(n.rice),n.valideControleAsynchrone().then(function(){r=!1}))})}else n.cocxprCodardValidate=!0,n.msgErreurKeys=null,n.calculAutoCleRiceModeExterne&&(n.rice.cleRice=n.saisieRiceService.riceKeyCalculator(n.rice)),n.valideControleAsynchrone().then(function(){r=!1});else n.cocxprCodardValidate=!1;n.setValidRice()}),e.$watch(function(){return n.rice&&n.rice.cleRice&&2===n.rice.cleRice.length},function(e,t){if(e){if(!n.calculCleCompteAutoEffectue)if("Externe"!==n.modeAppel){var i=n.saisieRiceService.riceKeyCalculator(n.rice);if("99"!==n.rice.cleRice&&"97"!==n.rice.cleRice)n.rice.cleRice!==i?(n.cleRiceValidate=!1,n.msgErreurKeys?n.msgErreurKeys="La clé du rice et la clé du compte ne sont pas valides.":n.msgErreurKeys="La clé du rice n'est pas valide."):(n.cleRiceValidate=!0,n.msgErreurKeys=null);else{var r=n.saisieRiceService.compteKeyCalculatorAsynchrone(n.rice);n.promesses.push(r),r.then(function(e){n.rice.cleCompte=e,n.rice.cleRice=i,n.cleRiceValidate=!0,n.msgErreurKeys=null,n.cocxprCodard=n.rice.codeActiviteCompte.concat(n.rice.radical).concat(n.rice.cleCompte),n.cocxprCodardValidate=n.cocxprCodardKeydown,n.setValidRice()})}}else{var o=n.saisieRiceService.riceKeyCalculator(n.rice);"97"===n.rice.cleRice?(n.rice.cleRice=o,n.cleRiceValidate=!0,n.msgErreurKeys=null):n.rice.cleRice!==o?(n.cleRiceValidate=!1,n.msgErreurKeys="La clé du rice n'est pas valide."):(n.msgErreurKeys=null,n.cleRiceValidate=!0)}}else"La clé du rice et la clé du compte ne sont pas valides."!==n.msgErreurKeys||n.rice.cleRice||(n.msgErreurKeys="La clé du compte n'est pas valide."),"La clé du rice n'est pas valide."===n.msgErreurKeys&&(n.msgErreurKeys=null),n.cleRiceValidate=!1;n.setValidRice()})}return t.prototype.setValidRice=function(){this.rice&&this.rice.isComplete()&&this.getKeydown()&&(this.getFinAppel(),this.rice.$valid=this.codeEtablissementValidate&&this.codeGuichetValidate&&this.cocxprCodardValidate&&this.cleRiceValidate)},t.prototype.getFinAppel=function(){0===this.promesses.length?this.saisieRiceService.setAppelTermine(this.$q.when().then(function(){return!0})):this.saisieRiceService.setAppelTermine(this.$q.all(this.promesses).then(function(){return!0}))},t.prototype.getKeydown=function(){return this.codeEtablissementKeydown||this.codeGuichetKeydown||this.cocxprCodardKeydown||this.cleRiceKeydown},t.prototype.valideControleAsynchrone=function(){var e=this;if(this.controle){var i=this.saisieRiceService.verifieExistenceRICE(this.rice.formatRicePourRib());return this.promesses.push(i),i.then(function(t){e.rice.riceNonExistant=e.rice.erreurBloquante=!1})["catch"](function(i){e.msgErreurControle=i.libelle,e.rice.riceNonExistant=e.msgErreurControle.indexOf(t.msgErreurNonTrouve)>-1,e.rice.erreurBloquante=!0})}return this.$q.when().then(function(){})},t.prototype.valideControle=function(){var e=this;this.controle&&this.saisieRiceService.verifieExistenceRICE(this.rice.formatRicePourRib()).then(function(t){e.rice.riceNonExistant=e.rice.erreurBloquante=!1})["catch"](function(i){e.msgErreurControle=i.libelle,e.rice.riceNonExistant=e.msgErreurControle.indexOf(t.msgErreurNonTrouve)>-1,e.rice.erreurBloquante=!0})},t.prototype.onItemSelect=function(e){this.rice.codeGuichet=e,this.codeGuichetKeydown=!0,this.bindingData("codeGuichet",this.selectedGuichet,5)},t.prototype.setListeGuichet=function(e){this.listCodeGuichets=e},t.prototype.getListeGuichet=function(){return this.listCodeGuichets},t.prototype.listeGuichetsCallBack=function(e){var i=this;this.setListeGuichet([]);var n=this.saisieRiceService.getCU3E(this.rice.codeEtablissement);return this.promesses.push(n),n.then(function(n){var r=0;angular.forEach(n,function(i,n){if(0===e.localeCompare(i.COCXBQ)){var o={};o[t.LIST_KEY]=r,o[t.LIST_VALUE]=i.COCXGU,this.push(o),r++}},i.listCodeGuichets),i.setListeGuichet(i.listCodeGuichets)})},t.prototype.isValideModeAppel=function(e){var t=!1,i=["Etablissement","Externe"];return angular.forEach(i,function(i,n){i===e&&(t=!0)}),t},t.prototype.bindingData=function(e,t,i){if(this.bindingGuichet=!1,this.bindingEtablissement=!1,t)switch(e){case"codeEtablissement":this.codeEtablissementValidate=t.length===i,this.bindingEtablissement=t.length===i;break;case"codeGuichet":var n=this.listCodeGuichets.filter(function(e){return e.value===t});5===t.length&&n&&n.length>0?(this.codeGuichetValidate=!0,this.bindingGuichet=!0):this.codeGuichetValidate=!1}else switch(e){case"codeEtablissement":this.codeEtablissementValidate=!1;break;case"codeGuichet":this.codeGuichetValidate=!1}},t.prototype.normalizedValue=function(e,i,n){if(i)switch(e){case"codeEtablissement":this.rice.codeEtablissement=MyWay.Services.StringUtils.padLeft(i,t.PAD_LEFT_CARACTERE,n),this.codeEtablissementValidate=!0;break;case"codeGuichet":this.rice.codeGuichet[t.LIST_VALUE]=MyWay.Services.StringUtils.padLeft(i,t.PAD_LEFT_CARACTERE,n),this.codeGuichetValidate=!0}},t.prototype.keydown=function(t){this.cocxprCodardKeydown=!0,this.enterKeypressEvent&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS)),t.keyCode===e.comInterdomaine.KeyCode.BACKSPACE&&(this.cocxprCodardValidate=!1)},t.prototype.backspaceRice=function(e){return!e||e&&(1===e.length||0===e.length)?!0:!1},t.prototype.keydownBack=function(t,i){if(this.codeEtablissementBackFocus=!1,this.codeGuichetBackFocus=!1,this.radicalBackFocus=!1,t.keyCode===e.comInterdomaine.KeyCode.BACKSPACE)switch(this.codeEtablissementKeydown=!1,this.codeGuichetKeydown=!1,this.cocxprCodardKeydown=!1,this.cleRiceKeydown=!1,i){case 1:this.modeExterne&&!this.calculAutoCleRiceModeExterne?this.rice&&this.rice.codeGuichet&&this.rice.codeGuichet.value&&(this.codeEtablissementBackFocus=this.backspaceRice(this.rice.codeGuichet.value)):this.codeEtablissementBackFocus=this.backspaceRice(this.selectedGuichet);break;case 2:this.codeGuichetBackFocus=this.backspaceRice(this.cocxprCodard);break;case 3:this.radicalBackFocus=this.backspaceRice(this.rice.cleRice)}},t.PAD_LEFT_CARACTERE="0",t.LIST_KEY="id",t.LIST_VALUE="value",t.msgErreurNonTrouve="non trouvé",t.$inject=["$scope","saisieRiceService","$q"],t}();t.SaisirRiceController=i,t.app.controller("SaisirRiceController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/rice/saisie-rice-view.html",scope:{rice:"=ngModel",enterKeypressEvent:"=",readOnly:"=",modeAppel:"@",controle:"="},controller:"SaisirRiceController",controllerAs:"viewModelRiceCtrl",bindToController:!0,link:function(e,t,i){if(!("ngModel"in i))throw new Error('ng-model est un paramètre obligatoire.   ==> <  mwsf-saisie-rice  data-ng-model="myObject" >\n');if(!("modeAppel"in i))throw new Error("mode-appel est un paramètre obligatoire.   ==> <  mwsf-saisie-rice  data-mode-appel= Etablissement ou Guichet ou Externe ou Externe CFF>\n");if(!("readOnly"in i))throw new Error('read-only est un paramètre obligatoire.   ==> <  mwsf-saisie-rice  data-read-only="true ou false" >\n')}}}e.app.directive("mwsfSaisieRice",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t){this.serviceAgentExtended=e,this.$q=t,this.setAppelTermine(this.$q.when().then(function(){return!0}))}return e.prototype.isUniqueCodeGuichet=function(e){var t=!1;return t=1===e.length?!0:!1},e.prototype.compteKeyCalculatorAsynchrone=function(e){var t=this.$q.defer(),i="";return this.isCompteTitres(e.codeActiviteCompte)?this.compteKeyCalculatorCompteTitre(e).then(function(n){n?(e.cleCompte=n,t.resolve(n)):t.resolve(i)}):(i=this.compteKeyCalculatorNoCompteTitre(e),this.setCompteKey(i),t.resolve(i)),t.promise},e.prototype.compteKeyCalculator=function(e){var t=this,i="";return this.isCompteTitres(e.codeActiviteCompte)?this.compteKeyCalculatorCompteTitre(e).then(function(n){n&&(e.cleCompte=n,e.cleRice=t.riceKeyCalculator(e),t.setCompteKey(e.cleCompte),t.setRiceKey(e.cleRice),i=n)}):(i=this.compteKeyCalculatorNoCompteTitre(e),this.setCompteKey(i)),i},e.prototype.setCompteKey=function(e){this.compteKey=e},e.prototype.setRiceKey=function(e){this.riceKey=e},e.prototype.isCompteTitres=function(e){var t;return t=e&&"3"===e.substring(0,1)?!0:!1},e.prototype.getCurrentCOCXBQ=function(){return this.serviceAgentExtended.getAuthentificationInfo().then(function(e){return e&&angular.isDefined(e)?e.codeEtablissement:void 0})},e.prototype.getParametresComptables=function(){return this.serviceAgentExtended.getParametresComptables().then(function(e){return e&&angular.isDefined(e)?e:void 0})},e.prototype.getCU3E=function(e){return this.serviceAgentExtended.getDonneesDelocalisees(e,"CU3E").then(function(e){return e.donnees})["catch"](function(e){return e})},e.prototype.getCOCEEA=function(e){return this.getCU3E(e).then(function(e){return e})},e.prototype.createRibFromNumeroCompte=function(e){var t=new MyWay.Model.Rice;return!e||isNaN(+e)||e.length<21?t:(t.codeEtablissement=e.substring(0,5),t.codeActiviteCompte=e.substring(10,12),t.codeGuichet=e.substring(5,10),t.radical=e.substring(12,19),t.cleCompte=e.substring(19,21),23===e.length?t.cleRice=e.substring(21,23):this.riceKeyCalculator(t),t)},e.prototype.riceKeyCalculator=function(e){var t,i;if("string"==typeof e.codeGuichet&&(i=String(e.codeGuichet)),"object"==typeof e.codeGuichet&&e.codeGuichet&&(i=String(e.codeGuichet.value)),e.codeEtablissement&&i&&e.codeActiviteCompte&&e.radical&&e.cleCompte){var n=this.transformAlphaToNumeric(e.codeActiviteCompte).join(""),r=this.transformAlphaToNumeric(e.radical).join(""),o=this.transformAlphaToNumeric(e.cleCompte).join(""),a=e.codeEtablissement.concat(i).concat(n).concat(r).concat(o),s=a.substring(0,9);return t=String(parseInt(s,10)%97),s=t.concat(a.substring(9,16)),t=String(parseInt(s,10)%97),s=t.toString().concat(a.substring(16,21)),t=String(97-100*parseInt(s,10)%97),1===t.length&&(t="0".concat(t)),this.setRiceKey(t),t}},e.prototype.compteKeyCalculatorNoCompteTitre=function(e){var t="";return e.radical?(t=String(parseInt(e.codeActiviteCompte.concat(e.radical),10)%97),1===t.length&&(t="0".concat(t)),t):void 0},e.prototype.compteKeyCalculatorCompteTitre=function(e){var t;return this.getCOCEEA(e.codeEtablissement).then(function(i){return angular.forEach(i,function(i,n){0===String(i.COCXBQ).localeCompare(e.codeEtablissement)&&0===String(i.COCXGU).localeCompare(String(e.codeGuichet.value))&&e.radical&&(t=String(i.COCEEA).concat(e.codeActiviteCompte).concat(e.radical.substr(0,1)),t=String(parseInt(t,10)%23*1e6),t=String(parseInt(t,10)+parseInt(e.radical.toString().substr(1,e.radical.toString().length),10)),t=String(parseInt(t,10)%23),t=t&&1===t.length?"0".concat(t):t)}),t})},e.prototype.transformAlphaToNumeric=function(e){var t=[],i={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,J:1,K:2,L:3,M:4,N:5,O:6,P:7,Q:8,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9};return angular.forEach(e.toUpperCase(),function(e,t){if(isNaN(e))for(var n in i)e===n&&this.push(i[n]);else this.push(e)},t),t},e.prototype.formatteRICEAsynchrone=function(e,t,i,n){var r=new MyWay.Model.Rice(e);if(r.codeGuichet={id:0,value:t},9!==i.length)throw new Error("La longueur du numéro de compte doit être égale à 9 (codeActivité inclus).");
return r.codeActiviteCompte=i.substring(0,2),r.radical=i.substring(2),n?r.cleCompte=n:this.compteKeyCalculatorAsynchrone(r).then(function(e){r.cleCompte=e}),r.cleCompte&&(r.cleRice=this.riceKeyCalculator(r)),this.$q.when().then(function(){return r})},e.prototype.setAppelTermine=function(e){this.appelTermine=e},e.prototype.getAppelTermine=function(){return this.appelTermine},e.prototype.formatteRICE=function(e,t,i,n){var r=new MyWay.Model.Rice(e);if(r.codeGuichet={id:0,value:t},9!==i.length)throw new Error("La longueur du numéro de compte doit être égale à 9 (codeActivité inclus).");return r.codeActiviteCompte=i.substring(0,2),r.radical=i.substring(2),n?r.cleCompte=n:r.cleCompte=this.compteKeyCalculator(r),r.cleCompte&&(r.cleRice=this.riceKeyCalculator(r)),r},e.prototype.verifieExistenceRICE=function(t){var i=this;return this.getCurrentCOCXBQ().then(function(n){var r="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083",o=r+"/"+e.CONTRAT_VERSION+"informationContrat?";return o+="codeEtablissement="+n,o+="&numeroRib="+t,i.serviceAgentExtended.sendRequest({url:o,withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(e){return e?e.codeEtat:""})})},e.CONTRAT_VERSION="contrat-v1/",e.$inject=["serviceAgentExtended","$q"],e}();e.SaisieRiceService=t,e.app.service("saisieRiceService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t){this.serviceAgentExtended=e,this.saisieRiceService=t}return e.prototype.getAffectationAutoRadical=function(e,t,i){var n=this,r=t?t.substr(2,2):"";return this.rice=new MyWay.Model.Rice(e,i,r),this.getCurrentCOCXBQ().then(function(e){if(n.rice.codeEtablissement!==e)throw new Error("Code établissement de l'entité administrative différent du code établissement de l'agent.");if(!i||""===i)throw new Error("Le code guichet n'a pas été transmis au service d'affectation du radical");var r=!1,o=[];return n.getCU3E(e).then(function(e){for(var a=0;a<e.length;a++)e[a].COCXBQ===n.rice.codeEtablissement&&(r=!0,o.push(e[a].COCXGU));if(-1===o.indexOf(i))throw new Error("Le code guichet est incorrect. (codeGuichet donné : "+i+")");if(!r)throw new Error("Code établissement de l'entité administrative différent du code établissement de l'agent.");var s="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/contratservice-v1/attributionRadical",l={codeEtablissement:n.rice.codeEtablissement,codeProduit:t,codeGuichetInterbancaire:n.rice.getGuichet(),Radical:n.rice.radical};return n.serviceAgentExtended.sendRequest({url:s,withHeaders:!0,method:MyWay.Services.MethodEnum.PUT,data:l}).then(function(e){return n.rice.radical=e.Radical,n.getKeyRice()},function(e){return e})})})},e.prototype.getKeyRice=function(){return this.rice.codeEtablissement&&this.rice.codeGuichet&&this.rice.codeActiviteCompte&&this.rice.radical?(this.rice.cleCompte=this.saisieRiceService.compteKeyCalculator(this.rice),this.rice.cleCompte&&(this.rice.cleRice=this.saisieRiceService.riceKeyCalculator(this.rice))):(this.rice.cleRice=null,this.rice.cleCompte=null),this.rice},e.prototype.getCurrentCOCXBQ=function(){return this.serviceAgentExtended.getAuthentificationInfo().then(function(e){try{return e.codeEtablissement}catch(t){throw"impossible de récuperer les données depuis le contexte"}})},e.prototype.getCU3E=function(e){return this.serviceAgentExtended.getDonneesDelocalisees(e,"CU3E").then(function(e){return e.donnees})},e.$inject=["serviceAgentExtended","saisieRiceService"],e}();e.AffectationRadicalService=t,e.app.service("affectationRadicalService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e){this.serviceAgentExtended=e}return e.prototype.estAgenceConnecteLaHenin=function(){var e=this;return this.serviceAgentExtended.getAuthentificationInfo().then(function(t){return e.getCU1T(t.codeEtablissement).then(function(e){for(var i=(new Date).toISOString().split("T")[0],n=i.split("-"),r=n[0].concat(n[1].concat(n[2])),o=0;o<e.length;o++)if(e[o]&&parseInt(r)<=parseInt(e[o].DFCELG)&&parseInt(r)>=parseInt(e[o].DDCELG)&&"ANB"===e[o].CTCEGF&&t.agentConnecte&&e[o].CTCEAG===t.agentConnecte.typeFonction)return!0;return!1})})},e.prototype.getCU1T=function(e){return this.serviceAgentExtended.getDonneesDelocalisees(e,"CU1T").then(function(e){return e.donnees})},e.$inject=["serviceAgentExtended"],e}();e.AgentConnecteService=t,e.app.service("agentConnecteService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(){}return e.b64toBlob=function(e,t,i){t=t||"",i=i||512;for(var n=atob(e),r=[],o=0;o<n.length;o+=i){for(var a=n.slice(o,o+i),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);r.push(new Uint8Array(s))}var c=new Blob(r,{type:t});return c},e}();e.BlobUtils=t}(t=e.Services||(e.Services={}))}(MyWay||(MyWay={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t,i){this.$q=e,this.serviceAgentExtended=t,this.saisieRiceService=i,this.listeCodeProduit=["0000","0001","0002","0003","0004","0005","0006","0008","0009","0010","0011","0012","0013","0014","0015","0016","0017","0019","0020","0021","0048","0088"]}return e.prototype.getListeCompteDuClientParRice=function(t,i,n,r,o,a){var s=this,l="";l=angular.isObject(i.rice.codeGuichet)?i.rice.codeGuichet.value:i.rice.codeGuichet.toString();var c="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083",u=c+"/"+e.MINI_PROFIL_VERSION+"miniProfil?codeEtablissement="+t;return u+="&typeRecherche=R",u+="&typeRestitution=C",u+="&codeGuichetInterbancaire="+l,u+="&codeProduitService=00"+i.rice.codeActiviteCompte,u+="&referenceProduitService="+i.rice.codeActiviteCompte+i.rice.radical+i.rice.cleCompte,this.serviceAgentExtended.sendRequest({url:u,withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(e){var l=s.traitementInformationMiniProfil(e);return l=angular.isArray(r)&&r.length>0?s.filtrerCompteParCodeProduit(l,i,r,o):s.getComptesEligibleAuVirement(l,n,i),a?l:s.recupererLibelleProduit(t,l).then(function(e){return e})})},e.prototype.getListeCompteDuClientParNumeroClient=function(t,i,n,r,o){var a=this,s="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083",l=s+"/"+e.MINI_PROFIL_VERSION+"miniProfil?codeEtablissement="+t;return l+="&typeRecherche=P",l+="&typeRestitution=C",l+="&identifiantTiers="+i,this.serviceAgentExtended.sendRequest({url:l,withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(e){var i=a.traitementInformationMiniProfil(e);return i=angular.isArray(r)&&r.length>0?a.filtrerCompteParCodeProduit(i,null,r,!1):a.getComptesEligibleAuVirement(i,n,null),o?i:a.recupererLibelleProduit(t,i).then(function(e){return e})})},e.prototype.getCompteDuClientParRice=function(t,i){var n=this,r="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083",o=r+"/"+e.MINI_PROFIL_VERSION+"miniProfil?codeEtablissement="+t;return o+="&typeRecherche=R",o+="&typeRestitution=U",o+="&codeGuichetInterbancaire="+i.codeGuichet.value,o+="&codeProduitService=00"+i.codeActiviteCompte,o+="&referenceProduitService="+i.codeActiviteCompte+i.radical+i.cleCompte,this.serviceAgentExtended.sendRequest({url:o,withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(e){var i=n.traitementInformationMiniProfil(e);return n.recupererLibelleProduit(t,i).then(function(e){return""===e[0].produit.LNEGCO&&(e[0].devise=void 0),e[0]})})["catch"](function(e){return null})},e.prototype.traitementInformationMiniProfil=function(e){for(var t=[],i=e[0].identificationProduit,n=e[0].donneeCommuneProduit,r=i.length,o=0;r>o;++o){var a=new MyWay.Model.Compte,s=new MyWay.Model.Devise,l=MyWay.Services.StringUtils.padLeftNumber(i[o].identifiantProduitService.toString(),"0",7);s.code=n[o].deviseTenueCompte,angular.isUndefined(s.code)?a.devise=s:(s.code="EUR",a.devise=s),a.solde=n[o].soldeMinuteCompte/100,a.estOuvert="0"===n[o].codeEtatProduitService,a.titulaire=i[o].designationBancaireCourte;var c=new MyWay.Model.Produit;c.CODIPR=i[o].codeProduitService,c.IDEGPS=l,a.produit=c;var u=new MyWay.Model.Rice;u.codeEtablissement=i[o].codeEtablissement;var d={id:"0",value:i[o].codeGuichetInterbancaire};u.codeGuichet=d,u.codeActiviteCompte=i[o].referenceProduitService.toString().substring(0,2),u.radical=i[o].referenceProduitService.toString().substring(2,9),u.cleCompte=i[o].referenceProduitService.toString().substring(9,11);var m="00"+i[o].referenceProduitService.toString().substring(0,2);-1!==this.listeCodeProduit.indexOf(m)&&(u.cleRice=this.saisieRiceService.riceKeyCalculator(u)),a.rice=u,a.montantImpayePret=angular.isDefined(n.montantCumuleImpayePret)?n.montantCumuleImpayePret:0,a.chargeMensuelEndettement=angular.isDefined(n.chargeMensuelEndettement)?n.chargeMensuelEndettement:0,a.decouvertAutorise=0,a.delaiEncaissement=0,a.ecartes=0,t.push(a)}return t},e.prototype.getComptesEligibleAuVirement=function(e,t,i){var n=this,r=[];return angular.forEach(e,function(e,o){var a=!1;null!==i&&e.rice.codeActiviteCompte===i.rice.codeActiviteCompte&&e.rice.radical===i.rice.radical&&e.rice.cleCompte===i.rice.cleCompte&&(a=!0);var s="00"+e.rice.codeActiviteCompte,l=!1;("04"===e.rice.codeActiviteCompte||"08"===e.rice.codeActiviteCompte)&&"0517"!==t&&"EUR"!==e.devise.code&&(l=!0),!e.estOuvert||!e.isDeviseEuro||-1===n.listeCodeProduit.indexOf(s)&&"003"!==s.substring(0,3)||l||a||r.push(e)}),r},e.prototype.filtrerCompteParCodeProduit=function(e,t,i,n){var r=[];return angular.forEach(e,function(e,o){if(n){var a=!1;e.rice.codeActiviteCompte===t.rice.codeActiviteCompte&&e.rice.radical===t.rice.radical&&e.rice.cleCompte===t.rice.cleCompte&&(a=!0)}e.estOuvert&&e.isDeviseEuro&&-1!==i.indexOf(e.rice.codeActiviteCompte)&&!a&&r.push(e)}),r},e.prototype.recupererLibelleProduit=function(e,t){var i=this,n=[];return angular.forEach(t,function(t,r){var o=[{propriete:"CODIPR",valeur:t.produit.CODIPR,operateur:MyWay.Services.DonneesDelocalisees.CRITERES_OPERATEUR.EGAL},{propriete:"COLIDV",valeur:t.devise.code,operateur:MyWay.Services.DonneesDelocalisees.CRITERES_OPERATEUR.EGAL},{propriete:"IDEGPS",valeur:t.produit.IDEGPS,operateur:MyWay.Services.DonneesDelocalisees.CRITERES_OPERATEUR.EGAL}];n.push(i.serviceAgentExtended.DonneesDelocalisees.getDonneesParCriteres(e,"PRODUIT",o).then(function(e){return angular.isDefined(e[0])?e[0].LNEGCO:""}))}),this.$q.all(n).then(function(e){for(var i=0;i<e.length;++i)t[i].produit.LNEGCO=e[i];return t})},e.prototype.getListeCompteFormatesPourListeDeroulante=function(e){var t=[];return angular.forEach(e,function(e,i){var n=e.produit.LNEGCO+" - "+e.rice.codeEtablissement+" "+e.rice.codeGuichet.value+e.rice.codeActiviteCompte+e.rice.radical+e.rice.cleCompte+e.rice.cleRice+" - "+e.solde;t.push({libelle:n,compte:e})}),t},e.MINI_PROFIL_VERSION="syntheseservice-v1/",e.$inject=["$q","serviceAgentExtended","saisieRiceService"],e}();e.CompteService=t,e.app.service("compteService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(){}return e.modeFinancier={configuration:{outputField:"CTGXM1"},ruleSet:[{description:"Versement générique/simple",rule:[{context:"fonctionnalite",operator:"=",value:"VERSEMENT_GENERIQUE",type:"base",output:["00","01","02","06","07","09"]},{context:"fonctionnalite",operator:"=",value:"VERSEMENT_SIMPLE",type:"base",output:["06","07"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]},{context:"produit",operator:"=",field:"CODIPR",value:"0088",type:"intersect",output:["00","02","06"]}]},{description:"Ouverture / Annulation ouverture CDD",rule:[{context:"fonctionnalite",operator:"in",value:["OUVERTURE_CDD","ANNULATION_OUVERTURE_CDD","OUVERTURE_EPARGNE"],type:"base",output:["00","01","02","06","07"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["06"]}]},{description:"Clôture normale / Annulation clôture normale CDD sans mise en contentieux",rule:[{context:"fonctionnalite",operator:"in",value:["CLOTURE_CDD_SANS_MISE_EN_CONTENTIEUX","ANNULATION_CLOTURE_CDD_SANS_MISE_EN_CONTENTIEUX","CLOTURE_CDD"],type:"base",output:["00","01","06","09"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Clôture normale / Annulation clôture normale CDD avec mise en contentieux",rule:[{context:"fonctionnalite",operator:"in",value:["CLOTURE_CDD_AVEC_MISE_EN_CONTENTIEUX","ANNULATION_CLOTURE_CDD_AVEC_MISE_EN_CONTENTIEUX"],type:"base",output:["10"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Annulation ouverture Compte d’instance",rule:[{context:"fonctionnalite",operator:"=",value:"ANNULATION_OUVERTURE_COMPTE_INSTANCE",type:"base",output:["01","02","06","07"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Clôture / Annulation de clôture Compte d’instance",rule:[{context:"fonctionnalite",operator:"in",value:["CLOTURE_COMPTE_INSTANCE","ANNULATION_CLOTURE_COMPTE_INSTANCE"],type:"base",output:["01","06","07","09"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Ouverture Compte d’attente",rule:[{context:"fonctionnalite",operator:"=",value:"OUVERTURE_COMPTE_ATTENTE",type:"base",output:["00","01","02","06"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"}]},{description:"Annulation ouverture Compte d’attente",rule:[{context:"fonctionnalite",operator:"=",value:"ANNULATION_OUVERTURE_COMPTE_ATTENTE",type:"base",output:["00","01","02","06"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Clôture normale / Annulation de clôture normale Compte d’attente",rule:[{context:"fonctionnalite",operator:"in",value:["CLOTURE_COMPTE_ATTENTE","ANNULATION_CLOTURE_COMPTE_ATTENTE"],type:"base",output:["00","01","06","07","09"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Clôture par virement transfert / Annulation de clôture par virement transfert Compte d’attente",rule:[{context:"fonctionnalite",operator:"in",value:["CLOTURE_PAR_VIREMENT_TRANSFERT_COMPTE_ATTENTE","ANNULATION_CLOTURE_PAR_VIREMENT_TRANSFERT_COMPTE_ATTENTE"],type:"base",output:"00"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"OAD",rule:[{context:"fonctionnalite",operator:"=",value:"OAD",type:"base",output:["01","02","09"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Correction OAD",rule:[{context:"fonctionnalite",operator:"=",value:"CORRECTION_OAD",type:"base",output:["10"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Recyclage",rule:[{context:"fonctionnalite",operator:"=",value:"RECYCLAGE",type:"base",output:["00","01","02","06","07","09"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Recyclage OAD",rule:[{context:"fonctionnalite",operator:"=",value:"RECYCLAGE_OAD",type:"base",output:["01","02","07","09"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"CEL / Ouverture normale / Annulation ouverture normale ",rule:[{context:"fonctionnalite",operator:"=",value:"OUVERTURE_CEL",type:"base",output:["01","02","06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"CEL / Clôture normale / Annulation clôture normale ",rule:[{context:"fonctionnalite",operator:"=",value:"CLOTURE_CEL",type:"base",output:["01","06","09"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"PEL / Ouverture",rule:[{context:"fonctionnalite",operator:"=",value:"OUVERTURE_PEL",type:"base",output:["01","02","06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"COMPTE DE CANTONNEMENT",rule:[{context:"fonctionnalite",operator:"=",value:"COMPTE_CANTONNEMENT",type:"base",output:["01"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"OUVERTURE DAT",rule:[{context:"fonctionnalite",operator:"=",value:"OUVERTURE_DAT",type:"base",output:["01","02","06"]}]},{description:"LIVRET A",rule:[{context:"fonctionnalite",operator:"=",value:"LIVRET_A",type:"base",output:["06"]}]},{description:"OUVERTURE_PEA",rule:[{context:"fonctionnalite",operator:"=",value:"OUVERTURE_PEA",type:"base",output:["01","02","06"]}]},{description:"EXTOURNE_OUVERTURE_PEA",rule:[{context:"fonctionnalite",operator:"=",value:"EXTOURNE_OUVERTURE_PEA",type:"base",output:["01","02","06"]}]},{description:"EXTOURNE_CLOTURE_PEA",rule:[{context:"fonctionnalite",operator:"=",value:"EXTOURNE_CLOTURE_PEA",type:"base",output:["01","02","06"]}]},{description:"OPERATION RETRAIT Clientele",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_RETRAIT",type:"base",output:["01","09","00"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"}]},{description:"OPERATION DEPOT Clientele",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_DEPOT",type:"base",output:["00","01","02","07"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"}]},{description:"OPERATION DEPOT Clientele Compte en devise",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_DEPOT_DEVISE",type:"base",output:[]},{context:"habilitation",operator:"=",value:"SHLX13",type:"union",output:"00"}]},{description:"OPERATION RETRAIT Clientele Compte en devise",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_RETRAIT_DEVISE",type:"base",output:[]},{context:"habilitation",operator:"=",value:"SHLX13",type:"union",output:"00"}]},{description:"OPERATION DEPOT Hors Clientele",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_DEPOT_HORS_CLIENTELE",type:"base",output:["00","02","07"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"}]},{description:"OPERATION RETRAIT Hors Clientele",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_RETRAIT_HORS_CLIENTELE",type:"base",output:["00"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"}]},{description:"Operation Depot OAD",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_DEPOT_OAD",type:"base",output:["01"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"}]},{description:"Operation Retrait OAD",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_RETRAIT_OAD",type:"base",output:["01","09"]},{context:"habilitation",operator:"=",value:"SHJM25",type:"union",output:"10"}]},{description:"OPERATION RETRAIT Clientele Comptes 88",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_RETRAIT_COMPTE_88",type:"base",output:["00"]}]},{description:"OPERATION DEPOT Clientele Comptes 88",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_DEPOT_COMPTE_88",type:"base",output:["00","02"]}]},{description:"OPERATION DEPOT Hors Clientele Comptes 88",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_DEPOT_HORS_CLIENTELE_COMPTE_88",type:"base",output:["00","02"]}]},{description:"OPERATION RETRAIT Hors Clientele Comptes 88",rule:[{context:"fonctionnalite",operator:"=",value:"OPERATION_RETRAIT_HORS_CLIENTELE_COMPTE_88",type:"base",output:["00"]}]}]},e.modeFinancierVAD={configuration:{outputField:"CTGXM1"},ruleSet:[{description:"Generique VAD",rule:[{context:"fonctionnalite",operator:"=",value:"GENERIQUE_VAD",type:"base",output:["02","06"]},{context:"canal",operator:"=",value:"TL",type:"core"},{context:"modeVente",operator:"in",value:["MEGI"],type:"intersect",output:["06"]}]},{description:"Plan d'épargne en action",rule:[{context:"fonctionnalite",operator:"=",value:"PEA",type:"base",output:["06"]},{context:"canal",operator:"=",value:"TL",type:"core"},{context:"modeVente",operator:"in",value:["VPC","MEGI"],type:"core"}]},{description:"Livret A",rule:[{context:"fonctionnalite",operator:"=",value:"LIVRET_A",type:"base",output:["06"]},{context:"canal",operator:"=",value:"TL",type:"core"},{context:"modeVente",operator:"in",value:["IND","VPC","MEGI"],type:"core"}]},{description:"Ouverture DAT",rule:[{context:"fonctionnalite",operator:"=",value:"OUVERTURE_DAT",type:"base",output:["02","06"]},{context:"canal",operator:"=",value:"TL",type:"core"},{context:"modeVente",operator:"in",value:["IND","VPC","MEGI"],type:"core"}]},{description:"Livret CDD / Ouverture / Personne Majeure - Mineure / IND - VPC",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"in",value:["OUVERTURE_CDD","OUVERTURE_EPARGNE"],type:"core"},{context:"majeur",operator:"in",value:[!1,!0],type:"core"},{context:"modeVente",operator:"in",value:["IND","VPC"],type:"base",output:["02","06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Livret CDD / Ouverture / Personne Majeure - Mineure / MEGI ",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"in",value:["OUVERTURE_CDD","OUVERTURE_EPARGNE"],type:"core"},{context:"majeur",operator:"in",value:[!1,!0],type:"core"},{context:"modeVente",operator:"in",value:["MEGI"],type:"base",output:["06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Livret CDD / Versement / Personne Majeure - Mineure / IND - VPC",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"=",value:"VERSEMENT_SIMPLE",type:"core"},{context:"majeur",operator:"in",value:[!1,!0],type:"core"},{context:"modeVente",operator:"in",value:["IND","VPC"],type:"core"},{context:"produit",operator:"in",field:"CODIPR",value:["0004","0000","0001","0005","0006"],type:"base",output:["02","06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Livret CDD / Versement / Personne Majeure - Mineure / MEGI",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"=",value:"VERSEMENT_SIMPLE",type:"core"},{context:"majeur",operator:"in",value:[!1,!0],type:"core"},{context:"modeVente",operator:"in",value:["MEGI"],type:"core"},{context:"produit",operator:"in",field:"CODIPR",value:["0004","0000","0001","0005","0006"],type:"base",output:["06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Livret CDD / Abonnement ",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"=",value:"ABONNEMENT_CDD",type:"core"},{context:"majeur",operator:"in",value:[!1,!0],type:"core"},{context:"modeVente",operator:"in",value:["MEGI"],type:"base",output:["06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"PEL / Ouverture ",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"=",value:"OUVERTURE_PEL",type:"core"},{context:"majeur",operator:"in",value:[!1,!0],type:"core"},{context:"modeVente",operator:"in",value:["IND","VPC"],type:"base",output:["01","02","06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"PEL / Versement ",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"=",value:"VERSEMENT_SIMPLE",type:"core"},{context:"majeur",operator:"=",value:!1,type:"core"},{context:"modeVente",operator:"in",value:["MEGI"],type:"core"},{context:"produit",operator:"in",field:"CODIPR",value:["0012","0013","0014","0015","0016"],type:"base",output:["01","02","06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Livret Jeune / Ouverture ",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"=",value:"OUVERTURE_LIVRET_JEUNE",type:"core"},{context:"majeur",operator:"=",value:!1,type:"core"},{context:"modeVente",operator:"in",value:["IND","VPC"],type:"core"},{context:"produit",operator:"=",field:"CODIPR",value:"0010",type:"base",output:["02","06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Livret Jeune / Ouverture - MEGI",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"=",value:"OUVERTURE_LIVRET_JEUNE",type:"core"},{context:"majeur",operator:"=",value:!1,type:"core"},{context:"modeVente",operator:"in",value:["MEGI"],type:"core"},{context:"produit",operator:"=",field:"CODIPR",value:"0010",type:"base",output:["06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"CEL / Ouverture ",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"=",value:"OUVERTURE_CEL",type:"core"},{context:"majeur",operator:"in",value:[!1,!0],type:"core"},{context:"modeVente",operator:"in",value:["IND","VPC"],type:"base",output:["01","02","06"]},{context:"deviseEuro",operator:"=",value:!1,type:"intersect",output:["00","06"]}]},{description:"Ouverture CDD Credit COOP",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"=",value:"OUVERTURE_CDD_CCOOP",type:"core"},{context:"modeVente",operator:"in",value:["VPC"],type:"base",output:["02","06"]}]},{description:"Ouverture CDD ENJOY",rule:[{context:"canal",operator:"=",value:"TL",type:"core"},{context:"fonctionnalite",operator:"=",value:"OUVERTURE_CDD_ENJOY",type:"core"},{context:"modeVente",operator:"in",value:["VPC"],type:"base",output:["01"]}]},{description:"OUVERTURE_PEA",rule:[{context:"fonctionnalite",operator:"=",value:"OUVERTURE_PEA",type:"base",output:["06"]},{context:"canal",operator:"=",value:"TL",type:"core"},{context:"modeVente",operator:"in",value:["VPC","MEGI"],type:"core"}]}]},e}();e.RuleFileContent=t;var i=function(){function e(){this.$get.$inject=["$q","$http","serviceAgentExtended"]}return e.prototype.$get=function(e,t,i){return new n(e,t,i)},e}();e.InterDomainCoreServiceProvider=i;var n=function(){function e(e,t,i){this.$q=e,this.$http=t,this.serviceAgentExtended=i}return e.prototype.getFile=function(e){var i=-1===e.indexOf("vad")?"modeFinancier":"modeFinancierVAD";return this.$q.when(t[i])},e.prototype.isApplicationBascule=function(e){return this.$q.all([this.serviceAgentExtended.getAuthentificationInfo(),this.serviceAgentExtended.getListDonneesDelocalisees("SU1P")]).then(function(t){var i=t[0].codeEtablissement,n=new Date,r=t[1].filter(function(t){var r=MyWay.Services.DateUtils.fromJJMMAAAA(t.DDEJDA);return t.COCXBQ===i&&"PETRA"===t.COSXAP&&t.COEIO1===e&&n>=r});return r.length>0})},e.$inject=["$q","$http","serviceAgentExtended"],e}();e.InterDomainCoreService=n,e.app.provider("InterDomainCoreService",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var MyWay;!function(e){var t;!function(t){var i=function(){function t(){}return t.getDate=function(e,t,i){return new Date(parseInt(i,10),parseInt(t,10)-1,parseInt(e,10))},t.fromJJMMAAAA=function(e){return t.getDate(e.substr(0,2),e.substr(2,2),e.substr(4,4))},t.fromAAAAMMJJ=function(e){return t.getDate(e.substr(6,2),e.substr(4,2),e.substr(0,4))},t.conversionDateEnJJMMAAAA=function(t){var i=t.split("/"),n=e.Services.StringUtils.padLeft(i[0],"0",2),r=e.Services.StringUtils.padLeft(i[1],"0",2),o=i[2];return n+r+o},t}();t.DateUtils=i}(t=e.Services||(e.Services={}))}(MyWay||(MyWay={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e){this.serviceAgentExtended=e}return e.prototype.getDevisesDTO=function(e){var t=[];return angular.forEach(e,function(e,i){var n=new MyWay.Model.Devise;n.code=e.codeDevise,n.libelle=e.libelleDevise,n.nombreDecimalesGerees=e.nombreDecimalesGerees,n.nombreDecimalesReelles=e.nombreDecimalesReelles,n.symboleDevise=e.symboleDevise,n.symboleDevise?n.view=n.symboleDevise:n.view=n.code,n.label=n.view+" - "+n.libelle,t.push(n)}),t},e.prototype.getDevises=function(){var t=this;return this.serviceAgentExtended.sendRequest({url:e.URI_GET_DEVISES,withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(e){return t.getDevisesDTO(e)})},e.prototype.getDeviseByCode=function(t){var i=this;return this.serviceAgentExtended.sendRequest({url:e.URI_GET_DEVISE_BY_CODE,withHeaders:!0,method:MyWay.Services.MethodEnum.GET,params:{codeDevise:t}}).then(function(e){return i.getDevisesDTO([e])[0]})},e.prototype.getDeviseEuro=function(){return this.getDeviseByCode(e.CODE_EUR_DEVISE).then(function(e){return e?e:void 0})},e.$inject=["serviceAgentExtended"],e.URI_GET_DEVISES="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/devise/v1/listeDevise/",e.URI_GET_DEVISE_BY_CODE="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/devise/v1/caracteristique",e.CODE_EUR_DEVISE="EUR",e}();e.DeviseService=t,e.app.service("mwsfDeviseService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e){this.serviceAgentExtended=e}return e.prototype.derogationImpression=function(){var e,t;return this.serviceAgentExtended.Habilitation.EstHabilite(["SHBO09","SHBO10"]).then(function(i){return e=i[0],t=i[1],e||t?!0:!1})["catch"](function(e){return console.log("Erreur d'accès au service d'habilitation"),null})},e.$inject=["serviceAgentExtended"],e}();e.ImpressionService=t,e.app.service("impressionService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e,t){this.label=e,this.value=t}return e.prototype.toString=function(){return this.value.toString()},e.values=function(){return this.list(function(e){return e.value})},e.valuesFromList=function(e){var t=[];return e.forEach(function(e){t.push(e.value)}),t},e.fromValue=function(e){var t=this.list(),i=_.find(t,function(t){return t.value===e});return i},e.list=function(e){var t=[];return angular.forEach(this,function(i){angular.isFunction(i)||t.push(e?e(i):i)}),t},e}();e.LabelValueEnum=t}(t=e.Services||(e.Services={}))}(MyWay||(MyWay={}));var myway;!function(e){var t;!function(e){var t=function(){function e(){}return e.modeFinancier="mode-financier-rules.json",e.modeFinancierVAD="mode-financier-vad-rules.json",e}();e.RuleFileName=t;var i=function(){function e(e,t,i){this.$q=e,this.interDomainCoreService=t,this.serviceAgentExtended=i,this.rules={}}return e.prototype.addConfiguration=function(e,t){if(!t)throw new Error("Missing configuration rule");if(!t.outputField||!angular.isString(t.outputField))throw new Error("Configuration rule: invalid or missing outputField");e.configuration=new MyWay.Model.RuleConfiguration(t)},e.prototype.addRuleSets=function(e,t){var i=this;Array.isArray(t)?angular.forEach(t,function(t){i.addRuleSet(e,t)}):this.addRuleSet(e,t)},e.prototype.addRuleSet=function(e,t){if(!t||!angular.isObject(t))throw new Error("Invalid or missing ruleSet");if(!t.description||!angular.isString(t.description))throw new Error("Invalid or missing description in ruleSet");if(!t.rule)throw new Error("ruleSet '"+t.description+"' is empty, it must contain at least one rule");var i=new MyWay.Model.RuleSet(t);this.addRules(i,t.rule),e.ruleSets.push(i)},e.prototype.addRules=function(e,t){var i=this;if(Array.isArray(t)?angular.forEach(t,function(t){i.addRule(e,t)}):this.addRule(e,t),!e.validateRuleCount())throw new Error("ruleSet '"+e.description+"' must contain at least one core or base rule");
e.sortRules()},e.prototype.addRule=function(e,t){if(!t||!angular.isObject(t))throw new Error("ruleSet '"+e.description+"' has an invalid rule: ${rule}");if(!t.context||!angular.isString(t.context))throw new Error("ruleSet '"+e.description+"' has an invalid rule context: "+t.context);if(t.operator=t.operator?t.operator.toLowerCase():null,!t.operator||!angular.isString(t.operator)||!MyWay.Services.ObjectUtils.hasOwnValue(MyWay.Model.RuleOperator,t.operator))throw new Error("ruleSet '"+e.description+"' has an invalid rule operator: "+t.operator);if(angular.isUndefined(t.value))throw new Error("ruleSet '"+e.description+"' has no defined value");if(t.operator===MyWay.Model.RuleOperator["in"]&&!Array.isArray(t.value))throw new Error("ruleSet '"+e.description+"' should have an array of values");if(t.operator!==MyWay.Model.RuleOperator["in"]&&Array.isArray(t.value))throw new Error("ruleSet '"+e.description+"' should not have an array of values");if(!t.type)throw new Error("ruleSet '"+e.description+" has no defined type");if(!MyWay.Services.ObjectUtils.hasOwnValue(MyWay.Model.RuleType,t.type))throw new Error("ruleSet '"+e.description+"' has an invalid rule type: "+t.type);if(t.type!==MyWay.Model.RuleType.core){if(angular.isUndefined(t.output))throw new Error("ruleSet '"+e.description+"' has no defined output linked to type: "+t.type);Array.isArray(t.output)||(t.output=[t.output])}else if(t.output)throw new Error("ruleSet '"+e.description+"' cant have an output associed to a core type: "+t.output);e.addRule(new MyWay.Model.Rule(t))},e.prototype.getRuleFile=function(e){var t=this;return this.rules[e]?this.$q.when(this.rules[e]):this.interDomainCoreService.getFile("json/"+e).then(function(i){var n=new MyWay.Model.RuleFile;try{t.addConfiguration(n,i.configuration),t.addRuleSets(n,i.ruleSet)}catch(r){t.serviceAgentExtended.Trace.error(r.message,e)}return t.rules[e]=n,n})},e.$inject=["$q","InterDomainCoreService","serviceAgentExtended"],e}();e.LoadRuleService=i,e.app.service("LoadRuleService",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(){}return e.hasOwnValue=function(e,t){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t)return!0;return!1},e}();e.ObjectUtils=t}(t=e.Services||(e.Services={}))}(MyWay||(MyWay={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n){this.$parse=e,this.$q=t,this.loadRuleService=i,this.serviceAgentExtended=n}return e.prototype.validateRule=function(e,t){if(!t.hasOwnProperty(e.context))throw new Error("Undefined context property for context rule: "+e.context);var i=e.field?this.$parse(e.field)(t[e.context]):t[e.context];if(e.operator===MyWay.Model.RuleOperator.equal)return Array.isArray(i)?-1!==i.indexOf(e.value):i===e.value;if(e.operator===MyWay.Model.RuleOperator.different)return Array.isArray(i)?-1===i.indexOf(e.value):i!==e.value;if(e.operator===MyWay.Model.RuleOperator["in"])return-1!==e.value.indexOf(i);if(e.operator===MyWay.Model.RuleOperator.notIn)return-1===e.value.indexOf(i);throw new Error("Missing source code for operator: "+e.operator)},e.prototype.getResultSet=function(e,t){if(t.type===MyWay.Model.RuleType.base)return t.output;if(t.type===MyWay.Model.RuleType.union)return e.concat(t.output);if(t.type===MyWay.Model.RuleType.intersect)return _.intersection(t.output,e);throw new Error("Missing source code for type: "+t.type)},e.prototype.getOutputItems=function(e,t,i){return _.filter(i,function(i){return-1!==e.indexOf(i[t.outputField])})},e.prototype.processRuleSet=function(e,t,i,n){for(var r=[],o=0,a=0,s=0;s<e.getRules().length;s++){var l=e.getRules()[s];if(!a&&!o&&!l.isPrimary())return[];if(!a&&e.baseRuleCount&&!l.isPrimary())return[];var c=this.validateRule(l,i);if(l.type===MyWay.Model.RuleType.core){if(!c)return[];o++}if(c&&l.type===MyWay.Model.RuleType.base&&++a>1)throw new Error("Only one base rule can be validated in ruleSet '"+e.description+"'");c&&l.type!==MyWay.Model.RuleType.core&&(r=this.getResultSet(r,l))}var u=this.getOutputItems(r,t,n);return u},e.prototype.applyRules=function(e,t,i){var n=this;return this.loadRuleService.getRuleFile(e).then(function(e){for(var r=[],o=0;o<e.ruleSets.length;o++){var a=e.ruleSets[o];if(r=n.processRuleSet(a,e.configuration,t,i),r.length)return r}return n.$q.reject("no ruleSet matched")})},e.$inject=["$parse","$q","LoadRuleService","serviceAgentExtended"],e}();e.RuleService=t,e.app.service("ruleService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.value},e.values=function(){return this.list(function(e){return e.value})},e.valuesFromList=function(e){var t=[];return e.forEach(function(e){t.push(e.value)}),t},e.fromValue=function(e){var t=this.list(),i=_.find(t,function(t){return t.value===e});return i},e.list=function(e){var t=[];return angular.forEach(this,function(i){angular.isFunction(i)||t.push(e?e(i):i)}),t},e}();e.StringEnum=t}(t=e.Services||(e.Services={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(){}return e.padLeft=function(e,t,i){if(e&&e.length>0&&0!==parseInt(e))for(;e.length<i;)e=t+e;return e},e.padRight=function(e,t,i){if(e&&e.length>0&&0!==parseInt(e))for(;e.length<i;)e+=t;return e},e.padLeftNumber=function(e,t,i){if(e&&e.length>0)for(;e.length<i;)e=t+e;return e},e.capitalize=function(e){return e?e[0].toUpperCase()+e.slice(1):void 0},e.startsWith=function(e,t){var i=!1;if(angular.isDefined(e)&&e.length>0){var n="^"+t;-1!==e.search(n)&&(i=!0)}return i},e.endsWith=function(e,t){var i=!1;if(angular.isDefined(e)&&e.length>0){var n=t+"$";-1!==e.search(n)&&(i=!0)}return i},e.stripAccents=function(e){if(!e)return e;var t={A:/[\300-\306]/g,a:/[\340-\346]/g,E:/[\310-\313]/g,e:/[\350-\353]/g,I:/[\314-\317]/g,i:/[\354-\357]/g,O:/[\322-\330]/g,o:/[\362-\370]/g,U:/[\331-\334]/g,u:/[\371-\374]/g,N:/[\321]/g,n:/[\361]/g,C:/[\307]/g,c:/[\347]/g};return _.forEach(t,function(t,i){e=e.replace(t,i)}),e},e}();e.StringUtils=t}(t=e.Services||(e.Services={}))}(MyWay||(MyWay={}));var myway;!function(e){var t;!function(t){var i=function(){function t(e,t){var i=this;this.$scope=e,this.saisieSirenService=t,e.$watch(function(){return i.siren},function(e,t){if(e){var n=e.replace(/[^\w]/g,"");i.siren=n.toUpperCase(),9===i.siren.length?i.isValid=!0:i.isValid=!1}})}return t.prototype.affineValue=function(e){e&&(this.siren=e.toUpperCase(),e.length<t.MAX_LENGTH&&(this.siren=MyWay.Services.StringUtils.padLeft(this.siren,"0",t.MAX_LENGTH)))},t.prototype.keydown=function(t){this.enterKeypressEvent&&this.isValid&&t.keyCode===e.comInterdomaine.KeyCode.ENTER&&(t.preventDefault(),this.$scope.$emit(MyWay.CustomEvents.ENTER_KEYPRESS))},t.MAX_LENGTH=9,t.$inject=["$scope","saisieSirenService"],t}();t.SaisirSirenController=i,t.app.controller("SaisirSirenController",i)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/siren/saisie-siren-view.html",scope:{siren:"=ngModel",required:"=",isValid:"=",setFocus:"=",enterKeypressEvent:"="},controller:"SaisirSirenController",controllerAs:"viewModelSirenCtrl",bindToController:!0,link:function(e,t,i){if(!("ngModel"in i))throw new Error('ngModel est un paramètre obligatoire. ==>  < mwsf-siren data-ng-model="myObject" >');if(!("required"in i))throw new Error('required est un paramètre obligatoire. ==>  < mwsf-siren required="true or false" > ');if(!("isValid"in i))throw new Error('isValid est un paramètre obligatoire. ==>  < mwsf-siren is-valid="myObject" > ')}}}e.app.directive("mwsfSiren",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e){this.serviceAgentExtended=e}return e.prototype.getSirenValidity=function(e){var t,i=0,n=0;if(e)for(var r=1;r<=e.length;r++)if(r%2===1)i+=parseInt(e[r-1],10);else{var o={0:0,1:2,2:4,3:6,4:8,5:1,6:3,7:5,8:7,9:9};angular.forEach(o,function(t,i){0===e[r-1].localeCompare(i)&&(n+=t)})}return i+=n,t=i%10!==0?!1:!0},e.$inject=["serviceAgentExtended"],e}();e.SaisieSirenService=t,e.app.service("saisieSirenService",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){return{restrict:"A",require:"ngModel",link:function(e,t,i,n){if(i.mwAllowedChars){var r=function(e){var t=new RegExp("["+i.mwAllowedChars+"]","g"),n=String.fromCharCode(e.keyCode);t.test(n)||e.preventDefault()};t.bind("keypress",r),e.$on("$destroy",function(){t.unbind("keypress",r)})}}}};t.$inject=[],e.app.directive("mwAllowedChars",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){e.app.directive("mwsfAlphaNumOnlyInput",function(){return{require:"ngModel",link:function(e,t,i,n){n.$parsers.push(function(e){if(void 0===e||!e)return"";var t=e.replace(/[^a-zA-Z0-9]/g,"");return t!==e&&(n.$setViewValue(t),n.$render()),t})}}})}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(){}return e.client="clientSPA",e.versement="versementSPA",e.operation="finalizeOperationSPA",e}();e.ApplicationName=t;var i=function(){function e(){}return e.financier="FINANCIER",e.client="CLIENT",e.operation="OPERATION",e.agences="AGENCES",e}();e.DataKey=i;var n=function(){function e(){}return e.autresMotifs="origine Autres motifs",e.propPtf="origine Proposition de mise en PTF",e}();e.OriginePortefeuille=n}(t=e.Context||(e.Context={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t=function(){function e(){}return e.ENTER_KEYPRESS="enter-keypress",e}();e.CustomEvents=t}(MyWay||(MyWay={}));var myway;!function(e){var t;!function(e){var t=function(e){return function(t,i){return e(t)(i||{})}};t.$inject=["$interpolate"],e.app.filter("mwInterpolateFilter",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){!function(e){e[e.DOWN_ARROW=40]="DOWN_ARROW",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.UP_ARROW=38]="UP_ARROW",e[e.LEFT_ARROW=37]="LEFT_ARROW",e[e.ESCAPE=27]="ESCAPE",e[e.ENTER=13]="ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.DELETE=46]="DELETE",e[e.TABULATION=9]="TABULATION",e[e.SPACE=32]="SPACE",e[e.ZERO=48]="ZERO",e[e.PLUS=107]="PLUS",e[e.MINUS=109]="MINUS",e[e.HOME=36]="HOME",e[e.END=35]="END"}(e.KeyCode||(e.KeyCode={}));e.KeyCode}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n,r){var o;n.$observe("mwMaxValue",function(i){o=e(n.mwMaxValue)(t),r.$validate()}),r.$validators.max=function(e,t){return null==e||null==o||o>=e}}}};t.$inject=["$parse"],e.app.directive("mwMaxValue",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n,r){var o;n.$observe("mwMinValue",function(i){o=e(n.mwMinValue)(t),r.$validate()}),r.$validators.min=function(e,t){return null==e||null==o||e>=o}}}};t.$inject=["$parse"],e.app.directive("mwMinValue",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(e){return{restrict:"A",link:function(t,i,n){e(function(){i[0].focus()})}}}t.$inject=["$timeout"],e.app.directive("mwFocus",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){angular.module("myway.comInterdomaine").directive("mwsfFocusIfBool",["$timeout",function(e){return function(t,i,n){t.$watch(n.mwsfFocusIfBool,function(n){n&&t.$evalAsync(function(){e(function(){i[0].focus(),t.$apply()},1)})})}}])}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){e.app.directive("mwsfNumbersOnlyInput",function(){return{require:"ngModel",link:function(e,t,i,n){n.$parsers.push(function(e){if(void 0===e)return"";var t;return e&&(t=e.replace(/[^0-9]/g,"")),t!==e&&(n.$setViewValue(t),n.$render()),t})}}})}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){e.app.directive("mwsfOperationDiverseRegex",function(){return{require:"ngModel",link:function(e,t,i,n){n.$parsers.push(function(e){if(void 0===e||!e)return"";var t=e.replace(/[^a-zA-Z0-9\-'\séèçàùêïîôûâ.,ëä\/]/,"");return t!==e&&(n.$setViewValue(t),n.$render()),t})}}})}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(e){return function(t,i){return e(t)(i)}};t.$inject=["$parse"],e.app.filter("mwParseFilter",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(e){return function(t,i){var n=_.some(i,function(e){return null!=e&&e.length});return angular.isArray(t)&&n?_.filter(t,function(t){return _.some(i,function(i,n){return-1!==e(n)(t).toString().toLowerCase().indexOf(i.toLowerCase())})}):t}};t.$inject=["$parse"],e.app.filter("mwOrFilter",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"A",compile:function(){return{pre:function(e,t,i){e[i.mwScopeElement]=t}}}}}e.app.directive("mwScopeElement",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){e.app.directive("mwsfStringOnlyInput",function(){return{require:"ngModel",link:function(e,t,i,n){n.$parsers.push(function(e){if(void 0===e||!e)return"";var t=e.replace(/[^a-zA-Z\s\$\-\'\ ]/g,"");return t!==e&&(n.$setViewValue(t),n.$render()),t})}}})}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){return{restrict:"A",require:"ngModel",link:function(e,t,i,n){var r=angular.extend({},{accent:!1},e.$eval(i.mwUppercase)),o=Number(t.attr("maxlength"));t.bind("keypress",function(e){var i=String.fromCharCode(e.keyCode),a=i.toUpperCase();if(r.accent||(a=MyWay.Services.StringUtils.stripAccents(a)),a!==i){var s=this.selectionStart,l=this.selectionEnd,c=t.val();if(o>0&&c.length>=o)return;n.$setViewValue(c.substring(0,s)+a+c.substring(l)),n.$render(),this.selectionStart=s+1,this.selectionEnd=l+1,this.scrollLeft=this.scrollWidth,e.preventDefault()}}),t.bind("paste",function(e){setTimeout(function(){var i=t.val().toUpperCase();r.accent||(i=MyWay.Services.StringUtils.stripAccents(i)),n.$setViewValue(i),n.$render(),this.scrollLeft=this.scrollWidth,e.preventDefault()},100)})}}};t.$inject=[],e.app.directive("mwUppercase",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){e.app.directive("mwsfSaisieTypologie",[function(){return{restrict:"E",transclude:!0,templateUrl:"typescript/typologie/saisie-typologie-view.html",scope:{modeOnglet:"=",ngModel:"=",list:"=",keyList:"@",valueViewList:"@"},link:function(e,t,i){if(!("ngModel"in i))throw new Error('ngModel est un paramètre obligatoire. ==>  < mwsf-saisie-numero-typologie data-ng-model="myObject" >');if(!("modeOnglet"in i))throw new Error('modeOnglet est un paramètre obligatoire. ==>  < mwsf-saisie-numero-typologie mode-onglet="true or false" >');if(!("list"in i))throw new Error('list est un paramètre obligatoire. ==>  < mwsf-saisie-numero-typologie list="myObject" >');e.isSelected=function(t,i){e.monModel=t.id,angular.element(i.target)[0].blur(),e.ngModel=e.monModel}}}}])}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(){}return e.equal="=",e.different="!=",e["in"]="in",e.notIn="!in",e}();e.RuleOperator=t;var i=function(){function e(){}return e.core="core",e.base="base",e.union="union",e.intersect="intersect",e}();e.RuleType=i}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var MyWay;!function(e){var t;!function(e){var t=function(){function e(e){this.outputField=e.outputField}return e}();e.RuleConfiguration=t;var i=function(){function e(){this.ruleSets=[]}return e}();e.RuleFile=i;var n=function(){function t(e){this.description=e.description,this.rules=[],this.coreRuleCount=0,this.baseRuleCount=0}return t.prototype.addRule=function(t){this.rules.push(t),t.type===e.RuleType.core&&this.coreRuleCount++,t.type===e.RuleType.base&&this.baseRuleCount++},t.prototype.getRules=function(){return this.rules},t.prototype.validateRuleCount=function(){return this.coreRuleCount>0||this.baseRuleCount>0},t.prototype.sortRules=function(){this.rules.sort(function(t,i){return t.type===e.RuleType.core?-1:i.type===e.RuleType.core?1:t.type===e.RuleType.base?-1:i.type===e.RuleType.base?1:0})},t}();e.RuleSet=n;var r=function(){function t(e){this.context=e.context,this.operator=e.operator,this.field=e.field,this.value=e.value,this.type=e.type,this.output=e.output}return t.prototype.isPrimary=function(){return this.type===e.RuleType.base||this.type===e.RuleType.core},t}();e.Rule=r}(t=e.Model||(e.Model={}))}(MyWay||(MyWay={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e,t,i,n,r,o,a){var s=this;this.$scope=e,this.$attrs=t,this.$interpolate=i,this.$element=n,this.$filter=r,this.$q=o,this.mwsfDeviseService=a,!this.value||this.value&&!this.value.montant?this.onBlurMessageDerreur=!1:this.onBlurMessageDerreur=!0,this.name="montant",this.loading=!1,this.checkDirectiveAttributes(),this.$scope.$evalAsync(function(){s.readOnly||(s.formController=s.$scope[s.id],s.montantController=s.formController[s.name],s.$scope.$watch(function(){return s.formController.$valid},function(e,t){s.value instanceof MyWay.Model.MontantDevise&&(s.value.$valid=s.formController.$valid)}))}),this.$scope.$watch(function(){return s.max},function(e,t){if(s.max){var i=s.max.toString().split(".");1===i.length?s.maxLength=i[0].length+3:i[1].length<=2?s.maxLength=i[0].length+3:s.maxLength=s.max.toString().length}}),this.$scope.$watch(function(){return s.value&&s.value.codeDevise},function(e,t){s.initDevise()})}return e.prototype.checkDirectiveAttributes=function(){var e=this;angular.forEach(["id"],function(t){if(!(t in e.$attrs))throw new Error("la directive mwsfSaisieMontant doit avoir un attribut "+t)}),this.isRequired=null!=this.required&&"true"===this.required.toLowerCase();var t={required:"Veuillez saisir le montant",min:"Le montant doit être supérieur ou égal à {{min | number}}",max:"Le montant doit être inférieur ou égal à {{max | number}}",devise:"La devise {{devise}} n'existe pas."};this.messages=angular.extend({},t,this.messages)},e.prototype.initDevise=function(){var e=this,t=this.$q.when();return this.value&&(t=t.then(function(){return e.loading=!0,e.value.montant=e.value.montant?parseFloat(e.value.montant.toFixed(2)):e.value.montant,e.value.codeDevise?e.mwsfDeviseService.getDeviseByCode(e.value.codeDevise):e.mwsfDeviseService.getDeviseEuro()}).then(function(t){e.value.devise=t,e.value.codeDevise=t.code,e.settings={fractionSize:Math.min(t.nombreDecimalesGerees,t.nombreDecimalesReelles)},e.readOnly||e.montantController.$setValidity("devise",!0)},function(t){e.value.devise=null,e.readOnly||e.montantController.$setValidity("devise",!1)})["finally"](function(){e.loading=!1})),t},e.prototype.onBlur=function(e){this.onBlurMessageDerreur=!0,this._onBlur&&this._onBlur({selectedItem:e}),null!=this.required&&"false"===this.required.toLowerCase()&&""===this.montantController.$viewValue&&(this.isRequired=!0,this.required="true",this.montantController.$error.required=!0,this.montantController.$valid=!1)},e.prototype.donneFocus=function(){return this.isReadOnly()?!1:this.ngFocus},e.prototype.isReadOnly=function(){return this.value?!this.value.devise:!0},e.$inject=["$scope","$attrs","$interpolate","$element","$filter","$q","mwsfDeviseService"],e}();e.MwsfSaisieMontantDeviseController=t,e.app.controller("mwsfSaisieMontantDeviseController",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"typescript/montant/saisie-montant-devise/saisie-montant-devise-view.html",scope:{id:"@",value:"=",forcePositive:"@?",readOnly:"=?",required:"@?",min:"=?",max:"=?",_onBlur:"&onBlur",ngFocus:"=?"},controller:"mwsfSaisieMontantDeviseController",controllerAs:"ctrl",bindToController:!0}}e.app.directive("mwsfSaisieMontantDevise",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$scope=e,this.isMinError=!1,this.isMaxError=!1,angular.isUndefined(this.readOnly)&&(this.readOnly=!1),angular.isUndefined(this.forcePositive)&&(this.forcePositive=!1),e.$watch(function(){return t.montant},function(e,i){e&&angular.isDefined(t.min)&&angular.isDefined(t.max)&&angular.isDefined(t.getReadOnly())&&!t.transformeToBoolean(t.readOnly)&&(e<parseFloat(t.min.toString())?t.isMinError=!0:t.isMinError=!1,e>parseFloat(t.max.toString())?t.isMaxError=!0:t.isMaxError=!1)})}return e.prototype.getReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(e){this.readOnly=e},e.prototype.transformeToBoolean=function(e){return e&&"string"==typeof e&&("false"===String(e).toString()?this.setReadOnly(!1):this.setReadOnly(!0)),this.getReadOnly()},e.$inject=["$scope"],e}();e.SaisirMwsfMontantDeviseCtrl=t,e.app.controller("SaisirMwsfMontantDeviseCtrl",t)}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){e.app.directive("mwsfMontantDevise",function(){return{restrict:"E",templateUrl:"typescript/montant/type-e/saisie-montant-avec-devise-view.html",scope:{formName:"@name",montant:"=?ngModel",settings:"=?",devise:"=?",min:"@?",max:"@?",readOnly:"@?",forcePositive:"@?"},controller:"SaisirMwsfMontantDeviseCtrl",controllerAs:"ctrl",bindToController:!0}})}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){function t(e,t,i){return{restrict:"A",scope:!1,link:function(e,i,n){var r=angular.element(t.get("typescript/technique/input-loader/input-loader-view.html"));i.after(r),e.$watch(n.mwInputLoader,function(e,t){e?r.removeClass("hidden"):r.addClass("hidden")})}}}angular.module("myway.comInterdomaine").directive("mwInputLoader",["$timeout","$templateCache","$compile",t])}(t=e.comInterdomaine||(e.comInterdomaine={}))}(myway||(myway={})),angular.module("myway.comInterdomaine").run(["$templateCache",function(e){e.put("typescript/advanced-select/saisie-advanced-select-view.html",'\r\n\r\n\r\n\r\n<div class="advanced-select">\r\n    <data-ng-form class="form-horizontal" name="formAdvancedSelect" role="form" novalidate>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12" dropdown dropdown-toggle mw-scope-element="advancedSelectParentDivBis" data-ng-class="{\'has-success\': viewModelAdvancedSelectCtrl.advancedSelectModel && viewModelAdvancedSelectCtrl.required,\r\n             \'has-error\' : viewModelAdvancedSelectCtrl.required && viewModelAdvancedSelectCtrl.advancedSelectModel.length === 0 }">\r\n\r\n                <input class="form-control set-text-align-center" type="text" id="adv" data-ng-readonly="{{viewModelAdvancedSelectCtrl.readOnly}}" maxlength="{{viewModelAdvancedSelectCtrl.ngMaxlength}}" data-ng-required="{{viewModelAdvancedSelectCtrl.required}}" data-ng-model="viewModelAdvancedSelectCtrl.advancedSelectModel" data-ng-change="viewModelAdvancedSelectCtrl.regexData(viewModelAdvancedSelectCtrl.advancedSelectModel); setVisibleDropDown(viewModelAdvancedSelectCtrl.advancedSelectModel);" data-ng-blur="viewModelAdvancedSelectCtrl.reajusterValeur(viewModelAdvancedSelectCtrl.advancedSelectModel); eventClick= false;" data-ng-click="viewModelAdvancedSelectCtrl.initClickEventChevron(); setFocus(); eventClick = true;" mwsf-focus-if-bool="{{viewModelAdvancedSelectCtrl.mwsfFocusIfBool}}" mw-scope-element="advancedSelectBis" mw-reset-field>\r\n\r\n                <span class="btn btn-success form-control-feedback icon itce-chevron-down chevron-down-correctif-advanced-select" data-ng-click="viewModelAdvancedSelectCtrl.initClickEventChevron(); setFocus(); eventClick = true;" data-ng-show="{{viewModelAdvancedSelectCtrl.chevronVisible}}"></span>\r\n\r\n                <ul name="fname" class="dropdown-menu" role="menu" ng-style="width: {{viewModelAdvancedSelectCtrl.dropdownSetWidth}};" id="uladv">\r\n                    <li data-ng-repeat="item in viewModelAdvancedSelectCtrl.items track by $index" data-ng-click="viewModelAdvancedSelectCtrl.bindingModel(item);" value="item[viewModelAdvancedSelectCtrl.keyList]"> <span data-ng-bind="item[viewModelAdvancedSelectCtrl.valueViewList]"></span> </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class="col-md-12">\r\n                <span class="error-msg col-md-12" ng-if="viewModelAdvancedSelectCtrl.required && !viewModelAdvancedSelectCtrl.advancedSelectModel.length" ng-hide="eventclick">Obligatoire</span>\r\n            </div>\r\n        </div>\r\n    </data-ng-form>  \r\n</div> '),e.put("typescript/bic/saisie-bic-view.html",'\r\n<data-ng-form class="form-horizontal" name="mwsfFormBic" role="form" novalidate>\r\n    <div class="col-md-12 init-padding" data-ng-if="!viewModelBicCtrl.readOnly" data-ng-class="{ \'has-error\' :  viewModelBicCtrl.required && !viewModelBicCtrl.bic }">\r\n        <input id="input-bic" name="inputBic" class="form-control text-uppercase" type="text" data-ng-disabled="viewModelBicCtrl.disabled" data-ng-model="viewModelBicCtrl.bic" mw-uppercase data-ui-mask="?***********" data-ng-keydown="viewModelBicCtrl.keydown($event)" data-ng-required="{{viewModelBicCtrl.required}}" mw-reset-field autocomplete="off">\r\n        <span class="error-msg col-md-12" ng-show="viewModelBicCtrl.required && !viewModelBicCtrl.bic">Obligatoire</span>\r\n    </div>\r\n    <div class="col-md-12 init-padding" data-ng-if="viewModelBicCtrl.readOnly">\r\n        <div class="form-horizontal form-horizontal-set-style">\r\n            <span class="set-text-bold" ng-bind="::viewModelBicCtrl.bic"></span>\r\n        </div>\r\n    </div>\r\n</data-ng-form>  '),e.put("typescript/bic-iban/saisie-bic-iban-view.html",'\r\n<data-ng-form class="form-horizontal" role="form" novalidate>\r\n    <div class="saisie-form-bic-iban container-fluid" data-ng-if="!ctrl.readOnly">\r\n        <div class="row form-group">\r\n            <div class="col-xs-12 col-sm-12 col-md-12">\r\n                <label for="id-iban" class="col-xs-1 col-md-1 col-lg-1 control-label label-iban">IBAN</label>\r\n                <div ng-if="ctrl.champUnique" class="col-xs-10 col-sm-10 col-md-10 col-lg-10" data-ng-class="{ \'has-error\' :  ctrl.required && !ctrl.iban}">\r\n                    <input name="inputIban" class="form-control text-uppercase input-iban" type="text" data-ng-model="ctrl.iban" data-ui-mask="? **** **** **** **** **** **** *** *******" mw-uppercase mw-clear-button autocomplete="off" data-ng-required="{{ctrl.required}}" data-ng-blur="ctrl.onBlur();" id="iban">\r\n                </div>\r\n                <div ng-if="!ctrl.champUnique">\r\n                    <div class="col-xs-1 col-md-1 col-lg-1 taille-iban" data-ng-class="{ \'has-error\' :  ctrl.required && !ctrl.iban1}">\r\n                        <input class="form-control text-uppercase" type="text" id="id-iban" data-ng-model="ctrl.iban1" maxlength="4" data-ng-keydown="ctrl.keydown($event, 1)" data-ng-required="{{ctrl.required}}" autocomplete="off" mw-uppercase mw-clear-button data-ng-blur="ctrl.onBlur();" mwsf-focus-if-bool="ctrl.iban1BackFocus">\r\n                    </div>\r\n                    <div class="col-xs-1 col-md-1 col-lg-1 diminue-margin-left-entre-champs taille-iban" data-ng-class="{ \'has-error\' :  ctrl.required && !ctrl.iban2 }">\r\n\r\n                        <input class="form-control text-uppercase" type="text" data-ng-model="ctrl.iban2" mw-uppercase mw-clear-button maxlength="4" data-ng-keydown="ctrl.keydown($event, 2)" data-ng-required="{{ctrl.required}}" autocomplete="off" mwsf-focus-if-bool="(ctrl.iban1Keydown && ctrl.iban1 && ctrl.iban1.length === 4) || ctrl.iban2BackFocus" data-ng-keyup="ctrl.iban2Keydown = false" data-ng-blur="ctrl.onBlur();" id="id-iban2">\r\n                    </div>\r\n                    <div class="col-xs-1 col-md-1 col-lg-1 diminue-margin-left-entre-champs taille-iban" data-ng-class="{ \'has-error\' :  ctrl.required && !ctrl.iban3}">\r\n\r\n                        <input class="form-control text-uppercase" type="text" data-ng-model="ctrl.iban3" mw-uppercase mw-clear-button maxlength="4" data-ng-keydown="ctrl.keydown($event, 3)" data-ng-required="{{ctrl.required}}" autocomplete="off" mwsf-focus-if-bool="(ctrl.iban2Keydown && ctrl.iban2 && ctrl.iban2.length === 4) || ctrl.iban3BackFocus" data-ng-keyup="ctrl.iban3Keydown = false" data-ng-blur="ctrl.onBlur();" id="id-iban3">\r\n                    </div>\r\n                    <div class="col-xs-1 col-md-1 col-lg-1 diminue-margin-left-entre-champs taille-iban" data-ng-class="{ \'has-error\' :  ctrl.required && !ctrl.iban4 }">\r\n\r\n                        <input class="form-control text-uppercase" type="text" data-ng-model="ctrl.iban4" mw-uppercase mw-clear-button maxlength="4" data-ng-keydown="ctrl.keydown($event, 4)" data-ng-required="{{ctrl.required}}" autocomplete="off" mwsf-focus-if-bool="(ctrl.iban3Keydown && ctrl.iban3 && ctrl.iban3.length === 4) || ctrl.iban4BackFocus" data-ng-keyup="ctrl.iban4Keydown = false" data-ng-blur="ctrl.onBlur();" id="id-iban4">\r\n                    </div>\r\n                    <div class="col-xs-1 col-md-1 col-lg-1 diminue-margin-left-entre-champs taille-iban" data-ng-class="{ \'has-error\' :  ctrl.required && !ctrl.iban5 }">\r\n\r\n                        <input class="form-control text-uppercase" type="text" data-ng-model="ctrl.iban5" mw-uppercase mw-clear-button maxlength="4" data-ng-keydown="ctrl.keydown($event, 5)" data-ng-required="{{ctrl.required}}" autocomplete="off" mwsf-focus-if-bool="(ctrl.iban4Keydown && ctrl.iban4 && ctrl.iban4.length === 4) || ctrl.iban5BackFocus" data-ng-keyup="ctrl.iban5Keydown = false" data-ng-blur="ctrl.onBlur();" id="id-iban5">\r\n                    </div>\r\n                    <div class="col-xs-1 col-md-1 col-lg-1 diminue-margin-left-entre-champs taille-iban" data-ng-class="{ \'has-error\' :  ctrl.required && !ctrl.iban6 }">\r\n\r\n                        <input class="form-control text-uppercase" type="text" data-ng-model="ctrl.iban6" mw-uppercase mw-clear-button maxlength="4" data-ng-keydown="ctrl.keydown($event, 6)" data-ng-required="{{ctrl.required}}" autocomplete="off" mwsf-focus-if-bool="(ctrl.iban5Keydown && ctrl.iban5 && ctrl.iban5.length === 4) || ctrl.iban6BackFocus" data-ng-keyup="this.iban6Keydown = false;" data-ng-blur="ctrl.onBlur();" id="id-iban6">\r\n                    </div>\r\n                    <div class="col-xs-1 col-md-1 col-lg-1 diminue-margin-left-entre-champs taille-iban7" data-ng-class="{ \'has-error\' :  ctrl.required && !ctrl.iban7 }">\r\n\r\n                        <input class="form-control text-uppercase" type="text" data-ng-model="ctrl.iban7" mw-uppercase mw-clear-button maxlength="3" data-ng-keydown="ctrl.keydown($event, 7)" data-ng-required="{{ctrl.required}}" autocomplete="off" mwsf-focus-if-bool="ctrl.iban7BackFocus || (ctrl.iban6 && ctrl.iban6.length === 4 && ctrl.iban6Keydown)" data-ng-keyup="ctrl.iban7Keydown = false" data-ng-blur="ctrl.onBlur();" id="id-iban7">\r\n                    </div>\r\n                    <div class="col-xs-2 col-md-2 col-lg-2 diminue-margin-left-entre-champs taille-iban8">\r\n\r\n                        <input class="form-control text-uppercase" type="text" data-ng-model="ctrl.iban8" mw-uppercase mw-clear-button maxlength="7" data-ng-keydown="ctrl.keydown($event, 8)" autocomplete="off" mwsf-focus-if-bool="ctrl.iban7Keydown && ctrl.iban7 && ctrl.iban7.length === 3" data-ng-blur="ctrl.onBlur();" id="id-iban8">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row form-group">\r\n            <span class="error-msg" data-ng-if="ctrl.msgErreur" role="alert" data-ng-bind="ctrl.msgErreur"></span>\r\n        </div>\r\n        <div class="row mw-form-static" ng-if="ctrl.bic">\r\n            <div class="col-xs-12 col-sm-12 col-md-12">\r\n                <label class="col-xs-1 col-md-1 col-lg-1 control-label">BIC</label>\r\n                <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">\r\n                    <p id="id-bic-saisie" class="form-control-static" ng-bind="ctrl.bic"></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <div class="saisie-form-bic-iban container-fluid mw-form-static" data-ng-if="ctrl.readOnly">\r\n        <div class="row form-group">\r\n            <div class="col-xs-12 col-sm-12 col-md-12 diminue-margin-left">\r\n                <label class="col-xs-1 col-md-1 col-lg-1 control-label">IBAN</label>\r\n                <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">\r\n                    <p id="id-iban-read" class="form-control-static" ng-cloak>{{::ctrl.iban | ibanFilter}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row form-group">\r\n            <div class="col-xs-12 col-sm-12 col-md-12">\r\n                <label class="col-xs-1 col-md-1 col-lg-1 control-label">BIC</label>\r\n                <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">\r\n                    <p id="id-bic-read" class="form-control-static" ng-bind="ctrl.bic"></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</data-ng-form>'),
e.put("typescript/bureau-rattachement/saisie-bureau-rattachement-view.html",'\r\n\r\n\r\n<data-ng-form class="form-horizontal" name="formBureauRattachement" role="form" novalidate>\r\n    <div class="form-group" data-ng-class="{\'has-error\' : !viewModelBureauRattachementCtrl.bureauRattachement && viewModelBureauRattachementCtrl.required}">\r\n        <div class="col-md-12">\r\n            \r\n            <input class="form-control" type="text" name="inputBureauRattachement" maxlength="7" data-ng-model="viewModelBureauRattachementCtrl.bureauRattachement" data-ng-blur="viewModelBureauRattachementCtrl.affineValue(viewModelBureauRattachementCtrl.bureauRattachement)" data-ng-required="{{viewModelBureauRattachementCtrl.required}}" data-ng-keydown="viewModelBureauRattachementCtrl.keydown($event)" mwsf-focus-if-bool="{{viewModelBureauRattachementCtrl.setFocus}}" mwsf-numbers-only-input mw-reset-field id="bureau">\r\n\r\n            <span class="error-msg col-md-12 help-inline" data-ng-show="!viewModelBureauRattachementCtrl.bureauRattachement && viewModelBureauRattachementCtrl.required">Obligatoire</span>\r\n        </div>\r\n    </div>\r\n</data-ng-form> '),e.put("typescript/date-de-naissance/saisie-date-de-naissance-view.html",'\r\n    <div class="date-de-naissance">\r\n        <form class="form-horizontal" name="formDateNaissance" role="form" novalidate>\r\n            <div class="form-group"><!--data-ng-class="{\r\n              \'has-error\' : (viewModelDateNaissanceCtrl.required && !viewModelDateNaissanceCtrl.date) || viewModelDateNaissanceCtrl.XM041A || viewModelDateNaissanceCtrl.XM013A || (viewModelDateNaissanceCtrl.agentLaHenin && !viewModelDateNaissanceCtrl.date)}">-->\r\n\r\n                <div class="col-sm-12 col-md-12 col-lg-12 has-feedback">\r\n                    <!--<mw-inputdate class="col-md-12" data-ng-model="viewModelDateNaissanceCtrl.date" name="inputDateNaissance"\r\n                      data-ng-keydown="viewModelDateNaissanceCtrl.keydown($event)"\r\n                      data-ng-required="{{viewModelDateNaissanceCtrl.required}}"></mw-inputdate>\r\n                           ng-required="viewModelDateNaissanceCtrl.required"-->\r\n\r\n                    <input type="text" class="form-control" id="date-naissance" name="dateNaissance" ng-model="viewModelDateNaissanceCtrl.date" mw-date-legere uib-datepicker-popup="dd/MM/yyyy" datepicker-options="{ showWeeks: false, startingDay:1}" is-open="viewModelDateNaissanceCtrl.openedDate" min-date="viewModelDateNaissanceCtrl.minDate" max-date="champsLibresviewModelDateNaissanceCtrl.maxDate" show-button-bar="true" data-ng-keydown="viewModelDateNaissanceCtrl.keydown($event)">\r\n\r\n                    <span class="btn btn-success form-control-feedback" ng-click="viewModelDateNaissanceCtrl.openedDate = true">\r\n                        <mw-button-icone texte="Calendrier" taille="sm" icone="icone itce-calendar icodate" id="seconde-date"></mw-button-icone>\r\n                    </span>\r\n                </div>\r\n\r\n                <span class="error-msg col-md-12 help-inline" data-ng-show="viewModelDateNaissanceCtrl.required && !viewModelDateNaissanceCtrl.date">Renseigner la date de naissance.</span>\r\n                <span class="error-msg col-md-12 help-inline correctif-width-xm041a" data-ng-show="viewModelDateNaissanceCtrl.XM041A">La date saisie ne doit pas être supérieure à la date du jour.</span>\r\n                <span class="error-msg col-md-12 help-inline correctif-width-xm013a" data-ng-show="viewModelDateNaissanceCtrl.XM013A">Date de naissance incorrecte : elle dépasse le cap des 150 ans.</span>\r\n            </div>\r\n        </form>\r\n    </div>\r\n'),e.put("typescript/e-mail/saisie-email-view.html",'\r\n \r\n<div class="from-email"> \r\n    <data-ng-form class="form-horizontal" name="formEmail" role="form" novalidate>\r\n        <div class="form-group" data-ng-class="{\'has-error\' : !viewModelEmailCtrl.email && viewModelEmailCtrl.required}">\r\n\r\n            <div class="col-md-12">\r\n\r\n                <input class="form-control" type="email" name="inputEmail" id="email" data-ng-model="viewModelEmailCtrl.email" data-ng-required="{{viewModelEmailCtrl.required}}" data-ng-pattern="/^[a-zA-Z]+[a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z.]{2,5}$/" data-ng-minlength="2" data-ng-maxlength="63" data-ng-keydown="viewModelEmailCtrl.keydown($event)" mwsf-focus-if-bool="{{viewModelEmailCtrl.setFocus}}" mw-reset-field autocomplete="off" ng-model-options="{ updateOn: \'blur\'}" data-ng-blur="viewModelEmailCtrl.onBlur();">\r\n\r\n                <span class="error-msg col-md-12 help-inline" data-ng-show="formEmail.inputEmail.$error.pattern">Adresse Email invalide.</span>\r\n                <span class="error-msg col-md-12 help-inline" data-ng-show="formEmail.inputEmail.$error.required && viewModelEmailCtrl.onBlurMessageDerreur">Obligatoire.</span>\r\n                <span class="error-msg col-md-12 help-inline correctif-error-length" data-ng-show="formEmail.inputEmail.$error.minlength || formEmail.inputEmail.$error.maxlength">Le nombre de caractères doit être compris entre 2 et 63.</span>\r\n            </div>\r\n        </div>\r\n    </data-ng-form>\r\n</div> '),e.put("typescript/hretractable/hretractable-view.html",'<div class="panel {{customclass}}" ng-class="open ? \'panel-collapsible-open\' : \'panel-collapsible-close\'">\r\n    <div class="panel-heading" ng-click="toggleOpen()">\r\n        <span class="pull-left icon" ng-class="open ? \'itce-chevron-up\' : \'itce-chevron-down\'"></span>\r\n        <label ng-bind="::titre"></label>\r\n    </div>\r\n    <div class="panel-body col-md-12" collapse="!open" ng-transclude></div>\r\n</div>'),e.put("typescript/iban/saisie-iban-view.html",'\r\n\r\n\r\n<data-ng-form class="form-horizontal" name="mwsfFormIban" role="form" novalidate>\r\n    <div class="row" data-ng-if="!viewModelIbanCtrl.readOnly" data-ng-class="{ \'has-error\' :  viewModelIbanCtrl.required && !viewModelIbanCtrl.iban }">\r\n        <div class="col-md-12 init-padding">\r\n            <input name="inputIban" class="form-control text-uppercase" type="text" ng-disabled="viewModelIbanCtrl.disabled" data-ng-model="viewModelIbanCtrl.iban" data-ui-mask="? **** **** **** **** **** **** *** *******" data-ng-keydown="viewModelIbanCtrl.keydown($event)" mw-uppercase mw-clear-button autocomplete="off" data-ng-required="{{viewModelIbanCtrl.required}}" mw-reset-field id="iban">\r\n            <span class="error-msg col-md-12" ng-show="viewModelIbanCtrl.required && !viewModelIbanCtrl.iban">Obligatoire</span>\r\n        </div>\r\n    </div>\r\n    <div class="row" data-ng-if="viewModelIbanCtrl.readOnly">\r\n        <div class="col-md-12 init-padding">\r\n            <div class="form-horizontal form-horizontal-set-style">\r\n                <span class="set-text-bold" ng-cloak>{{::viewModelIbanCtrl.iban | ibanFilter}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</data-ng-form>  '),e.put("typescript/identifiant-client/saisie-identifiant-client-view.html",'\r\n \r\n\r\n<data-ng-form class="form-horizontal" name="fromIdentClient" role="form" novalidate>\r\n    <div class="form-group" data-ng-class="{\'has-error\' : !viewModelIdentClientCtrl.identClient && viewModelIdentClientCtrl.required}">\r\n        <div class="col-md-12"> \r\n            <input type="text" class="form-control" autocomplete="off" id="idclient" data-ng-model="viewModelIdentClientCtrl.identClient" data-ng-required="{{viewModelIdentClientCtrl.required}}" data-ng-blur="viewModelIdentClientCtrl.setValue(viewModelIdentClientCtrl.identClient)" data-ng-keydown="viewModelIdentClientCtrl.keydown($event, viewModelIdentClientCtrl.identClient)" mwsf-focus-if-bool="{{viewModelIdentClientCtrl.setFocus}}" mw-scope-element="identClientBis" maxlength="10" mw-reset-field mwsf-numbers-only-input>\r\n            <!--ng-maxlength="{{viewModelIdentClientCtrl.maxLength}}"-->\r\n            <span class="error-msg col-md-12" data-ng-show="viewModelIdentClientCtrl.required && !viewModelIdentClientCtrl.identClient">Obligatoire</span>\r\n        </div>\r\n    </div>\r\n</data-ng-form>  '),e.put("typescript/infobulle-aide/infobulle-aide-view.html",'<div>\r\n    <div class="mwsf-infobulle-wrapper" ng-class="{\'infobulle-flottante\': $ctrl.flottante === true}">\r\n        <div class="mwsf-infobulle-transclude" ng-transclude></div>\r\n        <div class="infobulle-container" ng-show="$ctrl.showPicto">\r\n            <span class="infobulle-picto icon" tabindex="-1" ng-class="{\'itce-question-new infobulle-new-picto\' : $ctrl.nouveaute, \'itce-question-circle\' : !$ctrl.nouveaute}" ng-click="$ctrl.toggleOuvert()" ng-keypress="$ctrl.toggleOuvert()" ng-attr-id="{{::idChamp+\'-picto\'}}">\r\n            </span>\r\n        </div>\r\n        <div class="mw-popover-aide" role="alertdialog" ng-show="$ctrl.ouvert">\r\n            <div class="arrow"></div>\r\n            <div class="mw-popover-aide-header" ng-attr-id="{{::idChamp+\'mw-popover-aide-header\'}}" aria-describedby="{{::idChamp+\'mw-popover-aide-header\'}}">\r\n                <button type="button" ng-show="$ctrl.ouvert" ng-click="$ctrl.toggleOuvert()" tabindex="-1" ng-attr-id="{{::idChamp+\'-close\'}}" aria-hidden="true" class="mw-popover-aide-close">\r\n                    <span class="icon itce-times-circle"></span>\r\n                </button>\r\n            </div>\r\n            <div ng-attr-id="{{::idChamp+\'mw-popover-aide-inner\'}}" aria-describedby="{{::idChamp+\'mw-popover-aide-inner\'}}" class="mw-popover-aide-inner">\r\n                <div class="mw-popover-aide-content" ng-attr-id="{{::idChamp+\'mw-popover-aide-content\'}}" aria-describedby="{{::idChamp+\'mw-popover-aide-content\'}}">\r\n                    <div class="form-group"><span ng-bind-html="$ctrl.message"></span></div>\r\n                    <div class="form-group" ng-show="$ctrl.image">\r\n                        <img ng-src="{{$ctrl.image}}">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("typescript/input-loader/input-loader-view.html",'<i class="icon itce-spinner mw-input-loader"></i>'),e.put("typescript/list-compte-iban/list-compte-iban-view.html",'<div class="mwsf-liste-compte-iban">\r\n    <ui-select id="select-compte" class="help-block" ng-model="ctrl.compteSelectionne" on-select="ctrl.onSelect($select.selected)" ng-change="ctrl.onBottomAction($select.selected)" ng-disabled="ctrl.disabled">\r\n        <ui-select-match allow-clear="true" placeholder="{{ctrl.placeHolder}}">\r\n            <div ng-if="$select.selected.libelleBeneficiaireUltime">\r\n                <div class="row col-xs-12 col-sm-12 col-md-12 item-selectionne margin-top">\r\n                    <div class="designation text-bold">{{$select.selected.libelleBeneficiaireUltime}} - {{$select.selected.numeroIBANCompteBeneficiaire}}</div>\r\n                </div>\r\n             </div>\r\n        </ui-select-match>\r\n        <ui-select-choices repeat="compte in ctrl.listeCompteIban" class="item-liste">\r\n            <div class="col-xs-12 col-sm-12 col-md-12 item-selectionne">\r\n                <div class="designation text-bold">{{compte.libelleBeneficiaireUltime}}</div>\r\n                <div class="designation text-bold">{{compte.numeroIBANCompteBeneficiaire}}</div>\r\n            </div>\r\n        </ui-select-choices>\r\n    </ui-select>\r\n</div>\r\n'),e.put("typescript/liste-compte/liste-compte-view.html",'\r\n<div class="mwsf-liste-compte" mw-chargement="!ctrl.nombreComptes && ctrl.nombreComptes !== 0 && !ctrl.errorService">\r\n    <!--<data-ng-form class="form-horizontal" name="formNumTelephone" role="form" novalidate>\r\n        <div class="row">-->\r\n    <ui-select id="select-compte" class="help-block" ng-model="ctrl.compteSelectionne" on-select="ctrl.onSelect($select.selected)" ng-change="ctrl.onBottomAction($select.selected)" ng-disabled="ctrl.disabled">\r\n        <ui-select-match allow-clear="true" placeholder="{{ctrl.placeHolder}}">\r\n            <div ng-if="$select.selected.itemSupplementaireSelectionne">{{$select.selected.libelleEntiteTitulaire}}</div>\r\n            <div ng-if="$select.selected.itemBottomSelectionne">{{$select.selected.libelleEntiteTitulaire}}</div>\r\n\r\n            <div ng-if="!$select.selected.itemSupplementaireSelectionne && !$select.selected.itemBottomSelectionne">\r\n                <div class="row col-xs-12 col-sm-12 col-md-12 item-selectionne margin-top">\r\n                    <div class="designation text-bold">{{$select.selected.libelleEntiteTitulaire}}</div>\r\n                    <div class="montant text-bold">\r\n                        <span ng-show="$select.selected.valeurProduit > 0">+</span>\r\n                        <span ng-if="$select.selected.valeurProduit >= 0">{{$select.selected.valeurProduit | number:2 }}</span>\r\n                        <span ng-if="$select.selected.valeurProduit < 0">- {{-$select.selected.valeurProduit | number:2 }}</span>\r\n\r\n                        <!--{{$select.selected.valeurProduit > 0 ? "+" : $select.selected.valeurProduit < 0 ? "-" : ""}}\r\n                        {{ $select.selected.valeurProduit < 0 ? -$select.selected.valeurProduit : $select.selected.valeurProduit | number:2 }}-->\r\n                        {{compte.deviseContrat.symboleDevise === null ? compte.deviseContrat.code : compte.deviseContrat.symboleDevise}}\r\n                    </div>\r\n                    <br>\r\n                    <span class="hidden-xs">{{$select.selected.libelleProduit}}</span> {{$select.selected.iban ? $select.selected.iban : ctrl.formatteRicePourCompte($select.selected.riceContrat) ? \'- \' + ctrl.formatteRicePourCompte($select.selected.riceContrat): \'\'}}\r\n                </div>\r\n            </div>\r\n        </ui-select-match>\r\n        <ui-select-choices repeat="compte in ctrl.listeCompte | filter: $select.search | orderBy:[\'identifiantPersonne\',\'modeCompositionET\', \'identifiantEntiteTitulaire\', \'riceContrat\', \'libelleProduit\', \'valeurProduit\']" class="item-liste">\r\n            <div class="col-xs-12 col-sm-12 col-md-12 item-selectionne" ng-if="!compte.itemBottomSelectionne">\r\n                <div class="designation text-bold">{{compte.libelleEntiteTitulaire}}</div>\r\n                <div class="montant-liste text-bold">\r\n                    <span ng-show="{{compte.valeurProduit > 0}}">+</span>\r\n                    <span ng-if="compte.valeurProduit >= 0">{{compte.valeurProduit | number:2 }}</span>\r\n                    <span ng-if="compte.valeurProduit < 0">- {{-compte.valeurProduit | number:2 }}</span>\r\n                    \r\n                    <!--{{compte.valeurProduit > 0 ? "+" : compte.valeurProduit < 0 ? "-" : ""}}\r\n                    {{compte.valeurProduit < 0 ? -compte.valeurProduit : compte.valeurProduit | number:2 }}-->\r\n                    {{compte.deviseContrat.symboleDevise === null ? compte.deviseContrat.code : compte.deviseContrat.symboleDevise}}\r\n                </div>\r\n            </div>\r\n            <div class="col-xs-12 col-sm-12 col-md-12 item-selectionne" ng-if="!compte.itemBottomSelectionne">\r\n                {{compte.libelleProduit}}  {{compte.iban ? compte.iban : ctrl.formatteRicePourCompte(compte.riceContrat) ? \'- \' + ctrl.formatteRicePourCompte(compte.riceContrat): \'\'}}\r\n            </div>\r\n            <div class="col-xs-12 col-sm-12 col-md-12" ng-if="compte.itemBottomSelectionne">\r\n                <a href="">{{compte.libelleEntiteTitulaire}}</a>\r\n            </div>\r\n        </ui-select-choices>\r\n    </ui-select>\r\n    <span class="error-msg col-md-12 msg-error-margin" data-ng-show="ctrl.errorService && (!ctrl.compteSelectionne || !ctrl.compteSelectionne.itemSupplementaireSelectionne && !ctrl.compteSelectionne.itemBottomSelectionne)" ng-bind="ctrl.errorService.libelle ? ctrl.errorService.libelle : ctrl.errorService.codeLibelle"></span>\r\n</div>\r\n'),e.put("typescript/loader-css3/saisie-loader-view.html",'\r\n\r\n\r\n<div class="from-loader" data-ng-if="vmLoaderCtrl.loadInProgress">\r\n    <data-ng-form class="form-horizontal" name="formLoader" role="form" novalidate>\r\n        <div class="circular-global">\r\n            <div class="circular-g circular-global-1"></div>\r\n            <div class="circular-g circular-global-2"></div>\r\n            <div class="circular-g circular-global-3"></div>\r\n            <div class="circular-g circular-global-4"></div>\r\n            <div class="circular-g circular-global-5"></div>\r\n            <div class="circular-g circular-global-6"></div>\r\n            <div class="circular-g circular-global-7"></div>\r\n            <div class="circular-g circular-global-8"></div>\r\n        </div>\r\n    </data-ng-form>\r\n</div> '),e.put("typescript/mode-financier/saisie-mode-financier-view.html",'<!--select ng-options="mode as mode.displayLabel() for mode in modeFinancierController.modes track by mode.CTGXM1" \r\n        ng-model="modeFinancierController.mode" \r\n        ng-required="modeFinancierController.required"></select>-->\r\n\r\n    <ui-select id="mode-financier" data-ng-model="modeFinancierController.mode" data-ng-required="modeFinancierController.required" ng-disabled="modeFinancierController.readOnly">\r\n        <ui-select-match>{{ !$select.selected.displayLabel() && modeFinancierController.mode ? modeFinancierController.mode.CTGXM1  + " " + modeFinancierController.mode.LIJMMI : $select.selected.displayLabel() }}</ui-select-match>\r\n        <ui-select-choices repeat="mode in modeFinancierController.modes | filter: $select.search">{{mode.displayLabel()}}</ui-select-choices>\r\n    </ui-select>\r\n\r\n<!--\r\n<div class="row">\r\n    <div class="col-md-5">\r\n        <input class="form-control" id="mode-financier"\r\n                ng-model="modeFinancierController.mode"\r\n                mw-combobox="mode in modeFinancierController.modes" />\r\n    </div>\r\n</div>\r\n-->'),e.put("typescript/montant/saisie-montant-view.html",'\r\n\r\n\r\n\r\n\r\n\r\n<data-ng-form name="{{ctrl.formName}}" data-ng-class="{ \'has-error\': {{ctrl.formName}}.$invalid}">\r\n    <div class="input-group">\r\n        <div class="input-group-addon" data-ng-bind="ctrl.devise.sigle" data-ng-show="ctrl.devise"></div>\r\n        <input type="text" name="montant" mwsf-montant="ctrl.settings" data-ng-model="ctrl.value" data-ng-trim="false" class="form-control mwsf-saisie-montant" data-ng-required="ctrl.required" mw-min-value="ctrl.min" mw-max-value="ctrl.max" data-ng-disabled="ctrl.desactive" autocomplete="off" id="id-montant">\r\n        <div class="input-group-addon" ng-bind="ctrl.value<0 ? \'-\' : \'+\'"></div>\r\n    </div>\r\n    <span>\r\n        <span class="error-msg col-md-12" data-ng-show="{{ctrl.formName}}.montant.$error.required"><span data-ng-bind="ctrl.messages.required"></span></span>\r\n        <span class="error-msg col-md-12" data-ng-show="{{ctrl.formName}}.montant.$error.min"><span data-ng-bind="ctrl.messages.min"></span></span>\r\n        <span class="error-msg col-md-12" data-ng-show="{{ctrl.formName}}.montant.$error.max"><span data-ng-bind="ctrl.messages.max"></span></span>\r\n    </span>\r\n</data-ng-form>  '),e.put("typescript/nom/saisie-nom-view.html",'\r\n\r\n\r\n<div class="saisie-from-nom">\r\n    <data-ng-form class="form-horizontal" name="formNom" role="form" novalidate>\r\n        <div class="form-group" data-ng-class="{\'has-error\' : (viewModelNomCtrl.required && !viewModelNomCtrl.nom) || (viewModelNomCtrl.nom && !viewModelNomCtrl.premierAlphabetique) ||  (viewModelNomCtrl.agentLaHenin && !viewModelNomCtrl.nom)}">\r\n            <!--|| viewModelNomCtrl.agentLaHenin-->\r\n            <div class="col-md-12">\r\n                <input type="text" name="inputNom" class="form-control uppercase" maxlength="25" data-ng-model="viewModelNomCtrl.nom" data-ng-required="{{viewModelNomCtrl.required}}" data-ng-keydown="viewModelNomCtrl.keydown($event)" mwsf-focus-if-bool="{{viewModelNomCtrl.setFocus}}" mwsf-string-only-input mw-reset-field autocomplete="off" id="id-nom">\r\n\r\n                <span class="error-msg col-md-12 help-inline" data-ng-show="!viewModelNomCtrl.nom && viewModelNomCtrl.required && !viewModelNomCtrl.agentLaHenin" data-ng-bind="viewModelNomCtrl.errorMsgRequiredInput"></span>\r\n                <span class="error-msg col-md-12 help-inline" data-ng-show="viewModelNomCtrl.nom && !viewModelNomCtrl.premierAlphabetique">Le premier caractère doit être alphabétique.</span>\r\n                <span class="error-msg col-md-12 help-inline" ng-show="viewModelNomCtrl.minLength">Entrer 4 caractères minimum dans le nom et terminer par un $.</span>\r\n                <span class="error-msg col-md-12 help-inline" ng-show="viewModelNomCtrl.caractereInvalide">Caractères invalides dans le nom.</span>\r\n            </div>\r\n        </div>\r\n    </data-ng-form>  \r\n</div> '),e.put("typescript/numero-carte/saisie-numero-carte-view.html",'\r\n\r\n \r\n<data-ng-form class="form-horizontal" name="formNumCarte2" role="form" novalidate>\r\n    <div class="form-group" data-ng-class="{\'has-error\' : viewModelNumCarteCtrl.required && !viewModelNumCarteCtrl.numCarte.concatinate}">\r\n        <div class="col-md-12">\r\n            <input class="form-control" type="text" ng-model="viewModelNumCarteCtrl.numCarte.concatinate" ui-mask="9999 9999 9999 9999" data-ng-change="viewModelNumCarteCtrl.bindingData(viewModelNumCarteCtrl.numCarte.concatinate)" data-ng-keydown="viewModelNumCarteCtrl.keydown($event)" autocomplete="off" mwsf-focus-if-bool="{{viewModelNumCarteCtrl.setFocus}}" mw-reset-field id="id-carte">\r\n\r\n            <span class="error-msg col-md-12" ng-show="viewModelNumCarteCtrl.required && !viewModelNumCarteCtrl.numCarte.concatinate">Obligatoire</span>\r\n        </div>\r\n    </div>\r\n</data-ng-form> '),e.put("typescript/numero-credit/saisie-numero-credit-view.html",'\r\n\r\n\r\n<data-ng-form class="form-horizontal" name="formNumCredit" role="form" novalidate>\r\n    <div class="form-group" data-ng-class="{ \'has-error\' : !viewModelNumCreditCtrl.numCredit && viewModelNumCreditCtrl.required }">\r\n        <div class="col-md-12">\r\n            \r\n            <input class="form-control text-uppercase" type="text" name="inputNumCredit" maxlength="7" data-ng-model="viewModelNumCreditCtrl.numCredit" autocomplete="off" data-ng-change="viewModelNumCreditCtrl.bindingData(viewModelNumCreditCtrl.numCredit)" data-ng-required="{{viewModelNumCreditCtrl.required}}" data-ng-keydown="viewModelNumCreditCtrl.keydown($event)" mwsf-focus-if-bool="{{viewModelNumCreditCtrl.setFocus}}" mw-reset-field mwsf-alpha-num-only-input id="id-credit">\r\n\r\n            <span class="error-msg col-md-12 help-inline" data-ng-show="!viewModelNumCreditCtrl.numCredit && viewModelNumCreditCtrl.required">Obligatoire</span>\r\n        </div>\r\n    </div>\r\n</data-ng-form>'),e.put("typescript/numero-personne/saisie-numero-personne-view.html",'\r\n\r\n\r\n<data-ng-form class="form-horizontal" name="formNumPersonne" role="form" novalidate>\r\n    <div class="form-group" data-ng-class="{ \'has-error\' : !viewModelNumPersonneCtrl.numPersonne && viewModelNumPersonneCtrl.required}">\r\n        <div class="col-md-12">\r\n\r\n            <input class="form-control" type="text" name="inputNumPersonne" maxlength="9" data-ng-model="viewModelNumPersonneCtrl.numPersonne" data-ng-blur="viewModelNumPersonneCtrl.affineValue(viewModelNumPersonneCtrl.numPersonne)" data-ng-required="{{viewModelNumPersonneCtrl.required}}" data-ng-keydown="viewModelNumPersonneCtrl.keydown($event, viewModelNumPersonneCtrl.numPersonne)" mwsf-focus-if-bool="{{viewModelNumPersonneCtrl.setFocus}}" autocomplete="off" mwsf-numbers-only-input mw-reset-field id="id-pers">\r\n\r\n            <span class="error-msg col-md-12" data-ng-show="!viewModelNumPersonneCtrl.numPersonne && viewModelNumPersonneCtrl.required">Obligatoire</span>\r\n        </div>\r\n    </div>\r\n</data-ng-form>'),e.put("typescript/numero-telephone/saisie-numero-telephone-view.html",'\r\n\r\n<div class="saisie-from-telephone">\r\n    <data-ng-form name="formNumTelephone" role="form" novalidate>\r\n        <div class="row">\r\n            <div class="col-xs-4 col-sm-4 col-md-4" data-ng-class="viewModelNumTelephoneCtrl.numTelephone.indicatif.length !== 0 ? \'\' : \'has-error\'">\r\n                <ui-select ng-model="viewModelNumTelephoneCtrl.numTelephone.indicatif" theme="bootstrap" id="id-indicatif">\r\n                    <ui-select-match>{{$select.selected.value}}</ui-select-match>\r\n                    <ui-select-choices class="set-width-drop-down" repeat="indicatif in viewModelNumTelephoneCtrl.listIndicatifs | filter: { value: $select.search }">{{indicatif.value}}</ui-select-choices>\r\n                </ui-select>\r\n                \r\n                <!--<input type="text" id="indicatif"\r\n                       ng-model="viewModelNumTelephoneCtrl.numTelephone.indicatif"\r\n                       class="form-control"\r\n                       name="indicatif"\r\n                       mw-combobox="indicatif.value for indicatif in viewModelNumTelephoneCtrl.listIndicatifs"\r\n                       mw-combobox-min-length="0"\r\n                       mw-combobox-with-scroll="true" />-->\r\n            </div>\r\n            <div class="col-xs-7 col-sm-7 col-md-5 set-right-numero">\r\n                <input type="text" name="numero" data-ng-model="viewModelNumTelephoneCtrl.numTelephone.numero" class="form-control" data-ng-required="{{viewModelNumTelephoneCtrl.required}}" ui-mask="{{viewModelNumTelephoneCtrl.mask}}" data-ng-keydown="viewModelNumTelephoneCtrl.keydown($event)" autocomplete="off" id="idtel">\r\n            </div>\r\n        </div>\r\n    </data-ng-form>\r\n</div>  '),e.put("typescript/prenom/saisie-prenom-view.html",'\r\n\r\n\r\n\r\n<div class="saisie-from-prenom">\r\n    <data-ng-form class="form-horizontal" name="formPrenom" role="form" novalidate>\r\n        <div class="form-group" data-ng-class="{ \'has-error\' : (!viewModelPrenomCtrl.prenom && viewModelPrenomCtrl.required) || (viewModelPrenomCtrl.agentLaHenin && !viewModelPrenomCtrl.prenom)}">\r\n            <div class="col-md-12">\r\n\r\n                <input type="text" name="inputPrenom" class="form-control uppercase" maxlength="20" data-ng-model="viewModelPrenomCtrl.prenom" data-ng-required="{{viewModelPrenomCtrl.required}}" data-ng-keydown="viewModelPrenomCtrl.keydown($event)" mwsf-focus-if-bool="{{viewModelPrenomCtrl.setFocus}}" mw-reset-field mwsf-string-only-input autocomplete="off" id="id-prenom">\r\n\r\n                <span class="error-msg col-md-12 help-inline" data-ng-show="viewModelPrenomCtrl.prenom && !viewModelPrenomCtrl.premierAlphabetique">Le premier caractère doit être alphabétique.</span>\r\n                <span class="error-msg col-md-12 help-inline" data-ng-show="!viewModelPrenomCtrl.prenom && viewModelPrenomCtrl.required">Renseigner le prenom.</span>\r\n            </div>\r\n        </div>\r\n    </data-ng-form>\r\n</div> '),e.put("typescript/rib/saisie-rib-view.html",'\r\n\r\n<div class="saisie-from-rib">\r\n    <data-ng-form name="formRib" role="form" novalidate>\r\n        <div class="row" ng-hide="viewModelRibCtrl.sansLibelle">\r\n            <div class="col-xs-4 col-sm-4 col-md-4 fixe-min-width-guichet" data-ng-hide="viewModelRibCtrl.codeGuichetUniqueValue">\r\n                <label class="control-label" for="idGuichet">Guichet - {{viewModelRibCtrl.rib.codeGuichet}} </label>\r\n            </div>\r\n            <div class="col-xs-4 col-sm-4 col-md-7 init-padding-left">\r\n                <label class="control-label" for="idCompte">N° de compte</label>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-xs-4 col-sm-4 col-md-4 fixe-min-width-guichet form-group" data-ng-hide="viewModelRibCtrl.codeGuichetUniqueValue">\r\n\r\n                <input type="text" id="id-guichet" ng-model="viewModelRibCtrl.rib.codeGuichet" class="form-control" name="guichet" mw-combobox="guichet.value for guichet in viewModelRibCtrl.listCodeGuichets | filter:$viewValue | orderBy : \'value\'" mw-combobox-min-length="0" maxlength="5" mwsf-numbers-only-input>\r\n            </div>\r\n\r\n            <div class="col-xs-4 col-sm-4 col-md-7 set-width-cocxprcodard-input">\r\n                <div class="col-md-12 init-padding">\r\n                    <input type="text" class="form-control" ng-model="viewModelRibCtrl.cocxprCodard" id="id-compte" data-ui-mask="999999999? 99? 99" data-ng-keydown="viewModelRibCtrl.keydown($event)" autocomplete="off">                     <!--mwsf-focus-if-bool="viewModelRibCtrl.codeGuichetValidate"-->\r\n                </div>\r\n            </div>\r\n\r\n            <span class="error-msg col-md-8 msg-error-margin" data-ng-show="viewModelRibCtrl.errorMessage" ng-bind="viewModelRibCtrl.errorMessage"></span>\r\n            <!--<div class="col-md-2 cle-rice-rib">\r\n                <label class="control-label init-position">Clé</label>\r\n                <input style="width: 3em;" type="text" class="form-control set-text-blod text-align-center" data-ng-model="viewModelRibCtrl.rib.cleRice" maxlength="2" readonly mwsf-numbers-only-input>\r\n            </div>-->\r\n        </div>\r\n    </data-ng-form>\r\n</div>\r\n'),e.put("typescript/opposition/opposition-template.html",'\r\n<div class="detail-tr" ng-controller="oppositionTemplateController as OpCtrl">\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'commentaire\')">\r\n        <div class="col-md-6 libelle">\r\n            Commentaire :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.libelle"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="false">\r\n        <div class="col-md-6 libelle">\r\n            Motif d\'opposition :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.motifOpposition"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-md-6 libelle">\r\n            Opposition créée à l\'initiative de la caisse :\r\n        </div>\r\n        <div class="col-md-6" ng-show="mwTableRow.indicateurInitiativeCaisse">\r\n            <strong>Oui</strong>\r\n        </div>\r\n        <div class="col-md-6" ng-hide="mwTableRow.indicateurInitiativeCaisse">\r\n            <strong>Non</strong>\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-md-6 libelle">\r\n            Niveau :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.libelleNiveau"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-md-6 libelle">\r\n            Diffusion :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.libelleDiffusion"></strong>\r\n        </div>\r\n   </div>\r\n   <div class="row">\r\n        <div class="col-md-6 libelle">\r\n            <strong>Créée par</strong>\r\n        </div>\r\n   </div>\r\n    <div class="row">\r\n        <div class="col-md-6 libelle">\r\n            EDS :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.numeroBureauOperantCreation"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-md-6 libelle">\r\n            Nom agent :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.nomAgentCreation"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-md-6 libelle">\r\n            Date de création :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.dateCreation"></strong> à <strong ng-bind="mwTableRow.heureCreation"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'referenceTitre\')">\r\n        <div class="col-md-6 libelle">\r\n            <strong>Référence</strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'duplicata\')">\r\n        <div class="col-md-6 libelle">\r\n            N° duplicata Livret :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.perteVolLivret.numeroDuplicataLivret"></strong> \r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'perte\')">\r\n        <div class="col-md-6 libelle">\r\n           Perte/Vol :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="OpCtrl.perteVol(mwTableRow.perteVolLivret)"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'identite\')">\r\n        <div class="col-md-6 libelle">\r\n            Pièce d\'identité :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="OpCtrl.carteIdendite(mwTableRow.perteVolLivret.indicateurAvecSansPI)"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'emetteur\')">\r\n        <div class="col-md-6 libelle">\r\n            N° National émetteur :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.prelevementNNE.numeroNationalEmetteur +\' \'+ mwTableRow.prelevementNNE.libelleNationalEmetteur "></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'mtOp\')">\r\n        <div class="col-md-6 libelle">\r\n            Montant opération bloquée :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.prelevementNNE.mtOperationBloquee | currency:OpCtrl.codeDevise "></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'mtOpTousMontants\')">\r\n        <div class="col-md-6 libelle">\r\n            Montant opération bloquée :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong>Tous montants</strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'motif\')">\r\n        <div class="col-md-6 libelle">\r\n            Motif d\'opposition :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.prelevementNNE.indicateurMotifOpposition"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'emetteurAutoriseSauf\')">\r\n        <div class="col-md-6 libelle">\r\n            N° National émetteur autorisé :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.prelevementSaufNNE.numeroNationalEmetteur +\' \'+ mwTableRow.prelevementSaufNNE.libelleNationalEmetteur "></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'emetteurAutoriseSaufBloquee\')">\r\n        <div class="col-md-12 text-center">\r\n            <strong>Blocage de tous les prélèvements</strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'motifSaufNNE\')">\r\n        <div class="col-md-6 libelle">\r\n            Motif d\'opposition :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.prelevementSaufNNE.indicateurMotifOpposition"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'motifFormulaire\')">\r\n        <div class="col-md-6 libelle">\r\n            Motif d\'opposition :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.formulePerteVol.indicateurMotifOpposition"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'premier\')">\r\n        <div class="col-md-6 libelle">\r\n            Premier n° de formule :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.formulePerteVol.numeroPremiereFormule"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'dernier\')">\r\n        <div class="col-md-6 libelle">\r\n            Dernier n° de formule :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.formulePerteVol.numeroDerniereFormule"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'creancier\')">\r\n        <div class="col-md-6 libelle">\r\n            Identifiant du créancier :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.prelevementCreancierMandatSepa.identifiantCreancier"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'reference\')">\r\n        <div class="col-md-6 libelle">\r\n            Référence du mandat :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.prelevementCreancierMandatSepa.referenceMandat"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'motifSepa\')">\r\n        <div class="col-md-6 libelle">\r\n            Motif d\'opposition :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.prelevementCreancierMandatSepa.indicateurMotifOpposition"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'motifPrSepa\')">\r\n        <div class="col-md-6 libelle">\r\n            Motif d\'opposition :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.toutPrelevementSepa.indicateurMotifOpposition"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'montantOpBloquee\')">\r\n        <div class="col-md-6 libelle" ng-bind="OpCtrl.montantLibelle(mwTableRow.codeMotif)">     \r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.virementSoldeMin.mtOperationBloquee | currency:mwTableRow.virementSoldeMin.codeMonnaie "></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'motifPaiement\')">\r\n        <div class="col-md-6 libelle">\r\n            Motif d\'opposition :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.paiementCheque.indicateurMotifOpposition"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'numeroCheque\')">\r\n        <div class="col-md-6 libelle">\r\n            Numéro de chèque :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.paiementCheque.numeroCheque"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'mtCheque\')">\r\n        <div class="col-md-6 libelle">\r\n           Montant chèque :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.paiementCheque.montantCheque | currency:OpCtrl.codeDevise "></strong>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'emission\')">\r\n        <div class="col-md-6 libelle">\r\n            Date d\'émission :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.paiementCheque.dateEmissionCheque | date: \'dd/MM/yyyy\'"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'beneficaire\')">\r\n        <div class="col-md-6 libelle">\r\n            Nom bénéficiaire :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.paiementCheque.nomBeneficiaire"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="OpCtrl.afficheBloc(mwTableRow, \'condition\')">\r\n        <div class="col-md-6 libelle">\r\n            Condition :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="mwTableRow.livretConditionnel.commentaireLivretConditionnel"></strong>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-if="OpCtrl.afficheBloc(mwTableRow, \'capaciteJuridique\')">\r\n        <div class="col-md-6 libelle">\r\n            Capacité juridique :\r\n        </div>\r\n        <div class="col-md-6">\r\n            <strong ng-bind="OpCtrl.getCapaciteJuridique(mwTableRow.tutelle.capaciteJuridique)"></strong>\r\n        </div>\r\n    </div> \r\n</div>\r\n'),
e.put("typescript/opposition/opposition-view.html",'<mw-table ng-if="oppositionCtrl.donneesCharge" options="oppositionCtrl.tableauOpposition" id="tableau-opposition"></mw-table>\r\n'),e.put("typescript/rice/saisie-rice-view.html",'<data-ng-form name="formRib" role="form" novalidate>\r\n    <div class="saisie-form-rice container-fluid" data-ng-hide="viewModelRiceCtrl.readOnly">\r\n        <div class="row">\r\n            <div class="col-xs-12 col-sm-12 col-md-12 input-group">\r\n                <div class="col-xs-3 col-sm-3 col-md-3 diminue-padding-left set-code-etablissement-width"> <!--data-ng-class="viewModelRiceCtrl.codeEtablissementValidate ? \'\' : \'has-error\'"-->\r\n                    <input type="text" maxlength="5" mwsf-numbers-only-input class="form-control" data-ng-model="viewModelRiceCtrl.rice.codeEtablissement" data-ng-change="viewModelRiceCtrl.bindingData(\'codeEtablissement\', viewModelRiceCtrl.rice.codeEtablissement, 5);" data-ng-blur="viewModelRiceCtrl.normalizedValue(\'codeEtablissement\', viewModelRiceCtrl.rice.codeEtablissement, 5)" data-ng-readonly="viewModelRiceCtrl.modeEtablissement" data-ng-keydown="viewModelRiceCtrl.codeEtablissementKeydown = true" data-ng-keyup="viewModelRiceCtrl.codeEtablissementKeydown = false" autocomplete="off" id="rice1" mwsf-focus-if-bool="viewModelRiceCtrl.codeEtablissementBackFocus">\r\n                </div>\r\n                <div>\r\n                    <div class="col-xs-3 col-sm-3 col-md-3 diminue-padding-left set-code-guichet-ui-select-width" data-ng-if="!viewModelRiceCtrl.isUniqueCodeGuichet && !(viewModelRiceCtrl.modeExterne && !viewModelRiceCtrl.calculAutoCleRiceModeExterne)">\r\n                         <!--data-ng-class="viewModelRiceCtrl.codeGuichetValidate ? \'\' : \'has-error\'"-->\r\n                        <input type="text" ng-model="viewModelRiceCtrl.selectedGuichet" class="form-control" name="guichets" maxlength="5" typeahead-on-select="viewModelRiceCtrl.onItemSelect($item)" typeahead="guichet.value for guichet in viewModelRiceCtrl.listCodeGuichets | filter: {\'value\':$viewValue} | orderBy : \'value\'" data-ng-change="viewModelRiceCtrl.bindingData(\'codeGuichet\', viewModelRiceCtrl.selectedGuichet, 5)" mwsf-focus-if-bool="(viewModelRiceCtrl.codeEtablissementValidate && viewModelRiceCtrl.bindingEtablissement && !viewModelRiceCtrl.isUniqueCodeGuichet && viewModelRiceCtrl.codeEtablissementKeydown) || viewModelRiceCtrl.codeGuichetBackFocus" data-ng-keydown="viewModelRiceCtrl.codeGuichetKeydown = true;viewModelRiceCtrl.keydownBack($event, 1)" data-ng-keyup="viewModelRiceCtrl.codeGuichetKeydown = false" autocomplete="off" id="rice2">\r\n                    </div>\r\n                    <div class="col-xs-3 col-sm-3 col-md-3 diminue-padding-left set-is-unique-code-guichet-width" data-ng-if="viewModelRiceCtrl.isUniqueCodeGuichet || (viewModelRiceCtrl.modeExterne && !viewModelRiceCtrl.calculAutoCleRiceModeExterne)">\r\n                         <!--data-ng-class="(viewModelRiceCtrl.codeGuichetValidate || viewModelRiceCtrl.rice.codeGuichet.value.length === 5) ? \'\' : \'has-error\'"-->\r\n                        <input type="text" class="form-control" maxlength="5" mwsf-numbers-only-input data-ng-model="viewModelRiceCtrl.rice.codeGuichet.value" data-ng-change="viewModelRiceCtrl.bindingData(\'codeGuichet\', viewModelRiceCtrl.rice.codeGuichet.value, 5)" data-ng-blur="viewModelRiceCtrl.normalizedValue(\'codeGuichet\', viewModelRiceCtrl.rice.codeGuichet.value, 5)" data-ng-readonly="viewModelRiceCtrl.isUniqueCodeGuichet" data-ng-keydown="viewModelRiceCtrl.codeGuichetKeydown = true;viewModelRiceCtrl.keydownBack($event, 1)" data-ng-keyup="viewModelRiceCtrl.codeGuichetKeydown = false" mwsf-focus-if-bool="(viewModelRiceCtrl.codeEtablissementValidate && viewModelRiceCtrl.bindingEtablissement && !viewModelRiceCtrl.isUniqueCodeGuichet && viewModelRiceCtrl.codeEtablissementKeydown) || viewModelRiceCtrl.codeGuichetBackFocus" id="rice3">\r\n                    </div>\r\n                </div>\r\n                <div class="col-xs-4 col-sm-4 col-md-4 diminue-padding-left set-cocxpr-codard-width"> <!--data-ng-class="viewModelRiceCtrl.cocxprCodardValidate ? \'\' : \'has-error\'"-->\r\n                    <input type="text" class="form-control" data-ng-model="viewModelRiceCtrl.cocxprCodard" ui-mask="?********* **" id="rice4" data-ng-keydown="viewModelRiceCtrl.keydown($event);viewModelRiceCtrl.keydownBack($event, 2)" data-ng-keyup="viewModelRiceCtrl.cocxprCodardKeydown = false" autocomplete="off" data-ng-blur="viewModelRiceCtrl.normalizedValue(\'cocxprCodard\', viewModelRiceCtrl.cocxprCodard, 11)" mwsf-focus-if-bool="(viewModelRiceCtrl.codeGuichetValidate && viewModelRiceCtrl.bindingGuichet && viewModelRiceCtrl.codeGuichetKeydown) \r\n                           || (viewModelRiceCtrl.isUniqueCodeGuichet && viewModelRiceCtrl.codeEtablissementValidate && viewModelRiceCtrl.bindingEtablissement && viewModelRiceCtrl.codeEtablissementKeydown)\r\n                           || viewModelRiceCtrl.radicalBackFocus" mw-clear-button>\r\n                </div>\r\n                <div class="col-xs-2 col-sm-2 col-md-2 diminue-padding-left set-cle-rice-width"> <!--data-ng-class="viewModelRiceCtrl.cleRiceValidate ? \'\' : \'has-error\'"-->\r\n                    <input type="text" class="form-control set-text-blod" id="rice5" data-ng-model="viewModelRiceCtrl.rice.cleRice" data-ng-keydown="viewModelRiceCtrl.cleRiceKeydown = true;viewModelRiceCtrl.keydownBack($event, 3)" data-ng-keyup="viewModelRiceCtrl.cleRiceKeydown = false" maxlength="2" mwsf-numbers-only-input autocomplete="off" data-ng-readonly="viewModelRiceCtrl.modeEtablissement || (viewModelRiceCtrl.modeExterne && viewModelRiceCtrl.calculAutoCleRiceModeExterne)" mwsf-focus-if-bool="viewModelRiceCtrl.modeExterne && !viewModelRiceCtrl.calculAutoCleRiceModeExterne && viewModelRiceCtrl.cocxprCodardValidate && viewModelRiceCtrl.codeGuichetValidate && viewModelRiceCtrl.cocxprCodardKeydown">\r\n                </div>\r\n            </div>      \r\n            <!--<div class="col-md-12 set-width-error-msg">\r\n                <span class="error-msg col-md-12" data-ng-if="!viewModelRiceCtrl.rice.$valid" role="alert">Le RICE n\'est pas valide</span>\r\n            </div>-->\r\n            <div class="col-md-12 set-width-error-msg">\r\n                <span class="error-msg col-md-12" data-ng-if="viewModelRiceCtrl.msgErreurKeys" role="alert" data-ng-bind="viewModelRiceCtrl.msgErreurKeys"></span>\r\n            </div>\r\n            <div class="col-md-12 set-width-error-msg">\r\n                <span class="error-msg col-md-12" data-ng-if="viewModelRiceCtrl.msgErreurEts" role="alert" data-ng-bind="viewModelRiceCtrl.msgErreurEts"></span>\r\n            </div>\r\n            <div class="col-md-12 set-width-error-msg">\r\n                <span class="error-msg col-md-12" data-ng-if="viewModelRiceCtrl.msgErreurControle" role="alert" data-ng-bind="viewModelRiceCtrl.msgErreurControle"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="saisie-form-rice" data-ng-show="viewModelRiceCtrl.readOnly">\r\n        <div class="form-horizontal form-horizontal-set-style" mw-form-static>\r\n            <span class="set-text-blod form-control-static" data-ng-bind="viewModelRiceCtrl.rice.codeEtablissement"></span>\r\n            <span class="set-text-blod form-control-static" data-ng-bind="viewModelRiceCtrl.rice.codeGuichet.value"></span>\r\n            <span class="set-text-blod form-control-static">{{viewModelRiceCtrl.rice.codeActiviteCompte + viewModelRiceCtrl.rice.radical + viewModelRiceCtrl.rice.cleCompte}}</span>\r\n            <span class="set-text-blod form-control-static" data-ng-bind="viewModelRiceCtrl.rice.cleRice"></span>\r\n        </div>\r\n    </div>\r\n</data-ng-form>  '),e.put("typescript/siren/saisie-siren-view.html",'\r\n<data-ng-form class="form-horizontal" name="formSiren" role="form" novalidate>\r\n    <div class="saisie-from-siren"> \r\n        <div class="col-md-12 set-init-padding" data-ng-class="{\'has-error\' : viewModelSirenCtrl.siren && viewModelSirenCtrl.siren.length === 9 && !viewModelSirenCtrl.isValid}">\r\n            <input name="inputSiren" class="form-control" type="text" data-ng-model="viewModelSirenCtrl.siren" data-ng-keydown="viewModelSirenCtrl.keydown($event)" data-ng-required="{{viewModelSirenCtrl.required}}" autocomplete="off" data-ng-blur="viewModelSirenCtrl.affineValue(viewModelSirenCtrl.siren)" mwsf-focus-if-bool="{{viewModelSirenCtrl.setFocus}}" mw-reset-field maxlength="9" id="siren">\r\n\r\n\r\n            <span class="error-msg col-md-12" data-ng-show="viewModelSirenCtrl.required && !viewModelSirenCtrl.siren">Obligatoire</span>\r\n            <span class="error-msg col-md-12" data-ng-show="viewModelSirenCtrl.siren && viewModelSirenCtrl.siren.length === 9 && !viewModelSirenCtrl.isValid">Siren invalide</span>\r\n        </div> \r\n    </div>\r\n</data-ng-form>    '),e.put("typescript/technique/suggestion-view.html",'\r\n\r\n\r\n\r\n\r\n<ng-form class="form-horizontal" name="formAdvancedSelect" role="form" novalidateng-class="{\r\n              \'has-error\' : formAdvancedSelect.advancedSelect.$error.required,\r\n              \'has-success\': !formAdvancedSelect.advancedSelect.$error.required}">\r\n\r\n    <label name="label" class="col-sm-2 control-label" for="combo" ng-show="{{afficheLibelle}}">{{libelle}}</label>\r\n    <div class="col-sm-3 has-feedback" dropdown dropdown-toggle is-open="status.isopen" ng-style="width:{{setWidth}}">\r\n        <input ng-readonly="{{readOnly}}" maxlength="{{nbrCaracteresMax}}" class="form-control" type="text" ng-model="advancedSelectModel" ng-required="{{required}}" name="advancedSelect" ng-click="handleClick($event); formAdvancedSelect.advancedSelect.$error = {}" ng-blur="reajusterValeur(advancedSelectModel)" mwsf-focus-if-bool="{{mwsfFocusIfBool}}" mw-reset-listbox>\r\n  \r\n        <span class="btn btn-success form-control-feedback icon itce-chevron-down" ng-click="initItemsList()"></span>\r\n        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel" ng-style="width: {{dropdownSetWidth}}">\r\n            <li ng-repeat="item in items  track by $index" ng-click="bindingModel(item[valueViewList])" value="item[keyList]"> <span ng-bind="item[valueViewList]"></span> </li>\r\n        </ul>\r\n        <div class="clearfix">\r\n            <span class="error-msg col-md-12 help-inline" ng-show="formAdvancedSelect.advancedSelect.$error.required">Obligatoire</span>\r\n        </div>       \r\n    </div>   \r\n</ng-form>'),e.put("typescript/typologie/saisie-typologie-view.html",'\r\n\r\n<ng-form class="form-horizontal form-group" name="formTypologie" role="form" novalidate>\r\n    <!--version radio--> \r\n    <div class="form-group" ng-hide="{{modeOnglet}}">        \r\n        <div class="btn-group">\r\n            <button id="typo1" ng-repeat="item in list track by $index" class="btn itce-radio-btn ng-valid ng-dirty ng-touched" ng-model="$parent.ngModel" value="{{item[keyList]}}" btn-radio="{{item[keyList]}}" ng-bind="item[valueViewList]"></button>\r\n        </div>\r\n    </div>\r\n    <!--version onglet-->\r\n    <div class="form-group" ng-show="{{modeOnglet}}">\r\n        <div class="btn-group">\r\n            <button id="typo2" ng-repeat="item in list track by $index" class="btn btn-default" ng-model="monModel" ng-class="{\'btn-active-background-color\': monModel == {{item[keyList]}}}" ng-click="isSelected(item, $event)" ng-bind="item[valueViewList]"></button>\r\n        </div>\r\n    </div>\r\n</ng-form>'),e.put("typescript/montant/saisie-montant-devise/saisie-montant-devise-view.html",'<div class="form-saisie-montant-avec-devise">\r\n    <ng-form name="{{ctrl.id}}" class="form-horizontal" ng-class="{ \'set-position-montant-read-only\': ctrl.readOnly }">\r\n        <div class="container-fluid" ng-show="!ctrl.readOnly">\r\n            <div class="form-group">\r\n                <div class="col-md-12 input-group" ng-class="{\'has-error\': !ctrl.montantController.$valid && ctrl.value.montant}">\r\n                    <input type="text" class="form-control" ng-attr-id="{{ctrl.id}}-input" ng-attr-name="{{ctrl.name}}" ng-model="ctrl.value.montant" ng-model-options="{ allowInvalid: true, updateOn: \'blur\' }" mwsf-montant="ctrl.settings" mw-min-value="{{ctrl.min}}" mw-max-value="{{ctrl.max}}" force-positive="{{ctrl.forcePositive}}" ng-required="{{ctrl.isRequired}}" data-ng-blur="ctrl.onBlur(ctrl.value)" autocomplete="off" id="id-montant" maxlength="{{ctrl.maxLength}}" mwsf-focus-if-bool="ctrl.donneFocus()" ng-readonly="ctrl.isReadOnly()">\r\n                    <!--span contenant le symbole de la devise-->\r\n                    <span class="input-group-addon set-width-devise-view" ng-bind="ctrl.value.devise.view" mw-input-loader="ctrl.loading"></span>\r\n                </div>\r\n                <div class="col-md-12 container-fluid">\r\n                    <span class="error-msg col-md-12" ng-show="ctrl.montantController.$error.required && ctrl.onBlurMessageDerreur" ng-bind="ctrl.messages.required"></span>\r\n                    <span class="error-msg col-md-12" ng-show="ctrl.montantController.$error.min" ng-bind="ctrl.messages.min | mwInterpolateFilter: {min: ctrl.min}"></span>\r\n                    <span class="error-msg col-md-12" ng-show="ctrl.montantController.$error.max" ng-bind="ctrl.messages.max | mwInterpolateFilter: {max: ctrl.max}"></span>\r\n                    <span class="error-msg col-md-12" ng-show="ctrl.montantController.$error.devise" ng-bind="ctrl.messages.devise | mwInterpolateFilter: {devise: ctrl.value.codeDevise}"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row-fluid init-row" ng-if="ctrl.readOnly">\r\n            <div class="set-text-align-center" mw-form-static>\r\n                <span class="set-text-blod form-control-static" ng-bind="ctrl.value.montant | number"></span>\r\n            </div>\r\n            <section>\r\n                <div class="col-md-1" mw-form-static>\r\n                    <span class="set-text-blod set-text-align-center set-width-devise-view form-control-static" ng-show="ctrl.value.montant" ng-bind="::ctrl.value.devise.view"></span>\r\n                </div>\r\n                <div class="col-md-1 set-position-loader-read-only">\r\n                    <span class="set-text-align-center set-width-devise-view" ng-show="ctrl.value.montant" mw-input-loader="ctrl.loading"></span>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </ng-form>\r\n</div>'),e.put("typescript/montant/type-e/saisie-montant-avec-devise-view.html",'\r\n\r\n\r\n<div class="form-saisie-montant-avec-devise">\r\n    <data-ng-form class="form-horizontal" name="{{ctrl.formName}}" role="form" novalidate>\r\n        <div class="container-fluid">\r\n            <div class="row">\r\n                <div class="col-md-12 input-group" data-ng-class="(ctrl.montant &&  ctrl.readOnly  || ctrl.montant && !ctrl.isMinError && !ctrl.isMaxError)? \'\' : \'has-error\'">\r\n                    <input type="text" class="form-control" id="id-montant" data-ng-model="ctrl.montant" mwsf-montant="ctrl.settings" devise="ctrl.devise" force-positive="{{ctrl.forcePositive}}" data-ng-readonly="{{ctrl.readOnly}}" autocomplete="off">                          \r\n                </div>\r\n                <div class="col-md-12">\r\n                    <span class="error-msg col-md-12 help-inline" data-ng-if="ctrl.isMinError && ctrl.montant">Le montant doit être supérieur ou égal à {{ctrl.min | number}}.</span>\r\n                    <span class="error-msg col-md-12 help-inline" data-ng-if="ctrl.isMaxError && ctrl.montant">Le montant doit être inférieur ou égal à {{ctrl.max | number}}.</span>\r\n                </div>\r\n            </div> \r\n\r\n        </div> \r\n    </data-ng-form>  \r\n</div>  '),e.put("typescript/technique/input-loader/input-loader-view.html",'<i class="icon itce-spinner mw-input-loader"></i>')}]);