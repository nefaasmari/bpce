/**
 * Généré par : SIGCESIE\ct-tfsbuild
 * Changeset TFS : undefined
 * Etiquette TFS : undefined
 * Déclenchement : undefined
 */
var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";e.editiqueDatModule=angular.module("myway.gestionEpargne.editiqueDat",["ngRoute","myway.ui","ui.bootstrap","ngAnimate","moduleAgent","myway.comInterdomaine","myway.comOpesFinancieres","myway.trans.offreCommun.editique"]),e.editiqueDatModule.config(["$provide","$routeProvider",function(e,t){t.when("/",{controller:"editiqueDatControleur",templateUrl:"vues/editique-dat-vue.html",controllerAs:"editiqueDatCtrl",resolve:{serviceAgent:["serviceAgentProvider",function(e){return e.init({codeApplication:"PRDR_CONT_DAT",disableScopeSave:!1,scopeType:MyWay.Services.Context.ScopeType.Root})}]}}).otherwise({templateUrl:"vues/page-non-trouvee.html"})}]),MyWay.Services.AppServiceParameters.Instance().PortalDomain="http://myway-dua.sigcesie.caisse-epargne.fr:6080"}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.id=e,this.libelleErreur=t}return e}();e.MessageErreurEditique=t;var n=function(){function n(e,t,n,i,r,o,a,c,s,u,p,l,d,m,v,E,A,g,f,h,D,C,y){this.$q=e,this.$rootScope=t,this.$timeout=n,this.serviceAgentExtended=i,this.contexteEditiqueMockService=r,this.editPreContratDATService=o,this.mappingModelGcePreContratRestService=a,this.utileCommunService=c,this.editConditionParticuliereService=s,this.mappingModelGceConditionParticuliereRestService=u,this.gceDocPartieTechniquePreContratService=p,this.gceDocPartieTechniqueConditionParticuliereService=l,this.creationBordereauService=d,this.impressionBordereauService=m,this.parametrageBordereauRetractationService=v,this.autorisationCommunicationDonneesBancairesService=E,this.parametrageListePiecesJustificativesService=A,this.entiteTitulaireAjaxImplService=g,this.tiersNoyauService=f,this.parametrageLettreAccompagnementService=h,this.gestionDossierVenteService=D,this.opeFiService=C,this.postOpeFiService=y,this.loaderVisible=!1,this.loaderEtat=-1,this.erreurDansEditique=!1,this.faceAFace=!1,this.tableauErreurEditique=[],this.currentId=0,this.generationEnCoursMessageIndicateur=!1,this.generationTerminerOKMessageIndicateur=!1,this.pasDeDocumentMessageIndicateur=!1,this.debutTraitementDocuments()}return n.prototype.mappingContexteGGHOESign=function(e){var t=this,n=JSON.parse(e);this.contexteEditiqueGGHO=n,this.contexteEditiqueGGHO.contractualisationActe.documentsAImprimer=[],n.contractualisationActe.acteGestion.listeDocumentAProduire.forEach(function(e){var n={codeTypeDocument:e.codeTypeDocument,codeNatureGED:e.codeNatureGED,isNonMaterialisation:e.indicNonMaterialisation,codeTypeAttributaire:e.codeTypeAttributaireDocument,identifiantAttributaire:e.identifiantAttributaire,intituleAttributaire:e.intituleAttributaire,libelleDocument:e.libelleDocContractualisation,minimumExemplaires:e.nbMiniExemplairesDocEdition,maximumExemplaires:e.nbMaxiExemplairesDocEdition,nbParDefautExemplaires:e.nbExemplairesParDefautEdition};t.contexteEditiqueGGHO.contractualisationActe.documentsAImprimer.push(n)})},n.prototype.debutTraitementDocuments=function(){var e=this;this.promessesMapping=[],this.serviceAgentExtended.getAuthentificationInfo().then(function(t){e.donneesAuthentication=t,e.serviceAgentExtended.getFromContext(n.CONTEXTE_GGHO_EDITIQUE).then(function(t){var n=JSON.parse(t);angular.isDefined(n.contractualisationActe.typeProfessionnel)&&"EI"===n.contractualisationActe.typeProfessionnel||"PM"===n.contractualisationActe.typeProfessionnel&&angular.isDefined(n.isPro)&&n.isPro===!0&&!n.contractualisationActe.indicateurPapier?e.mappingContexteGGHOESign(t):n.contractualisationActe.indicateurPapier&&angular.isUndefined(n.contractualisationActe.documentsAImprimer)||0===n.contractualisationActe.documentsAImprimer.length?e.mappingContexteGGHOESign(t):e.contexteEditiqueGGHO=JSON.parse(t),e.EditionDocuments()})})},n.prototype.EditionDocuments=function(){var n=this;this.initialiserMessagesEditique(),console.log("%c editique-dat-controleur.ts => EditionDocuments() => contexteEditiqueGGHO = ","color:red;font-weight:bold;",this.contexteEditiqueGGHO),this.contexteEditiqueGGHO.contractualisationActe.documentsAImprimer.forEach(function(t){t.codeTypeDocument===e.CodeTypeDocument.PRCT?(n.documentPrecontratGGHO=t,n.promessesMapping.push(n.gestionDocumentPreContrat(t))):(!n.utileCommunService.estConditionParticuliereDAT(t.codeTypeDocument)||n.contexteEditiqueGGHO.isPro&&n.contexteEditiqueGGHO.isPro===!0)&&(t.codeTypeDocument!==e.UtileCommunService.OU9A&&t.codeTypeDocument!==e.UtileCommunService.OU9Q&&t.codeTypeDocument!==e.UtileCommunService.OU9S||!n.contexteEditiqueGGHO.isPro||n.contexteEditiqueGGHO.isPro!==!0)?t.codeTypeDocument===e.CodeTypeDocument.BOPE?(n.documentBope=t,n.promessesMapping.push(n.gestionDocumentBope(t))):t.codeTypeDocument===e.CodeTypeDocument.BORE?(n.documentBore=t,n.promessesMapping.push(n.gestionDocumentBore(t))):t.codeTypeDocument===e.CodeTypeDocument.ACDB?(n.documentAcdb=t,n.promessesMapping.push(n.gestionDocumentAcdb(t))):t.codeTypeDocument===e.CodeTypeDocument.PJVM?(n.documentPjvm=t,n.promessesMapping.push(n.gestionDocumentPjvm(t))):t.codeTypeDocument===e.CodeTypeDocument.LA09&&(n.documentLA09=t,n.promessesMapping.push(n.gestionDocumentLettreAcc(t))):(n.documentConditionParticuliereGGHO=t,n.promessesMapping.push(n.gestionDocumentConditionParticuliere(t)))}),this.promessesMapping.length>0?this.gererPartieTechniqueTousDocuments():(this.erreurDansEditique=!0,this.gestionFinGenerationDocumentsIHM(),this.tableauErreurEditique.push(new t(this.currentId,"Pas de documents à éditer")),this.currentId++)},n.prototype.gererPartieTechniqueTousDocuments=function(){var e=this;this.$q.all(this.promessesMapping).then(function(t){e.gererParametresImpressionOuArchivage(t),e.contexteEditiqueGGHO.contractualisationActe.indicateurPapier?e.estEnVAD()?e.gererArchivage(t):e.gererImpression():e.gererArchivage(t)})},n.prototype.estEnVAD=function(){var e=!0;return this.contexteEditiqueGGHO&&"FF"===this.contexteEditiqueGGHO.offre.codeCanal&&(e=!1),e},n.prototype.gererParametresImpressionOuArchivage=function(t){var n=this;t.forEach(function(t){t instanceof e.sibcgcePrecontractuelles.SibcgcePrecontractuelles?n.gceDocPartieTechniquePreContratService.gererImpressionOuArchivagePreContrat(t,n.contexteEditiqueGGHO,n.documentPrecontratGGHO,n.donneesAuthentication):t instanceof e.sipxgceDatRembNpy5o01.SipxgceDatRembNpy5o01?n.gceDocPartieTechniqueConditionParticuliereService.gererImpressionOuArchivageConditionParticuliere(t,n.contexteEditiqueGGHO,n.documentConditionParticuliereGGHO,n.donneesAuthentication):t instanceof e.DescriptionBordereauOperation?n.gererImpressionOuArchivageBope(t):t instanceof e.DescriptionBordereauRetractation?n.gererImpressionOuArchivageBore(t):t instanceof e.AutorisationCommunicationDonneesBancaires?n.gererImpressionOuArchivageAcdb(t):t instanceof e.ListePiecesJustif?n.gererImpressionOuArchivagePjvm(t):t instanceof e.LettreAccompagnement&&n.gererImpressionOuArchivageLa09(t)})},n.prototype.gererImpressionOuArchivageBope=function(e){var t=!this.contexteEditiqueGGHO.contractualisationActe.indicateurPapier;console.log(">>>estEligibleSAG pour BOPE",t),t||"TL"===this.contexteEditiqueGGHO.offre.codeCanal?this.utileCommunService.ajoutDocumentBopeLiasseArchivage(e,this.contexteEditiqueGGHO,this.donneesAuthentication):this.contexteEditiqueGGHO.isPro&&this.contexteEditiqueGGHO.isPro===!0&&this.utileCommunService.ajoutDocumentBopeLiasseImpression(e,this.contexteEditiqueGGHO,this.donneesAuthentication)},n.prototype.gererImpressionOuArchivageBore=function(e){var t=!this.contexteEditiqueGGHO.contractualisationActe.indicateurPapier;console.log(">>>estEligibleSAG pour BORE",t),(t||"TL"===this.contexteEditiqueGGHO.offre.codeCanal)&&this.utileCommunService.ajoutDocumentBoreLiasseArchivage(e,this.contexteEditiqueGGHO,this.donneesAuthentication)},n.prototype.gererImpressionOuArchivageAcdb=function(e){var t=!this.contexteEditiqueGGHO.contractualisationActe.indicateurPapier;console.log(">>>estEligibleSAG pour ACDB",t),(t||"TL"===this.contexteEditiqueGGHO.offre.codeCanal)&&this.utileCommunService.ajoutDocumentAcdbLiasseArchivage(e,this.contexteEditiqueGGHO,this.donneesAuthentication)},n.prototype.gererImpressionOuArchivagePjvm=function(e){var t=!this.contexteEditiqueGGHO.contractualisationActe.indicateurPapier;console.log(">>>estEligibleSAG pour ACDB",t),(t||"TL"===this.contexteEditiqueGGHO.offre.codeCanal)&&this.utileCommunService.ajoutDocumentPjvmLiasseArchivage(e,this.contexteEditiqueGGHO,this.donneesAuthentication)},n.prototype.gererImpressionOuArchivageLa09=function(e){var t=!this.contexteEditiqueGGHO.contractualisationActe.indicateurPapier;console.log(">>>estEligibleSAG pour LA09",t),(t||"TL"===this.contexteEditiqueGGHO.offre.codeCanal)&&this.utileCommunService.ajoutDocumentLa09LiasseArchivage(e,this.contexteEditiqueGGHO,this.donneesAuthentication)},n.prototype.gererImpression=function(){var e=this;this.utileCommunService.imprimerDocuments().then(function(){0===e.tableauErreurEditique.length&&(e.generationTerminerOKMessageIndicateur=!0,e.contexteEditiqueGGHO&&"FF"===e.contexteEditiqueGGHO.offre.codeCanal&&(e.faceAFace=!0)),e.gestionFinGenerationDocumentsIHM()})["catch"](function(t){e.gestionErreurGenerationIHM(t),e.gestionFinGenerationDocumentsIHM()})},n.prototype.gererArchivage=function(t){var i=this;0===this.tableauErreurEditique.length?this.utileCommunService.archivageDocumentsEtLisaNext(this.contexteEditiqueGGHO)["catch"](function(t){i.gestionErreurGenerationIHM(t),i.gestionFinGenerationDocumentsIHM(),i.contexteEditiqueGGHO&&"FF"===i.contexteEditiqueGGHO.offre.codeCanal&&i.serviceAgentExtended.addToContext(n.CODE_RETOUR_GENERATION_EDITIQUE,e.CodeRetourEditique.KO),i.contexteEditiqueGGHO.retourEditique=-1,console.log(i.contexteEditiqueGGHO)}):(this.gestionFinGenerationDocumentsIHM(),this.gererErreurArchivageDocument(t),this.contexteEditiqueGGHO&&"FF"===this.contexteEditiqueGGHO.offre.codeCanal&&this.serviceAgentExtended.addToContext(n.CODE_RETOUR_GENERATION_EDITIQUE,e.CodeRetourEditique.KO),this.contexteEditiqueGGHO.retourEditique=-1,console.log(this.contexteEditiqueGGHO))},n.prototype.gererErreurArchivageDocument=function(e){this.tableauErreurEditique.push(new t(this.currentId,"Erreur lors de l'archivage des documents, relance en cours de l'impression...")),this.currentId++,this.$timeout(function(){},1e3),this.contexteEditiqueGGHO.contractualisationActe.indicateurPapier=!0,this.tableauErreurEditique=[],this.currentId=0,this.EditionDocuments()},n.prototype.gestionDocumentPreContrat=function(e){var t=this;return this.editPreContratDATService.initQueryBodyEditPreContratDAT(this.contexteEditiqueGGHO),this.editPreContratDATService.postEditPreContratDAT().then(function(e){return t.editPreContratDAT=e,t.mappingModelGcePreContratRestService.mappingModelGceRest(null,t.editPreContratDAT,t.contexteEditiqueGGHO.signataires,t.contexteEditiqueGGHO)}).then(function(e){return e})["catch"](function(e){return t.gestionErreurGenerationIHM(e),null})},n.prototype.gestionDocumentConditionParticuliere=function(e){var t=this;return this.editConditionParticuliereService.initQueryBodyEditCondPart(this.contexteEditiqueGGHO),this.editConditionParticuliereService.postEditCondPart().then(function(e){return t.editCondPart=e,t.mappingModelGceConditionParticuliereRestService.mappingModelGceRest(t.editCondPart,t.contexteEditiqueGGHO.signataires,t.contexteEditiqueGGHO)}).then(function(e){return console.log("%c editique-dat-controleur.ts => gestionDocumentConditionParticuliere() => documentConditionParticuliere = ","color:red;font-weight:bold;",JSON.stringify(e)),e})["catch"](function(e){return t.gestionErreurGenerationIHM(e),null})},n.prototype.gestionDocumentBope=function(t){return this.$q.when(new e.DescriptionBordereauOperation(t,this.creationBordereauService,this.impressionBordereauService,this.serviceAgentExtended,this.gestionDossierVenteService,this.opeFiService,this.postOpeFiService,this.$q))},n.prototype.gestionDocumentBore=function(t){return this.$q.when(new e.DescriptionBordereauRetractation(t,this.serviceAgentExtended,this.parametrageBordereauRetractationService,this.$q))},n.prototype.gestionDocumentAcdb=function(t){return this.$q.when(new e.AutorisationCommunicationDonneesBancaires(t,this.serviceAgentExtended,this.autorisationCommunicationDonneesBancairesService,this.$q))},n.prototype.gestionDocumentPjvm=function(t){return this.$q.when(new e.ListePiecesJustif(t,this.serviceAgentExtended,this.parametrageListePiecesJustificativesService,this.entiteTitulaireAjaxImplService,this.$q))},n.prototype.gestionDocumentLettreAcc=function(t){return this.$q.when(new e.LettreAccompagnement(t,this.serviceAgentExtended,this.parametrageLettreAccompagnementService,this.tiersNoyauService,this.$q))},n.prototype.gestionErreurGenerationIHM=function(e){this.erreurDansEditique=!0,this.contexteEditiqueGGHO&&"FF"===this.contexteEditiqueGGHO.offre.codeCanal?this.faceAFace=!0:this.faceAFace=!1,this.tableauErreurEditique.push(new t(this.currentId,e.codeLibelle+" : "+e.libelle)),this.currentId++},n.prototype.gestionFinGenerationDocumentsIHM=function(){this.loaderVisible=!1,this.loaderEtat=0,this.generationEnCoursMessageIndicateur=!1},n.prototype.initialiserMessagesEditique=function(){this.loaderVisible=!0,this.loaderEtat=-1,this.generationEnCoursMessageIndicateur=!0,this.tableauErreurEditique=[],this.currentId=0,this.erreurDansEditique=!1,this.generationTerminerOKMessageIndicateur=!1,this.pasDeDocumentMessageIndicateur=!1},n.prototype.continuer=function(){this.utileCommunService.continuer(this.contexteEditiqueGGHO)},n.prototype.recommencer=function(){this.debutTraitementDocuments()},n.prototype.quitter=function(){var e=this;this.serviceAgentExtended.addToContext("CodeRetourGeneEditique","KO").then(function(){e.serviceAgentExtended.Lisa.Next(1)})},n.$inject=["$q","$rootScope","$timeout","serviceAgentExtended","contexteEditiqueMockService","editPreContratDATService","mappingModelGcePreContratRestService","utileCommunService","editConditionParticuliereService","mappingModelGceConditionParticuliereRestService","gceDocPartieTechniquePreContratService","gceDocPartieTechniqueConditionParticuliereService","creationBordereauService","impressionBordereauService","parametrageBordereauRetractationService","autorisationCommunicationDonneesBancairesService","parametrageListePiecesJustificativesService","entiteTitulaireAjaxImplService","tiersNoyauService","parametrageLettreAccompagnementService","dossierVenteService","operationFinanciereService","postOperationFinanciere"],n.CONTEXTE_GGHO_EDITIQUE="CONTEXTE_GGHO_EDITIQUE",n.CODE_RETOUR_GENERATION_EDITIQUE="CodeRetourGeneEditique",n}();e.EditiqueDatControleur=n,e.editiqueDatModule.controller("editiqueDatControleur",n)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.serviceAgentExtended=e}return e.prototype.url=function(){return"http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/dossiernumerique/v2/signataire"},e.prototype.getRequestDossierNumerique=function(e){return this.serviceAgentExtended.sendRequest({url:this.url(),withHeaders:!0,params:e,method:MyWay.Services.MethodEnum.GET,responseType:MyWay.Services.ResponseTypeEnum.JSON})},e.$inject=["serviceAgentExtended"],e}();e.DossierNumeriqueSignataireService=t,e.editiqueDatModule.service("DossierNumeriqueSignataireService",t),e.editiqueDatModule.factory("AppelRestDossierNumeriqueSignataireService",["$injector",function(e){var t=e.get("InitialisationService");return t.isMockEnabled()?e.get("DossierNumeriqueSignataireService"):e.get("DossierNumeriqueSignataireService")}])}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.serviceAgent=e,this.qService=t}return e.prototype.sendGetRequest=function(t){var n=this;this.serviceAgent.Trace.debug("Appel des données de la ressource 'entitetitulaire/informationEntiteTitulaire'","sendGetRequest");var i=this.qService.defer();return this.serviceAgent.SendRequest({url:this.url(),params:t,withHeaders:!0,method:MyWay.Services.MethodEnum.GET}).then(function(t){var n=new GestionGeneriqueOffres.Types.CompositionEntiteTitulaireBdr(t.compositionEntiteTitulaire),r=null;n.listePersonneTitulaire=[];for(var o=new GestionGeneriqueOffres.Types.InformationEntiteTitulaireBdr(n,null),a=!1,c=0;c<t.compositionEntiteTitulaire.listePersonneTitulaire.length;c++)"PE"===t.compositionEntiteTitulaire.listePersonneTitulaire[c].natureLienET&&(a=!0,o.compositionEntiteTitulaire.listePersonneTitulaire.push(new GestionGeneriqueOffres.Types.PersonneEntiteTitulaire(t.compositionEntiteTitulaire.listePersonneTitulaire[c])));a&&(o.caracteristiqueEntiteTitulaire=t.caracteristiqueEntiteTitulaire),r=o.caracteristiqueEntiteTitulaire;var s=new GestionGeneriqueOffres.Types.InformationEntiteTitulaireBdr(o.compositionEntiteTitulaire,r);e._instance=[],e._instance.push(s),i.resolve(s)})["catch"](function(e){var t="Erreur lors de la réception des données de la ressource "+n.url()+".";n.serviceAgent.Trace.error(t),i.reject(t)}),i.promise},e.prototype.getEntitesTitulaires=function(){return e._instance},e.prototype.url=function(){return"http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/entitetitulaire-v2/informationEntiteTitulaire"},e.$inject=["serviceAgent","$q"],e}();e.EntiteTitulaireAjaxImplService=t,e.editiqueDatModule.service("entiteTitulaireAjaxImplService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.serviceAgent=e,this.$location=t,this.mockEnabled=!1}return e.prototype.isMockEnabled=function(){return"localhost"===this.$location.host()?this.mockEnabled:!1},e.$inject=["serviceAgent","$location"],e}();e.editiqueDatModule.service("InitialisationService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.saisieRiceService=e}return e.prototype.ajouterCleAuRib=function(e){var t=this.obtenirCleDepuisRibSansCle(e);return e+t},e.prototype.obtenirCleDepuisRibSansCle=function(e){var t=this.obtenirRiceDepuisRibSansCle(e);return this.saisieRiceService.riceKeyCalculator(t)},e.prototype.obtenirRiceDepuisRibSansCle=function(e){var t,n=e.substring(0,5),i=e.substring(5,10),r=e.substring(10,19);return t=this.saisieRiceService.formatteRICE(n,i,r)},e.$inject=["saisieRiceService"],e}();e.OpeFiService=t,e.editiqueDatModule.service("opeFiService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){var n=this;this.serviceAgentExtended=e,this.qService=t,this.piecesJustificatives=null,this.getPiecesJustificatives=function(){return n.piecesJustificatives}}return e.prototype.url=function(){return"http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/cataloguereferentiel-v1/recherchePieceJustif"},e.prototype.sendPutRequest=function(e){var t=this;this.serviceAgentExtended.Trace.debug("Appel des données de la ressource 'cataloguereferentiel-v1/recherchePieceJustif'","sendGetRequest");var n=this.qService.defer();return this.serviceAgentExtended.SendRequest({url:this.url(),withHeaders:!0,method:MyWay.Services.MethodEnum.PUT,responseType:MyWay.Services.ResponseTypeEnum.JSON,contentType:MyWay.Services.ContentTypeEnum.JSON,data:e,params:null}).then(function(e){t.piecesJustificatives=e,n.resolve(e)})["catch"](function(e){t.serviceAgentExtended.Trace.error(e.libelle),n.reject(e.libelle)}),n.promise},e.piecesJustificativesServiceId="piecesJustificativesService",e.$inject=["serviceAgentExtended","$q"],e}();e.PiecesJustificativesService=t,e.editiqueDatModule.service("piecesJustificativesService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.serviceAgentExtended=e}return e.prototype.url=function(){return"http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tierscorporate/v1/corporateTiersLies"},e.prototype.getRequestTiersCorporateTiersLies=function(e){return this.serviceAgentExtended.sendRequest({url:this.url(),withHeaders:!0,params:e,method:MyWay.Services.MethodEnum.GET,responseType:MyWay.Services.ResponseTypeEnum.JSON})},e.$inject=["serviceAgentExtended"],e}();e.TiersCorporateTiersLiesService=t;var n=function(){function e(e,t){this.serviceAgent=e,this.mockLoaderService=t}return e.prototype.getRequestTiersCorporateTiersLies=function(e){this.serviceAgent.Trace.debug("Utilisation du service Mock Tiers Corporate Tiers Lies en GET");var t="tiers-corporate-tiers-lies-get-001";return this.mockLoaderService.getDataByFileName(t)},e.$inject=["serviceAgentExtended","MockLoaderService"],e}();e.TiersCorporateTiersLiesMockService=n,e.editiqueDatModule.service("TiersCorporateTiersLiesService",t),e.editiqueDatModule.service("TiersCorporateTiersLiesMockService",n),e.editiqueDatModule.factory("AppelRestTiersCorporateTiersLiesService",["$injector",function(e){var t=e.get("InitialisationService");return t.isMockEnabled()?e.get("TiersCorporateTiersLiesMockService"):e.get("TiersCorporateTiersLiesService")}])}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.serviceAgentExtended=e}return e.prototype.url=function(){return"http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tiers/v3/tiersNoyau"},e.prototype.getRequestTiersNoyau=function(e){return this.serviceAgentExtended.sendRequest({url:this.url(),withHeaders:!0,params:e,method:MyWay.Services.MethodEnum.GET,responseType:MyWay.Services.ResponseTypeEnum.JSON})},e.$inject=["serviceAgentExtended"],e}();e.TiersNoyauServiceDel=t;var n=function(){function e(e,t){this.serviceAgent=e,this.mockLoaderService=t}return e.prototype.getRequestTiersNoyau=function(e){this.serviceAgent.Trace.debug("Utilisation du service Mock Tiers Noyau en GET");var t="tiers-noyau-get-001";return this.mockLoaderService.getDataByFileName(t)},e.$inject=["serviceAgentExtended","MockLoaderService"],e}();e.TiersNoyauMockService=n,e.editiqueDatModule.service("TiersNoyauServiceDel",t),e.editiqueDatModule.service("TiersNoyauMockService",n),e.editiqueDatModule.factory("AppelRestTiersNoyauService",["$injector",function(e){var t=e.get("InitialisationService");return t.isMockEnabled()?e.get("TiersNoyauMockService"):e.get("TiersNoyauServiceDel")}])}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t,n,i){this.serviceAgentExtended=e,this.$q=t,this.opeFiService=n,this.piecesJustificativesService=i,this.promessesArchivage=[],this.promessesImpression=[],this.dictionnaireIdntPJ=[],this.documentsParLot=[],this.parametresActiveXGlobaux={annul:!0,affred:!0,impdef:!1}}return t.prototype.estConditionParticuliereDAT=function(e){var n=!1;return(e===t.OU9P||e===t.OU9R||e===t.OU09||e===t.AV9P||e===t.AV9R||e===t.AV09)&&(n=!0),n},t.prototype.ajoutDocumentLiasseImpression=function(e){var t=this;this.promessesImpression.push(this.serviceAgentExtended.Impression.generer(e.document,e.parametreDocumentsGeneration).then(function(n){t.documentsParLot.push({numeroOrdre:0,fichier:n.Fichier,impressionParams:e.parametreDocumentsImpression})}))},t.prototype.imprimerDocuments=function(){var e=this;return this.$q.all(this.promessesImpression).then(function(){return e.serviceAgentExtended.Impression.imprimerLot(e.documentsParLot,e.parametresActiveXGlobaux)}).then(function(){e.serviceAgentExtended.Trace.debug("impression effectué avec succès")})["catch"](function(t){return e.serviceAgentExtended.Trace.error("Erreur d'impression: "+t),t})},t.prototype.ajoutDocumentLiasseArchivage=function(e){var t=this;this.promessesArchivage.push(this.serviceAgentExtended.Impression.generer(e.document,e.parametreDocumentsArchivage).then(function(n){t.ajouterContexteIdntPj(e.identifiant,n.IdntPJ)}))},t.prototype.ajouterContexteIdntPj=function(e,t){this.dictionnaireIdntPJ.push({codeTypeDocument:e,idntPJ:t}),this.serviceAgentExtended.Trace.debug("Archivage du document "+e+" d'identifiant "+t+"  en GED temporaire terminé..."),console.log("Archivage du document "+e+" d'identifiant "+t+" en GED temporaire terminé...")},t.prototype.ajoutDocumentBopeLiasseArchivage=function(e,t,n){this.promessesArchivage.push(this.genererBopeEtAjoutDansDictionnaire(e,t,n))},t.prototype.genererBopeEtAjoutDansDictionnaire=function(t,n,i){var r=this,o=new e.Imprimerie([],n,null),a=this.$q.defer();return t.creerDocumentAGenerer(o,i).then(function(t){if(angular.isDefined(t)&&null!==t)console.log("XXXXX UtileCommunService => genererBopeEtAjoutDansDictionnaire / descriptionBordereauOperation"),t.generateurDocument(t).then(function(t){t&&null!==t.IdntPJ&&(r.ajouterContexteIdntPj(e.CodeTypeDocument.BOPE,t.IdntPJ),a.resolve(t))})["catch"](function(e){console.log("XXXXX UtileCommunService => genererBopeEtAjoutDansDictionnaire / descriptionBordereauOperation : ERREUR",e),a.reject(e)});else{var n={};n.libelle="Erreur lors de génération du bordereau d'opération.",a.reject(n)}}),a.promise},t.prototype.ajoutDocumentBopeLiasseImpression=function(e,t,n){var i=this;console.log("XXXXX UtileCommunService => ajoutDocumentBopeLiasseImpression / descriptionBordereauOperation",e),this.promessesImpression.push(this.genererBope(e,t,n).then(function(t){i.documentsParLot.push({numeroOrdre:0,fichier:t.Fichier,impressionParams:i.creationParametresImpressionBope(e.documentAImprimer)})}))},t.prototype.genererBope=function(t,n,i){var r=new e.Imprimerie([],n,null),o=this.$q.defer();return t.creerDocumentAGenerer(r,i).then(function(e){if(angular.isDefined(e)&&null!==e)console.log("XXXXX UtileCommunService => genererBope / descriptionBordereauOperation / documentAGenerer",t,e),e.generateurDocument(e).then(function(e){e&&o.resolve(e)})["catch"](function(e){console.log("XXXXX UtileCommunService => genererBope / descriptionBordereauOperation : ERREUR",e),o.reject(e)});else{var n={};n.libelle="Erreur lors de génération du bordereau d'opération.",o.reject(n)}}),o.promise},t.prototype.creationParametresImpressionBope=function(t){console.log("XXXXX UtileCommunService => creationParametresImpressionBope / documentAImprimer"+t);var n=new e.ParametreDocumentsImpression;return n.obligatoires={nomFichier:t.libelleDocument},n.optionnels={parametreActiveX:{annul:!1,enregistrer:!1,voir:!1,impdef:!1,affred:!1,reimp:!1,blocnbex:!1,maxcop:0,mincop:0,nbcopiesdef:1},parametresActiveXIndividuels:this.creationParametresActiveXIndividuelsBope(t)},n},t.prototype.creationParametresActiveXIndividuelsBope=function(e){var t={};return t.maxcop=e.maximumExemplaires,t.mincop=e.minimumExemplaires,t.nbcopiesdef=e.nbParDefautExemplaires,t.voir=!0,t.enregistrer=!0,t},t.prototype.ajoutDocumentBoreLiasseArchivage=function(e,t,n){this.promessesArchivage.push(this.genererBoreEtAjoutDansDictionnaire(e,t,n))},t.prototype.genererBoreEtAjoutDansDictionnaire=function(t,n,i){var r=this,o=new e.Imprimerie([],n,null),a=this.$q.defer();return t.creerDocumentAGenerer(o,i).then(function(t){if(angular.isDefined(t)&&null!==t)console.log("XXXXX UtileCommunService => genererBopeEtAjoutDansDictionnaire / descriptionBordereauRetractation"),t.generateurDocument(t).then(function(t){t&&null!==t.IdntPJ&&(r.ajouterContexteIdntPj(e.CodeTypeDocument.BORE,t.IdntPJ),a.resolve(t))})["catch"](function(e){console.log("XXXXX UtileCommunService => genererBopeEtAjoutDansDictionnaire / descriptionBordereauRetractation : ERREUR",e),a.reject(e)});else{var n={};n.libelle="Erreur lors de génération du bordereau de rétractation.",a.reject(n)}}),a.promise},t.prototype.ajoutDocumentAcdbLiasseArchivage=function(e,t,n){this.promessesArchivage.push(this.genererAcdbEtAjoutDansDictionnaire(e,t,n))},t.prototype.genererAcdbEtAjoutDansDictionnaire=function(t,n,i){var r=this,o=new e.Imprimerie([],n,null);return t.creerDocumentAGenerer(o,i).then(function(t){return angular.isDefined(t)&&null!==t?(console.log("XXXXX UtileCommunService => genererAcdbEtAjoutDansDictionnaire"),t.generateurDocument(t).then(function(t){t&&null!==t.IdntPJ&&r.ajouterContexteIdntPj(e.CodeTypeDocument.ACDB,t.IdntPJ)})):null})},t.prototype.ajoutDocumentLa09LiasseArchivage=function(e,t,n){this.promessesArchivage.push(this.genererLa09EtAjoutDansDictionnaire(e,t,n))},t.prototype.genererLa09EtAjoutDansDictionnaire=function(t,n,i){var r=this,o=new e.Imprimerie([],n,null),a=this.$q.defer();return t.creerDocumentAGenerer(o,i).then(function(t){if(angular.isDefined(t)&&null!==t)console.log("XXXXX UtileCommunService => genererLa09EtAjoutDansDictionnaire"),t.generateurDocument(t).then(function(t){t&&null!==t.IdntPJ&&(r.ajouterContexteIdntPj(e.CodeTypeDocument.LA09,t.IdntPJ),a.resolve(t))});else{var n={};n.libelle="Erreur lors de génération de la lettre d'accompagnement.",a.reject(n)}}),a.promise},t.prototype.ajoutDocumentPjvmLiasseArchivage=function(e,t,n){this.promessesArchivage.push(this.genererPjvmEtAjoutDansDictionnaire(e,t,n))},t.prototype.genererPjvmEtAjoutDansDictionnaire=function(t,n,i){var r=this,o=new e.Imprimerie([],n,null);return t.creerDocumentAGenerer(o,i).then(function(t){return angular.isDefined(t)&&null!==t?(console.log("XXXXX UtileCommunService => genererPjvmEtAjoutDansDictionnaire"),t.generateurDocument(t).then(function(t){t&&null!==t.IdntPJ&&r.ajouterContexteIdntPj(e.CodeTypeDocument.PJVM,t.IdntPJ)})):null})},t.prototype.genererPvjm=function(e,t){var n={};return n.codeEtablissementCompte=t.codeEtablissement,n.codeGuichetCompte=e.offre.numeroDeCompte.substr(5,5),n.entiteTitulaireComposantOffre={},n.entiteTitulaireComposantOffre.numeroEntiteTitulaire=e.offre.numeroEntiteTitulaire,n.entiteTitulaireComposantOffre.listeCompositionPanier=[{}],n.entiteTitulaireComposantOffre.listeRepresentantLegal=[{}],n.listePersonneComposantOffre=[{}],n.listePersonneComposantOffre[0].listeCompositionPanier=[{}],n.listePersonneComposantOffre[0].listePieceJustif=null,this.piecesJustificativesService.sendPutRequest(n)},t.prototype.continuer=function(t){var n=this;this.serviceAgentExtended.addToContext(e.EditiqueDatControleur.CONTEXTE_GGHO_EDITIQUE,JSON.stringify(t)).then(function(){n.serviceAgentExtended.Lisa.Next(1)})},t.prototype.archivageDocumentsEtLisaNext=function(t){var n=this,i=this.$q.defer();return this.$q.all(this.promessesArchivage).then(function(){console.log(n.dictionnaireIdntPJ),console.log(n.dictionnaireIdntPJ),n.serviceAgentExtended.addToContext("contexteIdntPJ",n.dictionnaireIdntPJ).then(function(){n.continuer(t),i.resolve()})})["catch"](function(r){n.serviceAgentExtended.Trace.debug(r.libelle),n.serviceAgentExtended.Trace.debug("L'archivage des document(s) a rencontré un problème: "+r.libelle),"TL"===t.offre.codeCanal&&n.serviceAgentExtended.addToContext("CodeRetourGeneEditique",e.CodeRetourEditique.KO),i.reject(r)}),i.promise},t.prototype.formatterRefActeVAD=function(e,t){var n="";return null!==e&&(n="Dossier n°"+t+" Compte n°: "+e.substr(0,5)+" "+e.substr(5,5)+" "+e.substr(10,13)),n},t.prototype.formatterRefActe=function(e){var t="";return null!==e&&(t="Compte n°: "+e.substr(0,5)+" "+e.substr(5,5)+" "+e.substr(10,13)),t},t.prototype.chercherLibNomAutre=function(e){var t="";return e.forEach(function(e){"Autre Signataire"===e.designataire&&(t=e.nom)}),t},t.prototype.chercherNomPrenomSignataires=function(e){var t,n,i,r="";switch(t=e.nom.indexOf("("),n=e.nom.indexOf(")")+1,i=e.nom.substring(t,n).replace("  "," "),e.designataire){case"Délégataire":r="Signataire délégataire : "+e.nom.replace(i,"");break;case"Signataire Légal":r="Représentant légal : "+e.nom.replace(i,"");
break;case"Titulaire":r="Titulaire : "+e.nom.replace(i,"")}return r},t.prototype.obtenitRICEavecCle=function(e){return 23===e.length?e:21===e.length?this.opeFiService.ajouterCleAuRib(e):""},t.$inject=["serviceAgentExtended","$q","opeFiService","piecesJustificativesService"],t.OU9P="OU9P",t.AV9P="AV9P",t.OU9R="OU9R",t.AV9R="AV9R",t.AV09="AV09",t.OU09="OU09",t.OUQA="OUQA",t.OU9A="OU9A",t.OU9Q="OU9Q",t.OU9S="OU9S",t}();e.UtileCommunService=t,e.editiqueDatModule.service("utileCommunService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.PHYSIQUE="PHYSIQUE",e.MORALE="MORALE",e}();e.TypePersonne=t}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.PRCT="PRCT",e.CPAR="CPAR",e.OUBL="OUBL",e.AVBL="AVBL",e.CLBL="CLBL",e.NB2S="NB2S",e.BOPE="BOPE",e.OUEC="OUEC",e.MDPS="MDPS",e.OU05="OU05",e.OU01="OU01",e.OU10="OU10",e.OU11="OU11",e.OU06="OU06",e.OUGF="OUGF",e.OUGP="OUGP",e.OULE="OULE",e.OULI="OULI",e.OU12="OU12",e.OU13="OU13",e.OU14="OU14",e.OU15="OU15",e.OU16="OU16",e.AV01="AV01",e.AV05="AV05",e.AV06="AV06",e.AVLE="AVLE",e.AV10="AV10",e.AV11="AV11",e.AV12="AV12",e.AV13="AV13",e.AV14="AV14",e.AV15="AV15",e.AV16="AV16",e.LA00="LA00",e.LA01="LA01",e.LAGP="LAGP",e.LAGF="LAGF",e.LALI="LALI",e.LA05="LA05",e.LA06="LA06",e.LA09="LA09",e.LA10="LA10",e.LA11="LA11",e.LA16="LA16",e.LAQA="LAQA",e.LAOP="LAOP",e.BORE="BORE",e.PJVM="PJVM",e.ACDB="ACDB",e}();e.CodeTypeDocument=t;var n=function(){function e(){}return e.BLOC_EDITION="BLOC_EDITION",e.BLOC_BANDEAU_CLIENT="BLOC_BANDEAU_CLIENT",e.QUAD0203="QUAD0203",e.QUADRETO="QUADRETO",e.PRESTANCE="PRESTANCE",e.CROISSANCE="CROISSANCE",e.CAPCIEL="CAPCIEL",e.INFLATION="INFLATION",e.CATSLR="CATSLR",e}();e.TypeElementPreContractuelle=n;var i=function(){function e(){}return e.BLOC_EDITION="BLOC_EDITION",e.BLOC_BANDEAU_CLIENT="BLOC_BANDEAU_CLIENT",e.BLOC_CARACTERISTIQUE_CONTRAT_DAT="BLOC_CARACTERISTIQUE_CONTRAT_DAT",e.BL_CAT_RENOUVELABLE="BL_CAT_RENOUVELABLE",e}();e.TypeElementConditionParticuliere=i;var r=function(){function e(){}return e}();e.Signataire=r}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict"}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict"}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict"}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict"}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(){}return t.prototype.construireBlCatRenouvelable=function(t){var n=this,i={},r={};r.listeCatRenouv=[];var o={};o={},o.blocChoiceJson=[];var a="",c=!1;return t.forEach(function(t){var i=t.typeLigne;switch(i===e.BlocBl2Service.LIGNE4&&(i=e.BlocBl2Service.LIGNE5),i===e.BlocBl2Service.LIGNE1&&(t.D0.indexOf("*)")>0||t.D0.indexOf("prorata temporis")>0||t.D0.indexOf("retrait a lieu entre")>0)&&(i=e.BlocBl2Service.LIGNE5,t.DL1_D=t.D0,delete t.D0),i===e.BlocBl2Service.LIGNE1&&t.D0.indexOf("proportionnel brut")>0&&(t.D0+="(*).",i=e.BlocBl2Service.LIGNE3,t.D1=t.D0,delete t.D0,c=!0),i===e.BlocBl2Service.LIGNE2&&angular.isDefined(t.D1)&&("Taux applicable"===t.D1||0===t.D1.indexOf("Dur")&&t.D1.indexOf("avis")===t.D1.length-4)&&(i=e.BlocBl2Service.LIGNE4,"Taux applicable"!==t.D1&&(c=!0)),i){case e.BlocBl2Service.LIGNE1:1===t.numeroLigne&&o.blocChoiceJson.push(n.construireBlocLigne1(t));break;case e.BlocBl2Service.LIGNE2:o.blocChoiceJson.push(n.construireBlocLigne2(t));break;case e.BlocBl2Service.LIGNE3:o.blocChoiceJson.push(n.construireBlocLigne3(t)),c&&(t.D1="",o.blocChoiceJson.push(n.construireBlocLigne3(t)),c=!1);break;case e.BlocBl2Service.LIGNE4:t.D1===a?t.D1="":a=t.D1,o.blocChoiceJson.push(n.construireBlocLigne4(t)),c&&(t.D1="",t.D2="",o.blocChoiceJson.push(n.construireBlocLigne4(t)),c=!1);break;case e.BlocBl2Service.LIGNE5:o.blocChoiceJson.push(n.construireBlocLigne5(t))}}),r.listeCatRenouv.push(o),i={blCatRenouv:r}},t.prototype.construireBlocLigne1=function(e){var t={},n={};return n={d0:e.D0},t={ligne1:n}},t.prototype.construireBlocLigne2=function(e){var t={},n={};return n={d1:e.D1,d2:e.D2},t={ligne2:n}},t.prototype.construireBlocLigne3=function(e){var t={},n={};return n={d3:e.D1},t={ligne3:n}},t.prototype.construireBlocLigne4=function(e){var t={},n={};return n={d4:e.D1,d5:e.D2},t={ligne4:n}},t.prototype.construireBlocLigne5=function(e){var t={},n={};return n={dl1d:e.DL1_D},t={ligne5:n}},t.$inject=[],t.LIGNE1="LIGNE1",t.LIGNE2="LIGNE2",t.LIGNE4="LIGNE4",t}();e.BlCatRenouvelable=t,e.editiqueDatModule.service("blCatRenouvelable",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t){this.$q=e,this.tiersCorporateTiersLiesService=t}return t.prototype.construireListeDesClients=function(e,t){var n=this;this.listeDesClients=[];var i={},r=0;return e.roleEtPersonnes&&e.roleEtPersonnes.forEach(function(e){var o={};o.role=e.leRole.LIB_CTDHLI,o.personnes=[],i[r.toString()]=n.setClients(o,e.lesPersonnes,t),r+=1}),this.$q.all(i).then(function(e){for(var t=[],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];t.push(e[r])}return t})},t.prototype.construireListeDesClientsDelegataire=function(e,t){var n={};n.role=t,n.personnes=[],this.setClientsDelegataire(n,e),this.listeDesClients.push(n)},t.prototype.setClients=function(t,n,i){var r=this;t.typePersonne=e.TypePersonne.PHYSIQUE;var o={codeEtablissement:i.offre.codeEtablissement?i.offre.codeEtablissement:i.contexte.numeroRICEDAT.substr(0,5),identifiantTiers:i.offre.numeroPersonneIdentifiee?i.offre.numeroPersonneIdentifiee:i.contexte.numeroPersonne,typeTiersLies:"FCL",codeCategorieLien:"09",codeSens:0};return this.tiersCorporateTiersLiesService.getRequestTiersCorporateTiersLies(o).then(function(i){var o=["TITULAIRE","TITULAIRES","REPRESENTANT LEGAL","REPRESENTANTS LEGAUX","CURATEUR","CURATEURS"];if(o.indexOf(t.role)>-1)return n.forEach(function(n){switch(n.ELEMENT){case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS:var i=r.createInfo(n.infosPersonne),o={infosPers:i};t.personnes.push(o);break;case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS2:var a=r.createInfo2(n.infosPersonne),c={infosPers2:a};t.personnes.push(c);break;case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS3:var s=r.createInfo3(n.infosPersonne),u={infosPers3:s};t.personnes.push(u);break;case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS4:var p=r.createInfoPm(n.infosPersonne),l={infosPm:p};t.personnes.push(l),t.typePersonne=e.TypePersonne.MORALE}}),t;var a=[],c=[],s=[];if(i.listeLien&&i.listeLien.length>0){console.log("*** listeRepresentantsLegaux :"),console.log(i.listeLien),i.listeLien.forEach(function(e){"1"===e.codePersonnaliteJuridique&&a.push(e)}),console.log("*** listeRepresentantsLegauxFiltree :",a),console.log("*** listePersonnePPBandeauClient avant filtrage :"),console.log(n);var u=_.pluck(a,"identifiantTiersEnRelation");u=_.uniq(u),u.forEach(function(e){for(var t=0;t<n.length;++t)if(e===n[t].numeroPersonne){c.push(n[t]);break}}),s=_.uniq(c),console.log("*** listePersonnePPBandeauClient après filtrage :"),console.log(s)}return s.forEach(function(n){switch(n.ELEMENT){case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS:var i=r.createInfo(n.infosPersonne),o={infosPers:i};t.personnes.push(o);break;case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS2:var a=r.createInfo2(n.infosPersonne),c={infosPers2:a};t.personnes.push(c);break;case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS3:var s=r.createInfo3(n.infosPersonne),u={infosPers3:s};t.personnes.push(u);break;case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS4:var p=r.createInfoPm(n.infosPersonne),l={infosPm:p};t.personnes.push(l),t.typePersonne=e.TypePersonne.MORALE}}),t})},t.prototype.setClientsDelegataire=function(t,n){var i=this;t.typePersonne=e.TypePersonne.PHYSIQUE,n.forEach(function(e){var n=i.createInfo(e.infosPersonne),r={infosPers:n};t.personnes.push(r)})},t.prototype.createInfo=function(e){var t,n;t=e.NOM_PRENOM_CLIENT.indexOf("("),n=e.NOM_PRENOM_CLIENT.indexOf(")")+1;var i=e.NOM_PRENOM_CLIENT.substring(t,n).replace("  "," "),r=e.NOM_PRENOM_CLIENT.replace(i,""),o={lidacv:e.LIDACV,lidanm:e.LIDANM,nomPrenomClient:r,libCodirc:e.LIB_CODIRC,dadana:e.DADANA,lidgilNaissance:e.LIDGIL_NAISSANCE,lidgv26:e.LIDGV2_6,lidgna:e.LIDGNA,idnsbd:e.IDNSBD,nodatpClient:e.NODATP_CLIENT};return o},t.prototype.createInfo2=function(e){var t,n;t=e.NOM_PRENOM_CLIENT2.indexOf("("),n=e.NOM_PRENOM_CLIENT2.indexOf(")")+1;var i=e.NOM_PRENOM_CLIENT2.substring(t,n).replace("  "," "),r=e.NOM_PRENOM_CLIENT2.replace(i,""),o={lidacv2:e.LIDACV2,nomPrenomClient2:r,lidanm2:e.LIDANM2,nomUsage2:e.NOM_USAGE2,libCodirc2:e.LIB_CODIRC2,dadana2:e.DADANA2,lidgilNaissance2:e.LIDGIL_NAISSANCE2,lidgv262:e.LIDGV2_62,lidgna2:e.LIDGNA2,idnsbd2:e.IDNSBD2,nodatpClient2:e.NODATP_CLIENT2,situationFamille2:e.SITUATION_FAMILLE2};return o},t.prototype.createInfo3=function(e){var t,n;t=e.NOM_PRENOM_CLIENT3.indexOf("("),n=e.NOM_PRENOM_CLIENT3.indexOf(")")+1;var i=e.NOM_PRENOM_CLIENT3.substring(t,n).replace("  "," "),r=e.NOM_PRENOM_CLIENT3.replace(i,""),o={lidacv3:e.LIDACV3,nomPrenomClient3:r,lidanm3:e.LIDANM3,nomUsage3:e.NOM_USAGE3,libCodirc3:e.LIB_CODIRC3,dadana3:e.DADANA3,lidgilNaissance3:e.LIDGIL_NAISSANCE3,lidgv263:e.LIDGV2_63,lidgna3:e.LIDGNA3,idnsbd3:e.IDNSBD3,nodatpClient3:e.NODATP_CLIENT3,situationFamille3:e.SITUATION_FAMILLE3,regimeMatrimonial3:e.REGIME_MATRIMONIAL3};return o},t.prototype.createInfoPm=function(e){var t={lidars:e.LIDARS,dadatj:e.DADATJ,lidgv26:e.LIDGV2_6,idnsbd:e.IDNSBD,nodatp:e.NODATP};return t},t.prototype.construireBlocPersonnes=function(){var t=this,n=[];return this.listeDesClients.forEach(function(i){switch(i.typePersonne){case e.TypePersonne.PHYSIQUE:var r={genericInfoPp:t.ajouterBlocClient(i)};n.push(r);break;case e.TypePersonne.MORALE:var o={genericInfoPm:t.ajouterBlocClientMorale(i)};n.push(o)}}),n},t.prototype.ajouterBlocClient=function(e){var t=[],n={blocChoiceJson:[]},i={libCtdhli:e.role.toUpperCase()},r={titreRole:i};n.blocChoiceJson.push(r),e.personnes.forEach(function(e){n.blocChoiceJson.push(e)}),t.push(n);var o={listePersonnes:t};return o},t.prototype.ajouterBlocClientMorale=function(e){var t=[],n={blocChoiceJson:[]},i={libCtdhli:e.role.toUpperCase()},r={titreRole:i};n.blocChoiceJson.push(r),e.personnes.forEach(function(e){n.blocChoiceJson.push(e)}),t.push(n);var o={listePersonnes:t};return o},t.$inject=["$q","AppelRestTiersCorporateTiersLiesService"],t}();e.BlocBandeauClientConditionParticuliereService=t,e.editiqueDatModule.service("blocBandeauClientConditionParticuliereService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBlCatr1=function(e){var t={},n={};return n={catr1:e.map.CATR1},t={blCatr1:n}},e.$inject=[],e}();e.BlocBlCatr1Service=t,e.editiqueDatModule.service("blocBlCatr1Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBlCatr2=function(t){var n=this,i={},r={};r.listeCatr=[];var o={},a=[];return o={},o.ligne1=[],o.ligne2=[],t.forEach(function(t){var i=t.typeLigne;switch(i){case e.LIGNE1:o.ligne1.push(n.construireBlocLigne1(t));break;case e.LIGNE2:o.ligne2.push(n.construireBlocLigne2(t))}}),a.push(o),r.listeCatr.push(o),i={blCatr2:r}},e.prototype.construireBlocLigne1=function(e){var t={};return t={d0:e.D0}},e.prototype.construireBlocLigne2=function(e){var t={};return t={d1:e.D1,d2:e.D2}},e.$inject=[],e.LIGNE1="LIGNE1",e.LIGNE2="LIGNE2",e}();e.BlocBlCatr2Service=t,e.editiqueDatModule.service("blocBlCatr2Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBlDemarchage=function(e){var t={},n={};return n={libAlaauEts:e.map.LIB_ALAAU_ETS,libDeladuEts1:e.map.LIB_DELADU_ETS_1,libDeladuEts2:e.map.LIB_DELADU_ETS_2,libLaleEts:e.map.LIB_LALE_ETS},t={blDemarchage:n}},e.$inject=[],e}();e.BlocBlDemarchageService=t,e.editiqueDatModule.service("blocBlDemarchageService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl1=function(e){var t={},n={};return n={titre:e.map.TITRE,d1:e.map.D1},t={bl1:n}},e.$inject=[],e}();e.BlocBl1Service=t,e.editiqueDatModule.service("blocBl1Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl10=function(e){var t={},n={};return n={d7:e.map.D7,d8:e.map.D8,d10:e.map.D10},t={bl10:n}},e.$inject=[],e}();e.BlocBl10Service=t,e.editiqueDatModule.service("blocBl10Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl2=function(t){var n=this,i={},r={};r.lst2=[];var o={},a=[];return o={},o.blocChoiceJson=[],t.forEach(function(t){var i=t.typeLigne;switch(i){case e.LIGNE1:o.blocChoiceJson.push(n.construireBlocLigne1(t));break;case e.LIGNE2:o.blocChoiceJson.push(n.construireBlocLigne2(t));break;case e.LIGNE3:o.blocChoiceJson.push(n.construireBlocLigne3(t));break;case e.LIGNE4:o.blocChoiceJson.push(n.construireBlocLigne4(t));break;case e.LIGNE5:o.blocChoiceJson.push(n.construireBlocLigne5(t));break;case e.LIGNE6:o.blocChoiceJson.push(n.construireBlocLigne6(t));break;case e.LIGNE7:o.blocChoiceJson.push(n.construireBlocLigne7(t));break;case e.LIGNE8:o.blocChoiceJson.push(n.construireBlocLigne8(t));break;case e.LIGNE9:o.blocChoiceJson.push(n.construireBlocLigne9(t));break;case e.LIGNE10:o.blocChoiceJson.push(n.construireBlocLigne10(t))}}),a.push(o),r.lst2.push(o),i={bl2:r}},e.prototype.construireBlocLigne1=function(e){var t={},n={};return n={dl1a:e.DL1_A},t={ligne1:n}},e.prototype.construireBlocLigne2=function(e){var t={},n={};return n={dl1b:e.DL1_B,dl2b:e.DL2_B},t={ligne2:n}},e.prototype.construireBlocLigne3=function(e){var t={},n={};return n={dl1c:e.DL1_C,dl2c:e.DL2_C},t={ligne3:n}},e.prototype.construireBlocLigne4=function(e){var t={},n={};return n={dl1d:e.DL1_D},t={ligne4:n}},e.prototype.construireBlocLigne5=function(e){var t={},n={};return n={dl1e:e.DL1_E,dl2e:e.DL2_E,dl3e:e.DL3_E},t={ligne5:n}},e.prototype.construireBlocLigne6=function(e){var t={},n={};return n={dl1f:e.DL1_F,dl2f:e.DL2_F,dl3f:e.DL3_F},t={ligne6:n}},e.prototype.construireBlocLigne7=function(e){var t={};return t={ligne7:1}},e.prototype.construireBlocLigne8=function(e){var t={},n={};return n={dl1g:e.DL1_G},t={ligne8:n}},e.prototype.construireBlocLigne9=function(e){var t={},n={};return n={dl1h:e.DL1_H,dl2h:e.DL2_H},t={ligne9:n}},e.prototype.construireBlocLigne10=function(e){var t={};return t={ligne10:1}},e.$inject=[],e.LIGNE1="LIGNE1",e.LIGNE2="LIGNE2",e.LIGNE3="LIGNE3",e.LIGNE4="LIGNE4",e.LIGNE5="LIGNE5",e.LIGNE6="LIGNE6",e.LIGNE7="LIGNE7",e.LIGNE8="LIGNE8",e.LIGNE9="LIGNE9",e.LIGNE10="LIGNE10",e}();e.BlocBl2Service=t,e.editiqueDatModule.service("blocBl2Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl3=function(e){var t={},n={};return n={d2:e.map.D2},t={bl3:n}},e.$inject=[],e}();e.BlocBl3Service=t,e.editiqueDatModule.service("blocBl3Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl3cr=function(e){var t={},n={};return n={d2cr:e.map.D2CR},t={bl3cr:n}},e.$inject=[],e}();e.BlocBl3crService=t,e.editiqueDatModule.service("blocBl3crService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl4=function(e){var t={},n={};return n={d4:e.map.D4},t={bl4:n}},e.$inject=[],e}();e.BlocBl4Service=t,e.editiqueDatModule.service("blocBl4Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl5=function(e){var t={},n={};return n={d5:e.map.D5},t={bl5:n}},e.$inject=[],e}();e.BlocBl5Service=t,e.editiqueDatModule.service("blocBl5Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl6=function(e){var t={},n={};return n={d6:e.map.D6},t={bl6:n}},e.$inject=[],e}();e.BlocBl6Service=t,e.editiqueDatModule.service("blocBl6Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl7=function(e){var t={},n={};return n={d7:e.map.D7},t={bl7:n}},e.$inject=[],e}();e.BlocBl7Service=t,e.editiqueDatModule.service("blocBl7Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl8=function(e){var t={},n={};return n={d8:e.map.D8},t={bl8:n}},e.$inject=[],e}();e.BlocBl8Service=t,e.editiqueDatModule.service("blocBl8Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBl9=function(e){var t={},n={};return n={d9:e.map.D9},t={bl9:n}},e.$inject=[],e}();e.BlocBl9Service=t,e.editiqueDatModule.service("blocBl9Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocCertifStdCat=function(e){var t={},n={};return n={signataire:e.map.SIGNATAIRE,saLeur:e.map.SA_LEUR,libOffre:e.map.LIB_OFFRE,pronomPersonnel:e.map.PRONOM_PERSONNEL,libLaleEts:e.map.LIB_LALE_ETS,libDeladuEts:e.map.LIB_DELADU_ETS,libDeladuEts1:e.map.LIB_DELADU_ETS_1,signataire1:e.map.SIGNATAIRE_1,engagement:e.map.ENGAGEMENT,libLaleEts1:e.map.LIB_LALE_ETS_1},t={certifStdCat:n}},e.$inject=[],e}();e.BlocCertifStdCatService=t,e.editiqueDatModule.service("blocCertifStdCatService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocCertifStdQuadreto=function(e){var t={},n={};return n={signataire:e.map.SIGNATAIRE,libOffre:e.map.LIB_OFFRE,libLaleEts:e.map.LIB_LALE_ETS,libLaleEts1:e.map.LIB_LALE_ETS_1,libDeladuEts:e.map.LIB_DELADU_ETS,signataire1:e.map.SIGNATAIRE_1},t={certifStdQuadreto:n}},e.$inject=[],e}();e.BlocCertifStdQuadretoService=t,e.editiqueDatModule.service("blocCertifStdQuadretoService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireGenericCertifStdProduit=function(e){var t={},n={};return n={libLaleEts:e.map.LIB_LALE_ETS},t={genricCertifStdProduit:n}},e.$inject=[],e}();e.BlocGenericCertifStdProduitService=t,e.editiqueDatModule.service("blocGenericCertifStdProduitService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocGenericLigneVide=function(e){var t={genericLignevide:1};return t},e.$inject=[],e}();e.BlocGenericLigneVideService=t,e.editiqueDatModule.service("blocGenericLigneVideService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireGenericSignatureStd=function(e,t){var n={},i={};return i={libDeladuEts:e.map.LIB_DELADU_ETS,prenomNomAgent:t,alaEtab1:e.map.ala_Etab1,laEtab1:e.map.La_Etab1,parlaEtab1:e.map.parla_Etab1,desaEtab1:e.map.desa_Etab1,delaEtab1:e.map.dela_Etab1},n={genricSignatureStd:i}},e.$inject=[],e}();e.BlocGenericSignatureStdService=t,e.editiqueDatModule.service("blocGenericSignatureStdService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBlPdpJustifie=function(e){var t={},n={};return n={libLaleEts1:e.map.libLaleEts1,urlEts:e.map.urlEts,libLaleEts2:e.map.libLaleEts2},t={genericRgpdSecretBancaire1:n}},e.$inject=[],e}();e.BlocBlPdpJustifieService=t,e.editiqueDatModule.service("blocBlPdpJustifieService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocBlReprlegTitre=function(e){var t={},n={};return n={nomReprlegal1:e.map.NOM_REPRLEGAL1,libLaleEts:e.map.LIB_LALE_ETS,libLaleEts1:e.map.LIB_LALE_ETS_1,libLaleEts2:e.map.LIB_LALE_ETS_2},t={blReprlegTitre:n}},e.$inject=[],e}();e.BlocBlReprlegTitreService=t,e.editiqueDatModule.service("blocBlReprlegTitreService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.utileCommunService=e}return e.prototype.construireBlocSignatureSansCnilMegi=function(e,t,n,i){var r={},o={};return o={libDeladuEts:e.map.LIB_DELADU_ETS,prenomNomAgent:e.map.PRENOM_NOM_AGENT,fonctionConseiller:e.map.FONCTION_CONSEILLER,date:e.map.DATE_SIGNATURE,signatureAgent:{attributeContent:MyWay.Services.Impression.TYPE_IMAGE.Id,valueImgJson:"signature_"+i+".jpg"}},r={signatSansCnilEpargneMegi:o}},e.$inject=["utileCommunService"],e}();e.BlocSignatureSansCnilMegiService=t,e.editiqueDatModule.service("blocSignatureSansCnilMegiService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.utileCommunService=e}return e.prototype.construireBlocSignatureSansCnil=function(e,t,n,i){var r,o="",a="";angular.isDefined(i)&&i===!0?(o=this.utileCommunService.chercherNomPrenomSignataires(n[0]),n.length>1&&(a=this.utileCommunService.chercherNomPrenomSignataires(n[1]))):r=this.utileCommunService.chercherLibNomAutre(n);var c={},s={};return s={libDeladuEts:e.map.LIB_DELADU_ETS,prenomNomAgent:t,libNomAutre:r,signataireUn:""!==o?o:"",signataireDeux:""!==a?a:""},c={signatSansCnil:s}},e.$inject=["utileCommunService"],e}();e.BlocSignatureSansCnilService=t,e.editiqueDatModule.service("blocSignatureSansCnilService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,n){this.$q=e,this.serviceAgentExtended=t,this.utileCommunService=n}return e.prototype.construireEntete=function(e,t,n,i){var r=this,o=[],a={};a.logoEtablissement={},a.logoEtablissement.attributeContent=MyWay.Services.Impression.TYPE_IMAGE.Id;var c=this.serviceAgentExtended.Context.GetAuthentificationInfo().then(function(e){a.logoEtablissement.valueImgJson=e.codeEtablissement+".jpg"}),s=this.serviceAgentExtended.Context.GetParametresComptables().then(function(e){a.libelleAgence=e.libelleEdsRattachementGuichetComptable,a.coceelAgence=e.edsExterneGuichetComptable,a.nodatpAgence=e.numTelEdsRattachementGuichetComptable});a.dateEdition=moment().format("DD/MM/YYYY"),a.heureEdition=moment().format("HH:mm:ss"),a.numRefdoc="",a.codeBarre=e,"TL"===i?a.refActe=this.utileCommunService.formatterRefActeVAD(n,t):a.refActe=this.utileCommunService.formatterRefActe(n);var u=[c,s];return this.$q.all(u).then(function(){return o.push(a),o})["catch"](function(e){return r.serviceAgentExtended.Trace.info(e.libelle),o.push(a),o})},e.$inject=["$q","serviceAgentExtended","utileCommunService"],e}();e.GenericEnteteEtsConditionParticuliereService=t,e.editiqueDatModule.service("genericEnteteEtsConditionParticuliereService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t,n,i,r,o,a,c,s,u,p,l,d,m,v,E,A,g,f,h,D,C,y,S,I,b,P,T,_,L){this.$q=e,this.serviceAgentExtended=t,this.genericEnteteEtsConditionParticuliereService=n,this.blocBandeauClientConditionParticuliereService=i,this.blocBl1Service=r,this.blocBl2Service=o,this.blocBl3Service=a,this.blocBl4Service=c,this.blocBl5Service=s,this.blocBl3crService=u,this.blocBl6Service=p,this.blocBl7Service=l,this.blocBl8Service=d,this.blocBl9Service=m,this.blocBlCatr1Service=v,this.blocBlCatr2Service=E,this.blocGenericCertifStdProduitService=A,this.blocGenericLigneVideService=g,this.blocGenericSignatureStdService=f,this.blocBlReprlegTitreService=h,this.blocBlPdpJustifieService=D,this.blocCertifStdQuadretoService=C,this.blocCertifStdCatService=y,this.blocSignatureSansCnilService=S,this.blocSignatureSansCnilMEGIService=I,this.blocBlDemarchageService=b,this.blocBl10Service=P,this.dossierNumeriqueSignataireService=T,this.tiersNoyauService=_,this.blCatRenouvelable=L,this.estPro=!1}return t.prototype.mappingModelGceRest=function(t,n,i){var r=this;this.contenuDocumentCondPart=new e.sipxgceDatRembNpy5o01.SipxgceDatRembNpy5o01,angular.isDefined(i.isPro)&&i.isPro===!0&&(this.estPro=!0);var o=i.identifiantDossierVente?i.identifiantDossierVente.toString():null;return this.genericEnteteEtsConditionParticuliereService.construireEntete(null,o,t.infosProduit.caracteristiqueProduit.numeroRICEDAT,i.offre.codeCanal).then(function(e){return r.setNomPrenomAgent().then(function(){var o,a,c=[];i.panier&&i.panier.produitsServices&&i.panier.produitsServices.forEach(function(e){e.codeTypeProduitService===i.offre.codeTypeCompte&&(o=e.codeGuichet,a=e.referenceProduitService),c.push(e.codeTypeProduitService)});var s={codeActeGestion:i.offre.codeActeGestion,codeCanal:i.offre.codeCanal,identifiantEntiteTitulaire:i.offre.numeroEntiteTitulaire?i.offre.numeroEntiteTitulaire.toString():i.contexte.numeroEntiteTitulaire.toString(),identifiantPersonne:i.offre.numeroPersonneIdentifiee?i.offre.numeroPersonneIdentifiee.toString():i.contexte.numeroPersonne.toString(),isPro:r.estPro,listeCodeTypeProduitService:c};return a&&i.offre.codeTypeCompte&&(s.codePSCompteSupport=a,s.codeTypePSCompteSupport=i.offre.codeTypeCompte,s.codeGuichetCompteSupport=o),r.dossierNumeriqueSignataireService.getRequestDossierNumerique(s).then(function(e){return e},function(e){return null}).then(function(o){if(null!==o&&null!==o.delegataires&&null!==o.delegataires.personnes&&o.delegataires.personnes.length>0){var a={};return o.delegataires.personnes.forEach(function(e){var t={codeEtablissement:e.codeEtablissement,identifiantPersonne:e.identifiantPersonne};a[e.identifiantPersonne.toString()]=r.tiersNoyauService.getRequestTiersNoyau(t).then(function(e){return"à "+e.informationParticulier.libelleCommuneNaissance})["catch"](function(e){throw e.valeurs&&"PRESENCE_ERREUR_AVAL"!==e.valeurs[0]&&(e.libelle="'tiersNoyauService.getRequest.signataire.carte'.\n"+e.libelle,console.log(e.libelle),e.valeurs.unshift("PRESENCE_ERREUR_AVAL")),e})}),r.$q.all(a).then(function(a){return r.creerDocument(t,o,n,e,a,i)})}return r.creerDocument(t,o,n,e,null,i)})})})},t.prototype.creerDocument=function(n,i,r,o,a,c){var s=this;this.contenuDocumentCondPart.genericEnteteets=o;var u={};u.blocChoiceJson=[];var p=0,l=0,d=0;this.listeSignatairesDelegataires=[];var m=n.elementAEditer,v={},E=0;return m.forEach(function(e){var t=e.contenu.map;v[E.toString()]=s.blocBandeauClientConditionParticuliereService.construireListeDesClients(t,c),E+=1}),this.$q.all(v).then(function(n){var o=-1;m.forEach(function(c){switch(o+=1,console.log("%c MappingModelGceConditionParticuliereRestService => mappingModelGceRest() => elementAEditer"+d++ +" = ","color:red;font-weight:bold;",JSON.stringify(c)),c.typeElement){case e.TypeElementConditionParticuliere.BLOC_BANDEAU_CLIENT:if(s.blocBandeauClientConditionParticuliereService.listeDesClients=n[o.toString()],null!==i&&null!==i.delegataires&&null!==i.delegataires.personnes&&i.delegataires.personnes.length>0){var m=i.delegataires.personnes.length>1?"SIGNATAIRES DELEGATAIRES DUMENT HABILITES PAR LES REPRESENTANTS LEGAUX ":"SIGNATAIRE DELEGATAIRE DUMENT HABILITE PAR LES REPRESENTANTS LEGAUX ",v=[];i.delegataires.personnes.forEach(function(e){var t,n,i,r={},o={},c={};1===e.codeCivilite&&(t="Mme ",i="née le "),2===e.codeCivilite&&(t="Mlle ",i="née le "),3===e.codeCivilite&&(t="M. ",i="né le "),n=null!==e.nomUsage?e.nomUsage+" ":e.nomFamille+" ";var s=e.dateNaissance.substr(8,2)+"-"+e.dateNaissance.substr(5,2)+"-"+e.dateNaissance.substr(0,4);r.DADANA=i+s,r.NOM_PRENOM_CLIENT=t+n+e.prenom,r.LIDGIL_NAISSANCE=a[e.identifiantPersonne.toString()],o.infosPersonne=r,o.ELEMENT="INFOS_PERS",c=o,c.numeroPersonne=e.identifiantPersonne,v.push(c)}),s.blocBandeauClientConditionParticuliereService.construireListeDesClientsDelegataire(v,m)}s.listeDesPersonnes=[];var E=[];E=s.blocBandeauClientConditionParticuliereService.construireBlocPersonnes(),E.forEach(function(e){u.blocChoiceJson.push(e)});break;case e.TypeElementConditionParticuliere.BLOC_EDITION:switch(c.contenu.instance){case t.BL_1:u.blocChoiceJson.push(s.blocBl1Service.construireBlocBl1(c.contenu));break;case t.BL_3:u.blocChoiceJson.push(s.blocBl3Service.construireBlocBl3(c.contenu));break;case t.BL_4:u.blocChoiceJson.push(s.blocBl4Service.construireBlocBl4(c.contenu));
break;case t.BL_5:u.blocChoiceJson.push(s.blocBl5Service.construireBlocBl5(c.contenu));break;case t.BL_3CR:u.blocChoiceJson.push(s.blocBl3crService.construireBlocBl3cr(c.contenu));break;case t.BL_6:u.blocChoiceJson.push(s.blocBl6Service.construireBlocBl6(c.contenu));break;case t.BL_7:u.blocChoiceJson.push(s.blocBl7Service.construireBlocBl7(c.contenu));break;case t.BL_8:u.blocChoiceJson.push(s.blocBl8Service.construireBlocBl8(c.contenu));break;case t.BL_9:u.blocChoiceJson.push(s.blocBl9Service.construireBlocBl9(c.contenu));break;case t.BL_10:u.blocChoiceJson.push(s.blocBl10Service.construireBlocBl10(c.contenu));break;case t.BL_CATR1:var A=s.blocBlCatr1Service.construireBlocBlCatr1(c.contenu);console.log("%c MappingModelGceConditionParticuliereRestService => mappingModelGceRest() => element"+p++ +" = ","color:red;font-weight:bold;",JSON.stringify(A)),u.blocChoiceJson.push(A);break;case t.BL_CATR2:var g=c.contenu.map;g.forEach(function(e){u.blocChoiceJson.push(s.blocBlCatr2Service.construireBlocBlCatr2(e))});break;case t.GENRIC_CERTIF_STD_PRODUIT:u.blocChoiceJson.push(s.blocGenericCertifStdProduitService.construireGenericCertifStdProduit(c.contenu));break;case t.GENERIC_LIGNEVIDE:u.blocChoiceJson.push(s.blocGenericLigneVideService.construireBlocGenericLigneVide(c.contenu));break;case t.GENRIC_SIGNATURE_STD:u.blocChoiceJson.push(s.blocGenericSignatureStdService.construireGenericSignatureStd(c.contenu,s.prenomNomAgent));break;case t.BL_REPRLEG_TITRE:u.blocChoiceJson.push(s.blocBlReprlegTitreService.construireBlocBlReprlegTitre(c.contenu));break;case t.BL_PDP_JUSTIFIE:u.blocChoiceJson.push(s.blocBlPdpJustifieService.construireBlocBlPdpJustifie(c.contenu));break;case t.genericRgpdSecretBancaire1:u.blocChoiceJson.push(s.blocBlPdpJustifieService.construireBlocBlPdpJustifie(c.contenu));break;case t.CERTIF_STD_QUADRETO:u.blocChoiceJson.push(s.blocCertifStdQuadretoService.construireBlocCertifStdQuadreto(c.contenu));break;case t.CERTIF_STD_CAT:u.blocChoiceJson.push(s.blocCertifStdCatService.construireBlocCertifStdCat(c.contenu));break;case t.SIGNAT_SANS_CNIL:u.blocChoiceJson.push(s.blocSignatureSansCnilService.construireBlocSignatureSansCnil(c.contenu,s.prenomNomAgent,r,s.estPro));break;case t.SIGNAT_SANS_CNIL_MEGI:u.blocChoiceJson.push(s.blocSignatureSansCnilMEGIService.construireBlocSignatureSansCnilMegi(c.contenu,s.prenomNomAgent,r,s.codeEtablissement));break;case t.BL_DEMARCHAGE:u.blocChoiceJson.push(s.blocBlDemarchageService.construireBlocBlDemarchage(c.contenu));break;case t.BL_DEMARCHAGE_MEGI:u.blocChoiceJson.push(s.blocBlDemarchageService.construireBlocBlDemarchage(c.contenu))}break;case e.TypeElementConditionParticuliere.BLOC_CARACTERISTIQUE_CONTRAT_DAT:var f=c.contenu.map;f.forEach(function(e){u.blocChoiceJson.push(s.blocBl2Service.construireBlocBl2(e))});break;case e.TypeElementConditionParticuliere.BL_CAT_RENOUVELABLE:var h=s.blCatRenouvelable.construireBlCatRenouvelable(c.contenu.map);console.log("%c MappingModelGceConditionParticuliereRestService => mappingModelGceRest() => element"+l++ +" = ","color:red;font-weight:bold;",JSON.stringify(h)),u.blocChoiceJson.push(h)}}),s.contenuDocumentCondPart.section1=[],s.contenuDocumentCondPart.section1.push(u);var c={};return s.contenuDocumentCondPart.genericPiedpageets=c,s.contenuDocumentCondPart})},t.prototype.setNomPrenomAgent=function(){var e=this;return this.serviceAgentExtended.getAuthentificationInfo().then(function(t){t.agentConnecte.nomUsagePersonnePhysique&&null!==t.agentConnecte.nomUsagePersonnePhysique&&""!==t.agentConnecte.nomUsagePersonnePhysique?e.prenomNomAgent=t.agentConnecte.nomUsagePersonnePhysique+" "+t.agentConnecte.prenom:e.prenomNomAgent=t.agentConnecte.nomFamillePersonnePhysique+" "+t.agentConnecte.prenom})},t.$inject=["$q","serviceAgentExtended","genericEnteteEtsConditionParticuliereService","blocBandeauClientConditionParticuliereService","blocBl1Service","blocBl2Service","blocBl3Service","blocBl4Service","blocBl5Service","blocBl3crService","blocBl6Service","blocBl7Service","blocBl8Service","blocBl9Service","blocBlCatr1Service","blocBlCatr2Service","blocGenericCertifStdProduitService","blocGenericLigneVideService","blocGenericSignatureStdService","blocBlReprlegTitreService","blocBlPdpJustifieService","blocCertifStdQuadretoService","blocCertifStdCatService","blocSignatureSansCnilService","blocSignatureSansCnilMegiService","blocBlDemarchageService","blocBl10Service","AppelRestDossierNumeriqueSignataireService","AppelRestTiersNoyauService","blCatRenouvelable"],t.INFOS_PERS="INFOS_PERS",t.INFOS_PERS2="INFOS_PERS2",t.INFOS_PERS3="INFOS_PERS3",t.INFOS_PERS4="INFOS_PERS4",t.BL_1="BL_1",t.GENERIC_INFO_PP="GENERIC_INFO_PP",t.BL_2="BL_2",t.BL_3="BL_3",t.BL_4="BL_4",t.BL_5="BL_5",t.BL_3CR="BL_3CR",t.BL_6="BL_6",t.BL_7="BL_7",t.BL_8="BL_8",t.BL_9="BL_9",t.BL_10="BL_10",t.BL_CATR1="BL_CATR1",t.BL_CATR2="BL_CATR2",t.GENRIC_CERTIF_STD_PRODUIT="GENRIC_CERTIF_STD_PRODUIT",t.GENERIC_LIGNEVIDE="GENERIC_LIGNEVIDE",t.GENRIC_SIGNATURE_STD="GENRIC_SIGNATURE_STD",t.BL_REPRLEG_TITRE="BL_REPRLEG_TITRE",t.BL_PDP_JUSTIFIE="BL_PDP_JUSTIFIE",t.CERTIF_STD_QUADRETO="CERTIF_STD_QUADRETO",t.CERTIF_STD_CAT="CERTIF_STD_CAT",t.SIGNAT_SANS_CNIL="SIGNAT_SANS_CNIL",t.SIGNAT_SANS_CNIL_MEGI="SIGNAT_SANS_CNIL_MEGI",t.BL_DEMARCHAGE="BL_DEMARCHAGE",t.BL_DEMARCHAGE_MEGI="BL_DEMARCHAGE_MEGI",t.genericRgpdSecretBancaire1="genericRgpdSecretBancaire1",t}();e.MappingModelGceConditionParticuliereRestService=t,e.editiqueDatModule.service("mappingModelGceConditionParticuliereRestService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t){this.$q=e,this.tiersCorporateTiersLiesService=t}return t.prototype.construireListeDesClients=function(e,t){var n=this;if(this.listeDesClients=[],e.roleEtPersonnes){var i={},r=0;this.listeDesClients=[],e.roleEtPersonnes.forEach(function(e){var o={};o.role=e.leRole.LIB_CTDHLI,o.personnes=[],n.listeDesClients.push(o),i[r.toString()]=n.setClients(o,e.lesPersonnes,t),r+=1})}return this.$q.all(i).then(function(e){for(var t=[],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];t.push(e[r])}return t})},t.prototype.construireListeDesClientsDelegataire=function(e,t){var n={};n.role=t,n.personnes=[],this.setClientsDelegataire(n,e),this.listeDesClients.push(n)},t.prototype.setClients=function(t,n,i){var r=this;if(t.typePersonne=e.TypePersonne.PHYSIQUE,i){var o={codeEtablissement:i.offre.codeEtablissement?i.offre.codeEtablissement:i.contexte.numeroRICEDAT.substr(0,5),identifiantTiers:i.offre.numeroPersonneIdentifiee?i.offre.numeroPersonneIdentifiee:i.contexte.numeroPersonne,typeTiersLies:"FCL",codeCategorieLien:"09",codeSens:0};return this.tiersCorporateTiersLiesService.getRequestTiersCorporateTiersLies(o).then(function(i){if("TITULAIRE"===t.role||"TITULAIRES"===t.role)return n.forEach(function(n){switch(n.ELEMENT){case e.MappingModelGcePreContratRestService.INFOS_PERS:var i=r.createInfo(n.infosPersonne),o={infosPers:i};t.personnes.push(o);break;case e.MappingModelGcePreContratRestService.INFOS_PERS2:var a=r.createInfo2(n.infosPersonne),c={infosPers2:a};t.personnes.push(c);break;case e.MappingModelGcePreContratRestService.INFOS_PERS3:var s=r.createInfo3(n.infosPersonne),u={infosPers3:s};t.personnes.push(u);break;case e.MappingModelGcePreContratRestService.INFOS_PERS4:var p=r.createInfoPm(n.infosPersonne),l={infosPm:p};t.personnes.push(l),t.typePersonne=e.TypePersonne.MORALE}}),t;var o=[],a=[],c=[];if(i.listeLien&&i.listeLien.length>0){console.log("*** listeRepresentantsLegaux :"),console.log(i.listeLien),i.listeLien.forEach(function(e){"1"===e.codePersonnaliteJuridique&&o.push(e)}),console.log("*** listeRepresentantsLegauxFiltree :",o),console.log("*** listePersonnePPBandeauClient avant filtrage :"),console.log(n);var s=_.pluck(o,"identifiantTiersEnRelation");s=_.uniq(s),s.forEach(function(e){for(var t=0;t<n.length;++t)if(e===n[t].numeroPersonne){a.push(n[t]);break}}),c=_.uniq(a),console.log("*** listePersonnePPBandeauClient après filtrage :"),console.log(c)}return c.forEach(function(n){switch(n.ELEMENT){case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS:var i=r.createInfo(n.infosPersonne),o={infosPers:i};t.personnes.push(o);break;case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS2:var a=r.createInfo2(n.infosPersonne),c={infosPers2:a};t.personnes.push(c);break;case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS3:var s=r.createInfo3(n.infosPersonne),u={infosPers3:s};t.personnes.push(u);break;case e.MappingModelGceConditionParticuliereRestService.INFOS_PERS4:var p=r.createInfoPm(n.infosPersonne),l={infosPm:p};t.personnes.push(l),t.typePersonne=e.TypePersonne.MORALE}}),t})}n.forEach(function(n){switch(n.ELEMENT){case e.MappingModelGcePreContratRestService.INFOS_PERS:var i=r.createInfo(n.infosPersonne),o={infosPers:i};t.personnes.push(o);break;case e.MappingModelGcePreContratRestService.INFOS_PERS2:var a=r.createInfo2(n.infosPersonne),c={infosPers2:a};t.personnes.push(c);break;case e.MappingModelGcePreContratRestService.INFOS_PERS3:var s=r.createInfo3(n.infosPersonne),u={infosPers3:s};t.personnes.push(u);break;case e.MappingModelGcePreContratRestService.INFOS_PERS4:var p=r.createInfoPm(n.infosPersonne),l={infosPm:p};t.personnes.push(l),t.typePersonne=e.TypePersonne.MORALE}})},t.prototype.setClientsDelegataire=function(t,n){var i=this;t.typePersonne=e.TypePersonne.PHYSIQUE,n.forEach(function(e){var n=i.createInfo(e.infosPersonne),r={infosPers:n};t.personnes.push(r)})},t.prototype.createInfo=function(e){var t,n;t=e.NOM_PRENOM_CLIENT.indexOf("("),n=e.NOM_PRENOM_CLIENT.indexOf(")")+1;var i=e.NOM_PRENOM_CLIENT.substring(t,n).replace("  "," "),r=e.NOM_PRENOM_CLIENT.replace(i,""),o={lidacv:e.LIDACV,nomPrenomClient:r,libCodirc:e.LIB_CODIRC,dadana:e.DADANA,lidgilNaissance:e.LIDGIL_NAISSANCE,lidgv26:e.LIDGV2_6,lidgna:e.LIDGNA,idnsbd:e.IDNSBD,nodatpClient:e.NODATP_CLIENT};return o},t.prototype.createInfo2=function(e){var t,n;t=e.NOM_PRENOM_CLIENT2.indexOf("("),n=e.NOM_PRENOM_CLIENT2.indexOf(")")+1;var i=e.NOM_PRENOM_CLIENT2.substring(t,n).replace("  "," "),r=e.NOM_PRENOM_CLIENT2.replace(i,""),o={lidacv2:e.LIDACV2,nomPrenomClient2:r,nomUsage2:e.NOM_USAGE2,libCodirc2:e.LIB_CODIRC2,dadana2:e.DADANA2,lidgilNaissance2:e.LIDGIL_NAISSANCE2,lidgv262:e.LIDGV2_62,lidgna2:e.LIDGNA2,idnsbd2:e.IDNSBD2,nodatpClient2:e.NODATP_CLIENT2,situationFamille2:e.SITUATION_FAMILLE2};return o},t.prototype.createInfo3=function(e){var t,n;t=e.NOM_PRENOM_CLIENT3.indexOf("("),n=e.NOM_PRENOM_CLIENT3.indexOf(")")+1;var i=e.NOM_PRENOM_CLIENT3.substring(t,n).replace("  "," "),r=e.NOM_PRENOM_CLIENT3.replace(i,""),o={lidacv3:e.LIDACV3,nomPrenomClient3:r,nomUsage3:e.NOM_USAGE3,libCodirc3:e.LIB_CODIRC3,dadana3:e.DADANA3,lidgilNaissance3:e.LIDGIL_NAISSANCE3,lidgv263:e.LIDGV2_63,lidgna3:e.LIDGNA3,idnsbd3:e.IDNSBD3,nodatpClient3:e.NODATP_CLIENT3,situationFamille3:e.SITUATION_FAMILLE3,regimeMatrimonial3:e.REGIME_MATRIMONIAL3};return o},t.prototype.createInfoPm=function(e){var t={lidars:e.LIDARS,dadatj:e.DADATJ,lidgv26:e.LIDGV2_6,idnsbd:e.IDNSBD,nodatp:e.NODATP};return t},t.prototype.construireBlocPersonnes=function(t){var n=this;this.listeDesClients.forEach(function(i){switch(i.typePersonne){case e.TypePersonne.PHYSIQUE:var r=n.ajouterBlocClient(i);t.genericInfoPp.push(r);break;case e.TypePersonne.MORALE:var o=n.ajouterBlocClientPm(i);t.genericInfoPm.push(o)}})},t.prototype.ajouterBlocClient=function(e){var t=[],n={blocChoiceJson:[]},i={libCtdhli:e.role.toUpperCase()},r={titreRole:i};n.blocChoiceJson.push(r),e.personnes.forEach(function(e){n.blocChoiceJson.push(e)}),t.push(n);var o={listePersonnes:t};return o},t.prototype.ajouterBlocClientPm=function(e){var t=[],n={blocChoiceJson:[]},i={libCtdhli:e.role.toUpperCase()},r={titreRole:i};n.blocChoiceJson.push(r),e.personnes.forEach(function(e){n.blocChoiceJson.push(e)}),t.push(n);var o={listePersonnes:t};return o},t.$inject=["$q","AppelRestTiersCorporateTiersLiesService"],t}();e.BlocBandeauClientService=t,e.editiqueDatModule.service("blocBandeauClientService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocCapciel=function(t){var n,i,r;switch(t.instance){case e.BL_DATA_SANS_PREAVIS_CAPCIEL:i=this.construireBlocDataSansPreavisCapciel(t);var o=[];o.push(i);var a={blDataSansPreavisCapciel:i},c=[];c.push(a),n={blocChoiceJson:c};break;case e.BL_DATA_AVEC_PREAVIS_CAPCIEL:r=this.construireBlocDataAvecPreavisCapciel(t);var s=[];s.push(r);var u={blDataAvecPreavisCapciel:r},p=[];p.push(u),n={blocChoiceJson:p}}return n},e.prototype.construireBlocDataSansPreavisCapciel=function(e){var t={},n=[],i=[],r=[];return n.push(this.construireBlocLbIntSans(e)),i.push(this.construireBlocLbRetSans(e)),r.push(this.construireBlocLbTraabSans(e)),t={a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,a504Var00005Lbidva:e.map.A504_VAR00005_LBIDVA,lbInt:n,lbRet:i,lbTraab:r,a504Var00011Lbidva:e.map.A504_VAR00011_LBIDVA,a504Var00011Lbidv1:e.map.A504_VAR00011_LBIDV1,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.prototype.construireBlocLbIntSans=function(e){var t,n=e.map.LB_INT.LG_DATA_INT,i=[];return n.forEach(function(e){var t={a505Var00007Lbidim:e.A505_VAR00007_LBIDIM},n={lgDataInt:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbRetSans=function(e){var t,n=e.map.LB_RET.LG_RET,i=[];return n.forEach(function(e){var t={a505Var00009Lbidim:e.A505_VAR00009_LBIDIM},n={lgRet:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbTraabSans=function(e){var t,n=e.map.LB_TRAAB.LG_DATA,i=[];n.forEach(function(e){var t={a504Var00010Lbidva:e.A504_VAR00010_LBIDVA,a504Var00010Lbidv1:e.A504_VAR00010_LBIDV1},n={lgData:t};i.push(n)});var r={lgEntete:1},o=[];return o.push(r),o.push(i),t={blocChoiceJson:o}},e.prototype.construireBlocDataAvecPreavisCapciel=function(e){var t={},n=[],i=[],r=[];return n.push(this.construireBlocLbIntAvec(e)),i.push(this.construireBlocLbRetAvec(e)),r.push(this.construireBlocLbTraabAvec(e)),t={a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,a504Var00005Lbidva:e.map.A504_VAR00005_LBIDVA,lbInt:n,a504Var00008Lbidva:e.map.A504_VAR00008_LBIDVA,lbRet:i,lbTraab:r,a504Var00011Lbidva:e.map.A504_VAR00011_LBIDVA,a504Var00011Lbidv1:e.map.A504_VAR00011_LBIDV1,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.prototype.construireBlocLbIntAvec=function(e){var t,n=e.map.LB_INT.LG_DATA_INT,i=[];return n.forEach(function(e){var t={a505Var00007Lbidim:e.A505_VAR00007_LBIDIM},n={lgDataInt:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbRetAvec=function(e){var t,n=e.map.LB_RET.LG_RET,i=[];return n.forEach(function(e){var t={a505Var00009Lbidim:e.A505_VAR00009_LBIDIM},n={lgRet:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbTraabAvec=function(e){var t,n=e.map.LB_TRAAB.LG_DATA,i=[];n.forEach(function(e){var t={a504Var00010Lbidva:e.A504_VAR00010_LBIDVA,a504Var00010Lbidv1:e.A504_VAR00010_LBIDV1},n={lgData:t};i.push(n)});var r={lgEntete:1},o=[];return o.push(r),o.push(i),t={blocChoiceJson:o}},e.$inject=[],e.BL_DATA_SANS_PREAVIS_CAPCIEL="BL_DATA_SANS_PREAVIS_CAPCIEL",e.BL_DATA_AVEC_PREAVIS_CAPCIEL="BL_DATA_AVEC_PREAVIS_CAPCIEL",e.LB_INT="LB_INT",e.LB_RET="LB_RET",e.LB_TRAAB="LB_TRAAB",e}();e.BlocCapcielService=t,e.editiqueDatModule.service("blocCapcielService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocCatslr=function(t){var n,i;switch(t.instance){case e.BL_DATA_SLR:i=this.construireBlocDataSlr(t);var r=[];r.push(i);var o={blDataSlr:i},a=[];a.push(o),n={blocChoiceJson:a}}return n},e.prototype.construireBlocDataSlr=function(e){var t,n=[],i=[];return n.push(this.construireBlocLbRet(e)),i.push(this.construireBlocLbTraab(e)),t={a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00003Lbidva1:e.map.A504_VAR00003_LBIDVA_1,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00001Lbidva2:e.map.A504_VAR00001_LBIDVA_2,a504Var00001Lbidva3:e.map.A504_VAR00001_LBIDVA_3,a504Var00001Lbidva1:e.map.A504_VAR00001_LBIDVA_1,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,a504Var00005Lbidva:e.map.A504_VAR00005_LBIDVA,a504Var00006Lbidva:e.map.A504_VAR00006_LBIDVA,a504Var00007Lbidva:e.map.A504_VAR00007_LBIDVA,a504Var00007Lbidva1:e.map.A504_VAR00007_LBIDVA_1,a504Var00008Lbidva:e.map.A504_VAR00008_LBIDVA,a504Var00014Lbidva:e.map.A504_VAR00014_LBIDVA,a504Var00001Lbidva4:e.map.A504_VAR00001_LBIDVA_4,a504Var00009Lbidva:e.map.A504_VAR00009_LBIDVA,lbRet:n,codeEtab:e.map.CodeEtab,lbTraab:i,a504Var00012Lbidva:e.map.A504_VAR00012_LBIDVA,a504Var00012Lbidv1:e.map.A504_VAR00012_LBIDV1,a504Var00013Lbidva:e.map.A504_VAR00013_LBIDVA,codeEtab1:e.map.CodeEtab1,codeEtab2:e.map.CodeEtab2,codeEtab3:e.map.CodeEtab3,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.prototype.construireBlocLbRet=function(t){var n,i=t.map[e.LB_RET][e.LG_RET],r=[];return i.forEach(function(e){var t={a505Var00010Lbidim:e.A505_VAR00010_LBIDIM},n={lgRet:t};r.push(n)}),n={blocChoiceJson:r}},e.prototype.construireBlocLbTraab=function(t){var n,i=t.map[e.LB_TRAAB][e.LG_DATA],r=[];i.forEach(function(e){var t={a504Var00011Lbidva:e.A504_VAR00011_LBIDVA,a504Var00011Lbidv1:e.A504_VAR00011_LBIDV1},n={lgData:t};r.push(n)});var o={lgEntete:1},a=[];return a.push(o),a.push(r),n={blocChoiceJson:a}},e.$inject=[],e.BL_DATA_SLR="BL_DATA_SLR",e.LB_RET="LB_RET",e.LG_RET="LG_RET",e.LG_DATA="LG_DATA",e.LB_TRAAB="LB_TRAAB",e}();e.BlocCatslrService=t,e.editiqueDatModule.service("blocCatslrService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocCroissance=function(t){var n,i,r;switch(t.instance){case e.BL_DATA_SANS_PREAVIS_CROISSANCE:i=this.construireBlocDataSansPreavisCroissance(t);var o=[];o.push(i);var a={blDataSansPreavisCroissance:i},c=[];c.push(a),n={blocChoiceJson:c};break;case e.BL_DATA_AVEC_PREAVIS_CROISSANCE:r=this.construireBlocDataAvecPreavisCroissance(t);var s=[];s.push(r);var u={blDataAvecPreavisCroissance:r},p=[];p.push(u),n={blocChoiceJson:p}}return n},e.prototype.construireBlocDataSansPreavisCroissance=function(e){var t={},n=[],i=[],r=[];return n.push(this.construireBlocLbIntSans(e)),i.push(this.construireBlocLbRetSans(e)),r.push(this.construireBlocLbTraabSans(e)),t={a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,lbInt:n,lbRet:i,lbTraab:r,a504Var00011Lbidva:e.map.A504_VAR00011_LBIDVA,a504Var00011Lbidv1:e.map.A504_VAR00011_LBIDV1,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.prototype.construireBlocLbIntSans=function(e){var t,n=e.map.LB_INT.LG_DATA_INT,i=[];return n.forEach(function(e){var t={a505Var00007Lbidim:e.A505_VAR00007_LBIDIM},n={lgDataInt:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbRetSans=function(e){var t,n=e.map.LB_RET.LG_RET,i=[];return n.forEach(function(e){var t={a505Var00009Lbidim:e.A505_VAR00009_LBIDIM},n={lgRet:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbTraabSans=function(e){var t,n=e.map.LB_TRAAB.LG_DATA,i=[];n.forEach(function(e){var t={a504Var00010Ciidfe:e.A504_VAR00010_CIIDFE,a504Var00010Lbidva:e.A504_VAR00010_LBIDVA,a504Var00010Lbidv1:e.A504_VAR00010_LBIDV1},n={lgData:t};i.push(n)});var r={lgEntete:1},o=[];return o.push(r),o.push(i),t={blocChoiceJson:o}},e.prototype.construireBlocDataAvecPreavisCroissance=function(e){var t={},n=[],i=[],r=[];return n.push(this.construireBlocLbIntAvec(e)),i.push(this.construireBlocLbRetAvec(e)),r.push(this.construireBlocLbTraabAvec(e)),t={a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,lbInt:n,a504Var00008Lbidva:e.map.A504_VAR00008_LBIDVA,lbRet:i,lbTraab:r,a504Var00011Lbidva:e.map.A504_VAR00011_LBIDVA,a504Var00011Lbidv1:e.map.A504_VAR00011_LBIDV1,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.prototype.construireBlocLbIntAvec=function(e){var t,n=e.map.LB_INT.LG_DATA_INT,i=[];return n.forEach(function(e){var t={a505Var00007Lbidim:e.A505_VAR00007_LBIDIM},n={lgDataInt:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbRetAvec=function(e){var t,n=e.map.LB_RET.LG_RET,i=[];return n.forEach(function(e){var t={a505Var00009Lbidim:e.A505_VAR00009_LBIDIM},n={lgRet:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbTraabAvec=function(e){var t,n=e.map.LB_TRAAB.LG_DATA,i=[];n.forEach(function(e){var t={a504Var00010Ciidfe:e.A504_VAR00010_CIIDFE,a504Var00010Lbidva:e.A504_VAR00010_LBIDVA,a504Var00010Lbidv1:e.A504_VAR00010_LBIDV1},n={lgData:t};i.push(n)});var r={lgEntete:1},o=[];return o.push(r),o.push(i),t={blocChoiceJson:o}},e.$inject=[],e.BL_DATA_SANS_PREAVIS_CROISSANCE="BL_DATA_SANS_PREAVIS_CROISSANCE",e.BL_DATA_AVEC_PREAVIS_CROISSANCE="BL_DATA_AVEC_PREAVIS_CROISSANCE",e.LB_INT="LB_INT",e.LG_DATA_INT="LG_DATA_INT",e.LB_RET="LB_RET",e.LG_RET="LG_RET",e.LB_TRAAB="LB_TRAAB",e.LG_ENTETE="LG_ENTETE",e.LG_DATA="LG_DATA",e}();e.BlocCroissanceService=t,e.editiqueDatModule.service("blocCroissanceService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocInflation=function(t){var n,i;switch(t.instance){case e.BL_DATA_SANS_PREAVIS_INFLATION:i=this.construireBlocDataSansPreavis(t);var r=[];r.push(i);var o={blDataSansPreavisInflation:i},a=[];a.push(o),n={blocChoiceJson:a}}return n},e.prototype.construireBlocDataSansPreavis=function(e){var t,n=[],i=[];return n.push(this.construireBlocLbRet(e)),i.push(this.construireBlocLbTraab(e)),t={a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,lbRet:n,lbTraab:i,a504Var00011Lbidva:e.map.A504_VAR00011_LBIDVA,a504Var00011Lbidv1:e.map.A504_VAR00011_LBIDV1,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.prototype.construireBlocLbRet=function(t){var n,i=t.map[e.LB_RET][e.LG_RET],r=[];return i.forEach(function(e){var t={a505Var00009Lbidim:e.A505_VAR00009_LBIDIM},n={lgRet:t};r.push(n)}),n={blocChoiceJson:r}},e.prototype.construireBlocLbTraab=function(t){var n,i=t.map[e.LB_TRAAB][e.LG_DATA],r=[];i.forEach(function(e){var t={a504Var00010Lbidva:e.A504_VAR00010_LBIDVA,a504Var00010Lbidv1:e.A504_VAR00010_LBIDV1},n={lgData:t};r.push(n)});var o={lgEntete:1},a=[];return a.push(o),a.push(r),n={blocChoiceJson:a}},e.$inject=[],e.BL_DATA_SANS_PREAVIS_INFLATION="BL_DATA_SANS_PREAVIS_INFLATION",e.LB_RET="LB_RET",e.LG_RET="LG_RET",e.LB_TRAAB="LB_TRAAB",e.LG_ENTETE="LG_ENTETE",e.LG_DATA="LG_DATA",e}();e.BlocInflationeService=t,e.editiqueDatModule.service("blocInflationeService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocPrestance=function(t){var n,i,r;switch(t.instance){case e.BL_DATA_SANS_PREAVIS_PRESTANCE:i=this.construireBlocDataSansPreavisPrestance(t);var o=[];o.push(i);var a={blDataSansPreavisPrestance:i},c=[];c.push(a),n={blocChoiceJson:c};break;case e.BL_DATA_AVEC_PREAVIS_PRESTANCE:r=this.construireBlocDataAvecPreavisPrestance(t);var s=[];s.push(r);var u={blDataAvecPreavisPrestance:r},p=[];p.push(u),n={blocChoiceJson:p}}return n},e.prototype.construireBlocDataSansPreavisPrestance=function(e){var t={},n=[],i=[],r=[];return n.push(this.construireBlocLbIntSans(e)),i.push(this.construireBlocLbRetSans(e)),r.push(this.construireBlocLbTraabSans(e)),t={a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,a504Var00005Lbidva:e.map.A504_VAR00005_LBIDVA,a504Var00006Lbidva:e.map.A504_VAR00006_LBIDVA,lbInt:n,lbRet:i,lbTraab:r,a504Var00011Lbidva:e.map.A504_VAR00011_LBIDVA,a504Var00011Lbidv1:e.map.A504_VAR00011_LBIDV1,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.prototype.construireBlocLbIntSans=function(e){var t,n=e.map.LB_INT.LG_DATA_INT,i=[];return n.forEach(function(e){var t={a505Var00007Lbidim:e.A505_VAR00007_LBIDIM},n={lgDataInt:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbRetSans=function(e){var t,n=e.map.LB_RET.LG_RET,i=[];return n.forEach(function(e){var t={a505Var00009Lbidim:e.A505_VAR00009_LBIDIM},n={lgRet:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbTraabSans=function(e){var t,n=e.map.LB_TRAAB.LG_DATA,i=[];n.forEach(function(e){var t={a504Var00010Lbidva:e.A504_VAR00010_LBIDVA,a504Var00010Lbidv1:e.A504_VAR00010_LBIDV1},n={lgData:t};i.push(n)});var r={lgEntete:1},o=[];return o.push(r),o.push(i),t={blocChoiceJson:o}},e.prototype.construireBlocDataAvecPreavisPrestance=function(e){var t={},n=[],i=[],r=[];return n.push(this.construireBlocLbIntAvec(e)),i.push(this.construireBlocLbRetAvec(e)),r.push(this.construireBlocLbTraabAvec(e)),t={a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,a504Var00005Lbidva:e.map.A504_VAR00005_LBIDVA,a504Var00006Lbidva:e.map.A504_VAR00006_LBIDVA,lbInt:n,a504Var00008Lbidva:e.map.A504_VAR00008_LBIDVA,lbRet:i,lbTraab:r,a504Var00011Lbidva:e.map.A504_VAR00011_LBIDVA,a504Var00011Lbidv1:e.map.A504_VAR00011_LBIDV1,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.prototype.construireBlocLbIntAvec=function(e){var t,n=e.map.LB_INT.LG_DATA_INT,i=[];return n.forEach(function(e){var t={a505Var00007Lbidim:e.A505_VAR00007_LBIDIM},n={lgDataInt:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbRetAvec=function(e){var t,n=e.map.LB_RET.LG_RET,i=[];return n.forEach(function(e){var t={a505Var00009Lbidim:e.A505_VAR00009_LBIDIM},n={lgRet:t};i.push(n)}),t={blocChoiceJson:i}},e.prototype.construireBlocLbTraabAvec=function(e){var t,n=e.map.LB_TRAAB.LG_DATA,i=[];n.forEach(function(e){var t={a504Var00010Lbidva:e.A504_VAR00010_LBIDVA,a504Var00010Lbidv1:e.A504_VAR00010_LBIDV1},n={lgData:t};i.push(n)});var r={lgEntete:1},o=[];return o.push(r),o.push(i),t={blocChoiceJson:o}},e.$inject=[],e.BL_DATA_SANS_PREAVIS_PRESTANCE="BL_DATA_SANS_PREAVIS_PRESTANCE",e.BL_DATA_AVEC_PREAVIS_PRESTANCE="BL_DATA_AVEC_PREAVIS_PRESTANCE",e.LB_INT="LB_INT",e.LG_DATA_INT="LG_DATA_INT",e.LB_RET="LB_RET",e.LG_RET="LG_RET",e.LB_TRAAB="LB_TRAAB",e.LG_ENTETE="LG_ENTETE",e.LG_DATA="LG_DATA",e}();e.BlocPrestanceService=t,e.editiqueDatModule.service("blocPrestanceService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocQuad0203=function(t){var n,i;switch(t.instance){case e.BL_CORPS:i=this.construireBlCorps(t);var r=[];r.push(i);var o={blCorps:i},a=[];a.push(o),n={blocChoiceJson:a}}return n},e.prototype.construireBlCorps=function(e){var t,n=[];return n.push(this.construireBloctraab(e)),t={natureNbCat:e.map.NATURE_NB_CAT,natureRevenus:e.map.NATURE_REVENUS,a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,montantLibQuad:e.map.MONTANT_LIB_QUAD,montantNbCat:e.map.MONTANT_NB_CAT,montantPeriode:e.map.MONTANT_PERIODE,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,tauxDuree:e.map.TAUX_DUREE,tauxNbCat1:e.map.TAUX_NB_CAT_1,tauxNbCat2:e.map.TAUX_NB_CAT_2,calculEnPartie1:e.map.CALCUL_EN_PARTIE_1,calculEnPartie2:e.map.CALCUL_EN_PARTIE_2,retraitCalcul:e.map.RETRAIT_CALCUL,traab:n,var00018:e.map.VAR00018,var00019:e.map.VAR00019,fonctionDuree:e.map.FONCTION_DUREE,fonctionNbCat1:e.map.FONCTION_NB_CAT_1,fonctionPeriode:e.map.FONCTION_PERIODE,fonctionVers1:e.map.FONCTION_VERS_1,fonctionVers4:e.map.FONCTION_VERS_4,fonctionVers2:e.map.FONCTION_VERS_2,fonctionVers3:e.map.FONCTION_VERS_3,fonctionNbCat2:e.map.FONCTION_NB_CAT_2,blFonction031:e.map.BL_FONCTION_03_1,blFonction032:e.map.BL_FONCTION_03_2,blFonction033:e.map.BL_FONCTION_03_3,blFonction034:e.map.BL_FONCTION_03_4,prorog1:e.map.PROROG_1,prorog2:e.map.PROROG_2,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.prototype.construireBloctraab=function(t){var n,i=t.map[e.TRAAB][e.LG_DATA],r=[];i.forEach(function(e){var t={a504Var00016:e.A504_VAR00016,a504Var00017:e.A504_VAR00017},n={lgData:t};r.push(n)});var o={lgEntete:1},a=[];return a.push(o),a.push(r),n={blocChoiceJson:a}},e.$inject=[],e.BL_CORPS="BL_CORPS",e.TRAAB="TRAAB",e.LG_ENTETE="LG_ENTETE",e.LG_DATA="LG_DATA",e}();e.BlocQuad0203Service=t,e.editiqueDatModule.service("blocQuad0203Service",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.construireBlocQuadreto=function(t){var n,i,r;switch(t.instance){case e.BL_DATA_ARCHIVE:i=this.construireBlocDataArchive(t);var o=[];o.push(i);var a={blDataArchive:i},c=[];c.push(a),n={blocChoiceJson:c};break;case e.BL_DATA:r=this.construireBlocData(t);var s=[];s.push(r);var u={blData:r},p=[];p.push(u),n={blocChoiceJson:p}}return n},e.prototype.construireBlocDataArchive=function(e){var t,n=[];return n.push(this.construireBlocTraab(e)),t={a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,traab:n,a504Var00011Lbidva:e.map.A504_VAR00011_LBIDVA,a504Var00011Lbidv1:e.map.A504_VAR00011_LBIDV1,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.prototype.construireBlocTraab=function(t){var n,i=t.map[e.TRAAB][e.LG_DATA],r=[];i.forEach(function(e){var t={a504Var00010Lbidva:e.A504_VAR00010_LBIDVA,a504Var00010Lbidv1:e.A504_VAR00010_LBIDV1},n={lgData:t};r.push(n)});var o={lgEntete:1},a=[];return a.push(o),a.push(r),n={blocChoiceJson:a}},e.prototype.construireBlocData=function(e){var t;return t={a504Var00001Lbidva:e.map.A504_VAR00001_LBIDVA,a504Var00002Lbidva:e.map.A504_VAR00002_LBIDVA,a504Var00003Lbidva:e.map.A504_VAR00003_LBIDVA,a504Var00004Lbidva:e.map.A504_VAR00004_LBIDVA,dtDateVigueur:e.map.DT_DATE_VIGUEUR}},e.$inject=[],e.BL_DATA_ARCHIVE="BL_DATA_Archive",e.BL_DATA="BL_DATA",e.TRAAB="TRAAB",e.LG_ENTETE="LG_ENTETE",e.LG_DATA="LG_DATA",e}();e.BlocQuadretoService=t,e.editiqueDatModule.service("blocQuadretoService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,n){this.$q=e,this.serviceAgentExtended=t,this.utileCommunService=n}return e.prototype.construireEntete=function(e,t,n){var i=this,r=[],o={};o.logoEtablissement={},o.logoEtablissement.attributeContent=MyWay.Services.Impression.TYPE_IMAGE.Id;var a=this.serviceAgentExtended.Context.GetAuthentificationInfo().then(function(e){o.logoEtablissement.valueImgJson=e.codeEtablissement+".jpg"}),c=this.serviceAgentExtended.Context.GetParametresComptables().then(function(e){o.libelleAgence=e.libelleEdsRattachementGuichetComptable,o.coceelAgence=e.edsExterneGuichetComptable,
o.nodatpAgence=e.numTelEdsRattachementGuichetComptable});o.dateEdition=moment().format("DD/MM/YYYY"),o.heureEdition=moment().format("HH:mm:ss"),o.numRefdoc=t,o.codeBarre=e,o.refActe=n;var s=[a,c];return this.$q.all(s).then(function(){return r.push(o),r})["catch"](function(e){return i.serviceAgentExtended.Trace.info(e.libelle),r.push(o),r})},e.$inject=["$q","serviceAgentExtended","utileCommunService"],e}();e.GenericEnteteEtsPreContratService=t,e.editiqueDatModule.service("genericEnteteEtsPreContratService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t,n,i,r,o,a,c,s,u,p,l,d,m){this.$q=e,this.serviceAgentExtended=t,this.genericEnteteEtsPreContratService=n,this.blocBandeauClientService=i,this.blocCapcielService=r,this.blocPrestanceService=o,this.blocCroissanceService=a,this.blocCatslrService=c,this.blocInflationeService=s,this.blocQuad0203Service=u,this.blocQuadretoService=p,this.dossierNumeriqueSignataireService=l,this.tiersNoyauService=d,this.utileCommunService=m,this.estPro=!1}return t.prototype.mappingModelGceRest=function(n,i,r,o){var a=this;this.contenuDocumentPreContrat=new e.sibcgcePrecontractuelles.SibcgcePrecontractuelles;var c;return null!==n?c=n.elementAEditer:null!==i&&(c=i.elementAEditer),o?(angular.isDefined(o.isPro)&&o.isPro===!0&&(this.estPro=!0),this.genericEnteteEtsPreContratService.construireEntete(null,null,null).then(function(e){return a.setNomPrenomAgent().then(function(){a.contenuDocumentPreContrat.genericEnteteets=e,a.listeSignatairesDelegataires=[];var t,c,s=[];o.panier&&o.panier.produitsServices&&o.panier.produitsServices.forEach(function(e){e.codeTypeProduitService===o.offre.codeTypeCompte&&(t=e.codeGuichet,c=e.referenceProduitService),s.push(e.codeTypeProduitService)});var u={codeActeGestion:o.offre.codeActeGestion,codeCanal:o.offre.codeCanal,identifiantEntiteTitulaire:o.offre.numeroEntiteTitulaire?o.offre.numeroEntiteTitulaire.toString():o.contexte.numeroEntiteTitulaire.toString(),identifiantPersonne:o.offre.numeroPersonneIdentifiee?o.offre.numeroPersonneIdentifiee.toString():o.contexte.numeroPersonne.toString(),isPro:a.estPro,listeCodeTypeProduitService:s};return c&&o.offre.codeTypeCompte&&(u.codePSCompteSupport=c,u.codeTypePSCompteSupport=o.offre.codeTypeCompte,u.codeGuichetCompteSupport=t),a.dossierNumeriqueSignataireService.getRequestDossierNumerique(u).then(function(e){return e},function(e){return null}).then(function(t){if(null!==t&&null!==t.delegataires&&null!==t.delegataires.personnes&&t.delegataires.personnes.length>0){var c={};return t.delegataires.personnes.forEach(function(e){var t={codeEtablissement:e.codeEtablissement,identifiantPersonne:e.identifiantPersonne};c[e.identifiantPersonne.toString()]=a.tiersNoyauService.getRequestTiersNoyau(t).then(function(e){return"à "+e.informationParticulier.libelleCommuneNaissance})["catch"](function(e){throw e.valeurs&&"PRESENCE_ERREUR_AVAL"!==e.valeurs[0]&&(e.libelle="'tiersNoyauService.getRequest.signataire.carte'.\n"+e.libelle,console.log(e.libelle),e.valeurs.unshift("PRESENCE_ERREUR_AVAL")),e})}),a.$q.all(c).then(function(c){return a.creerDocument(t,r,e,c,n,i,o)})}return a.creerDocument(t,r,e,null,n,i,o)})})})):this.genericEnteteEtsPreContratService.construireEntete(null,null,null).then(function(n){return a.setNomPrenomAgent().then(function(){return a.contenuDocumentPreContrat.genericEnteteets=n,c.forEach(function(n){switch(n.typeElement){case e.TypeElementPreContractuelle.BLOC_BANDEAU_CLIENT:var i=n.contenu.map;a.listeDesPersonnes=[],a.blocBandeauClientService.construireListeDesClients(i),a.blocBandeauClientService.construireBlocPersonnes(a.contenuDocumentPreContrat);break;case e.TypeElementPreContractuelle.BLOC_EDITION:switch(n.contenu.instance){case t.GENERIC_LIGNEVIDE:a.contenuDocumentPreContrat.genericLignevide=1;break;case t.GENERIC_SIGNATURE_STD_SANS_CNIL:a.construireBlocGenericSignatStdSansCnil(n.contenu);break;case t.GENERIC_TITREDOCUMENT:a.construireBlocTitreDocument(n.contenu);break;case t.SIGNAT_SANS_CNIL:a.construireBlocSignatSansCnil(n.contenu,r);break;case t.SIGNAT_SANS_CNIL_MEGI:a.construireBlocSignatSansCnilMEGI(n.contenu,r)}break;case e.TypeElementPreContractuelle.CAPCIEL:a.contenuDocumentPreContrat.capciel.push(a.blocCapcielService.construireBlocCapciel(n.contenu));break;case e.TypeElementPreContractuelle.CATSLR:a.contenuDocumentPreContrat.catslr.push(a.blocCatslrService.construireBlocCatslr(n.contenu));break;case e.TypeElementPreContractuelle.CROISSANCE:a.contenuDocumentPreContrat.croissance.push(a.blocCroissanceService.construireBlocCroissance(n.contenu));break;case e.TypeElementPreContractuelle.INFLATION:a.contenuDocumentPreContrat.inflation.push(a.blocInflationeService.construireBlocInflation(n.contenu));break;case e.TypeElementPreContractuelle.PRESTANCE:a.contenuDocumentPreContrat.prestance.push(a.blocPrestanceService.construireBlocPrestance(n.contenu));break;case e.TypeElementPreContractuelle.QUAD0203:a.contenuDocumentPreContrat.quad0203.push(a.blocQuad0203Service.construireBlocQuad0203(n.contenu));break;case e.TypeElementPreContractuelle.QUADRETO:a.contenuDocumentPreContrat.quadreto.push(a.blocQuadretoService.construireBlocQuadreto(n.contenu))}var o={};a.contenuDocumentPreContrat.genericPiedpageets=o}),a.contenuDocumentPreContrat})})},t.prototype.creerDocument=function(n,i,r,o,a,c,s){var u=this;this.contenuDocumentPreContrat.genericEnteteets=r,this.listeSignatairesDelegataires=[];var p;null!==a?p=a.elementAEditer:null!==c&&(p=c.elementAEditer);var l={},d=0;return p.forEach(function(e){var t=e.contenu.map;l[d.toString()]=u.blocBandeauClientService.construireListeDesClients(t,s),d+=1}),this.$q.all(l).then(function(r){var a=-1;return p.forEach(function(c){switch(a+=1,c.typeElement){case e.TypeElementPreContractuelle.BLOC_BANDEAU_CLIENT:if(u.blocBandeauClientService.listeDesClients=r[a.toString()],null!==n&&null!==n.delegataires&&null!==n.delegataires.personnes&&n.delegataires.personnes.length>0){var s=n.delegataires.personnes.length>1?"SIGNATAIRES DELEGATAIRES DUMENT HABILITES PAR LES REPRESENTANTS LEGAUX ":"SIGNATAIRE DELEGATAIRE DUMENT HABILITE PAR LES REPRESENTANTS LEGAUX ",p=[];n.delegataires.personnes.forEach(function(e){var t,n,i,r={},a={},c={};1===e.codeCivilite&&(t="Mme ",i="née le "),2===e.codeCivilite&&(t="Mlle ",i="née le "),3===e.codeCivilite&&(t="M. ",i="né le "),n=null!==e.nomUsage?e.nomUsage+" ":e.nomFamille+" ";var s=e.dateNaissance.substr(8,2)+"-"+e.dateNaissance.substr(5,2)+"-"+e.dateNaissance.substr(0,4);r.DADANA=i+s,r.NOM_PRENOM_CLIENT=t+n+e.prenom,r.LIDGIL_NAISSANCE=o[e.identifiantPersonne.toString()],a.infosPersonne=r,a.ELEMENT="INFOS_PERS",c=a,c.numeroPersonne=e.identifiantPersonne,p.push(c)}),u.blocBandeauClientService.construireListeDesClientsDelegataire(p,s)}u.blocBandeauClientService.construireBlocPersonnes(u.contenuDocumentPreContrat),u.listeDesPersonnes=[];break;case e.TypeElementPreContractuelle.BLOC_EDITION:switch(c.contenu.instance){case t.GENERIC_LIGNEVIDE:u.contenuDocumentPreContrat.genericLignevide=1;break;case t.GENERIC_SIGNATURE_STD_SANS_CNIL:u.construireBlocGenericSignatStdSansCnil(c.contenu);break;case t.GENERIC_TITREDOCUMENT:u.construireBlocTitreDocument(c.contenu);break;case t.SIGNAT_SANS_CNIL:u.construireBlocSignatSansCnil(c.contenu,i);break;case t.SIGNAT_SANS_CNIL_MEGI:u.construireBlocSignatSansCnilMEGI(c.contenu,i)}break;case e.TypeElementPreContractuelle.CAPCIEL:u.contenuDocumentPreContrat.capciel.push(u.blocCapcielService.construireBlocCapciel(c.contenu));break;case e.TypeElementPreContractuelle.CATSLR:u.contenuDocumentPreContrat.catslr.push(u.blocCatslrService.construireBlocCatslr(c.contenu));break;case e.TypeElementPreContractuelle.CROISSANCE:u.contenuDocumentPreContrat.croissance.push(u.blocCroissanceService.construireBlocCroissance(c.contenu));break;case e.TypeElementPreContractuelle.INFLATION:u.contenuDocumentPreContrat.inflation.push(u.blocInflationeService.construireBlocInflation(c.contenu));break;case e.TypeElementPreContractuelle.PRESTANCE:u.contenuDocumentPreContrat.prestance.push(u.blocPrestanceService.construireBlocPrestance(c.contenu));break;case e.TypeElementPreContractuelle.QUAD0203:u.contenuDocumentPreContrat.quad0203.push(u.blocQuad0203Service.construireBlocQuad0203(c.contenu));break;case e.TypeElementPreContractuelle.QUADRETO:u.contenuDocumentPreContrat.quadreto.push(u.blocQuadretoService.construireBlocQuadreto(c.contenu))}var l={};u.contenuDocumentPreContrat.genericPiedpageets=l}),u.contenuDocumentPreContrat})},t.prototype.construireBlocGenericSignatStdSansCnil=function(e){var t={};t.libDeladuEts=e.map.LIB_DELADU_ETS,t.prenomNomAgent=this.prenomNomAgent,this.contenuDocumentPreContrat.genericSignatureStdSansCnil=[],this.contenuDocumentPreContrat.genericSignatureStdSansCnil.push(t)},t.prototype.construireBlocSignatSansCnil=function(e,t){var n=this.utileCommunService.chercherLibNomAutre(t),i={};i.libDeladuEts=e.map.LIB_DELADU_ETS,i.prenomNomAgent=this.prenomNomAgent,i.libNomAutre=n,this.contenuDocumentPreContrat.signatSansCnil=[],this.contenuDocumentPreContrat.signatSansCnil.push(i)},t.prototype.construireBlocSignatSansCnilMEGI=function(e,t){var n={};n.libDeladuEts=e.map.LIB_DELADU_ETS,n.prenomNomAgent=e.map.PRENOM_NOM_AGENT,n.date=e.map.DATE_SIGNATURE,n.fonctionConseiller=e.map.FONCTION_CONSEILLER,n.signatureAgent={},n.signatureAgent.attributeContent=MyWay.Services.Impression.TYPE_IMAGE.Id,n.signatureAgent.valueImgJson="signature_"+this.codeEtablissement+".jpg",this.contenuDocumentPreContrat.signatSansCnilEpargneMegi=[],this.contenuDocumentPreContrat.signatSansCnilEpargneMegi.push(n)},t.prototype.setNomPrenomAgent=function(){var e=this;return this.serviceAgentExtended.getAuthentificationInfo().then(function(t){t.agentConnecte.nomUsagePersonnePhysique&&null!==t.agentConnecte.nomUsagePersonnePhysique&&""!==t.agentConnecte.nomUsagePersonnePhysique?e.prenomNomAgent=t.agentConnecte.nomUsagePersonnePhysique+" "+t.agentConnecte.prenom:e.prenomNomAgent=t.agentConnecte.nomFamillePersonnePhysique+" "+t.agentConnecte.prenom,e.codeEtablissement=t.codeEtablissement})},t.prototype.construireBlocTitreDocument=function(e){this.contenuDocumentPreContrat.genericTitredocument=[];var t={};t.titreDocument=e.map.TITRE_DOCUMENT,this.contenuDocumentPreContrat.genericTitredocument.push(t)},t.$inject=["$q","serviceAgentExtended","genericEnteteEtsPreContratService","blocBandeauClientService","blocCapcielService","blocPrestanceService","blocCroissanceService","blocCatslrService","blocInflationeService","blocQuad0203Service","blocQuadretoService","AppelRestDossierNumeriqueSignataireService","AppelRestTiersNoyauService","utileCommunService"],t.INFOS_PERS="INFOS_PERS",t.INFOS_PERS2="INFOS_PERS2",t.INFOS_PERS3="INFOS_PERS3",t.INFOS_PERS4="INFOS_PERS4",t.GENERIC_SIGNATURE_STD_SANS_CNIL="GENERIC_SIGNATURE_STD_SANS_CNIL",t.GENERIC_TITREDOCUMENT="GENERIC_TITREDOCUMENT",t.GENERIC_LIGNEVIDE="GENERIC_LIGNEVIDE",t.SIGNAT_SANS_CNIL="SIGNAT_SANS_CNIL",t.SIGNAT_SANS_CNIL_MEGI="SIGNAT_SANS_CNIL_MEGI",t}();e.MappingModelGcePreContratRestService=t,e.editiqueDatModule.service("mappingModelGcePreContratRestService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t,this.url="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/dossiervente-v1/gestionDossierVente"}return e.prototype.getDossierVente=function(e){return this.serviceAgentExtended.sendRequest({url:this.url,withHeaders:!0,params:e,method:MyWay.Services.MethodEnum.GET}).then(function(e){var t=new GestionGeneriqueOffres.Types.DossierDeVente.GestionDossierVente(GestionGeneriqueOffres.Types.DossierDeVente.InitMode.Basique,e);return t})},e.$inject=["$q","serviceAgentExtended"],e}();e.DossierVenteService=t,e.editiqueDatModule.service("dossierVenteService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t){this.serviceAgentExtended=e,this.utileCommunService=t,this.editCondPartURL="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/contratdatservice/v1/editCondPart"}return t.prototype.initQueryBodyEditCondPart=function(e){this.initQueryEditCondPart(e),this.initBodyEditCondPart(e)},t.prototype.initQueryEditCondPart=function(t){this.editCondPartParams=new e.sipxgceDatRembNpy5o01.EditCondPartParams;var n=t.contexte;this.editCondPartParams.numeroEntiteTitulaire=n.numeroEntiteTitulaire,this.editCondPartParams.numeroPersonne=n.numeroPersonne,this.editCondPartParams.codeAction=this.obtenirCodeAction(t),this.editCondPartParams.codeCanal=t.offre.codeCanal},t.prototype.obtenirCodeAction=function(e){var t=e.offre.codeActeGestion.substring(0,2);return t},t.prototype.initBodyEditCondPart=function(t){this.editCondPart=new e.sipxgceDatRembNpy5o01.EditCondPart,this.editCondPart.infosProduit=new e.sipxgceDatRembNpy5o01.InfosProduit,this.editCondPart.infosProduit.caracteristiqueProduit=new e.sipxgceDatRembNpy5o01.CaracteristiqueProduit;var n=t.contexte;this.editCondPart.infosProduit.caracteristiqueProduit.numeroRICEDAT=this.utileCommunService.obtenitRICEavecCle(n.numeroRICEDAT)},t.prototype.postEditCondPart=function(){return this.serviceAgentExtended.sendRequest({url:this.editCondPartURL,withHeaders:!0,params:this.editCondPartParams,data:this.editCondPart,method:MyWay.Services.MethodEnum.POST,responseType:MyWay.Services.ResponseTypeEnum.JSON}).then(function(e){return e})},t.$inject=["serviceAgentExtended","utileCommunService"],t}();e.EditConditionParticuliereService=t,e.editiqueDatModule.service("editConditionParticuliereService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t){this.serviceAgentExtended=e,this.utileCommunService=t,this.editPreContratDatURL="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/contratdatservice/v1/editPreContratDAT"}return t.prototype.initQueryBodyEditPreContratDAT=function(e){this.initQueryEditPreContratDAT(e),this.initBodyEditPreContratDAT(e)},t.prototype.initQueryEditPreContratDAT=function(t){this.editPreContratDATParams=new e.sibcgcePrecontractuelles.EditPreContratDATParams;var n=t.contexte;console.log("XXXXX editPreContratDATService => initQueryEditPreContratDAT : contexteEditiqueDAT",n),this.editPreContratDATParams.numeroEntiteTitulaire=n.numeroEntiteTitulaire,this.editPreContratDATParams.numeroPersonne=n.numeroPersonne,t.offre&&t.offre.codeActeGestion&&(this.editPreContratDATParams.codeAction=t.offre.codeActeGestion.slice(0,2)),this.editPreContratDATParams.codeCanal=t.offre.codeCanal},t.prototype.initBodyEditPreContratDAT=function(t){this.editPreContratDAT=new e.sibcgcePrecontractuelles.EditPreContratDAT,this.editPreContratDAT.infosProduit=new e.sibcgcePrecontractuelles.InfosProduit;var n=t.contexte;this.editPreContratDAT.infosProduit.numeroRICEDAT=this.utileCommunService.obtenitRICEavecCle(n.numeroRICEDAT)},t.prototype.postEditPreContratDAT=function(){return console.log("XXXXX editPreContratDATService => postEditPreContratDAT : editPreContratDATParams",this.editPreContratDATParams),console.log("XXXXX editPreContratDATService => postEditPreContratDAT : data editPreContratDAT",this.editPreContratDAT),this.serviceAgentExtended.sendRequest({url:this.editPreContratDatURL,withHeaders:!0,params:this.editPreContratDATParams,data:this.editPreContratDAT,method:MyWay.Services.MethodEnum.POST,responseType:MyWay.Services.ResponseTypeEnum.JSON}).then(function(e){return console.log("XXXXX editPreContratDATService => postEditPreContratDAT / THEN : retourEditPreContratDAT",e),e})},t.$inject=["serviceAgentExtended","utileCommunService"],t}();e.EditPreContratDATService=t,e.editiqueDatModule.service("editPreContratDATService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict"}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,n){this.$q=e,this.serviceAgentExtended=t,this.identifiantBordereauService=n}return e.prototype.getContexteOperationFinanciere=function(){var e={},t=this.serviceAgentExtended.Context.GetAuthentificationInfo().then(function(t){e.codeEtablissement=t.codeEtablissement,e.referenceExterneAgent=t.agentConnecte.referenceExterneAgent}),n=this.serviceAgentExtended.getFromContext("NumBordereau").then(function(t){e.identifiantBordereau=t}),i=this.serviceAgentExtended.Context.GetParametresComptables().then(function(t){e.libelleEdsRattachementGuichetComptable=t.libelleEdsRattachementGuichetComptable,e.edsExterneRattachementGuichetComptable=t.edsExterneRattachementGuichetComptable,e.numTelEdsRattachementguichetComptable=t.numTelEdsRattachementGuichetComptable,e.dateOperationJourneeComptable=t.dateOperationJourneeComptable,e.edsExterneGuichetComptable=t.edsExterneGuichetComptable});return this.$q.all([t,i,n]).then(function(){return e})},e.$inject=["$q","serviceAgentExtended","identifiantBordereauService"],e}();e.BordereauOperationService=t,e.editiqueDatModule.service("creationBordereauService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},myway;!function(e){var t;!function(t){var n;!function(t){"use strict";var n=function(){function e(e,t){this.documentAImprimer=e,this.nomTypeDocument=t}return e.prototype.creerDocumentAGenerer=function(e,t){var n=this;return this.getDocumentAGenerer(e.contexteEditique,t,e.estEnVAD()).then(function(e){return n.documentAGenerer=e,e&&(e.impressionParams=n.getImpressionParams(),e.nomTypeDocument=n.nomTypeDocument),e})["catch"](function(e){return console.log(e.libelle),null})},e.prototype.stringToObjetRice=function(e,t,n){var i;return null===e||void 0===e?new MyWay.Model.Rice:e.length<19?(i=new MyWay.Model.Rice(t,n),angular.isDefined(i.cleRice)||(i.cleRice=this.riceKeyCalculator(i)),i):(i=e.length<23?new MyWay.Model.Rice(e.substr(0,5),e.substr(5,5),e.substr(10,2),e.substr(12,7),e.substr(19,2)):new MyWay.Model.Rice(e.substr(0,5),e.substr(5,5),e.substr(10,2),e.substr(12,7),e.substr(19,2),e.substr(21,2)),angular.isDefined(i.cleRice)||(i.cleRice=this.riceKeyCalculator(i)),i)},e.prototype.riceKeyCalculator=function(e){var t,n=null;if("string"==typeof e.codeGuichet&&(t=String(e.codeGuichet)),"object"==typeof e.codeGuichet&&e.codeGuichet&&(t=String(e.codeGuichet.value)),e.codeEtablissement&&t&&e.codeActiviteCompte&&e.radical&&e.cleCompte){var i=this.transformAlphaToNumeric(e.codeActiviteCompte).join(""),r=this.transformAlphaToNumeric(e.radical).join(""),o=this.transformAlphaToNumeric(e.cleCompte).join(""),a=e.codeEtablissement.concat(t).concat(i).concat(r).concat(o),c=a.substring(0,9);n=String(parseInt(c,10)%97),c=n.concat(a.substring(9,16)),n=String(parseInt(c,10)%97),c=n.toString().concat(a.substring(16,21)),n=String(97-100*parseInt(c,10)%97),1===n.length&&(n="0".concat(n))}return n},e.prototype.transformAlphaToNumeric=function(e){var t=[],n={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,J:1,K:2,L:3,M:4,N:5,O:6,P:7,Q:8,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9};return angular.forEach(e.toUpperCase(),function(e,t){if(isNaN(e))for(var i in n)e===i&&this.push(n[i]);else this.push(e)},t),t},e.prototype.getDocumentAGenerer=function(e,t,n){return null},e.prototype.setParamsOptionnelsArchivage=function(e,t,n,i){t.nomFichier=e.libelleDocument,n&&(i.parametresGenerationFichier.typeFichier=MyWay.Services.Fichier.TYPE_FICHIER.PDFA_1B,t.archivage.aQstnCreerDoc.document.proprietesDoc.datePerm=moment().add(60,"day").toDate(),t.archivage.gceContextSoapHeader.codeTypeIdntExtn="W",t.archivage.gceContextSoapHeader.idntAgnt="A"+n.agentConnecte.referenceExterneAgent,t.archivage.gceContextSoapHeader.idntAgntAcces="A"+n.agentConnecte.referenceExterneAgent,t.archivage.gceContextSoapHeader.idntAgntTech="T"+n.agentConnecte.referenceExterneAgent,t.archivage.gceContextSoapHeader.idntExtnConx=n.agentConnecte.referenceExterneAgent,t.archivage.gceContextSoapHeader.idntInteEdsAgnt=n.agentConnecte.referenceExterneAgent,t.archivage.gceContextSoapHeader.idntEtabEntt=n.codeEtablissement,t.archivage.gceContextSoapHeader.refrExtnAgnt=n.agentConnecte.referenceExterneAgent,t.archivage.gceContextSoapHeader.refrPosteFoncAgnt=n.agentConnecte.numeroInterneEds,t.archivage.gceContextSoapHeader.typePrflAgnt="2",t.archivage.gceContextSoapHeader.extendedProperties="1",t.archivage.aQstnCreerDoc.donnCntx.codeEtablissement=n.codeEtablissement,t.archivage.aQstnCreerDoc.donnCntx.idntCmpstApplf="CONTELEC",t.archivage.aQstnCreerDoc.document.fichierDoc.nomFich=e.libelleDocument+".pdf",this.setProprietesDocument(e,t.archivage.aQstnCreerDoc.document.proprietesDoc))},e.prototype.setProprietesDocument=function(e,t,n){t.codeTypeNatrDoc=e.codeNatureGED,t.codeTypeAttrb=e.codeTypeAttributaire,t.idntAttrb=n?"999999999":e.identifiantAttributaire,t.inttAttr=""!==e.intituleAttributaire?e.intituleAttributaire:e.codeNatureGED,t.codeTypeStck="L",t.dateDeliv=new Date,t.dateNumr=new Date,t.datePerm=moment().add(60,"day").toDate()},e.prototype.setParametresActiveXIndividuels=function(e,t){t.maxcop=e.maximumExemplaires,t.mincop=e.minimumExemplaires,t.nbcopiesdef=e.nbParDefautExemplaires,t.voir=!0,t.enregistrer=!0},e.prototype.getImpressionParams=function(){var e=this.creerImpressionParams(),t=this.getNomFichier();return t||(t=this.documentAGenerer.libelleDocument),e.obligatoires.nomFichier=t,angular.isDefined(this.documentAGenerer)&&null!==this.documentAGenerer&&angular.isDefined(this.documentAGenerer.parametresActiveX)&&null!==this.documentAGenerer.parametresActiveX&&(e.optionnels.parametresActiveXIndividuels=this.documentAGenerer.parametresActiveX),e},e.prototype.creerImpressionParams=function(){var e={};return e.obligatoires={},e.optionnels={},e},e.prototype.getNomFichier=function(){return null},e}();t.DescriptionDocument=n;var i=function(n){function i(e,t,i,r){n.call(this,e,"Bordereau de rétractation"),this.documentAImprimer=e,this.serviceAgentExtended=t,this.parametrageBordereauRetractationService=i,this.$q=r}return __extends(i,n),i.prototype.getDocumentAGenerer=function(e,n,i){var r=this,o=this.$q.defer();return this.parametrageBordereauRetractationService.getDocument(this.documentAImprimer,e,n).then(function(e){var i={};i.identifiant=t.CodeTypeDocument.BORE,i.document=e.document,i.libelleDocument=e.libelleDocument,i.parametresActiveX=e.parametresActiveX,console.log("XXXX DescriptionDocument -> getDocumentAGenerer / parametrageBordereauRetractationService : bordereauRetractation",i),i.generateurDocument=function(e){return r.genererDocument(e,n,r.documentAImprimer.codeNatureGED)},o.resolve(i)})["catch"](function(e){e.libelle="Erreur lors de l'appel à parametrageBordereauRetractationService",r.serviceAgentExtended.Trace.error(e.libelle),o.reject(e)}),o.promise},i.prototype.genererDocument=function(t,n,i){console.log("XXXX DescriptionBordereauRetractation -> genererDocument : documentAGenerer",t);var r=new e.trans.offreCommun.editique.BordereauRetractation.BordereauDeRetractationArchiverParams;return r.obligatoires.action=MyWay.Services.Impression.GENERATION_ACTION.archiver,r.obligatoires.parametresGenerationFichier.restitutionVersion=MyWay.Services.Impression.RESTITUTION_VERSION.V180,r.obligatoires.parametresGenerationFichier.typeFichier=MyWay.Services.Fichier.TYPE_FICHIER.PDFA_1B,r.optionnels.nomFichier="BordereauDeRetractation.pdf",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.datePerm=moment().add(60,"day").toDate(),r.optionnels.archivage.gceContextSoapHeader.codeTypeIdntExtn="W",r.optionnels.archivage.gceContextSoapHeader.idntAgnt="A"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntAgntAcces="A"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntAgntTech="T"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntExtnConx=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntInteEdsAgnt=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntEtabEntt=n.codeEtablissement,r.optionnels.archivage.gceContextSoapHeader.refrExtnAgnt=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.refrPosteFoncAgnt=n.agentConnecte.numeroInterneEds,r.optionnels.archivage.gceContextSoapHeader.typePrflAgnt="2",r.optionnels.archivage.gceContextSoapHeader.extendedProperties="1",r.optionnels.archivage.aQstnCreerDoc.donnCntx.codeEtablissement=n.codeEtablissement,r.optionnels.archivage.aQstnCreerDoc.donnCntx.idntCmpstApplf="CONTELEC",r.optionnels.archivage.aQstnCreerDoc.document.fichierDoc.nomFich=t.libelleDocument+".pdf",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeNatrDoc=i,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeAttrb="1",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.idntAttrb=n.codeEtablissement+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.inttAttr="Bordereau",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeStck="L",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.dateDeliv=new Date,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.dateNumr=new Date,this.serviceAgentExtended.Impression.generer(t.document,r).then(function(e){return{IdntPJ:e.IdntPJ}})["catch"](function(e){return console.log(e.libelle),null})},i.prototype.creerImpressionParams=function(){return new e.trans.offreCommun.editique.BordereauRetractation.BordereauDeRetractationImpressionParams},i.prototype.getNomFichier=function(){return"BordereauDeRetractation.pdf"},i}(n);t.DescriptionBordereauRetractation=i;var r=function(n){function i(e,t,i,r){n.call(this,e,"ACDB"),this.documentAImprimer=e,this.serviceAgentExtended=t,this.creationAutorisationCommunicationDonneesBancairesService=i,this.$q=r}return __extends(i,n),i.prototype.getDocumentAGenerer=function(e,n,i){var r=this,o=this.$q.defer();return this.creationAutorisationCommunicationDonneesBancairesService.getDocument(this.documentAImprimer,e,n).then(function(e){if(angular.isDefined(e)&&null!==e)if(angular.isDefined(e.document)&&null!==e.document){var i={};i.identifiant=t.CodeTypeDocument.ACDB,i.document=e.document,i.libelleDocument=e.libelleDocument,i.parametresActiveX=e.parametresActiveX,i.generateurDocument=function(e){return r.genererDocument(e,n,r.documentAImprimer.codeNatureGED)},o.resolve(i)}else{var a="pas de acdbDocument.document";r.serviceAgentExtended.Trace.info(a),o.resolve(null)}else{var a="pas de acdbDocument";r.serviceAgentExtended.Trace.info(a),o.resolve(null)}})["catch"](function(e){e.libelle="Erreur lors de l'appel à parametrageBordereauRetractationService",r.serviceAgentExtended.Trace.error(e.libelle),o.reject(e)}),o.promise},i.prototype.genererDocument=function(t,n,i){console.log("XXXX AutorisationCommunicationDonneesBancaires -> genererDocument : documentAGenerer",t);var r=new e.trans.offreCommun.editique.AutorisationCommunicationDonneesBancaires.AutorisationCommunicationDonneesBancairesArchiverParams;return r.obligatoires.action=MyWay.Services.Impression.GENERATION_ACTION.archiver,r.obligatoires.parametresGenerationFichier.restitutionVersion=MyWay.Services.Impression.RESTITUTION_VERSION.V180,r.obligatoires.parametresGenerationFichier.typeFichier=MyWay.Services.Fichier.TYPE_FICHIER.PDFA_1B,r.optionnels.nomFichier="ACDB.pdf",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.datePerm=moment().add(60,"day").toDate(),r.optionnels.archivage.gceContextSoapHeader.codeTypeIdntExtn="W",r.optionnels.archivage.gceContextSoapHeader.idntAgnt="A"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntAgntAcces="A"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntAgntTech="T"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntExtnConx=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntInteEdsAgnt=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntEtabEntt=n.codeEtablissement,r.optionnels.archivage.gceContextSoapHeader.refrExtnAgnt=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.refrPosteFoncAgnt=n.agentConnecte.numeroInterneEds,r.optionnels.archivage.gceContextSoapHeader.typePrflAgnt="2",r.optionnels.archivage.gceContextSoapHeader.extendedProperties="1",r.optionnels.archivage.aQstnCreerDoc.donnCntx.codeEtablissement=n.codeEtablissement,r.optionnels.archivage.aQstnCreerDoc.donnCntx.idntCmpstApplf="CONTELEC",r.optionnels.archivage.aQstnCreerDoc.document.fichierDoc.nomFich=t.libelleDocument+".pdf",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeNatrDoc=i,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeAttrb="1",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.idntAttrb=n.codeEtablissement+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.inttAttr="Autorisation",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeStck="L",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.dateDeliv=new Date,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.dateNumr=new Date,this.serviceAgentExtended.Impression.generer(t.document,r).then(function(e){return{IdntPJ:e.IdntPJ}})["catch"](function(e){return console.log(e.libelle),null})},i.prototype.creerImpressionParams=function(){return new e.trans.offreCommun.editique.AutorisationCommunicationDonneesBancaires.AutorisationCommunicationDonneesBancairesImpressionParams},i.prototype.getNomFichier=function(){return"ACDB.pdf"},i}(n);t.AutorisationCommunicationDonneesBancaires=r;var o=function(n){function i(e,t,i,r,o){n.call(this,e,"Liste Pièces Justificatives"),this.documentAImprimer=e,this.serviceAgentExtended=t,this.parametrageListePiecesJustificativesService=i,this.entiteTitulaireAjaxImplService=r,this.$q=o}return __extends(i,n),i.prototype.getDocumentAGenerer=function(e,n,i){var r=this,o=this.$q.defer(),a={codeEtablissement:e.offre.codeEtablissement,identifiantEntiteTitulaire:e.offre.numeroEntiteTitulaire};return this.entiteTitulaireAjaxImplService.sendGetRequest(a).then(function(i){e.identifiantEDSDomiciliation=i.caracteristiqueEntiteTitulaire.identifiantEDSDomiciliationEntiteTitulaire,r.parametrageListePiecesJustificativesService.getDocument(r.documentAImprimer,e,n).then(function(i){if(e.offre.presencePJ){var a={};a.identifiant=t.CodeTypeDocument.PJVM,a.document=i.document,a.libelleDocument=i.libelleDocument,a.parametresActiveX=i.parametresActiveX,a.generateurDocument=function(e){return r.genererDocument(e,n,r.documentAImprimer.codeNatureGED)},o.resolve(a)}else{var c="Pas de contexteEditique.offre.presencePJ";r.serviceAgentExtended.Trace.info(c),o.resolve(null)}})["catch"](function(e){e.libelle="Erreur lors de l'appel à parametrageListePiecesJustificativesService.getDocument",r.serviceAgentExtended.Trace.error(e.libelle),o.reject(e)})})["catch"](function(e){e.libelle="Erreur lors de l'appel à entiteTitulaireAjaxImplService.sendGetRequest",r.serviceAgentExtended.Trace.error(e.libelle),o.reject(e)}),o.promise},i.prototype.genererDocument=function(t,n,i){console.log("XXXX ListePiecesJustif -> genererDocument : documentAGenerer",t);var r=new e.trans.offreCommun.editique.ListePiecesJustificatives.ListePiecesJustificativesArchiverParams;return r.obligatoires.action=MyWay.Services.Impression.GENERATION_ACTION.archiver,
r.obligatoires.parametresGenerationFichier.restitutionVersion=MyWay.Services.Impression.RESTITUTION_VERSION.V180,r.obligatoires.parametresGenerationFichier.typeFichier=MyWay.Services.Fichier.TYPE_FICHIER.PDFA_1B,r.optionnels.nomFichier="ListePiecesJustificatives.pdf",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.datePerm=moment().add(60,"day").toDate(),r.optionnels.archivage.gceContextSoapHeader.codeTypeIdntExtn="W",r.optionnels.archivage.gceContextSoapHeader.idntAgnt="A"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntAgntAcces="A"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntAgntTech="T"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntExtnConx=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntInteEdsAgnt=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntEtabEntt=n.codeEtablissement,r.optionnels.archivage.gceContextSoapHeader.refrExtnAgnt=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.refrPosteFoncAgnt=n.agentConnecte.numeroInterneEds,r.optionnels.archivage.gceContextSoapHeader.typePrflAgnt="2",r.optionnels.archivage.gceContextSoapHeader.extendedProperties="1",r.optionnels.archivage.aQstnCreerDoc.donnCntx.codeEtablissement=n.codeEtablissement,r.optionnels.archivage.aQstnCreerDoc.donnCntx.idntCmpstApplf="CONTELEC",r.optionnels.archivage.aQstnCreerDoc.document.fichierDoc.nomFich=t.libelleDocument+".pdf",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeNatrDoc=i,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeAttrb="1",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.idntAttrb=n.codeEtablissement+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.inttAttr="Liste PJ",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeStck="L",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.dateDeliv=new Date,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.dateNumr=new Date,this.serviceAgentExtended.Impression.generer(t.document,r).then(function(e){return{IdntPJ:e.IdntPJ}})["catch"](function(e){return console.log(e.libelle),null})},i.prototype.creerImpressionParams=function(){return new e.trans.offreCommun.editique.ListePiecesJustificatives.ListePiecesJustificativesImpressionParams},i.prototype.getNomFichier=function(){return"Pieces Justificatives.pdf"},i}(n);t.ListePiecesJustif=o;var a=function(n){function i(e,t,i,r,o){n.call(this,e,"Lettre Accompagnement"),this.documentAImprimer=e,this.serviceAgentExtended=t,this.parametrageLettreAccompagnementService=i,this.tiersNoyauService=r,this.$q=o}return __extends(i,n),i.prototype.getDocumentAGenerer=function(e,n,i){var r,o=this,a=this.$q.defer();return r=e.echeancier.identifiantDossierVirementSepa?"O":"N",this.obtenirIndicateurAcdb(e).then(function(i){o.obtenirIndicateurPrct(e).then(function(c){o.parametrageLettreAccompagnementService.getDocument(o.documentAImprimer,e,n,r,i,c).then(function(e){if(null===e.document){var i={};i.libelle="Erreur lors de l'appel à parametrageLettreAccompagnementService.getDocument",o.serviceAgentExtended.Trace.error(i.libelle),a.reject(i)}else{var r={};r.identifiant=t.CodeTypeDocument.LA09,r.document=e.document,r.libelleDocument=e.libelleDocument,r.parametresActiveX=e.parametresActiveX,r.generateurDocument=function(e){return o.genererDocument(e,n,o.documentAImprimer.codeNatureGED)},a.resolve(r)}})["catch"](function(e){e.libelle="Erreur lors de l'appel à parametrageLettreAccompagnementService.getDocument",o.serviceAgentExtended.Trace.error(e.libelle),a.reject(e)})})["catch"](function(e){var t="pas de obtenirIndicateurPrct";o.serviceAgentExtended.Trace.info(t),a.resolve(null)})})["catch"](function(e){var t="pas de obtenirIndicateurAcdb";o.serviceAgentExtended.Trace.info(t),a.resolve(null)}),a.promise},i.prototype.obtenirIndicateurAcdb=function(e){var n=new t.Imprimerie(e.contractualisationActe.documentsAImprimer,e,this.tiersNoyauService);return n.contientUneACDB()?n.besoinACDB():this.$q.when(!1)},i.prototype.obtenirIndicateurPrct=function(e){var n=new t.Imprimerie(e.contractualisationActe.documentsAImprimer,e,this.tiersNoyauService);return n.contientUnePRCT()?this.$q.when(!0):this.$q.when(!1)},i.prototype.genererDocument=function(t,n,i){console.log("XXXX LettreAccompagnement -> genererDocument : documentAGenerer",t);var r=new e.trans.offreCommun.editique.lettreAccompagnement.LettreAccompagnementArchiverParams;return r.obligatoires.action=MyWay.Services.Impression.GENERATION_ACTION.archiver,r.obligatoires.parametresGenerationFichier.restitutionVersion=MyWay.Services.Impression.RESTITUTION_VERSION.V180,r.obligatoires.parametresGenerationFichier.typeFichier=MyWay.Services.Fichier.TYPE_FICHIER.PDFA_1B,r.optionnels.nomFichier="LettreAccompagnement.pdf",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.datePerm=moment().add(60,"day").toDate(),r.optionnels.archivage.gceContextSoapHeader.codeTypeIdntExtn="W",r.optionnels.archivage.gceContextSoapHeader.idntAgnt="A"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntAgntAcces="A"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntAgntTech="T"+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntExtnConx=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntInteEdsAgnt=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.idntEtabEntt=n.codeEtablissement,r.optionnels.archivage.gceContextSoapHeader.refrExtnAgnt=n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.gceContextSoapHeader.refrPosteFoncAgnt=n.agentConnecte.numeroInterneEds,r.optionnels.archivage.gceContextSoapHeader.typePrflAgnt="2",r.optionnels.archivage.gceContextSoapHeader.extendedProperties="1",r.optionnels.archivage.aQstnCreerDoc.donnCntx.codeEtablissement=n.codeEtablissement,r.optionnels.archivage.aQstnCreerDoc.donnCntx.idntCmpstApplf="CONTELEC",r.optionnels.archivage.aQstnCreerDoc.document.fichierDoc.nomFich=t.libelleDocument+".pdf",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeNatrDoc=i,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeAttrb="1",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.idntAttrb=n.codeEtablissement+n.agentConnecte.referenceExterneAgent,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.inttAttr="LettreAcc",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.codeTypeStck="L",r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.dateDeliv=new Date,r.optionnels.archivage.aQstnCreerDoc.document.proprietesDoc.dateNumr=new Date,this.serviceAgentExtended.Impression.generer(t.document,r).then(function(e){return{IdntPJ:e.IdntPJ}})["catch"](function(e){return console.log(e.libelle),null})},i.prototype.creerImpressionParams=function(){return new e.trans.offreCommun.editique.lettreAccompagnement.LettreAccompagnementImpressionParams},i.prototype.getNomFichier=function(){return"Lettre Accompagnement.pdf"},i}(n);t.LettreAccompagnement=a;var c=function(n){function i(e,t,i,r,o,a,c,s){n.call(this,e,"Bordereau d'opération"),this.documentAImprimer=e,this.creationBordereauService=t,this.impressionBordereauService=i,this.serviceAgentExtended=r,this.gestionDossierVenteService=o,this.opeFiService=a,this.postOpeFiService=c,this.$q=s}return __extends(i,n),i.prototype.getDocumentAGenerer=function(n,i,r){var o,a=this,c={},s="Bord_"+_.padLeft(this.paddy(n.offre.numeroPersonneIdentifiee.toString(),9,"0")+"_"+n.bordereau.identifiantBordereau);return this.serviceAgentExtended.getFromContext(s).then(function(r){if(null===r&&"FF"!==n.offre.codeCanal)return a.creationBordereauService.getContexteOperationFinanciere().then(function(r){var s={codeActionContexte:"COCO",codeCanalContexte:n.offre.codeCanal,codeEdsInternePFContexte:parseInt(i.agentConnecte.numeroInterneEds),codeEntiteVenteContexte:n.codeEntiteVente,codeEtablissement:n.offre.codeEtablissement,codeSensCommunicationContexte:"E",identifiantDossierVente:n.identifiantDossierVente,indicRestCheminAvancement:"N",indicRestCompoDetail:"D",referenceExterneAgentContexte:parseInt(i.agentConnecte.referenceExterneAgent),typeAppelant:"I",typeEdsExterneContexte:i.agentConnecte.typeEds};return a.gestionDossierVenteService.getDossierVente(s).then(function(i){var s,u={numeroPersonne:"",codeModeFinancier:"",montant:0,referenceIdentite:"",libelleLongOpeFi:"",libelleCourtOpeFi:"",dateValeur:new Date,codeDevise:"",modeFiEspecesEtEspecesDivers:null,modeFiCheque:null,modeFiVirInterne:null,modeFiOD:null,modeFiChequeBanque:null,codeOperation:"",estMajeur:!0,version:""},p=i.donneePrincipale.identifiantContratSupport;return i.listeCompositionDossier.forEach(function(t){t.listeCompositionDonneeDetail.forEach(function(t){if("DATA0-0"===t.referenceExterneData&&-1!==t.donneeData.indexOf("operationFinanciereDV")){switch(s=JSON.parse(t.donneeData),s.operationFinanciereDV.operationFinanciere.codeModeFinancier){case"00":u.modeFiOD=new e.comOpesFinancieres.Model.ModeFinancierOperationDiverse,u.modeFiOD.codeFamille=s.operationFinanciereDV.operationFinanciere.modeFiOD.codeFamille,u.modeFiOD.codeType=s.operationFinanciereDV.operationFinanciere.modeFiOD.codeType,u.modeFiOD.codeGuichet=s.operationFinanciereDV.operationFinanciere.modeFiOD.codeGuichet,u.modeFiOD.libelle1SaisiOD=s.operationFinanciereDV.operationFinanciere.modeFiOD.libelle1SaisiOD,u.modeFiOD.libelle2SaisiOD=s.operationFinanciereDV.operationFinanciere.modeFiOD.libelle2SaisiOD,u.modeFiOD.codeTransaction=s.operationFinanciereDV.operationFinanciere.modeFiOD.codeTransaction;break;case"01":u.modeFiEspecesEtEspecesDivers=new e.comOpesFinancieres.Model.ModeFinancierEspecesEtEspecesDivers,u.modeFiEspecesEtEspecesDivers.monnaieBilleterie=s.operationFinanciereDV.operationFinanciere.modeFiEspecesEtEspecesDivers.monnaieBilleterie,u.modeFiEspecesEtEspecesDivers.coupure=new MyWay.Model.Coupure,u.modeFiEspecesEtEspecesDivers.coupure.b100=s.operationFinanciereDV.operationFinanciere.modeFiEspecesEtEspecesDivers.coupure.b100,u.modeFiEspecesEtEspecesDivers.coupure.b200=s.operationFinanciereDV.operationFinanciere.modeFiEspecesEtEspecesDivers.coupure.b200,u.modeFiEspecesEtEspecesDivers.coupure.b50=s.operationFinanciereDV.operationFinanciere.modeFiEspecesEtEspecesDivers.coupure.b50;break;case"02":u.modeFiCheque=new e.comOpesFinancieres.Model.ModeFinancierCheque,u.modeFiCheque.delaiEncaissement=s.operationFinanciereDV.operationFinanciere.modeFiCheque.delaiEncaissement;break;case"06":u.modeFiVirInterne=new e.comOpesFinancieres.Model.ModeFinancierVirInterne,u.modeFiVirInterne.numeroRice=s.operationFinanciereDV.operationFinanciere.modeFiVirInterne.numeroRice,u.modeFiVirInterne.estVirementInterneSelectionne=s.operationFinanciereDV.operationFinanciere.modeFiVirInterne.estVirementInterneSelectionne;break;case"07":u.modeFiEspecesEtEspecesDivers=new e.comOpesFinancieres.Model.ModeFinancierEspecesEtEspecesDivers,u.modeFiEspecesEtEspecesDivers.monnaieBilleterie=s.operationFinanciereDV.operationFinanciere.modeFiEspecesEtEspecesDivers.monnaieBilleterie,u.modeFiEspecesEtEspecesDivers.coupure=new MyWay.Model.Coupure,u.modeFiEspecesEtEspecesDivers.coupure.b100=s.operationFinanciereDV.operationFinanciere.modeFiEspecesEtEspecesDivers.coupure.b100,u.modeFiEspecesEtEspecesDivers.coupure.b200=s.operationFinanciereDV.operationFinanciere.modeFiEspecesEtEspecesDivers.coupure.b200,u.modeFiEspecesEtEspecesDivers.presenceReferenceEnveloppe=s.operationFinanciereDV.operationFinanciere.modeFiEspecesEtEspecesDivers.presenceReferenceEnveloppe,u.modeFiEspecesEtEspecesDivers.referenceEnveloppeIsCocher=s.operationFinanciereDV.operationFinanciere.modeFiEspecesEtEspecesDivers.referenceEnveloppeIsCocher,u.modeFiEspecesEtEspecesDivers.numeroReferenceEnveloppe=s.operationFinanciereDV.operationFinanciere.modeFiEspecesEtEspecesDivers.numeroReferenceEnveloppe;break;case"10":u.modeFiChequeBanque=new e.comOpesFinancieres.Model.ModeFinanciereChequeBanque,u.modeFiChequeBanque.chequeDeBanque=new e.comOpesFinancieres.Model.ChequeBanque,u.modeFiChequeBanque.chequeDeBanque.beneficiaire=s.operationFinanciereDV.operationFinanciere.modeFiChequeBanque.chequeDeBanque.beneficiaire,u.modeFiChequeBanque.chequeDeBanque.devise=s.operationFinanciereDV.operationFinanciere.modeFiChequeBanque.chequeDeBanque.devise,u.modeFiChequeBanque.chequeDeBanque.numero=s.operationFinanciereDV.operationFinanciere.modeFiChequeBanque.chequeDeBanque.numero,u.modeFiChequeBanque.chequeDeBanque.multiRetrait=s.operationFinanciereDV.operationFinanciere.modeFiChequeBanque.chequeDeBanque.multiRetrait}u.codeDevise=s.operationFinanciereDV.operationFinanciere.codeDevise,u.codeOperation=s.operationFinanciereDV.operationFinanciere.codeOperation,u.codeModeFinancier=s.operationFinanciereDV.operationFinanciere.codeModeFinancier,u.dateValeur=s.operationFinanciereDV.operationFinanciere.dateValeur,u.estMajeur=s.operationFinanciereDV.operationFinanciere.estMajeur,u.libelleCourtOpeFi=s.operationFinanciereDV.operationFinanciere.libelleCourtOpeFi,u.libelleLongOpeFi=s.operationFinanciereDV.operationFinanciere.libelleLongOpeFi,u.montant=s.operationFinanciereDV.operationFinanciere.montant,u.numeroPersonne=s.operationFinanciereDV.operationFinanciere.numeroPersonne,u.referenceIdentite=s.operationFinanciereDV.operationFinanciere.referenceIdentite,u.version=s.operationFinanciereDV.operationFinanciere.version}if("EDITIQUE-0"===t.referenceExterneData){var n=JSON.parse(t.donneeData);o="identifiantBordereau"in n&&"identifiantBordereau"in n.identifiantBordereau&&n.identifiantBordereau.identifiantBordereau}})}),a.opeFiService.creationObjetOpeFiParObjetChoixUtilisateurs(u).then(function(e){e.contexteSaisieOperationFinanciere=r,e.contexteSaisieOperationFinanciere.identifiantBordereau=o;var i=p,s=a.stringToObjetRice(i,n.offre.codeEtablissement,n.offre.codeGuichetInterbancaire);e.compte.rice=s,e.signataire={codePersonnaliteJuridique:" ",codeRole:" ",dateNaissance:" ",identifiantParticipant:" ",libelleRole:" ",nomParticipant:" ",nomPrenomParticipant:" ",prenomParticipant:" "},n.offre.numeroOffreSouscrite&&(r.numeroOffre=n.offre.numeroOffreSouscrite.toString());var u={};u.numeroPersonne=a.paddy(n.offre.numeroPersonneIdentifiee.toString(),9,"0");var l={};if(l.client=u,l.contexteOpeFinancieres=r,l.contexteOpeFinancieres.identifiantBordereau=n.bordereau.identifiantBordereau,"FF"!==n.offre.codeCanal||!n.contractualisationActe.indicateurPapier){var d={},m=!1;"1"===a.documentAImprimer.codeTypeAttributaire&&"FF"!==n.offre.codeCanal&&(m=!0),a.setProprietesDocument(a.documentAImprimer,d,m),l.proprietesDocuments=d}return c.identifiant=t.CodeTypeDocument.BOPE,c.parametres=l,c.libelleDocument=a.documentAImprimer.libelleDocument,c.parametresActiveX={},a.setParametresActiveXIndividuels(a.documentAImprimer,c.parametresActiveX),c.generationInterdite=!0,e.fonctionnalite=MyWay.Model.Fonctionnalite.OUVERTURE_EPARGNE,console.log("XXXX DescriptionBordereauOperation -> getDocumentAGenerer1: bordereauOperation",c),e.montant&&(e.montant=-e.montant),e.segmentPrvRio.montantGlobalOperation&&(e.segmentPrvRio.montantGlobalOperation=-e.segmentPrvRio.montantGlobalOperation),a.postOpeFiService.repriseStockageBordereauOperationMyWay(e).then(function(){return c.generateurDocument=function(e){return a.genererDocument(e,a.documentAImprimer.codeNatureGED,n.contractualisationActe.indicateurPapier)},a.$q.when(c)})["finally"](function(){console.log("XXXX DescriptionBordereauOperation -> getDocumentAGenerer / repriseStockageBordereauOperationMyWay / FINALLY : bordereauOperation",c)})})})});var s=a.$q.defer();return a.creationBordereauService.getContexteOperationFinanciere().then(function(e){n.offre.numeroOffreSouscrite&&(e.numeroOffre=n.offre.numeroOffreSouscrite.toString());var i={};i.numeroPersonne=a.paddy(n.offre.numeroPersonneIdentifiee.toString(),9,"0");var r={};if(r.client=i,r.contexteOpeFinancieres=e,r.contexteOpeFinancieres.identifiantBordereau=n.bordereau.identifiantBordereau,"FF"!==n.offre.codeCanal||!n.contractualisationActe.indicateurPapier){var o={};a.setProprietesDocument(a.documentAImprimer,o),r.proprietesDocuments=o}var c={};c.identifiant=t.CodeTypeDocument.BOPE,c.parametres=r,c.libelleDocument=a.documentAImprimer.libelleDocument,c.parametresActiveX={},a.setParametresActiveXIndividuels(a.documentAImprimer,c.parametresActiveX),c.generationInterdite=!0,console.log("XXXX DescriptionBordereauOperation -> getDocumentAGenerer2: bordereauOperation",c),c.generateurDocument=function(e){return a.genererDocument(e,a.documentAImprimer.codeNatureGED,n.contractualisationActe.indicateurPapier)},s.resolve(c)})["catch"](function(e){e.libelle="Erreur lors de l'appel à getContexteOperationFinanciere",a.serviceAgentExtended.Trace.error(e.libelle),s.reject(e)}),s.promise})},i.prototype.paddy=function(e,t,n){var i="undefined"!=typeof n?n:"0",r=new Array(1+t).join(i);return(r+e).slice(-r.length)},i.prototype.genererDocument=function(e,t,n){var i=this,r=e.parametres,o=this.$q.defer();return console.log("XXXX DescriptionBordereauOperation -> genererDocument / documentAGenerer",e),n===!1?this.impressionBordereauService.genererArchiverBordereau(r.client,r.contexteOpeFinancieres,"CONTELEC",r.proprietesDocuments).then(function(e){if(console.log("XXXX DescriptionBordereauOperation -> genererDocument / impressionBordereauService / genererArchiverBordereau : idntPJ",e),e){var t={};t.IdntPJ=e,o.resolve(t)}else{var n={};n.libelle="Erreur lors de l'appel à genererArchiverBordereau pas d'idntPJ",i.serviceAgentExtended.Trace.error(n.libelle),o.reject(n)}})["catch"](function(e){e.libelle="Erreur lors de l'appel à impressionBordereauService.genererArchiverBordereau",i.serviceAgentExtended.Trace.error(e.libelle),o.reject(e)}):this.impressionBordereauService.genererBordereau(r.client,r.contexteOpeFinancieres).then(function(e){if(console.log("XXXX DescriptionBordereauOperation -> genererDocument / impressionBordereauService / genererBordereau / documentGenere",e),e)o.resolve(e);else{var t={};t.libelle="Erreur lors de l'appel à genererBordereau pas de document généré",i.serviceAgentExtended.Trace.error(t.libelle),o.reject(t)}})["catch"](function(e){e.libelle="Erreur lors de l'appel à impressionBordereauService.genererBordereau",i.serviceAgentExtended.Trace.error(e.libelle),o.reject(e)}),o.promise},i}(n);t.DescriptionBordereauOperation=c}(n=t.editiqueDat||(t.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,n){this.documentsAProduire=e,this.contexteEditique=t,this.tiersNoyauService=n}return e.prototype.contientUneACDB=function(){return this.documentsAProduire.some(function(e){return"ACDB"===e.codeTypeDocument})},e.prototype.contientUnePRCT=function(){return this.documentsAProduire.some(function(e){return"PRCT"===e.codeTypeDocument})},e.prototype.besoinACDB=function(){return this.promesseDeTiersNoyau||(this.promesseDeTiersNoyau=this.tiersNoyauService.getTiersNoyauDepuisContexteEditique(this.contexteEditique)),this.promesseDeTiersNoyau.then(function(e){return"R"===e.informationsEAI.codeStatutEAI||"S"===e.informationsEAI.codeStatutEAI})},e.prototype.estEnVAD=function(){var e=!0;return this.contexteEditique&&"FF"===this.contexteEditique.offre.codeCanal&&(e=!1),e},Object.defineProperty(e.prototype,"codeCanal",{get:function(){return this.contexteEditique.offre.codeCanal},enumerable:!0,configurable:!0}),e}();e.Imprimerie=t}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";!function(e){e[e.CPAR="CPAR"]="CPAR",e[e.OUBL="OUBL"]="OUBL",e[e.AVBL="AVBL"]="AVBL",e[e.CLBL="CLBL"]="CLBL",e[e.NB2S="NB2S"]="NB2S",e[e.BOPE="BOPE"]="BOPE",e[e.OUEC="OUEC"]="OUEC",e[e.MDPS="MDPS"]="MDPS",e[e.OU05="OU05"]="OU05",e[e.OU01="OU01"]="OU01",e[e.OU10="OU10"]="OU10",e[e.OU11="OU11"]="OU11",e[e.OU06="OU06"]="OU06",e[e.OUGF="OUGF"]="OUGF",e[e.OUGP="OUGP"]="OUGP",e[e.OULE="OULE"]="OULE",e[e.OULI="OULI"]="OULI",e[e.OU12="OU12"]="OU12",e[e.OU13="OU13"]="OU13",e[e.OU14="OU14"]="OU14",e[e.OU15="OU15"]="OU15",e[e.OU16="OU16"]="OU16",e[e.AV01="AV01"]="AV01",e[e.AV05="AV05"]="AV05",e[e.AV06="AV06"]="AV06",e[e.AVLE="AVLE"]="AVLE",e[e.AV10="AV10"]="AV10",e[e.AV11="AV11"]="AV11",e[e.AV12="AV12"]="AV12",e[e.AV13="AV13"]="AV13",e[e.AV14="AV14"]="AV14",e[e.AV15="AV15"]="AV15",e[e.AV16="AV16"]="AV16",e[e.LA00="LA00"]="LA00",e[e.LA01="LA01"]="LA01",e[e.LAGP="LAGP"]="LAGP",e[e.LAGF="LAGF"]="LAGF",e[e.LALI="LALI"]="LALI",e[e.LA05="LA05"]="LA05",e[e.LA06="LA06"]="LA06",e[e.LA10="LA10"]="LA10",e[e.LA11="LA11"]="LA11",e[e.LA16="LA16"]="LA16",e[e.LAQA="LAQA"]="LAQA",e[e.LAOP="LAOP"]="LAOP",e[e.BORE="BORE"]="BORE",e[e.PJVM="PJVM"]="PJVM",e[e.ACDB="ACDB"]="ACDB"}(e.CodeTypeDocumentImport||(e.CodeTypeDocumentImport={}));e.CodeTypeDocumentImport;!function(e){e[e.OG04="OG04"]="OG04",e[e.AG04="AG04"]="AG04",e[e.CG04="CG04"]="CG04",e[e.NB2S="NB2S"]="NB2S",e[e.BOPE="BOPE"]="BOPE",e[e.OUEC="OUEC"]="OUEC",e[e.MDPS="MDPS"]="MDPS",e[e.CONT="CONT"]="CONT",e[e.OU05="OU05"]="OU05",e[e.OU01="OU01"]="OU01",e[e.OU10="OU10"]="OU10",e[e.OU11="OU11"]="OU11",e[e.OU06="OU06"]="OU06",e[e.OUGF="OUGF"]="OUGF",e[e.OUGP="OUGP"]="OUGP",e[e.OULE="OULE"]="OULE",e[e.OULI="OULI"]="OULI",e[e.OU12="OU12"]="OU12",e[e.OU13="OU13"]="OU13",e[e.OU14="OU14"]="OU14",e[e.OU15="OU15"]="OU15",e[e.OU16="OU16"]="OU16",e[e.AV01="AV01"]="AV01",e[e.AV05="AV05"]="AV05",e[e.AV06="AV06"]="AV06",e[e.AVLE="AVLE"]="AVLE",e[e.AV10="AV10"]="AV10",e[e.AV11="AV11"]="AV11",e[e.AV12="AV12"]="AV12",e[e.AV13="AV13"]="AV13",e[e.AV14="AV14"]="AV14",e[e.AV15="AV15"]="AV15",e[e.AV16="AV16"]="AV16"}(e.CodeNatureGED||(e.CodeNatureGED={}));var t=(e.CodeNatureGED,function(){function e(){}return e.OK="OK",e.KO="KO",e}());e.CodeRetourEditique=t;var n=function(){function e(){}return e}();e.ContextePS=n;var i=function(){function e(){}return e}();e.SignataireImport=i}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t,this.url="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tiers/v3/tiersNoyau"}return e.prototype.getTiersNoyau=function(e){return this.serviceAgentExtended.sendRequest({url:this.url,withHeaders:!0,params:e,method:MyWay.Services.MethodEnum.GET})},e.prototype.getTiersNoyauDepuisContexteEditique=function(e){return this.getTiersNoyau({codeEtablissement:e.offre.codeEtablissement,identifiantPersonne:e.offre.numeroPersonneIdentifiee.toString(),eligibiliteEAI:"O",parametreAppel:"E"})},e.$inject=["$q","serviceAgentExtended"],e}();e.TiersNoyauService=t,e.editiqueDatModule.service("tiersNoyauService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.$inject=[],e}();e.ContexteEditiqueMockService=t,e.editiqueDatModule.service("contexteEditiqueMockService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t){this.$q=e,this.serviceAgentExtended=t}return t.prototype.creerGenerationObligatoire=function(e){var t={action:MyWay.Services.Impression.GENERATION_ACTION.getFichier,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:e}};return t},t.prototype.creerArchivageObligatoire=function(e){var t={action:MyWay.Services.Impression.GENERATION_ACTION.archiver,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDFA_1B,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:e}};return t},t.prototype.creerArchivageArchivage=function(e,t){var n={gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A"+e.agentConnecte.referenceExterneAgent,idntAgntAcces:"A"+e.agentConnecte.referenceExterneAgent,idntAgntTech:"T"+e.agentConnecte.referenceExterneAgent,idntEtabEntt:e.codeEtablissement,idntExtnConx:e.agentConnecte.referenceExterneAgent,idntInteEdsAgnt:e.agentConnecte.referenceExterneAgent,refrExtnAgnt:e.agentConnecte.referenceExterneAgent,refrPosteFoncAgnt:e.agentConnecte.numeroInterneEds,typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:e.codeEtablissement,idntCmpstApplf:"CONTELEC"},document:{proprietesDoc:{codeTypeNatrDoc:t.codeNatureGED,codeTypeAttrb:t.codeTypeAttributaire,idntAttrb:t.identifiantAttributaire,dateDeliv:new Date,dateNumr:new Date,datePerm:moment().add(60,"day").toDate(),inttAttr:""!==t.intituleAttributaire?t.intituleAttributaire:t.codeNatureGED,codeTypeStck:"L"},fichierDoc:{nomFich:t.libelleDocument+".pdf"}}}};return n},t.prototype.creerGenerationOptionel=function(e){var t={nomFichier:e};return t},t.prototype.creationParametresImpression=function(t){var n=new e.ParametreDocumentsImpression;return n.obligatoires={nomFichier:t.libelleDocument},n.optionnels={parametreActiveX:{annul:!1,enregistrer:!1,voir:!1,impdef:!1,affred:!1,reimp:!1,blocnbex:!1,maxcop:0,mincop:0,nbcopiesdef:1},parametresActiveXIndividuels:this.creationParametresActiveXIndividuels(t)},n},t.prototype.creationParametresActiveXIndividuels=function(e){var t={};return t.maxcop=e.maximumExemplaires,t.mincop=e.minimumExemplaires,t.nbcopiesdef=e.nbParDefautExemplaires,t.voir=!0,t.enregistrer=!0,t},t.prototype.creationParametresActiveXGlobaux=function(){var e={annul:!0,affred:!0,impdef:!1};return e},t.$inject=["$q","serviceAgentExtended"],t}();e.GceDocPartieTechniqueCommunService=t,e.editiqueDatModule.service("gceDocPartieTechniqueCommunService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t,n,i){this.$q=e,this.serviceAgentExtended=t,this.utileCommunService=n,this.gceDocPartieTechniqueCommunService=i}return t.prototype.gererImpressionOuArchivageConditionParticuliere=function(e,t,n,i){var r={};r.identifiant=n.codeTypeDocument,!angular.isDefined(t.isPro)||t.isPro!==!0||"OU9A"!==n.codeTypeDocument&&"OU9S"!==n.codeTypeDocument?angular.isDefined(t.isPro)&&t.isPro===!0&&"OU09"===n.codeTypeDocument&&(e.attributeId="SIPXGCE_DAT_REMB_N_PY5O01.docx",e.attributeXmlns="http://SIPXGCE_DAT_REMB_N_PY5O01.xsd"):(e.attributeId="SIPXGCE_DAT_REMB_N_PY5O01_E_SIGN.docx",e.attributeXmlns="http://SIPXGCE_DAT_REMB_N_PY5O01_E_SIGN.xsd"),r.document=e,r.parametreDocumentsGeneration=this.creationParametresGenerationConditionParticuliere(n,t),t.contractualisationActe.indicateurPapier&&"TL"!==t.offre.codeCanal?(r.parametreDocumentsImpression=this.gceDocPartieTechniqueCommunService.creationParametresImpression(n),r.parametresActiveXGlobaux=this.gceDocPartieTechniqueCommunService.creationParametresActiveXGlobaux(),this.utileCommunService.ajoutDocumentLiasseImpression(r)):(r.parametreDocumentsArchivage=this.creationParametresConditionParticuliereArchivage(i,n,t),this.utileCommunService.ajoutDocumentLiasseArchivage(r))},t.prototype.creationParametresGenerationConditionParticuliere=function(t,n){var i=new e.ParametreDocumentsGenerationArchivage;return i.systeme={typeName:"sipxgceDatRembNpy5o01",typeFullName:"myway.gestionEpargne.editiqueDat.sipxgceDatRembNpy5o01.sipxgceDatRembNpy5o01",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_DEPTERME_SIPXGCE_DAT_REMB_N_PY5O01"},n.isPro===!0?i.obligatoires=this.gceDocPartieTechniqueCommunService.creerGenerationObligatoire("placeme/depterme/depterml"):i.obligatoires=this.gceDocPartieTechniqueCommunService.creerGenerationObligatoire("04-epargne/depterme_doc"),i.optionnels=this.gceDocPartieTechniqueCommunService.creerGenerationOptionel(t.libelleDocument),i},t.prototype.creationParametresConditionParticuliereArchivage=function(t,n,i){var r=new e.ParametreDocumentsGenerationArchivage;r.systeme={typeName:"sipxgceDatRembNpy5o01",typeFullName:"myway.gestionEpargne.editiqueDat.sipxgceDatRembNpy5o01.sipxgceDatRembNpy5o01",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_DEPTERME_SIPXGCE_DAT_REMB_N_PY5O01"},i.isPro===!0?r.obligatoires=this.gceDocPartieTechniqueCommunService.creerArchivageObligatoire("placeme/depterme/depterml"):r.obligatoires=this.gceDocPartieTechniqueCommunService.creerArchivageObligatoire("04-epargne/depterme_doc");var o=this.gceDocPartieTechniqueCommunService.creerArchivageArchivage(t,n);return r.optionnels={nomFichier:"sipxgceDatRembNpy5o01.pdf",archivage:o},r},t.$inject=["$q","serviceAgentExtended","utileCommunService","gceDocPartieTechniqueCommunService"],t}();e.GceDocPartieTechniqueConditionParticuliereService=t,e.editiqueDatModule.service("gceDocPartieTechniqueConditionParticuliereService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t,n,i){this.$q=e,this.serviceAgentExtended=t,this.utileCommunService=n,this.gceDocPartieTechniqueCommunService=i}return t.prototype.gererImpressionOuArchivagePreContrat=function(e,t,n,i){var r={};r.identifiant=n.codeTypeDocument,angular.isDefined(t.isPro)&&t.isPro===!0&&(e.attributeId="SIBCGCE_precontractuelles_E_SIGN.docx",e.attributeXmlns="http://SIBCGCE_precontractuelles_E_SIGN.xsd"),r.document=e,r.parametreDocumentsGeneration=this.creationParametresGenerationPreContrat(n,t),t.contractualisationActe.indicateurPapier&&"TL"!==t.offre.codeCanal?(r.parametreDocumentsImpression=this.gceDocPartieTechniqueCommunService.creationParametresImpression(n),r.parametresActiveXGlobaux=this.gceDocPartieTechniqueCommunService.creationParametresActiveXGlobaux(),this.utileCommunService.ajoutDocumentLiasseImpression(r)):(r.parametreDocumentsArchivage=this.creationParametresPreContratArchivage(i,n,t),this.utileCommunService.ajoutDocumentLiasseArchivage(r))},t.prototype.creationParametresGenerationPreContrat=function(t,n){var i=new e.ParametreDocumentsGenerationArchivage;return i.systeme={typeName:"sibcgcePrecontractuelles",typeFullName:"myway.gestionEpargne.editiqueDat.sibcgcePrecontractuelles.sibcgcePrecontractuelles",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_MOD-COM_SIBCGCE_precontractuelles"},i.obligatoires=this.gceDocPartieTechniqueCommunService.creerGenerationObligatoire("placeme/depterme/deptermk"),i.optionnels=this.gceDocPartieTechniqueCommunService.creerGenerationOptionel(t.libelleDocument),i},t.prototype.creationParametresPreContratArchivage=function(t,n,i){var r=new e.ParametreDocumentsGenerationArchivage;r.systeme={typeName:"sibcgcePrecontractuelles",typeFullName:"myway.gestionEpargne.editiqueDat.sibcgcePrecontractuelles.sibcgcePrecontractuelles",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_MOD-COM_SIBCGCE_precontractuelles"},r.obligatoires=this.gceDocPartieTechniqueCommunService.creerArchivageObligatoire("placeme/depterme/deptermk");var o=this.gceDocPartieTechniqueCommunService.creerArchivageArchivage(t,n);return r.optionnels={nomFichier:"sibcgcePrecontractuelles.pdf",archivage:o},r},t.$inject=["$q","serviceAgentExtended","utileCommunService","gceDocPartieTechniqueCommunService"],t}();e.GceDocPartieTechniquePreContratService=t,e.editiqueDatModule.service("gceDocPartieTechniquePreContratService",t)}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){this.attributeId="SIPXGCE_DAT_REMB_N_PY5O01.docx",this.attributeXmlns="http://SIPXGCE_DAT_REMB_N_PY5O01.xsd",
this.attributeCamel="O"}return e}();e.SipxgceDatRembNpy5o01=t;var n=function(){function e(){this.systeme={typeName:"sipxgceDatRembNpy5o01",typeFullName:"myway.gestionEpargne.editiqueDat.sipxgceDatRembNpy5o01.sipxgceDatRembNpy5o01",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_DEPTERME_SIPXGCE_DAT_REMB_N_PY5O01"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.archiver,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"04-epargne/depterme_doc"}},this.optionnels={nomFichier:"sipxgceDatRembNpy5o01.pdf",archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"sipxgceDatRembNpy5o01.pdf"}}}}}}return e}();e.SipxgceDatRembNpy5o01ArchiverParams=n;var i=function(){function e(){this.systeme={typeName:"sipxgceDatRembNpy5o01",typeFullName:"myway.gestionEpargne.editiqueDat.sipxgceDatRembNpy5o01.sipxgceDatRembNpy5o01",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_DEPTERME_SIPXGCE_DAT_REMB_N_PY5O01"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.getFichier,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"04-epargne/depterme_doc"}},this.optionnels={nomFichier:"sipxgceDatRembNpy5o01.pdf"}}return e}();e.SipxgceDatRembNpy5o01GenererParams=i;var r=function(){function e(){this.systeme={typeName:"sipxgceDatRembNpy5o01",typeFullName:"myway.gestionEpargne.editiqueDat.sipxgceDatRembNpy5o01.sipxgceDatRembNpy5o01",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_DEPTERME_SIPXGCE_DAT_REMB_N_PY5O01"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.archiverAndGetFichier,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"04-epargne/depterme_doc"}},this.optionnels={nomFichier:"sipxgceDatRembNpy5o01.pdf",archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"sipxgceDatRembNpy5o01.pdf"}}}}}}return e}();e.SipxgceDatRembNpy5o01ArchiverGenererParams=r;var o=function(){function e(){this.systeme={typeName:"sipxgceDatRembNpy5o01",typeFullName:"myway.gestionEpargne.editiqueDat.sipxgceDatRembNpy5o01.sipxgceDatRembNpy5o01",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_DEPTERME_SIPXGCE_DAT_REMB_N_PY5O01"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_IMPRESSION_ACTION.getFichier,nomFichier:"sipxgceDatRembNpy5o01.pdf",parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"04-epargne/depterme_doc"}},this.optionnels={parametreActiveX:{annul:!1,enregistrer:!1,voir:!1,impdef:!1,affred:!1,reimp:!1,blocnbex:!1,maxcop:0,mincop:0,nbcopiesdef:1}}}return e}();e.SipxgceDatRembNpy5o01ImpressionParams=o;var a=function(){function e(){this.systeme={typeName:"sipxgceDatRembNpy5o01",typeFullName:"myway.gestionEpargne.editiqueDat.sipxgceDatRembNpy5o01.sipxgceDatRembNpy5o01",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_DEPTERME_SIPXGCE_DAT_REMB_N_PY5O01"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_IMPRESSION_ACTION.archiverAndGetFichier,nomFichier:"sipxgceDatRembNpy5o01.pdf",parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"04-epargne/depterme_doc"}},this.optionnels={parametreActiveX:{annul:!1,enregistrer:!1,voir:!1,impdef:!1,affred:!1,reimp:!1,blocnbex:!1,maxcop:0,mincop:0,nbcopiesdef:1},archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"sipxgceDatRembNpy5o01.pdf"}}}}}}return e}();e.SipxgceDatRembNpy5o01ArchiverImpressionParams=a;var c=function(){function e(){this.parametresLot={numeroOrdre:1,fichier:null,idGed:null,composantApplicatif:"compAppli",codeEtablissement:"13135",impressionParams:{obligatoires:{nomFichier:"sipxgceDatRembNpy5o01.pdf"},optionnels:{parametresActiveXIndividuels:{voir:!1,enregistrer:!1,blocnbex:!1,nbcopiesdef:1,maxcop:0,mincop:0}}}}}return e}();e.SipxgceDatRembNpy5o01ImpressionLotParams=c}(t=e.sipxgceDatRembNpy5o01||(e.sipxgceDatRembNpy5o01={}))}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){this.attributeId="LettreAccompagnement.docx",this.attributeXmlns="http://LettreAccompagnement.xsd",this.attributeCamel="O"}return e}();e.LettreAccompagnement=t;var n=function(){function e(){this.systeme={typeName:"lettreAccompagnement",typeFullName:"listeDesPj.lettreAccompagnement.lettreAccompagnement",librairie:"ListeDesPJ_01-CANAUX_OVAD_LettreAccompagnement"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.archiver,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"01-canaux/ovad_doc"}},this.optionnels={nomFichier:"lettreAccompagnement.pdf",archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"lettreAccompagnement.pdf"}}}}}}return e}();e.LettreAccompagnementArchiverParams=n;var i=function(){function e(){this.systeme={typeName:"lettreAccompagnement",typeFullName:"listeDesPj.lettreAccompagnement.lettreAccompagnement",librairie:"ListeDesPJ_01-CANAUX_OVAD_LettreAccompagnement"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.getFichier,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"01-canaux/ovad_doc"}},this.optionnels={nomFichier:"lettreAccompagnement.pdf"}}return e}();e.LettreAccompagnementGenererParams=i;var r=function(){function e(){this.systeme={typeName:"lettreAccompagnement",typeFullName:"listeDesPj.lettreAccompagnement.lettreAccompagnement",librairie:"ListeDesPJ_01-CANAUX_OVAD_LettreAccompagnement"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.archiverAndGetFichier,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"01-canaux/ovad_doc"}},this.optionnels={nomFichier:"lettreAccompagnement.pdf",archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"lettreAccompagnement.pdf"}}}}}}return e}();e.LettreAccompagnementArchiverGenererParams=r;var o=function(){function e(){this.systeme={typeName:"lettreAccompagnement",typeFullName:"listeDesPj.lettreAccompagnement.lettreAccompagnement",librairie:"ListeDesPJ_01-CANAUX_OVAD_LettreAccompagnement"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_IMPRESSION_ACTION.getFichier,nomFichier:"lettreAccompagnement.pdf",parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"01-canaux/ovad_doc"}},this.optionnels={parametreActiveX:{annul:!1,enregistrer:!1,voir:!1,impdef:!1,affred:!1,reimp:!1,blocnbex:!1,maxcop:0,mincop:0,nbcopiesdef:1}}}return e}();e.LettreAccompagnementImpressionParams=o;var a=function(){function e(){this.systeme={typeName:"lettreAccompagnement",typeFullName:"listeDesPj.lettreAccompagnement.lettreAccompagnement",librairie:"ListeDesPJ_01-CANAUX_OVAD_LettreAccompagnement"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_IMPRESSION_ACTION.archiverAndGetFichier,nomFichier:"lettreAccompagnement.pdf",parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"01-canaux/ovad_doc"}},this.optionnels={parametreActiveX:{annul:!1,enregistrer:!1,voir:!1,impdef:!1,affred:!1,reimp:!1,blocnbex:!1,maxcop:0,mincop:0,nbcopiesdef:1},archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"lettreAccompagnement.pdf"}}}}}}return e}();e.LettreAccompagnementArchiverImpressionParams=a;var c=function(){function e(){this.parametresLot={numeroOrdre:1,fichier:null,idGed:null,composantApplicatif:"compAppli",codeEtablissement:"13135",impressionParams:{obligatoires:{nomFichier:"lettreAccompagnement.pdf"},optionnels:{parametresActiveXIndividuels:{voir:!1,enregistrer:!1,blocnbex:!1,nbcopiesdef:1,maxcop:0,mincop:0}}}}}return e}();e.LettreAccompagnementImpressionLotParams=c}(t=e.lettreAccompagnement||(e.lettreAccompagnement={}))}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){this.attributeId="ListePiecesJustificatives.docx",this.attributeXmlns="http://ListePiecesJustificatives.xsd",this.attributeCamel="O"}return e}();e.ListePiecesJustificatives=t;var n=function(){function e(){this.systeme={typeName:"listePiecesJustificatives",typeFullName:"listeDesPj.listePiecesJustificatives.listePiecesJustificatives",librairie:"ListeDesPJ_01-CANAUX_OVAD_ListePiecesJustificatives"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.archiver,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"01-canaux/ovad_doc"}},this.optionnels={nomFichier:"listePiecesJustificatives.pdf",archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"listePiecesJustificatives.pdf"}}}}}}return e}();e.ListePiecesJustificativesArchiverParams=n;var i=function(){function e(){this.systeme={typeName:"listePiecesJustificatives",typeFullName:"listeDesPj.listePiecesJustificatives.listePiecesJustificatives",librairie:"ListeDesPJ_01-CANAUX_OVAD_ListePiecesJustificatives"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.getFichier,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"01-canaux/ovad_doc"}},this.optionnels={nomFichier:"listePiecesJustificatives.pdf"}}return e}();e.ListePiecesJustificativesGenererParams=i;var r=function(){function e(){this.systeme={typeName:"listePiecesJustificatives",typeFullName:"listeDesPj.listePiecesJustificatives.listePiecesJustificatives",librairie:"ListeDesPJ_01-CANAUX_OVAD_ListePiecesJustificatives"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.archiverAndGetFichier,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"01-canaux/ovad_doc"}},this.optionnels={nomFichier:"listePiecesJustificatives.pdf",archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"listePiecesJustificatives.pdf"}}}}}}return e}();e.ListePiecesJustificativesArchiverGenererParams=r;var o=function(){function e(){this.systeme={typeName:"listePiecesJustificatives",typeFullName:"listeDesPj.listePiecesJustificatives.listePiecesJustificatives",librairie:"ListeDesPJ_01-CANAUX_OVAD_ListePiecesJustificatives"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_IMPRESSION_ACTION.getFichier,nomFichier:"listePiecesJustificatives.pdf",parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"01-canaux/ovad_doc"}},this.optionnels={parametreActiveX:{annul:!1,enregistrer:!1,voir:!1,impdef:!1,affred:!1,reimp:!1,blocnbex:!1,maxcop:0,mincop:0,nbcopiesdef:1}}}return e}();e.ListePiecesJustificativesImpressionParams=o;var a=function(){function e(){this.systeme={typeName:"listePiecesJustificatives",typeFullName:"listeDesPj.listePiecesJustificatives.listePiecesJustificatives",librairie:"ListeDesPJ_01-CANAUX_OVAD_ListePiecesJustificatives"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_IMPRESSION_ACTION.archiverAndGetFichier,nomFichier:"listePiecesJustificatives.pdf",parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"01-canaux/ovad_doc"}},this.optionnels={parametreActiveX:{annul:!1,enregistrer:!1,voir:!1,impdef:!1,affred:!1,reimp:!1,blocnbex:!1,maxcop:0,mincop:0,nbcopiesdef:1},archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"listePiecesJustificatives.pdf"}}}}}}return e}();e.ListePiecesJustificativesArchiverImpressionParams=a;var c=function(){function e(){this.parametresLot={numeroOrdre:1,fichier:null,idGed:null,composantApplicatif:"compAppli",codeEtablissement:"13135",impressionParams:{obligatoires:{nomFichier:"listePiecesJustificatives.pdf"},optionnels:{parametresActiveXIndividuels:{voir:!1,enregistrer:!1,nbcopiesdef:1,maxcop:0,mincop:0}}}}}return e}();e.ListePiecesJustificativesImpressionLotParams=c}(t=e.ListePiecesJustificatives||(e.ListePiecesJustificatives={}))}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){this.genericTitredocument=[],this.genericInfoPm=[],this.genericInfoPp=[],this.quad0203=[],this.quadreto=[],this.prestance=[],this.croissance=[],this.capciel=[],this.inflation=[],this.catslr=[],this.genericSignatureStdSansCnil=[],this.signatSansCnil=[],this.genericEnteteets=[],this.genericPiedpageets=[],this.attributeId="SIBCGCE_precontractuelles.docx",this.attributeXmlns="http://SIBCGCE_precontractuelles.xsd",this.attributeCamel="O"}return e}();e.SibcgcePrecontractuelles=t;var n=function(){function e(){this.systeme={typeName:"sibcgcePrecontractuelles",typeFullName:"myway.gestionEpargne.editiqueDat.sibcgcePrecontractuelles.sibcgcePrecontractuelles",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_MOD-COM_SIBCGCE_precontractuelles"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.archiver,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"placeme/depterme/deptermk"}},this.optionnels={nomFichier:"sibcgcePrecontractuelles.pdf",archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"sibcgcePrecontractuelles.pdf"}}}}}}return e}();e.SibcgcePrecontractuellesArchiverParams=n;var i=function(){function e(){this.systeme={typeName:"sibcgcePrecontractuelles",typeFullName:"myway.gestionEpargne.editiqueDat.sibcgcePrecontractuelles.sibcgcePrecontractuelles",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_MOD-COM_SIBCGCE_precontractuelles"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.getFichier,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"placeme/depterme/deptermk"}},this.optionnels={nomFichier:"sibcgcePrecontractuelles.pdf"}}return e}();e.SibcgcePrecontractuellesGenererParams=i;var r=function(){function e(){this.systeme={typeName:"sibcgcePrecontractuelles",typeFullName:"myway.gestionEpargne.editiqueDat.sibcgcePrecontractuelles.sibcgcePrecontractuelles",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_MOD-COM_SIBCGCE_precontractuelles"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_ACTION.archiverAndGetFichier,parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"placeme/depterme/deptermk"}},this.optionnels={nomFichier:"sibcgcePrecontractuelles.pdf",archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"sibcgcePrecontractuelles.pdf"}}}}}}return e}();e.SibcgcePrecontractuellesArchiverGenererParams=r;var o=function(){function e(){this.systeme={typeName:"sibcgcePrecontractuelles",typeFullName:"myway.gestionEpargne.editiqueDat.sibcgcePrecontractuelles.sibcgcePrecontractuelles",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_MOD-COM_SIBCGCE_precontractuelles"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_IMPRESSION_ACTION.getFichier,nomFichier:"sibcgcePrecontractuelles.pdf",parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"placeme/depterme/deptermk"}},this.optionnels={parametreActiveX:{annul:!1,enregistrer:!1,voir:!1,impdef:!1,affred:!1,reimp:!1,blocnbex:!1,maxcop:0,mincop:0,nbcopiesdef:1}}}return e}();e.SibcgcePrecontractuellesImpressionParams=o;var a=function(){function e(){this.systeme={typeName:"sibcgcePrecontractuelles",typeFullName:"myway.gestionEpargne.editiqueDat.sibcgcePrecontractuelles.sibcgcePrecontractuelles",librairie:"myway.gestionEpargne.editiqueDat_04-EPARGNE_MOD-COM_SIBCGCE_precontractuelles"},this.obligatoires={action:MyWay.Services.Impression.GENERATION_IMPRESSION_ACTION.archiverAndGetFichier,nomFichier:"sibcgcePrecontractuelles.pdf",parametresGenerationFichier:{typeFichier:MyWay.Services.Fichier.TYPE_FICHIER.PDF,restitutionVersion:MyWay.Services.Impression.RESTITUTION_VERSION.V180,sousRepModele:"placeme/depterme/deptermk"}},this.optionnels={parametreActiveX:{annul:!1,enregistrer:!1,voir:!1,impdef:!1,affred:!1,reimp:!1,blocnbex:!1,maxcop:0,mincop:0,nbcopiesdef:1},archivage:{gceContextSoapHeader:{codeTypeIdntExtn:"W",idntAgnt:"A0070767",idntAgntAcces:"A0070767",idntAgntTech:"T0070767",idntEtabEntt:"13135",idntExtnConx:"0070767",idntInteEdsAgnt:"0070767",refrExtnAgnt:"0070767",refrPosteFoncAgnt:"12321",typePrflAgnt:"2",extendedProperties:"1"},aQstnCreerDoc:{donnCntx:{codeEtablissement:"13135",idntCmpstApplf:"PDC"},document:{proprietesDoc:{codeTypeNatrDoc:"PACN",codeTypeAttrb:"1",idntAttrb:"1313500080200123981",dateDeliv:new Date,dateNumr:new Date,inttAttr:"DocTestGceDoc",codeTypeStck:"L"},fichierDoc:{nomFich:"sibcgcePrecontractuelles.pdf"}}}}}}return e}();e.SibcgcePrecontractuellesArchiverImpressionParams=a;var c=function(){function e(){this.parametresLot={numeroOrdre:1,fichier:null,idGed:null,composantApplicatif:"compAppli",codeEtablissement:"13135",impressionParams:{obligatoires:{nomFichier:"sibcgcePrecontractuelles.pdf"},optionnels:{parametresActiveXIndividuels:{voir:!1,enregistrer:!1,blocnbex:!1,nbcopiesdef:1,maxcop:0,mincop:0}}}}}return e}();e.SibcgcePrecontractuellesImpressionLotParams=c}(t=e.sibcgcePrecontractuelles||(e.sibcgcePrecontractuelles={}))}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.ParametreDocumentsGenerationArchivage=t}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.ParametreDocumentsImpression=t}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.EditCondPartParams=t}(t=e.sipxgceDatRembNpy5o01||(e.sipxgceDatRembNpy5o01={}))}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.InfosProduit=t;var n=function(){function e(){}return e}();e.CaracteristiqueProduit=n;var i=function(){function e(){}return e}();e.ComptesSupports=i;var r=function(){function e(){}return e}();e.ElementAEditer=r;var o=function(){function e(){}return e}();e.BlocGenerique=o;var a=function(){function e(){}return e}();e.BlocGeneriqueMap=a;var c=function(){function e(){}return e}();e.BlocMap=c;var s=function(){function e(){}return e}();e.EditCondPart=s;var u=function(){function e(){}return e}();e.DonneesCATRevisable=u;var p=function(){function e(){}return e}();e.DonneesCATRenouvelable=p;var l=function(){function e(){}return e}();e.DetailsRevenus=l;var d=function(){function e(){}return e}();e.DonneesCATTauxProg=d}(t=e.sipxgceDatRembNpy5o01||(e.sipxgceDatRembNpy5o01={}))}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.EditPreContratDATParams=t}(t=e.sibcgcePrecontractuelles||(e.sibcgcePrecontractuelles={}))}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.EditPreContratDAT=t;var n=function(){function e(){}return e}();e.InfosProduit=n;var i=function(){function e(){}return e}();e.ElementAEditer=i;var r=function(){function e(){}return e}();e.BlocGenerique=r}(t=e.sibcgcePrecontractuelles||(e.sibcgcePrecontractuelles={}))}(t=e.editiqueDat||(e.editiqueDat={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={})),angular.module("myway.gestionEpargne.editiqueDat").run(["$templateCache",function(e){e.put("vues/editique-dat-vue.html",'<mw-panel niveau="1" titre="" id="titre">\r\n    <div class="row">\r\n        <mw-chargement-long id="load-generation-documents" etat="editiqueDatCtrl.loaderEtat" visible="editiqueDatCtrl.loaderVisible"></mw-chargement-long>\r\n        <div class="row" ng-show="editiqueDatCtrl.generationEnCoursMessageIndicateur">\r\n            <span class="message">\r\n                Génération des documents\r\n            </span>\r\n        </div>\r\n        <div class="row" ng-show="editiqueDatCtrl.erreurDansEditique">\r\n            <span class="message">\r\n                Génération des documents terminée en erreur:\r\n            </span>\r\n        </div>\r\n        <div class="row" ng-show="editiqueDatCtrl.generationTerminerOKMessageIndicateur">\r\n            <span class="message">\r\n                Génération des documents terminée\r\n            </span>\r\n        </div>\r\n        <ul>\r\n            <li class="row" ng-repeat="erreur in editiqueDatCtrl.tableauErreurEditique track by erreur.id" derogation="true">\r\n                <span class="message" ng-bind="erreur.libelleErreur"></span>\r\n            </li>\r\n        </ul>\r\n     </div>\r\n</mw-panel>\r\n\r\n<footer class="navbar navbar-default navbar-fixed-bottom ng-scope" role="navigation">\r\n    <div class="row col-sm-12 col-md-12 col-lg-12">\r\n        <div class="pull-right col-sm-2 col-md-2 col-lg-2" ng-show="editiqueDatCtrl.faceAFace">\r\n            <button type="button" class="btn btn-block btn-primary" ng-click="editiqueDatCtrl.continuer()" id="bouton-continuer">\r\n                <span>Continuer</span>\r\n            </button>\r\n        </div>\r\n        <div class="pull-right col-sm-2 col-md-2 col-lg-2" ng-show="editiqueDatCtrl.erreurDansEditique">\r\n            <button type="button" class="btn btn-block btn-default" ng-click="editiqueDatCtrl.recommencer()" id="bouton-recommencer">\r\n                <span>Recommencer</span>\r\n            </button>\r\n        </div>\r\n        <div class="pull-right col-sm-2 col-md-2 col-lg-2" ng-show="editiqueDatCtrl.erreurDansEditique && !editiqueDatCtrl.faceAFace">\r\n            <button type="button" class="btn btn-block btn-default" ng-click="editiqueDatCtrl.quitter()" id="bouton-quitter">\r\n                <span>Quitter</span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</footer>\r\n\r\n'),e.put("vues/page-non-trouvee.html","<h1>Page non trouvée</h1>")}]);