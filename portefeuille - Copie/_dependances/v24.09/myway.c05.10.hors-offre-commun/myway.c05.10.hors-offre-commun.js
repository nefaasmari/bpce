/**
 * Généré par : SIGCESIE\ct-tfsbuild
 * Changeset TFS : undefined
 * Etiquette TFS : undefined
 * Déclenchement : undefined
 */
var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";e.communModule=angular.module("myway.gestionEpargne.horsOffre.commun",["ngRoute","myway.ui","ui.bootstrap","ngAnimate","moduleAgent"]),e.communModule.config(["$provide","$routeProvider",function(e,t){t.when("/errors",{controller:"gestionErreursControleur",templateUrl:"vues/errors.html",controllerAs:"erreurCtrl"})}])}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";e.CONTEXTE_PROCESSUS_CAT="DONNEES_DAT",e.CONTEXTE_PROCESSUS_QUADRETO="DONNEES_QUADRETO",e.CODE_PRODUIT_DAT="09"}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,n){this.$scope=e,this.gestionErreursService=t,this.serviceAgentExtendedHelper=n,this.titreSPA=t.titreSPA,this.errorMessages=t.errorMessages}return e.prototype.quitter=function(){this.serviceAgentExtendedHelper.setEtapeLISA(this.gestionErreursService.etapeLisaSortie)},e.$inject=["$scope","gestionErreursService","serviceAgentExtendedHelper"],e}();e.GestionErreursControleur=t,e.communModule.controller("gestionErreursControleur",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){this.regimeGeneral=[],this.residenceFiscale=[],this.paysResidenceFiscale=[],this.natureJuridiqueClient=[]}return e.prototype.isSimulation=function(){return 2===this.lisaInitiale?!0:!1},e.prototype.paddy=function(e,t,n){var r="undefined"!=typeof n?n:"0",i=new Array(1+t).join(r);return(i+e).slice(-i.length)},e.prototype.affecterRegime=function(e){return _.find(this.regimeGeneral,function(t){return t.COQQOF===e})},e.prototype.affecterResidenceFiscale=function(e){return _.find(this.residenceFiscale,function(t){return t.Key===e})},e.prototype.affecterPaysResidenceFiscale=function(e){return _.find(this.paysResidenceFiscale,function(t){return t.codeInseePays===e})},e.prototype.affecterNatureJurique=function(e){return _.find(this.natureJuridiqueClient,function(t){return t.Key===e})},e.prototype.recupererLibelleRegime=function(e){return _.find(this.regimeGeneral,function(t){return t.COQQOF===_.padLeft(e,2,"0")})},e.prototype.recupererLibelleResidenceFiscale=function(e){return _.find(this.residenceFiscale,function(t){return t.Key===e})},e.prototype.recupererLibellePaysResidenceFiscale=function(e){return _.find(this.paysResidenceFiscale,function(t){return t.codeInseePays===e})},e.prototype.recupererLibelleNatureJuridique=function(e){return _.find(this.natureJuridiqueClient,function(t){return t.Key===e})},e.$inject=[],e}();e.CommunService=t,e.communModule.service("communService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t,n,r,i){this.$q=e,this.serviceAgentExtendedHelper=t,this.identificationService=n,this.informationsEntiteTitulaireService=r,this.particulierInformationService=i,console.log("XXXX ContexteDatService => constructor")}return t.prototype.getContexteDAT=function(e){return console.log("XXXX ContexteDatService => getContexteDAT : contexteKey",e),console.log("XXXX ContexteDatService => getContexteDAT : this.contexte",this.contexte),this.contexte?this.$q.when(this.contexte):(this.contexteKey=e,this.initialiserContexte())},t.prototype.initialiserContexte=function(){var t=this;console.log("XXXX ContexteDatService => initialiserContexte");var n=[];this.contexte=new e.DonneesContextellesDAT;var r=this.serviceAgentExtendedHelper.getAuthentificationInfo().then(function(e){t.contexte.etablissement.codeEtablissement=e.codeEtablissement}),i=this.serviceAgentExtendedHelper.getParametresComptables().then(function(e){t.contexte.etablissement.codeGuichet=e.codeGuichetInterbancaire,t.contexte.etablissement.dateOuvertureGuichet=moment(e.dateOperationJourneeComptable,"DDMMYYYY")}),o=this.serviceAgentExtendedHelper.getFromContext(this.contexteKey).then(function(n){console.log("XXXX ContexteDatService => initialiserContexte/ getFromContext : contexteKey",t.contexteKey),console.log("XXXX ContexteDatService => initialiserContexte/ getFromContext : ContexteDAT",n),console.log("XXXX ContexteDatService => initialiserContexte/ getFromContext : ContexteDAT",JSON.stringify(n)),(null===n||void 0===n)&&(n=new e.ContexteDAT,n.identifiantEntiteTitulaire=null,n.numeroPersonneIdentifiee=null,n.codeCanal="FF",n.codeEntite="1"),t.contexte.detenteur.identifiantEntiteTitulaire=n.identifiantEntiteTitulaire,t.contexte.detenteur.numeroPersonne=n.numeroPersonneIdentifiee,t.contexte.application.typeCanal=n.codeCanal,t.contexte.application.codeEntite=n.codeEntite,t.contexte.application.codeApplicationAppelante=n.codeApplicationAppelante,t.contexte.application.codeSensCommunication=n.codeSensCommunication});return this.contexte.application.heureDebutApplication=moment(),console.log("XXXX ContexteDatService => initialiserContexte : this.contexte",this.contexte),n.push(r),n.push(i),n.push(o),this.$q.all(n).then(function(){if(null===t.contexte.detenteur.numeroPersonne||void 0===t.contexte.detenteur.numeroPersonne)return console.log("XXXX ContexteDatService => initialiserContexte : numeroPersonne null ou undefined"),t.contexte;var e=[],n=t.identificationService.getIdentification(t.contexte.etablissement.codeEtablissement,t.contexte.detenteur.numeroPersonne).then(function(e){t.contexte.detenteur.codeNatureJuridique=e.donneeIdentification.codePersonnaliteJuridique}),r=t.informationsEntiteTitulaireService.getInformations(t.contexte.etablissement.codeEtablissement,t.contexte.detenteur.identifiantEntiteTitulaire).then(function(e){t.contexte.detenteur.codeTypeUsage=e.caracteristiqueEntiteTitulaire.codeUsageEntiteTitulaire,t.contexte.detenteur.identifiantEDSDomiciliationEntiteTitulaire=e.caracteristiqueEntiteTitulaire.identifiantEDSDomiciliationEntiteTitulaire});return e.push(r),e.push(n),t.$q.all(e).then(function(){return"1"===t.contexte.detenteur.codeNatureJuridique?(console.log("XXXX ContexteDatService => initialiserContexte : promesse 2 codeNatureJuridique 1"),t.particulierInformationService.getParticulierInformation(t.contexte.etablissement.codeEtablissement,t.contexte.detenteur.numeroPersonne).then(function(e){return t.particulierInformation=e,console.log("XXXX ContexteDatService => initialiserContexte : getParticulierInformation",t.particulierInformation),t.contexte.fiscalite.codePaysResidencePrincipale=e.codeInseePaysResidenceFiscale,t.contexte.fiscalite.residenceFiscale=e.codeResident,t.contexte})):(console.log("XXXX ContexteDatService => initialiserContexte : promesse 2 RETURN DIRECT codeNatureJuridique != 1"),t.contexte)})})},t.$inject=["$q","serviceAgentExtendedHelper","identificationService","informationsEntiteTitulaireService","particulierInformationService"],t}();e.ContexteDatService=t,e.communModule.service("contexteDatService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(e,t,n,r){this.$q=e,this.serviceAgentExtendedHelper=t,this.particulierInformationService=n,this.corporateInformationService=r}return t.prototype.setContexteProcessusDAT=function(t,n){var r={};r.detenteur=new e.Detenteur,r.detenteur.fiscalite.codeApplicationTaxesFiscales=n,r.detenteur.fiscalite.codePaysResidencePrincipale=t.fiscalite.codePaysResidencePrincipale,r.detenteur.fiscalite.residenceFiscale=t.fiscalite.residenceFiscale,r.detenteur.codeNatureJuridique=t.detenteur.codeNatureJuridique,r.detenteur.numeroEntiteTitulaire=t.detenteur.identifiantEntiteTitulaire,r.detenteur.numeroPersonne=t.detenteur.numeroPersonne,r.detenteur.identifiantEDSDomiciliationEntiteTitulaire=t.detenteur.identifiantEDSDomiciliationEntiteTitulaire;var i;return"1"===t.detenteur.codeTypeUsage?i=this.particulierInformationService.getParticulierInformation(t.etablissement.codeEtablissement,t.detenteur.numeroPersonne).then(function(e){r.detenteur.numeroBureauDomiciliaire=e.edsInterneDomiciliation,r.codeAppartenanceReseau=e.codeAppartenanceReseau,r.detenteur.designationBancaireCourte=e.designationCourte}):(r.codeAppartenanceReseau=null,r.detenteur.designationBancaireCourte=null,i=this.corporateInformationService.getCorporateInformation(t.etablissement.codeEtablissement,t.detenteur.numeroPersonne).then(function(e){r.detenteur.numeroBureauDomiciliaire=e.referenceExterneEDS})),this.$q.all([i]).then(function(){return console.log("XXXXX ContexteProcessusService => setContexteProcessusDAT : contexteProcessus",r),r})},t.prototype.setContexteProcessusCAT=function(t,n,r){var i=this;return this.setContexteProcessusDAT(t,r).then(function(t){return t.produit=n,console.log("XXXXX ContexteProcessusService => setContexteProcessusCAT : contexteProcessus",t),i.serviceAgentExtendedHelper.setContexte(e.CONTEXTE_PROCESSUS_CAT,t)})},t.prototype.setContexteProcessusQuadreto=function(t,n,r){var i=this;return this.setContexteProcessusDAT(t,r).then(function(t){return t.produit=n,i.serviceAgentExtendedHelper.setContexte(e.CONTEXTE_PROCESSUS_CAT,t)})},t.prototype.getDonneesCAT=function(){var t=this;return this.donneesCAT?this.$q.when(this.donneesCAT):(this.donneesCAT=new e.DonneesOuvertureDAT,this.initialiserDonneesDAT(e.CONTEXTE_PROCESSUS_CAT).then(function(e){return console.log("XXXXX ContexteProcessusService => getDonneesCAT : donneesDAT",e),t.donneesCAT.agent=e.agent,t.donneesCAT.detenteur=e.detenteur,t.donneesCAT.etablissement=e.etablissement,t.initialiserDonneesCAT()}))},t.prototype.getDonneesQuadreto=function(){var t=this;return this.donneesQuadreto?this.$q.when(this.donneesQuadreto):(this.donneesQuadreto=new e.DonneesOuvertureQuadreto,this.initialiserDonneesDAT(e.CONTEXTE_PROCESSUS_CAT).then(function(e){return console.log("XXXXX ContexteProcessusService => getDonneesQuadreto : donneesDAT",e),t.donneesQuadreto.agent=e.agent,t.donneesQuadreto.detenteur=e.detenteur,t.donneesQuadreto.etablissement=e.etablissement,t.initialiserDonneesQuadreto()}))},t.prototype.initialiserDonneesDAT=function(t){var n=[],r=new e.DonneesOuvertureDAT,i=this.serviceAgentExtendedHelper.getParametresComptables().then(function(e){r.etablissement.codeGuichet=e.codeGuichetInterbancaire,r.etablissement.dateOuvertureGuichet=moment(e.dateOperationJourneeComptable,"DDMMYYYY"),r.agent.numeroBureauOperant=e.edsInterneRattachementGuichetComptable}),o=this.serviceAgentExtendedHelper.getAuthentificationInfo().then(function(e){r.etablissement.codeEtablissement=e.codeEtablissement,r.agent.codeMetierApplicationFinance=e.agentConnecte.typeFonction,r.agent.codeUtilisateurCreation=e.agentConnecte.referenceExterneAgent}),s=this.serviceAgentExtendedHelper.getFromContext(t).then(function(e){r.agent.codeAppartenanceReseau=e.codeAppartenanceReseau,r.detenteur=e.detenteur});return n.push(i),n.push(o),n.push(s),this.$q.all(n).then(function(){return r})},t.prototype.initialiserDonneesCAT=function(){var t=this;return this.serviceAgentExtendedHelper.getFromContext(e.CONTEXTE_PROCESSUS_CAT).then(function(e){t.donneesCAT.produit=e.produit,console.log("XXXXX ContexteProcessusService => initialiserDonneesCAT : donneesCAT",t.donneesCAT)}).then(function(){return t.donneesCAT})},t.prototype.initialiserDonneesQuadreto=function(){var t=this;return this.serviceAgentExtendedHelper.getFromContext(e.CONTEXTE_PROCESSUS_CAT).then(function(e){var n={libelleProduitCatalogueDAT:"Pas de libellé"};t.donneesQuadreto.produit=e.produit?e.produit:n,console.log("XXXXX ContexteProcessusService => initialiserDonneesQuadreto : donneesQuadreto",t.donneesQuadreto)}).then(function(){return t.donneesQuadreto})},t.$inject=["$q","serviceAgentExtendedHelper","particulierInformationService","corporateInformationService"],t}();e.ContexteProcessusService=t,e.communModule.service("contexteProcessusService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.prototype.initialiser=function(e,t){this.titreSPA=e,this.etapeLisaSortie=t},e.prototype.afficherErreur=function(e){if(this.errorMessages=[],angular.isDefined(e.codeLibelle)){var t=angular.copy(e);this.errorMessages.push(this.formaterMessageErreur(t))}else angular.isDefined(e.name)&&angular.isDefined(e.message)&&this.errorMessages.push(e.name+" "+e.message),angular.isDefined(e.stack)&&(this.errorMessages=this.errorMessages.concat(e.stack.split("at ")))},e.prototype.formaterMessageErreur=function(e){if("COM."!==e.codeLibelle.substring(0,4)||this.hasRaisonsErreur(e)){var t;return angular.isDefined(e.valeurs)&&null!==e.valeurs&&0!==e.valeurs.length?t=e.valeurs.join(", "):angular.isDefined(e.libelle)&&null!==e.libelle&&0!==e.libelle.length&&(t=e.libelle),angular.isDefined(t)?t:e.codeLibelle}return"Une erreur technique est survenue, veuillez réessayer ultérieurement. "+e.codeLibelle},e.prototype.hasRaisonsErreur=function(e){var t=angular.isDefined(e.valeurs)&&null!==e.valeurs,n=angular.isDefined(e.libelle)&&null!==e.libelle;return t&&n?0!==e.valeurs.length||0!==e.libelle.length:t?0!==e.valeurs.length:n?0!==e.libelle.length:!1},e.$inject=[],e}();e.GestionErreursService=t,e.communModule.service("gestionErreursService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t}return e.prototype.formatMontant=function(e){e=null===e||void 0===e?0:parseInt((100*(e+.005)).toString())/100;var t=e.toString().replace(".",","),n=t.split(",");1===n.length?t+=",00":2===n.length&&(t=1===n[1].length?t+"0":t);var r="",i=0;n=t.split(",");for(var o=n[0].length-1;o>=0;o--)r=0!==i&&i%3===0?n[0][o]+" "+r:n[0][o]+r,i++;return t=r+","+n[1]},e.prototype.formatTaux=function(e){return angular.isDefined(e)&&null!==e?e.toString().replace(".",",")+" %":"0 %"},e.prototype.evaluateWithPrecision=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},e.$inject=[],e}();e.NumberFormatService=t,e.communModule.service("numberFormatService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.ContexteDAT=t}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.ContexteGGHO=t}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict"}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function t(){this.application=new o,this.detenteur=new n,this.etablissement=new e.Etablissement,this.fiscalite=new r,this.produit=new i}return t}();e.DonneesContextellesDAT=t;var n=function(){function e(){}return e}();e.InformationsDetenteur=n;var r=function(){function e(){}return e}();e.Fiscalite=r;var i=function(){function e(){}return e}();e.CaracteristiquesProduit=i;var o=function(){function e(){}return e}();e.Application=o}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){this.etablissement=new i,this.detenteur=new o,this.produit={},this.agent=new f}return e}();e.DonneesOuverture=t;var n=function(e){function t(){e.call(this)}return __extends(t,e),t}(t);e.DonneesOuvertureDAT=n;var r=function(e){function t(){e.call(this)}return __extends(t,e),t}(t);e.DonneesOuvertureQuadreto=r;var i=function(){function e(){}return e}();e.Etablissement=i;var o=function(){function e(){this.fiscalite=new s}return e}();e.Detenteur=o;var s=function(){function e(){}return e}();e.FiscaliteDetenteur=s;var a=function(){function e(){}return e}();e.DonneesProduit=a;var u=function(e){function t(){e.call(this)}return __extends(t,e),t}(a);e.DonneesProduitDAT=u;var c=function(e){function t(){e.call(this)}return __extends(t,e),t}(a);e.DonneesProduitQuadreto=c;var f=function(){function e(){}return e}();e.Agent=f}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.SituationFinanciere=t;var n=function(){function e(){}return e}();e.CorporateInformation=n;var r=function(){function e(){}return e}();e.AdressePro=r;var i=function(){function e(){}return e}();e.EtablissementPro=i;var o=function(){function e(){}return e}();e.MessageFonctionnel=o;var s=function(){function e(){}return e}();e.Prospect=s;var a=function(){function e(){}return e}();e.ProfessionnelImmobilier=a;var u=function(){function e(){}return e}();e.Immatriculation=u}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.DepotATerme=t}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.CodeMarche=t;var n=function(){function e(){}return e}();e.DonneeIdentification=n;var r=function(){function e(){}return e}();e.Identification=r;var i=function(){function e(){}return e}();e.LutteAntiBlanchiment=i;var o=function(){function e(){}return e}();e.SuiviCommercial=o}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.InfosVersementIndexTaux=t;var n=function(){function e(){}return e}();e.InfosFiscalites=n;var r=function(){function e(){}return e}();e.InfosVersement=r;var i=function(){function e(){}return e}();e.Informations=i}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.InformationEntiteTitulaire=t;var n=function(){function e(){}return e}();e.CompositionEntiteTitulaire=n;var r=function(){function e(){}return e}();e.CaracteristiqueEntiteTitulaire=r;var i=function(){function e(){}return e}();e.PersonneEntiteTitulaire=i}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){this.statutPro=new r,this.gestionPrivee=new n}return e}();e.ParticulierInformation=t;var n=function(){function e(){}return e}();e.GestionPrivee=n;var r=function(){function e(){}return e}();e.StatutPro=r;var i=function(){function e(){}return e}();e.AdresseParticulier=i;var o=function(){function e(){}return e}();e.Media=o}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.InformationsParametresGET=t}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.ParametreParametresGET=t}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t}return e.prototype.getAuthentificationInfo=function(){return this.serviceAgentExtended.Context.GetAuthentificationInfo()},e.prototype.getParametresComptables=function(){return this.serviceAgentExtended.Context.GetParametresComptables()},e.prototype.getFromContext=function(e){return this.serviceAgentExtended.getFromContext(e).then(function(e){return"string"==typeof e?JSON.parse(e):e})},e.prototype.getDonneesDelocaliseesUCTPVI=function(e){return this.serviceAgentExtended.DonneesDelocalisees.getDonneesDelocalisees(e,"UCTPVI")},e.prototype.getDonneesDelocaliseesQU1C=function(e){return this.serviceAgentExtended.DonneesDelocalisees.getDonneesDelocalisees(e,"QU1C")},e.prototype.getDonneesDelocaliseesCODER3=function(e){return this.serviceAgentExtended.DonneesDelocalisees.getDonneesDelocalisees(e,"CODER3")},e.prototype.getDonneesDelocaliseesDU1V=function(e){return this.serviceAgentExtended.DonneesDelocalisees.getDonneesDelocalisees(e,"DU1V")},e.prototype.getDonneesDelocaliseesCODAPJ=function(e){return this.serviceAgentExtended.DonneesDelocalisees.getDonneesDelocalisees(e,"CODAPJ")},e.prototype.setEtapeLISA=function(e){return this.serviceAgentExtended.Lisa.Next(e)},e.prototype.setContexte=function(e,t){return this.serviceAgentExtended.Context.AddToContext(e,JSON.stringify(t))},e.prototype.setMainContexte=function(e,t){return this.serviceAgentExtended.Context.AddToMainProcessContext(e,JSON.stringify(t))},e.prototype.getLisaEnCours=function(){return this.serviceAgentExtended.Context.GetCurrentStepInfo().then(function(e){return e})},e.$inject=["$q","serviceAgentExtended"],e}();e.ServiceAgentExtendedHelper=t,e.communModule.service("serviceAgentExtendedHelper",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t,this.restServiceUrl="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tiers/v2/corporateInformation"}return e.prototype.getCorporateInformation=function(e,t){var n=this,r={url:this.restServiceUrl,params:{codeEtablissement:e,identifiantTiers:t},withHeaders:!0,method:MyWay.Services.MethodEnum.GET,responseType:MyWay.Services.ResponseTypeEnum.JSON,contentType:MyWay.Services.ContentTypeEnum.JSON};return this.serviceAgentExtended.sendRequest(r).then(function(e){return e})["catch"](function(e){return n.$q.reject(e)})},e.$inject=["$q","serviceAgentExtended"],e}();e.CorporateInformationService=t,e.communModule.service("corporateInformationService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t,this.restServiceUrl="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tiers/v3/identification"}return e.prototype.getIdentification=function(e,t){var n=this,r={url:this.restServiceUrl,params:{codeEtablissement:e,identifiantPersonne:t},withHeaders:!0,method:MyWay.Services.MethodEnum.GET,responseType:MyWay.Services.ResponseTypeEnum.JSON,contentType:MyWay.Services.ContentTypeEnum.JSON};return this.serviceAgentExtended.sendRequest(r).then(function(e){return e})["catch"](function(e){return n.$q.reject(e)})},e.$inject=["$q","serviceAgentExtended"],e}();e.IdentificationService=t,e.communModule.service("identificationService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t,this.restServiceUrl="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/contratdatparametre/v1/informations"}return e.prototype.getInformations=function(e){var t=this,n={url:this.restServiceUrl,params:e,withHeaders:!0,method:MyWay.Services.MethodEnum.GET,responseType:MyWay.Services.ResponseTypeEnum.JSON,contentType:MyWay.Services.ContentTypeEnum.JSON};return this.serviceAgentExtended.sendRequest(n).then(function(e){return e})["catch"](function(e){return t.$q.reject(e)})},e.$inject=["$q","serviceAgentExtended"],e}();e.InformationsDATService=t,e.communModule.service("informationsDATService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t,this.restServiceUrl="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/entitetitulaire/v2/informationEntiteTitulaire"}return e.prototype.getInformations=function(e,t){var n=this,r={url:this.restServiceUrl,params:{codeEtablissement:e,identifiantEntiteTitulaire:t},withHeaders:!0,method:MyWay.Services.MethodEnum.GET,responseType:MyWay.Services.ResponseTypeEnum.JSON,contentType:MyWay.Services.ContentTypeEnum.JSON};return this.serviceAgentExtended.sendRequest(r).then(function(e){return e})["catch"](function(e){return n.$q.reject(e)})},e.$inject=["$q","serviceAgentExtended"],e}();e.InformationsEntiteTitulaireService=t,e.communModule.service("informationsEntiteTitulaireService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t,this.restServiceUrl="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/contratdatparametre/v1/parametre"}return e.prototype.getCatalogueProduit=function(e){var t=this;console.log("XXXX ParametreDatService => getCatalogueProduit : parametres",e);var n={url:this.restServiceUrl,params:e,withHeaders:!0,method:MyWay.Services.MethodEnum.GET,responseType:MyWay.Services.ResponseTypeEnum.JSON,contentType:MyWay.Services.ContentTypeEnum.JSON};return this.catalogueDAT&&0!==this.catalogueDAT.length?this.$q.when(this.catalogueDAT):this.serviceAgentExtended.sendRequest(n).then(function(e){console.log("XXXX ParametreDatService => getCatalogueProduit : THEN / donneesRecues",e);var n=_.sortBy(e,function(e){return e.libelleProduitCatalogueDAT});return console.log("XXXX ParametreDatService => getCatalogueProduit : THEN / this.catalogueDAT",t.catalogueDAT),t.catalogueDAT=n,t.catalogueDAT})["catch"](function(e){return t.$q.reject(e)})},e.$inject=["$q","serviceAgentExtended"],e}();e.ParametreDatService=t,e.communModule.service("parametreDatService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={}));var myway;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$q=e,this.serviceAgentExtended=t,this.restServiceUrl="http://myway-ressources-dua.sigcesie.caisse-epargne.fr:6083/tiers/v3/particulierInformation"}return e.prototype.getParticulierInformation=function(e,t){var n=this,r={url:this.restServiceUrl,params:{codeEtablissement:e,idPersonne:t},withHeaders:!0,method:MyWay.Services.MethodEnum.GET,responseType:MyWay.Services.ResponseTypeEnum.JSON,contentType:MyWay.Services.ContentTypeEnum.JSON};return this.serviceAgentExtended.sendRequest(r).then(function(e){return e})["catch"](function(e){return n.$q.reject(e)})},e.$inject=["$q","serviceAgentExtended"],e}();e.ParticulierInformationService=t,e.communModule.service("particulierInformationService",t)}(t=e.commun||(e.commun={}))}(t=e.horsOffre||(e.horsOffre={}))}(t=e.gestionEpargne||(e.gestionEpargne={}))}(myway||(myway={})),angular.module("myway.gestionEpargne.horsOffre.commun").run(["$templateCache",function(e){e.put("vues/errors.html",'<div class="page avec-footer">\r\n    <header class="row">\r\n        <div class="page-header">\r\n            <div class="col-md-11">\r\n                <h1 class="titre-page" ng-bind="erreurCtrl.titreSPA"></h1>\r\n            </div>\r\n        </div>\r\n    </header>\r\n    <main role="main" class="content container-fluid wave-animation">\r\n        <div class="col-sm-offset-2 col-sm-8 synthese-erreurs alert alert-warning">\r\n            <div class="synthese-titre error">\r\n                <span class="icon itce-times" aria-hidden="true"></span>\r\n                <span class="error-title">Une erreur est survenue :</span>\r\n            </div>\r\n            <div class="row error-message">Impossible de poursuivre le processus. Contactez votre assistance.</div>\r\n            <div class="row error-message">\r\n                <div ng-repeat="message in erreurCtrl.errorMessages track by $index">\r\n                    <span ng-bind="message"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </main>\r\n    <footer class="row">\r\n        <div class="groupe-a-droite col-lg-2 col-md-2 col-sm-12">\r\n            <button id="btn-quitter" class="btn btn-block btn-default" ng-click="erreurCtrl.quitter()">Quitter</button>\r\n        </div>\r\n    </footer>\r\n</div>')}]);